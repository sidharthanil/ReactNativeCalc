{"version":3,"sources":["/home/sid/1Projects/ReactCalculator/node_modules/react-native/packager/src/Resolver/polyfills/prelude_dev.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/packager/src/Resolver/polyfills/require.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/packager/src/Resolver/polyfills/Object.es6.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/packager/src/Resolver/polyfills/console.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/packager/src/Resolver/polyfills/error-guard.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/packager/src/Resolver/polyfills/Number.es6.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/packager/src/Resolver/polyfills/String.prototype.es6.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/packager/src/Resolver/polyfills/Array.prototype.es6.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/packager/src/Resolver/polyfills/Array.es6.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/packager/src/Resolver/polyfills/Object.es7.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/packager/src/Resolver/polyfills/babelHelpers.js","/home/sid/1Projects/ReactCalculator/index.android.js","/home/sid/1Projects/ReactCalculator/src/ReactCalculator.js","/home/sid/1Projects/ReactCalculator/node_modules/react/react.js","/home/sid/1Projects/ReactCalculator/node_modules/react/lib/React.js","/home/sid/1Projects/ReactCalculator/node_modules/react/lib/ReactBaseClasses.js","/home/sid/1Projects/ReactCalculator/node_modules/react/lib/reactProdInvariant.js","/home/sid/1Projects/ReactCalculator/node_modules/object-assign/index.js","/home/sid/1Projects/ReactCalculator/node_modules/react/lib/ReactNoopUpdateQueue.js","/home/sid/1Projects/ReactCalculator/node_modules/fbjs/lib/warning.js","/home/sid/1Projects/ReactCalculator/node_modules/fbjs/lib/emptyFunction.js","/home/sid/1Projects/ReactCalculator/node_modules/react/lib/canDefineProperty.js","/home/sid/1Projects/ReactCalculator/node_modules/fbjs/lib/emptyObject.js","/home/sid/1Projects/ReactCalculator/node_modules/fbjs/lib/invariant.js","/home/sid/1Projects/ReactCalculator/node_modules/react/lib/ReactChildren.js","/home/sid/1Projects/ReactCalculator/node_modules/react/lib/PooledClass.js","/home/sid/1Projects/ReactCalculator/node_modules/react/lib/ReactElement.js","/home/sid/1Projects/ReactCalculator/node_modules/react/lib/ReactCurrentOwner.js","/home/sid/1Projects/ReactCalculator/node_modules/react/lib/ReactElementSymbol.js","/home/sid/1Projects/ReactCalculator/node_modules/react/lib/traverseAllChildren.js","/home/sid/1Projects/ReactCalculator/node_modules/react/lib/getIteratorFn.js","/home/sid/1Projects/ReactCalculator/node_modules/react/lib/KeyEscapeUtils.js","/home/sid/1Projects/ReactCalculator/node_modules/react/lib/ReactClass.js","/home/sid/1Projects/ReactCalculator/node_modules/react/lib/ReactDOMFactories.js","/home/sid/1Projects/ReactCalculator/node_modules/react/lib/ReactElementValidator.js","/home/sid/1Projects/ReactCalculator/node_modules/react/lib/checkReactTypeSpec.js","/home/sid/1Projects/ReactCalculator/node_modules/react/lib/checkPropTypes.js","/home/sid/1Projects/ReactCalculator/node_modules/react/lib/ReactPropTypesSecret.js","/home/sid/1Projects/ReactCalculator/node_modules/react/lib/ReactDebugCurrentFrame.js","/home/sid/1Projects/ReactCalculator/node_modules/react/lib/ReactComponentTreeHook.js","/home/sid/1Projects/ReactCalculator/node_modules/react/lib/ReactFiberComponentTreeHook.js","/home/sid/1Projects/ReactCalculator/node_modules/react/lib/ReactTypeOfWork.js","/home/sid/1Projects/ReactCalculator/node_modules/react/lib/getComponentName.js","/home/sid/1Projects/ReactCalculator/node_modules/react/lib/ReactPropTypes.js","/home/sid/1Projects/ReactCalculator/node_modules/react/lib/ReactVersion.js","/home/sid/1Projects/ReactCalculator/node_modules/react/lib/onlyChild.js","/home/sid/1Projects/ReactCalculator/src/Style.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/react-native/react-native-implementation.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Components/AccessibilityInfo/AccessibilityInfo.android.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/BatchedBridge/NativeModules.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/BatchedBridge/BatchedBridge.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/BatchedBridge/MessageQueue.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Core/ErrorUtils.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Core/Timers/JSTimersExecution.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Performance/Systrace.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Renderer/src/renderers/shared/ReactDebugTool.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Renderer/src/renderers/shared/hooks/ReactInvalidSetStateWarningHook.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Renderer/src/renderers/shared/hooks/ReactHostOperationHistoryHook.js","/home/sid/1Projects/ReactCalculator/node_modules/fbjs/lib/ExecutionEnvironment.js","/home/sid/1Projects/ReactCalculator/node_modules/fbjs/lib/performanceNow.js","/home/sid/1Projects/ReactCalculator/node_modules/fbjs/lib/performance.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Core/Timers/JSTimers.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Core/Devtools/parseErrorStack.js","/home/sid/1Projects/ReactCalculator/node_modules/stacktrace-parser/index.js","/home/sid/1Projects/ReactCalculator/node_modules/stacktrace-parser/lib/stacktrace-parser.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Utilities/deepFreezeAndThrowOnMutationInDev.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Utilities/stringifySafe.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Utilities/defineLazyObjectProperty.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/EventEmitter/RCTDeviceEventEmitter.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/EventEmitter/EventEmitter.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/EventEmitter/EmitterSubscription.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/EventEmitter/EventSubscription.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/EventEmitter/EventSubscriptionVendor.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Components/StatusBar/StatusBarIOS.android.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/EventEmitter/NativeEventEmitter.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Utilities/Platform.android.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Components/Keyboard/Keyboard.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Utilities/dismissKeyboard.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Components/TextInput/TextInputState.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/ReactNative/UIManager.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Renderer/src/renderers/native/findNodeHandle.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Renderer/src/renderers/shared/shared/ReactInstanceMap.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/AppState/AppState.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Utilities/logError.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Components/ActivityIndicator/ActivityIndicator.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/StyleSheet/ColorPropType.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/StyleSheet/normalizeColor.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Renderer/src/renderers/native/NativeMethodsMixin.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Renderer/src/renderers/native/ReactNative.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Renderer/src/renderers/native/ReactNativeStack.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Renderer/src/renderers/native/ReactNativeComponentTree.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Renderer/src/renderers/native/ReactNativeInjection.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Core/InitializeCore.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Core/ExceptionsManager.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Core/Devtools/symbolicateStackTrace.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Core/Devtools/getDevServer.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Network/fetch.js","/home/sid/1Projects/ReactCalculator/node_modules/whatwg-fetch/fetch.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Utilities/HeapCapture.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Performance/SamplingProfiler.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Utilities/HMRClient.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/WebSocket/WebSocket.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/WebSocket/WebSocketEvent.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Utilities/binaryToBase64.js","/home/sid/1Projects/ReactCalculator/node_modules/base64-js/index.js","/home/sid/1Projects/ReactCalculator/node_modules/event-target-shim/lib/event-target.js","/home/sid/1Projects/ReactCalculator/node_modules/event-target-shim/lib/commons.js","/home/sid/1Projects/ReactCalculator/node_modules/event-target-shim/lib/custom-event-target.js","/home/sid/1Projects/ReactCalculator/node_modules/event-target-shim/lib/event-wrapper.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Utilities/HMRLoadingView.android.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Components/ToastAndroid/ToastAndroid.android.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Utilities/RCTLog.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Alert/Alert.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Alert/AlertIOS.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Promise.js","/home/sid/1Projects/ReactCalculator/node_modules/fbjs/lib/Promise.native.js","/home/sid/1Projects/ReactCalculator/node_modules/promise/setimmediate/es6-extensions.js","/home/sid/1Projects/ReactCalculator/node_modules/promise/setimmediate/core.js","/home/sid/1Projects/ReactCalculator/node_modules/promise/setimmediate/done.js","/home/sid/1Projects/ReactCalculator/node_modules/promise/setimmediate/rejection-tracking.js","/home/sid/1Projects/ReactCalculator/node_modules/regenerator-runtime/runtime.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Network/XMLHttpRequest.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Network/RCTNetworking.android.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Network/FormData.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Network/convertRequestBody.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Geolocation/Geolocation.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/vendor/core/Map.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/vendor/core/_shouldPolyfillES6Collection.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/vendor/core/guid.js","/home/sid/1Projects/ReactCalculator/node_modules/fbjs/lib/isNode.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/vendor/core/toIterator.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/vendor/core/Set.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Core/Devtools/setupDevtools.js","/home/sid/1Projects/ReactCalculator/node_modules/react-devtools-core/build/backend.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/StyleSheet/flattenStyle.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Renderer/src/renderers/native/ReactNativePropRegistry.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/DebugComponentHierarchy/RCTDebugComponentOwnership.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/JSInspector/JSInspector.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/JSInspector/NetworkAgent.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/JSInspector/InspectorAgent.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/EventEmitter/RCTNativeAppEventEmitter.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Utilities/PerformanceLogger.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Renderer/src/renderers/shared/shared/event/EventPluginHub.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Renderer/src/renderers/shared/shared/event/EventPluginRegistry.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Renderer/src/renderers/shared/shared/event/EventPluginUtils.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Renderer/src/renderers/shared/utils/ReactErrorUtils.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Renderer/src/renderers/shared/utils/accumulateInto.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Renderer/src/renderers/shared/utils/forEachAccumulated.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/EventEmitter/RCTEventEmitter.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Renderer/src/renderers/native/ReactNativeBridgeEventPlugin.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Renderer/src/renderers/shared/shared/event/EventPropagators.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Renderer/src/renderers/shared/shared/ReactTreeTraversal.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Renderer/src/shared/ReactTypeOfWork.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Renderer/src/renderers/shared/shared/event/SyntheticEvent.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Renderer/src/shared/utils/PooledClass.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Renderer/src/renderers/native/ReactNativeEventEmitter.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Renderer/src/renderers/shared/shared/event/ReactEventEmitterMixin.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Renderer/src/renderers/native/ReactNativeTagHandles.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Renderer/src/renderers/shared/shared/event/ReactGenericBatching.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Renderer/src/renderers/shared/shared/event/ReactControlledComponent.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Renderer/src/renderers/native/ReactNativeEventPluginOrder.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Renderer/src/renderers/native/ReactNativeGlobalResponderHandler.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Renderer/src/renderers/shared/shared/event/eventPlugins/ResponderEventPlugin.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Renderer/src/renderers/shared/shared/event/eventPlugins/ResponderSyntheticEvent.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Renderer/src/renderers/shared/shared/event/eventPlugins/ResponderTouchHistoryStore.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Renderer/src/renderers/shared/utils/accumulate.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Renderer/src/renderers/native/ReactNativeStackInjection.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/react-native/React.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Renderer/src/renderers/shared/stack/reconciler/ReactComponentEnvironment.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Renderer/src/renderers/shared/stack/reconciler/ReactDefaultBatchingStrategy.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Renderer/src/renderers/shared/stack/reconciler/ReactUpdates.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Renderer/src/renderers/shared/utils/ReactFeatureFlags.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Renderer/src/renderers/shared/stack/reconciler/ReactReconciler.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Renderer/src/renderers/shared/stack/reconciler/ReactRef.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Renderer/src/renderers/shared/stack/reconciler/ReactOwner.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Renderer/src/renderers/shared/stack/reconciler/ReactCompositeComponentTypes.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Renderer/src/renderers/shared/ReactInstrumentation.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Renderer/src/renderers/shared/stack/reconciler/Transaction.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Renderer/src/renderers/shared/stack/reconciler/ReactEmptyComponent.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Renderer/src/renderers/shared/stack/reconciler/ReactHostComponent.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Renderer/src/renderers/native/ReactNativeComponentEnvironment.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Renderer/src/renderers/native/ReactNativeDOMIDOperations.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Renderer/src/renderers/native/ReactNativeReconcileTransaction.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Renderer/src/renderers/shared/stack/reconciler/CallbackQueue.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Renderer/src/renderers/shared/utils/validateCallback.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Renderer/src/renderers/shared/stack/reconciler/ReactUpdateQueue.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Renderer/src/renderers/native/ReactNativeTextComponent.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Renderer/src/renderers/shared/stack/reconciler/ReactSimpleEmptyComponent.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Components/View/View.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/StyleSheet/EdgeInsetsPropType.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Utilities/createStrictShapeTypeChecker.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/vendor/core/merge.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/vendor/core/mergeInto.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/vendor/core/mergeHelpers.js","/home/sid/1Projects/ReactCalculator/node_modules/fbjs/lib/keyMirror.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Components/View/ReactNativeStyleAttributes.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Image/ImageStylePropTypes.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Image/ImageResizeMode.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/StyleSheet/LayoutPropTypes.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Components/View/ShadowPropTypesIOS.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/StyleSheet/TransformPropTypes.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Utilities/deprecatedPropType.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Text/TextStylePropTypes.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Components/View/ViewStylePropTypes.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/StyleSheet/processColor.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/StyleSheet/processTransform.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Utilities/MatrixMath.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Utilities/differ/sizesDiffer.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Components/View/ReactNativeViewAttributes.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/StyleSheet/StyleSheetPropType.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Components/View/ViewAccessibility.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Components/AppleTV/TVViewPropTypes.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/ReactNative/requireNativeComponent.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Components/UnimplementedViews/UnimplementedView.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/StyleSheet/StyleSheet.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Utilities/PixelRatio.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Utilities/Dimensions.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/StyleSheet/StyleSheetValidation.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Renderer/src/renderers/native/createReactNativeComponentClass.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Renderer/src/renderers/native/ReactNativeBaseComponent.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Renderer/src/renderers/native/ReactNativeAttributePayload.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Utilities/differ/deepDiffer.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Renderer/src/renderers/shared/stack/reconciler/ReactMultiChild.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Renderer/src/renderers/shared/stack/reconciler/ReactChildReconciler.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Renderer/src/shared/utils/KeyEscapeUtils.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Renderer/src/renderers/shared/stack/reconciler/instantiateReactComponent.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Renderer/src/renderers/shared/stack/reconciler/ReactCompositeComponent.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Renderer/src/renderers/shared/stack/reconciler/ReactNodeTypes.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Renderer/src/shared/types/checkReactTypeSpec.js","/home/sid/1Projects/ReactCalculator/node_modules/fbjs/lib/shallowEqual.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Renderer/src/renderers/shared/shared/shouldUpdateReactComponent.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Renderer/src/shared/utils/getNextDebugID.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Renderer/src/shared/utils/traverseAllChildren.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Renderer/src/shared/utils/ReactElementSymbol.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Renderer/src/shared/utils/getIteratorFn.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Renderer/src/shared/utils/flattenChildren.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Renderer/src/renderers/native/ReactNativeViewConfigRegistry.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Renderer/src/renderers/native/ReactNativeFeatureFlags.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Utilities/differ/insetsDiffer.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Utilities/differ/matricesDiffer.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Utilities/differ/pointsDiffer.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Image/resolveAssetSource.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Image/AssetRegistry.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Image/AssetSourceResolver.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/local-cli/bundle/assetPathUtils.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/ReactNative/verifyPropTypes.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Renderer/src/renderers/native/ReactNativeMount.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Renderer/src/renderers/native/ReactNativeContainerInfo.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/ART/ReactNativeART.js","/home/sid/1Projects/ReactCalculator/node_modules/art/core/color.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/ART/ARTSerializablePath.js","/home/sid/1Projects/ReactCalculator/node_modules/art/core/class.js","/home/sid/1Projects/ReactCalculator/node_modules/art/core/path.js","/home/sid/1Projects/ReactCalculator/node_modules/art/core/transform.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Components/Button.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Text/Text.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Components/Touchable/Touchable.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Components/Touchable/BoundingDimensions.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Components/Touchable/Position.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Components/AppleTV/TVEventHandler.android.js","/home/sid/1Projects/ReactCalculator/node_modules/fbjs/lib/TouchEventUtils.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Utilities/mergeFast.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Components/Touchable/TouchableNativeFeedback.android.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Components/Touchable/TouchableWithoutFeedback.js","/home/sid/1Projects/ReactCalculator/node_modules/react-timer-mixin/TimerMixin.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Components/Touchable/ensurePositiveDelayProps.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Components/Touchable/TouchableOpacity.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Animated/src/Animated.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Animated/src/AnimatedImplementation.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Interaction/InteractionManager.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Interaction/TaskQueue.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Utilities/infoLog.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Animated/src/Interpolation.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Animated/src/NativeAnimatedHelper.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Animated/src/SpringConfig.js","/home/sid/1Projects/ReactCalculator/node_modules/fbjs/lib/requestAnimationFrame.js","/home/sid/1Projects/ReactCalculator/node_modules/fbjs/lib/nativeRequestAnimationFrame.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Animated/src/Easing.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Animated/src/bezier.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Image/Image.android.js","/home/sid/1Projects/ReactCalculator/node_modules/fbjs/lib/filterObject.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Components/ScrollView/ScrollView.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/StyleSheet/PointPropType.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Components/ScrollResponder.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Components/Subscribable.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Components/ScrollView/processDecelerationRate.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Components/DatePicker/DatePickerIOS.android.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Components/DrawerAndroid/DrawerLayoutAndroid.android.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Components/StatusBar/StatusBar.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/CustomComponents/Lists/FlatList.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/CustomComponents/Lists/MetroListView.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/CustomComponents/ListView/ListView.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/CustomComponents/ListView/ListViewDataSource.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/vendor/core/isEmpty.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Components/StaticRenderer.js","/home/sid/1Projects/ReactCalculator/node_modules/react-clone-referenced-element/cloneReferencedElement.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Components/RefreshControl/RefreshControl.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/CustomComponents/Lists/VirtualizedList.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Interaction/Batchinator.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/CustomComponents/Lists/ViewabilityHelper.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/CustomComponents/Lists/VirtualizeUtils.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Image/ImageEditor.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Image/ImageStore.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Components/Keyboard/KeyboardAvoidingView.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/LayoutAnimation/LayoutAnimation.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Components/MapView/MapView.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Modal/Modal.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/ReactNative/AppContainer.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Inspector/Inspector.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Inspector/InspectorOverlay.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Inspector/InspectorUtils.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Inspector/ElementBox.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Inspector/BorderBox.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Inspector/resolveBoxStyle.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Inspector/InspectorPanel.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Inspector/ElementProperties.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Inspector/BoxInspector.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Inspector/StyleInspector.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Components/Touchable/TouchableHighlight.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Components/Touchable/ensureComponentIsNative.js","/home/sid/1Projects/ReactCalculator/node_modules/fbjs/lib/keyOf.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Utilities/mapWithSeparator.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Core/Devtools/openFileInEditor.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Inspector/NetworkOverlay.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/WebSocket/WebSocketInterceptor.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Network/XHRInterceptor.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Inspector/PerformanceOverlay.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/ReactNative/YellowBox.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/ReactNative/I18nManager.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/CustomComponents/Navigator/Navigator.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Interaction/InteractionMixin.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/CustomComponents/Navigator/Navigation/NavigationContext.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/CustomComponents/Navigator/Navigation/NavigationEvent.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/CustomComponents/Navigator/Navigation/NavigationEventEmitter.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/CustomComponents/Navigator/Navigation/NavigationTreeNode.js","/home/sid/1Projects/ReactCalculator/node_modules/immutable/dist/immutable.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/CustomComponents/Navigator/NavigatorBreadcrumbNavigationBar.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/CustomComponents/Navigator/NavigatorBreadcrumbNavigationBarStyles.android.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/CustomComponents/Navigator/NavigatorNavigationBarStylesAndroid.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Utilities/buildStyleInterpolator.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/CustomComponents/Navigator/NavigatorNavigationBarStylesIOS.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/CustomComponents/Navigator/NavigatorNavigationBar.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/CustomComponents/Navigator/NavigatorSceneConfigs.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Interaction/PanResponder.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Renderer/src/renderers/shared/shared/event/eventPlugins/TouchHistoryMath.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Utilities/clamp.js","/home/sid/1Projects/ReactCalculator/node_modules/rebound/rebound.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Components/Navigation/NavigatorIOS.android.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Components/Picker/Picker.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Components/Picker/PickerIOS.android.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Components/Picker/PickerAndroid.android.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Components/ProgressBarAndroid/ProgressBarAndroid.android.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Components/ProgressViewIOS/ProgressViewIOS.android.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/CustomComponents/Lists/SectionList.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/CustomComponents/Lists/VirtualizedSectionList.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Components/SegmentedControlIOS/SegmentedControlIOS.android.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Components/Slider/Slider.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/RCTTest/SnapshotViewIOS.android.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Components/Switch/Switch.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Experimental/SwipeableRow/SwipeableListView.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Experimental/SwipeableRow/SwipeableListViewDataSource.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Experimental/SwipeableRow/SwipeableRow.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Components/TabBarIOS/TabBarIOS.android.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Components/TextInput/TextInput.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/vendor/document/selection/DocumentSelectionState.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/EventEmitter/mixInEventEmitter.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/EventEmitter/EventEmitterWithHolding.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/EventEmitter/EventHolder.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/EventEmitter/EventValidator.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/vendor/core/copyProperties.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Components/ToolbarAndroid/ToolbarAndroid.android.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Components/ViewPager/ViewPagerAndroid.android.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Components/WebView/WebView.android.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/ActionSheetIOS/ActionSheetIOS.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/AdSupport/AdSupportIOS.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/ReactNative/AppRegistry.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/BugReporting/BugReporting.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/BugReporting/dumpReactTree.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/ReactNative/renderApplication.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Utilities/BackAndroid.android.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Performance/RCTRenderingPerf.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Renderer/src/renderers/shared/ReactPerf.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Storage/AsyncStorage.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/CameraRoll/CameraRoll.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Components/Clipboard/Clipboard.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Components/DatePickerAndroid/DatePickerAndroid.android.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/CameraRoll/ImagePickerIOS.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Linking/Linking.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/NavigationExperimental/NavigationExperimental.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/CustomComponents/NavigationExperimental/NavigationCard.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/CustomComponents/NavigationExperimental/NavigationCardStackPanResponder.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/NavigationExperimental/NavigationAbstractPanResponder.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/CustomComponents/NavigationExperimental/NavigationCardStackStyleInterpolator.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/CustomComponents/NavigationExperimental/NavigationPagerPanResponder.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/CustomComponents/NavigationExperimental/NavigationPagerStyleInterpolator.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/CustomComponents/NavigationExperimental/NavigationPointerEventsContainer.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/CustomComponents/NavigationExperimental/NavigationAnimatedValueSubscription.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/NavigationExperimental/NavigationPropTypes.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/CustomComponents/NavigationExperimental/NavigationCardStack.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/NavigationExperimental/NavigationTransitioner.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/NavigationExperimental/Reducer/NavigationScenesReducer.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/CustomComponents/NavigationExperimental/NavigationHeader.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/CustomComponents/NavigationExperimental/NavigationHeaderBackButton.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/CustomComponents/NavigationExperimental/NavigationHeaderStyleInterpolator.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/CustomComponents/NavigationExperimental/NavigationHeaderTitle.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/NavigationExperimental/NavigationStateUtils.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Network/NetInfo.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/PermissionsAndroid/PermissionsAndroid.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/PushNotificationIOS/PushNotificationIOS.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Settings/Settings.android.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Share/Share.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Components/TimePickerAndroid/TimePickerAndroid.android.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Vibration/Vibration.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Vibration/VibrationIOS.android.js","/home/sid/1Projects/ReactCalculator/node_modules/react-native/Libraries/Utilities/throwOnWrongReactAPI.js","/home/sid/1Projects/ReactCalculator/src/InputButton.js"],"sourcesContent":["/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @polyfill\n */\n\n/* eslint-disable strict */\n\nglobal.__DEV__ = true;\n\nglobal.__BUNDLE_START_TIME__ = Date.now();\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @polyfill\n * @flow\n */\n\n 'use strict';\n\n declare var __DEV__: boolean;\n\n type DependencyMap = Array<ModuleID>;\n type Exports = any;\n type FactoryFn = (\n  global: Object,\n  require: RequireFn,\n  moduleObject: {exports: {}},\n  exports: {},\n  dependencyMap: ?DependencyMap,\n) => void;\n type HotModuleReloadingAcceptFn = Function;\n type HotModuleReloadingData = {|\n  acceptCallback: ?HotModuleReloadingAcceptFn,\n  accept: (callback: HotModuleReloadingAcceptFn) => void,\n|};\n type Module = {\n  exports: Exports,\n  hot?: HotModuleReloadingData,\n};\n type ModuleID = number;\n type ModuleDefinition = {|\n  dependencyMap: ?DependencyMap,\n  exports: Exports,\n  factory: FactoryFn,\n  hasError: boolean,\n  hot?: HotModuleReloadingData,\n  isInitialized: boolean,\n  verboseName?: string,\n|};\n type ModuleMap =\n  {[key: ModuleID]: (ModuleDefinition)};\n type RequireFn = (id: ModuleID | VerboseModuleNameForDev) => Exports;\n type VerboseModuleNameForDev = string;\n\n global.require = require;\n global.__d = define;\n\n const modules: ModuleMap = Object.create(null);\n if (__DEV__) {\n   var verboseNamesToModuleIds: {[key: string]: number} = Object.create(null);\n }\n\n function define(\n  factory: FactoryFn,\n  moduleId: number,\n  dependencyMap?: DependencyMap,\n) {\n   if (moduleId in modules) {\n    // prevent repeated calls to `global.nativeRequire` to overwrite modules\n    // that are already loaded\n     return;\n   }\n   modules[moduleId] = {\n     dependencyMap,\n     exports: undefined,\n     factory,\n     hasError: false,\n     isInitialized: false,\n   };\n   if (__DEV__) {\n    // HMR\n     modules[moduleId].hot = createHotReloadingObject();\n\n    // DEBUGGABLE MODULES NAMES\n    // we take `verboseName` from `arguments` to avoid an unused named parameter\n    // in `define` in production.\n     const verboseName: string | void = arguments[3];\n     if (verboseName) {\n       modules[moduleId].verboseName = verboseName;\n       verboseNamesToModuleIds[verboseName] = moduleId;\n     }\n   }\n }\n\n function require(moduleId: ModuleID | VerboseModuleNameForDev) {\n   if (__DEV__ && typeof moduleId === 'string') {\n     const verboseName = moduleId;\n     moduleId = verboseNamesToModuleIds[moduleId];\n     if (moduleId == null) {\n       throw new Error(`Unknown named module: '${verboseName}'`);\n     } else {\n       console.warn(\n        `Requiring module '${verboseName}' by name is only supported for ` +\n        'debugging purposes and will BREAK IN PRODUCTION!'\n      );\n     }\n   }\n\n  //$FlowFixMe: at this point we know that moduleId is a number\n   const moduleIdReallyIsNumber: number = moduleId;\n   const module = modules[moduleIdReallyIsNumber];\n   return module && module.isInitialized\n    ? module.exports\n    : guardedLoadModule(moduleIdReallyIsNumber, module);\n }\n\n let inGuard = false;\n function guardedLoadModule(moduleId: ModuleID, module) {\n   if (!inGuard && global.ErrorUtils) {\n     inGuard = true;\n     let returnValue;\n     try {\n       returnValue = loadModuleImplementation(moduleId, module);\n     } catch (e) {\n       global.ErrorUtils.reportFatalError(e);\n     }\n     inGuard = false;\n     return returnValue;\n   } else {\n     return loadModuleImplementation(moduleId, module);\n   }\n }\n\n function loadModuleImplementation(moduleId, module) {\n   const nativeRequire = global.nativeRequire;\n   if (!module && nativeRequire) {\n     nativeRequire(moduleId);\n     module = modules[moduleId];\n   }\n\n   if (!module) {\n     throw unknownModuleError(moduleId);\n   }\n\n   if (module.hasError) {\n     throw moduleThrewError(moduleId);\n   }\n\n  // `require` calls int  the require polyfill itself are not analyzed and\n  // replaced so that they use numeric module IDs.\n  // The systrace module will expose itself on the require function so that\n  // it can be used here.\n  // TODO(davidaurelio) Scan polyfills for dependencies, too (t9759686)\n   if (__DEV__) {\n     var {Systrace} = require;\n   }\n\n  // We must optimistically mark module as initialized before running the\n  // factory to keep any require cycles inside the factory from causing an\n  // infinite require loop.\n   module.isInitialized = true;\n   const exports = module.exports = {};\n   const {factory, dependencyMap} = module;\n   try {\n     if (__DEV__) {\n      // $FlowFixMe: we know that __DEV__ is const and `Systrace` exists\n       Systrace.beginEvent('JS_require_' + (module.verboseName || moduleId));\n     }\n\n     const moduleObject: Module = {exports};\n     if (__DEV__ && module.hot) {\n       moduleObject.hot = module.hot;\n     }\n\n    // keep args in sync with with defineModuleCode in\n    // packager/src//Resolver/index.js\n    // and packager/src//ModuleGraph/worker.js\n     factory(global, require, moduleObject, exports, dependencyMap);\n\n    // avoid removing factory in DEV mode as it breaks HMR\n     if (!__DEV__) {\n      // $FlowFixMe: This is only sound because we never access `factory` again\n       module.factory = undefined;\n     }\n\n     if (__DEV__) {\n      // $FlowFixMe: we know that __DEV__ is const and `Systrace` exists\n       Systrace.endEvent();\n     }\n     return (module.exports = moduleObject.exports);\n   } catch (e) {\n     module.hasError = true;\n     module.isInitialized = false;\n     module.exports = undefined;\n     throw e;\n   }\n }\n\n function unknownModuleError(id) {\n   let message = 'Requiring unknown module \"' + id + '\".';\n   if (__DEV__) {\n     message +=\n      'If you are sure the module is there, try restarting the packager or running \"npm install\".';\n   }\n   return Error(message);\n }\n\n function moduleThrewError(id) {\n   return Error('Requiring module \"' + id + '\", which threw an exception.');\n }\n\n if (__DEV__) {\n   require.Systrace = {beginEvent: () => {}, endEvent: () => {}};\n\n  // HOT MODULE RELOADING\n   var createHotReloadingObject = function() {\n     const hot: HotModuleReloadingData = {\n       acceptCallback: null,\n       accept: callback => { hot.acceptCallback = callback; },\n     };\n     return hot;\n   };\n\n   const acceptAll = function(\n    dependentModules,\n    inverseDependencies,\n  ) {\n     if (!dependentModules || dependentModules.length === 0) {\n       return true;\n     }\n\n     const notAccepted = dependentModules.filter(\n      module => !accept(module, /*factory*/ undefined, inverseDependencies));\n\n     const parents = [];\n     for (let i = 0; i < notAccepted.length; i++) {\n      // if the module has no parents then the change cannot be hot loaded\n       if (inverseDependencies[notAccepted[i]].length === 0) {\n         return false;\n       }\n\n       parents.push(...inverseDependencies[notAccepted[i]]);\n     }\n\n     return acceptAll(parents, inverseDependencies);\n   };\n\n   const accept = function(\n    id: ModuleID,\n    factory?: FactoryFn,\n    inverseDependencies: {[key: ModuleID]: Array<ModuleID>},\n  ) {\n     const mod = modules[id];\n\n     if (!mod && factory) { // new modules need a factory\n       define(factory, id);\n       return true; // new modules don't need to be accepted\n     }\n\n     const {hot} = mod;\n     if (!hot) {\n       console.warn(\n        'Cannot accept module because Hot Module Replacement ' +\n        'API was not installed.'\n      );\n       return false;\n     }\n\n    // replace and initialize factory\n     if (factory) {\n       mod.factory = factory;\n     }\n     mod.hasError = false;\n     mod.isInitialized = false;\n     require(id);\n\n     if (hot.acceptCallback) {\n       hot.acceptCallback();\n       return true;\n     } else {\n      // need to have inverseDependencies to bubble up accept\n       if (!inverseDependencies) {\n         throw new Error('Undefined `inverseDependencies`');\n       }\n\n      // accept parent modules recursively up until all siblings are accepted\n       return acceptAll(inverseDependencies[id], inverseDependencies);\n     }\n   };\n\n   global.__accept = accept;\n }\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @polyfill\n */\n\n/* eslint-disable strict */\n\n// WARNING: This is an optimized version that fails on hasOwnProperty checks\n// and non objects. It's not spec-compliant. It's a perf optimization.\n// This is only needed for iOS 8 and current Android JSC.\n\nObject.assign = function(target, sources) {\n  if (__DEV__) {\n    if (target == null) {\n      throw new TypeError('Object.assign target cannot be null or undefined');\n    }\n    if (typeof target !== 'object' && typeof target !== 'function') {\n      throw new TypeError(\n        'In this environment the target of assign MUST be an object.' +\n        'This error is a performance optimization and not spec compliant.'\n      );\n    }\n  }\n\n  for (var nextIndex = 1; nextIndex < arguments.length; nextIndex++) {\n    var nextSource = arguments[nextIndex];\n    if (nextSource == null) {\n      continue;\n    }\n\n    if (__DEV__) {\n      if (typeof nextSource !== 'object' &&\n          typeof nextSource !== 'function') {\n        throw new TypeError(\n          'In this environment the sources for assign MUST be an object.' +\n          'This error is a performance optimization and not spec compliant.'\n        );\n      }\n    }\n\n    // We don't currently support accessors nor proxies. Therefore this\n    // copy cannot throw. If we ever supported this then we must handle\n    // exceptions and side-effects.\n\n    for (var key in nextSource) {\n      if (__DEV__) {\n        var hasOwnProperty = Object.prototype.hasOwnProperty;\n        if (!hasOwnProperty.call(nextSource, key)) {\n          throw new TypeError(\n            'One of the sources for assign has an enumerable key on the ' +\n            'prototype chain. Are you trying to assign a prototype property? ' +\n            'We don\\'t allow it, as this is an edge case that we do not support. ' +\n            'This error is a performance optimization and not spec compliant.'\n          );\n        }\n      }\n      target[key] = nextSource[key];\n    }\n  }\n\n  return target;\n};\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @polyfill\n * @nolint\n */\n\n/* eslint-disable */\n\n/**\n * This pipes all of our console logging functions to native logging so that\n * JavaScript errors in required modules show up in Xcode via NSLog.\n */\nconst inspect = (function() {\n  // Copyright Joyent, Inc. and other Node contributors.\n  //\n  // Permission is hereby granted, free of charge, to any person obtaining a\n  // copy of this software and associated documentation files (the\n  // \"Software\"), to deal in the Software without restriction, including\n  // without limitation the rights to use, copy, modify, merge, publish,\n  // distribute, sublicense, and/or sell copies of the Software, and to permit\n  // persons to whom the Software is furnished to do so, subject to the\n  // following conditions:\n  //\n  // The above copyright notice and this permission notice shall be included\n  // in all copies or substantial portions of the Software.\n  //\n  // THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n  // OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n  // MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n  // NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n  // DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n  // OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n  // USE OR OTHER DEALINGS IN THE SOFTWARE.\n  //\n  // https://github.com/joyent/node/blob/master/lib/util.js\n\n  function inspect(obj, opts) {\n    var ctx = {\n      seen: [],\n      stylize: stylizeNoColor\n    };\n    return formatValue(ctx, obj, opts.depth);\n  }\n\n  function stylizeNoColor(str, styleType) {\n    return str;\n  }\n\n  function arrayToHash(array) {\n    var hash = {};\n\n    array.forEach(function(val, idx) {\n      hash[val] = true;\n    });\n\n    return hash;\n  }\n\n\n  function formatValue(ctx, value, recurseTimes) {\n    // Primitive types cannot have properties\n    var primitive = formatPrimitive(ctx, value);\n    if (primitive) {\n      return primitive;\n    }\n\n    // Look up the keys of the object.\n    var keys = Object.keys(value);\n    var visibleKeys = arrayToHash(keys);\n\n    // IE doesn't make error fields non-enumerable\n    // http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx\n    if (isError(value)\n        && (keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)) {\n      return formatError(value);\n    }\n\n    // Some type of object without properties can be shortcutted.\n    if (keys.length === 0) {\n      if (isFunction(value)) {\n        var name = value.name ? ': ' + value.name : '';\n        return ctx.stylize('[Function' + name + ']', 'special');\n      }\n      if (isRegExp(value)) {\n        return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n      }\n      if (isDate(value)) {\n        return ctx.stylize(Date.prototype.toString.call(value), 'date');\n      }\n      if (isError(value)) {\n        return formatError(value);\n      }\n    }\n\n    var base = '', array = false, braces = ['{', '}'];\n\n    // Make Array say that they are Array\n    if (isArray(value)) {\n      array = true;\n      braces = ['[', ']'];\n    }\n\n    // Make functions say that they are functions\n    if (isFunction(value)) {\n      var n = value.name ? ': ' + value.name : '';\n      base = ' [Function' + n + ']';\n    }\n\n    // Make RegExps say that they are RegExps\n    if (isRegExp(value)) {\n      base = ' ' + RegExp.prototype.toString.call(value);\n    }\n\n    // Make dates with properties first say the date\n    if (isDate(value)) {\n      base = ' ' + Date.prototype.toUTCString.call(value);\n    }\n\n    // Make error with message first say the error\n    if (isError(value)) {\n      base = ' ' + formatError(value);\n    }\n\n    if (keys.length === 0 && (!array || value.length == 0)) {\n      return braces[0] + base + braces[1];\n    }\n\n    if (recurseTimes < 0) {\n      if (isRegExp(value)) {\n        return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n      } else {\n        return ctx.stylize('[Object]', 'special');\n      }\n    }\n\n    ctx.seen.push(value);\n\n    var output;\n    if (array) {\n      output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);\n    } else {\n      output = keys.map(function(key) {\n        return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);\n      });\n    }\n\n    ctx.seen.pop();\n\n    return reduceToSingleString(output, base, braces);\n  }\n\n\n  function formatPrimitive(ctx, value) {\n    if (isUndefined(value))\n      return ctx.stylize('undefined', 'undefined');\n    if (isString(value)) {\n      var simple = '\\'' + JSON.stringify(value).replace(/^\"|\"$/g, '')\n                                               .replace(/'/g, \"\\\\'\")\n                                               .replace(/\\\\\"/g, '\"') + '\\'';\n      return ctx.stylize(simple, 'string');\n    }\n    if (isNumber(value))\n      return ctx.stylize('' + value, 'number');\n    if (isBoolean(value))\n      return ctx.stylize('' + value, 'boolean');\n    // For some reason typeof null is \"object\", so special case here.\n    if (isNull(value))\n      return ctx.stylize('null', 'null');\n  }\n\n\n  function formatError(value) {\n    return '[' + Error.prototype.toString.call(value) + ']';\n  }\n\n\n  function formatArray(ctx, value, recurseTimes, visibleKeys, keys) {\n    var output = [];\n    for (var i = 0, l = value.length; i < l; ++i) {\n      if (hasOwnProperty(value, String(i))) {\n        output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n            String(i), true));\n      } else {\n        output.push('');\n      }\n    }\n    keys.forEach(function(key) {\n      if (!key.match(/^\\d+$/)) {\n        output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n            key, true));\n      }\n    });\n    return output;\n  }\n\n\n  function formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {\n    var name, str, desc;\n    desc = Object.getOwnPropertyDescriptor(value, key) || { value: value[key] };\n    if (desc.get) {\n      if (desc.set) {\n        str = ctx.stylize('[Getter/Setter]', 'special');\n      } else {\n        str = ctx.stylize('[Getter]', 'special');\n      }\n    } else {\n      if (desc.set) {\n        str = ctx.stylize('[Setter]', 'special');\n      }\n    }\n    if (!hasOwnProperty(visibleKeys, key)) {\n      name = '[' + key + ']';\n    }\n    if (!str) {\n      if (ctx.seen.indexOf(desc.value) < 0) {\n        if (isNull(recurseTimes)) {\n          str = formatValue(ctx, desc.value, null);\n        } else {\n          str = formatValue(ctx, desc.value, recurseTimes - 1);\n        }\n        if (str.indexOf('\\n') > -1) {\n          if (array) {\n            str = str.split('\\n').map(function(line) {\n              return '  ' + line;\n            }).join('\\n').substr(2);\n          } else {\n            str = '\\n' + str.split('\\n').map(function(line) {\n              return '   ' + line;\n            }).join('\\n');\n          }\n        }\n      } else {\n        str = ctx.stylize('[Circular]', 'special');\n      }\n    }\n    if (isUndefined(name)) {\n      if (array && key.match(/^\\d+$/)) {\n        return str;\n      }\n      name = JSON.stringify('' + key);\n      if (name.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)) {\n        name = name.substr(1, name.length - 2);\n        name = ctx.stylize(name, 'name');\n      } else {\n        name = name.replace(/'/g, \"\\\\'\")\n                   .replace(/\\\\\"/g, '\"')\n                   .replace(/(^\"|\"$)/g, \"'\");\n        name = ctx.stylize(name, 'string');\n      }\n    }\n\n    return name + ': ' + str;\n  }\n\n\n  function reduceToSingleString(output, base, braces) {\n    var numLinesEst = 0;\n    var length = output.reduce(function(prev, cur) {\n      numLinesEst++;\n      if (cur.indexOf('\\n') >= 0) numLinesEst++;\n      return prev + cur.replace(/\\u001b\\[\\d\\d?m/g, '').length + 1;\n    }, 0);\n\n    if (length > 60) {\n      return braces[0] +\n             (base === '' ? '' : base + '\\n ') +\n             ' ' +\n             output.join(',\\n  ') +\n             ' ' +\n             braces[1];\n    }\n\n    return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];\n  }\n\n\n  // NOTE: These type checking functions intentionally don't use `instanceof`\n  // because it is fragile and can be easily faked with `Object.create()`.\n  function isArray(ar) {\n    return Array.isArray(ar);\n  }\n\n  function isBoolean(arg) {\n    return typeof arg === 'boolean';\n  }\n\n  function isNull(arg) {\n    return arg === null;\n  }\n\n  function isNullOrUndefined(arg) {\n    return arg == null;\n  }\n\n  function isNumber(arg) {\n    return typeof arg === 'number';\n  }\n\n  function isString(arg) {\n    return typeof arg === 'string';\n  }\n\n  function isSymbol(arg) {\n    return typeof arg === 'symbol';\n  }\n\n  function isUndefined(arg) {\n    return arg === void 0;\n  }\n\n  function isRegExp(re) {\n    return isObject(re) && objectToString(re) === '[object RegExp]';\n  }\n\n  function isObject(arg) {\n    return typeof arg === 'object' && arg !== null;\n  }\n\n  function isDate(d) {\n    return isObject(d) && objectToString(d) === '[object Date]';\n  }\n\n  function isError(e) {\n    return isObject(e) &&\n        (objectToString(e) === '[object Error]' || e instanceof Error);\n  }\n\n  function isFunction(arg) {\n    return typeof arg === 'function';\n  }\n\n  function isPrimitive(arg) {\n    return arg === null ||\n           typeof arg === 'boolean' ||\n           typeof arg === 'number' ||\n           typeof arg === 'string' ||\n           typeof arg === 'symbol' ||  // ES6 symbol\n           typeof arg === 'undefined';\n  }\n\n  function objectToString(o) {\n    return Object.prototype.toString.call(o);\n  }\n\n  function hasOwnProperty(obj, prop) {\n    return Object.prototype.hasOwnProperty.call(obj, prop);\n  }\n\n  return inspect;\n})();\n\n\nconst OBJECT_COLUMN_NAME = '(index)';\nconst LOG_LEVELS = {\n  trace: 0,\n  info: 1,\n  warn: 2,\n  error: 3\n};\nconst INSPECTOR_LEVELS = [];\nINSPECTOR_LEVELS[LOG_LEVELS.trace] = 'debug';\nINSPECTOR_LEVELS[LOG_LEVELS.info] = 'log';\nINSPECTOR_LEVELS[LOG_LEVELS.warn] = 'warning';\nINSPECTOR_LEVELS[LOG_LEVELS.error] = 'error';\n\n// Strip the inner function in getNativeLogFunction(), if in dev also\n// strip method printing to originalConsole.\nconst INSPECTOR_FRAMES_TO_SKIP = __DEV__ ? 2 : 1;\n\nfunction setupConsole(global) {\n  if (!global.nativeLoggingHook) {\n    return;\n  }\n\n  function getNativeLogFunction(level) {\n    return function() {\n      let str;\n      if (arguments.length === 1 && typeof arguments[0] === 'string') {\n        str = arguments[0];\n      } else {\n        str = Array.prototype.map.call(arguments, function(arg) {\n          return inspect(arg, {depth: 10});\n        }).join(', ');\n      }\n\n      let logLevel = level;\n      if (str.slice(0, 9) === 'Warning: ' && logLevel >= LOG_LEVELS.error) {\n        // React warnings use console.error so that a stack trace is shown,\n        // but we don't (currently) want these to show a redbox\n        // (Note: Logic duplicated in ExceptionsManager.js.)\n        logLevel = LOG_LEVELS.warn;\n      }\n      if (global.__inspectorLog) {\n        global.__inspectorLog(\n          INSPECTOR_LEVELS[logLevel],\n          str,\n          [].slice.call(arguments),\n          INSPECTOR_FRAMES_TO_SKIP);\n      }\n      global.nativeLoggingHook(str, logLevel);\n    };\n  }\n\n  function repeat(element, n) {\n    return Array.apply(null, Array(n)).map(function() { return element; });\n  };\n\n  function consoleTablePolyfill(rows) {\n    // convert object -> array\n    if (!Array.isArray(rows)) {\n      var data = rows;\n      rows = [];\n      for (var key in data) {\n        if (data.hasOwnProperty(key)) {\n          var row = data[key];\n          row[OBJECT_COLUMN_NAME] = key;\n          rows.push(row);\n        }\n      }\n    }\n    if (rows.length === 0) {\n      global.nativeLoggingHook('', LOG_LEVELS.info);\n      return;\n    }\n\n    var columns = Object.keys(rows[0]).sort();\n    var stringRows = [];\n    var columnWidths = [];\n\n    // Convert each cell to a string. Also\n    // figure out max cell width for each column\n    columns.forEach(function(k, i) {\n      columnWidths[i] = k.length;\n      for (var j = 0; j < rows.length; j++) {\n        var cellStr = (rows[j][k] || '?').toString();\n        stringRows[j] = stringRows[j] || [];\n        stringRows[j][i] = cellStr;\n        columnWidths[i] = Math.max(columnWidths[i], cellStr.length);\n      }\n    });\n\n    // Join all elements in the row into a single string with | separators\n    // (appends extra spaces to each cell to make separators  | alligned)\n    function joinRow(row, space) {\n      var cells = row.map(function(cell, i) {\n        var extraSpaces = repeat(' ', columnWidths[i] - cell.length).join('');\n        return cell + extraSpaces;\n      });\n      space = space || ' ';\n      return cells.join(space + '|' + space);\n    };\n\n    var separators = columnWidths.map(function(columnWidth) {\n      return repeat('-', columnWidth).join('');\n    });\n    var separatorRow = joinRow(separators, '-');\n    var header = joinRow(columns);\n    var table = [header, separatorRow];\n\n    for (var i = 0; i < rows.length; i++) {\n      table.push(joinRow(stringRows[i]));\n    }\n\n    // Notice extra empty line at the beginning.\n    // Native logging hook adds \"RCTLog >\" at the front of every\n    // logged string, which would shift the header and screw up\n    // the table\n    global.nativeLoggingHook('\\n' + table.join('\\n'), LOG_LEVELS.info);\n  }\n\n  // Preserve the original `console` as `originalConsole`\n  var originalConsole = global.console;\n  var descriptor = Object.getOwnPropertyDescriptor(global, 'console');\n  if (descriptor) {\n    Object.defineProperty(global, 'originalConsole', descriptor);\n  }\n\n  global.console = {\n    error: getNativeLogFunction(LOG_LEVELS.error),\n    info: getNativeLogFunction(LOG_LEVELS.info),\n    log: getNativeLogFunction(LOG_LEVELS.info),\n    warn: getNativeLogFunction(LOG_LEVELS.warn),\n    trace: getNativeLogFunction(LOG_LEVELS.trace),\n    debug: getNativeLogFunction(LOG_LEVELS.trace),\n    table: consoleTablePolyfill\n  };\n\n  // If available, also call the original `console` method since that is\n  // sometimes useful. Ex: on OS X, this will let you see rich output in\n  // the Safari Web Inspector console.\n  if (__DEV__ && originalConsole) {\n    Object.keys(console).forEach(methodName => {\n      var reactNativeMethod = console[methodName];\n      if (originalConsole[methodName]) {\n        console[methodName] = function() {\n          originalConsole[methodName](...arguments);\n          reactNativeMethod.apply(console, arguments);\n        };\n      }\n    });\n  }\n}\n\nif (typeof module !== 'undefined') {\n  module.exports = setupConsole;\n} else {\n  setupConsole(global);\n}\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @polyfill\n */\n\n/* eslint-disable strict */\n\nlet _inGuard = 0;\n\n/**\n * This is the error handler that is called when we encounter an exception\n * when loading a module. This will report any errors encountered before\n * ExceptionsManager is configured.\n */\nlet _globalHandler = function onError(e) {\n  throw e;\n};\n\n/**\n * The particular require runtime that we are using looks for a global\n * `ErrorUtils` object and if it exists, then it requires modules with the\n * error handler specified via ErrorUtils.setGlobalHandler by calling the\n * require function with applyWithGuard. Since the require module is loaded\n * before any of the modules, this ErrorUtils must be defined (and the handler\n * set) globally before requiring anything.\n */\nconst ErrorUtils = {\n  setGlobalHandler(fun) {\n    _globalHandler = fun;\n  },\n  getGlobalHandler() {\n    return _globalHandler;\n  },\n  reportError(error) {\n    _globalHandler && _globalHandler(error);\n  },\n  reportFatalError(error) {\n    _globalHandler && _globalHandler(error, true);\n  },\n  applyWithGuard(fun, context, args) {\n    try {\n      _inGuard++;\n      return fun.apply(context, args);\n    } catch (e) {\n      ErrorUtils.reportError(e);\n    } finally {\n      _inGuard--;\n    }\n    return null;\n  },\n  applyWithGuardIfNeeded(fun, context, args) {\n    if (ErrorUtils.inGuard()) {\n      return fun.apply(context, args);\n    } else {\n      ErrorUtils.applyWithGuard(fun, context, args);\n    }\n    return null;\n  },\n  inGuard() {\n    return _inGuard;\n  },\n  guard(fun, name, context) {\n    if (typeof fun !== 'function') {\n      console.warn('A function must be passed to ErrorUtils.guard, got ', fun);\n      return null;\n    }\n    name = name || fun.name || '<generated guard>';\n    function guarded() {\n      return (\n        ErrorUtils.applyWithGuard(\n          fun,\n          context || this,\n          arguments,\n          null,\n          name\n        )\n      );\n    }\n\n    return guarded;\n  },\n};\n\nglobal.ErrorUtils = ErrorUtils;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @polyfill\n */\n\n/* eslint-disable strict */\n\nif (Number.EPSILON === undefined) {\n  Object.defineProperty(Number, 'EPSILON', {\n    value: Math.pow(2, -52),\n  });\n}\nif (Number.MAX_SAFE_INTEGER === undefined) {\n  Object.defineProperty(Number, 'MAX_SAFE_INTEGER', {\n    value: Math.pow(2, 53) - 1,\n  });\n}\nif (Number.MIN_SAFE_INTEGER === undefined) {\n  Object.defineProperty(Number, 'MIN_SAFE_INTEGER', {\n    value: -(Math.pow(2, 53) - 1),\n  });\n}\nif (!Number.isNaN) {\n  // eslint-disable-next-line max-len\n  // https://github.com/dherman/tc39-codex-wiki/blob/master/data/es6/number/index.md#polyfill-for-numberisnan\n  const globalIsNaN = global.isNaN;\n  Object.defineProperty(Number, 'isNaN', {\n    configurable: true,\n    enumerable: false,\n    value: function isNaN(value) {\n      return typeof value === 'number' && globalIsNaN(value);\n    },\n    writable: true,\n  });\n}\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @polyfill\n */\n\n/* eslint-disable strict, no-extend-native, no-bitwise */\n\n/*\n * NOTE: We use (Number(x) || 0) to replace NaN values with zero.\n */\n\nif (!String.prototype.startsWith) {\n  String.prototype.startsWith = function(search) {\n    'use strict';\n    if (this == null) {\n      throw TypeError();\n    }\n    var string = String(this);\n    var pos = arguments.length > 1 ?\n      (Number(arguments[1]) || 0) : 0;\n    var start = Math.min(Math.max(pos, 0), string.length);\n    return string.indexOf(String(search), pos) === start;\n  };\n}\n\nif (!String.prototype.endsWith) {\n  String.prototype.endsWith = function(search) {\n    'use strict';\n    if (this == null) {\n      throw TypeError();\n    }\n    var string = String(this);\n    var stringLength = string.length;\n    var searchString = String(search);\n    var pos = arguments.length > 1 ?\n      (Number(arguments[1]) || 0) : stringLength;\n    var end = Math.min(Math.max(pos, 0), stringLength);\n    var start = end - searchString.length;\n    if (start < 0) {\n      return false;\n    }\n    return string.lastIndexOf(searchString, start) === start;\n  };\n}\n\nif (!String.prototype.repeat) {\n  String.prototype.repeat = function(count) {\n    'use strict';\n    if (this == null) {\n      throw TypeError();\n    }\n    var string = String(this);\n    count = Number(count) || 0;\n    if (count < 0 || count === Infinity) {\n      throw RangeError();\n    }\n    if (count === 1) {\n      return string;\n    }\n    var result = '';\n    while (count) {\n      if (count & 1) {\n        result += string;\n      }\n      if ((count >>= 1)) {\n        string += string;\n      }\n    }\n    return result;\n  };\n}\n\nif (!String.prototype.includes) {\n  String.prototype.includes = function(search, start) {\n    'use strict';\n    if (typeof start !== 'number') {\n      start = 0;\n    }\n\n    if (start + search.length > this.length) {\n      return false;\n    } else {\n      return this.indexOf(search, start) !== -1;\n    }\n  };\n}\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @polyfill\n */\n\n/* eslint-disable */\n\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/findIndex\nfunction findIndex(predicate, context) {\n  if (this == null) {\n    throw new TypeError(\n      'Array.prototype.findIndex called on null or undefined'\n    );\n  }\n  if (typeof predicate !== 'function') {\n    throw new TypeError('predicate must be a function');\n  }\n  var list = Object(this);\n  var length = list.length >>> 0;\n  for (var i = 0; i < length; i++) {\n    if (predicate.call(context, list[i], i, list)) {\n      return i;\n    }\n  }\n  return -1;\n}\n\nif (!Array.prototype.findIndex) {\n  Object.defineProperty(Array.prototype, 'findIndex', {\n    enumerable: false,\n    writable: true,\n    configurable: true,\n    value: findIndex\n  });\n}\n\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/find\nif (!Array.prototype.find) {\n  Object.defineProperty(Array.prototype, 'find', {\n    enumerable: false,\n    writable: true,\n    configurable: true,\n    value: function(predicate, context) {\n      if (this == null) {\n        throw new TypeError(\n          'Array.prototype.find called on null or undefined'\n        );\n      }\n      var index = findIndex.call(this, predicate, context);\n      return index === -1 ? undefined : this[index];\n    }\n  });\n}\n\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/includes\nif (!Array.prototype.includes) {\n  Object.defineProperty(Array.prototype, 'includes', {\n    enumerable: false,\n    writable: true,\n    configurable: true,\n    value: function (searchElement) {\n      var O = Object(this);\n      var len = parseInt(O.length) || 0;\n      if (len === 0) {\n        return false;\n      }\n      var n = parseInt(arguments[1]) || 0;\n      var k;\n      if (n >= 0) {\n        k = n;\n      } else {\n        k = len + n;\n        if (k < 0) {\n          k = 0;\n        }\n      }\n      var currentElement;\n      while (k < len) {\n        currentElement = O[k];\n        if (searchElement === currentElement ||\n          (searchElement !== searchElement && currentElement !== currentElement)) {\n          return true;\n        }\n        k++;\n      }\n      return false;\n    }\n  });\n}\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @polyfill\n */\n\n/* eslint-disable */\n\n/**\n * Creates an array from array like objects.\n *\n * https://people.mozilla.org/~jorendorff/es6-draft.html#sec-array.from\n */\nif (!Array.from) {\n  Array.from = function(arrayLike /*, mapFn, thisArg */) {\n    if (arrayLike == null) {\n      throw new TypeError('Object is null or undefined');\n    }\n\n    // Optional args.\n    var mapFn = arguments[1];\n    var thisArg = arguments[2];\n\n    var C = this;\n    var items = Object(arrayLike);\n    var symbolIterator = typeof Symbol === 'function'\n      ? Symbol.iterator\n      : '@@iterator';\n    var mapping = typeof mapFn === 'function';\n    var usingIterator = typeof items[symbolIterator] === 'function';\n    var key = 0;\n    var ret;\n    var value;\n\n    if (usingIterator) {\n      ret = typeof C === 'function'\n        ? new C()\n        : [];\n      var it = items[symbolIterator]();\n      var next;\n\n      while (!(next = it.next()).done) {\n        value = next.value;\n\n        if (mapping) {\n          value = mapFn.call(thisArg, value, key);\n        }\n\n        ret[key] = value;\n        key += 1;\n      }\n\n      ret.length = key;\n      return ret;\n    }\n\n    var len = items.length;\n    if (isNaN(len) || len < 0) {\n      len = 0;\n    }\n\n    ret = typeof C === 'function'\n      ? new C(len)\n      : new Array(len);\n\n    while (key < len) {\n      value = items[key];\n\n      if (mapping) {\n        value = mapFn.call(thisArg, value, key);\n      }\n\n      ret[key] = value;\n\n      key += 1;\n    }\n\n    ret.length = key;\n    return ret;\n  };\n}\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @polyfill\n */\n\n(function() {\n  'use strict';\n\n  const hasOwnProperty = Object.prototype.hasOwnProperty;\n\n  /**\n   * Returns an array of the given object's own enumerable entries.\n   * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/entries\n   */\n  if (typeof Object.entries !== 'function') {\n    Object.entries = function(object) {\n      // `null` and `undefined` values are not allowed.\n      if (object == null) {\n        throw new TypeError('Object.entries called on non-object');\n      }\n\n      const entries = [];\n      for (const key in object) {\n        if (hasOwnProperty.call(object, key)) {\n          entries.push([key, object[key]]);\n        }\n      }\n      return entries;\n    };\n  }\n\n  /**\n   * Returns an array of the given object's own enumerable entries.\n   * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/values\n   */\n  if (typeof Object.values !== 'function') {\n    Object.values = function(object) {\n      // `null` and `undefined` values are not allowed.\n      if (object == null) {\n        throw new TypeError('Object.values called on non-object');\n      }\n\n      const values = [];\n      for (const key in object) {\n        if (hasOwnProperty.call(object, key)) {\n          values.push(object[key]);\n        }\n      }\n      return values;\n    };\n  }\n\n})();\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @polyfill\n */\n\n/* eslint-disable */\n\n// Created by running:\n// require('babel-core').buildExternalHelpers('_extends classCallCheck createClass createRawReactElement defineProperty get inherits  interopRequireDefault interopRequireWildcard objectWithoutProperties possibleConstructorReturn slicedToArray taggedTemplateLiteral toArray toConsumableArray '.split(' '))\n// then replacing the `global` reference in the last line to also use `this`.\n//\n// actually, that's a lie, because babel6 omits _extends and createRawReactElement\n\nvar babelHelpers = global.babelHelpers = {};\n\nbabelHelpers.typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\nbabelHelpers.createRawReactElement = (function () {\n  var REACT_ELEMENT_TYPE = typeof Symbol === \"function\" && Symbol.for && Symbol.for(\"react.element\") || 0xeac7;\n  return function createRawReactElement(type, key, props) {\n    return {\n      $$typeof: REACT_ELEMENT_TYPE,\n      type: type,\n      key: key,\n      ref: null,\n      props: props,\n      _owner: null\n    };\n  };\n})();\n\nbabelHelpers.classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nbabelHelpers.createClass = (function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n})();\n\nbabelHelpers.defineProperty = function (obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n};\n\nbabelHelpers._extends = babelHelpers.extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nbabelHelpers.get = function get(object, property, receiver) {\n  if (object === null) object = Function.prototype;\n  var desc = Object.getOwnPropertyDescriptor(object, property);\n\n  if (desc === undefined) {\n    var parent = Object.getPrototypeOf(object);\n\n    if (parent === null) {\n      return undefined;\n    } else {\n      return get(parent, property, receiver);\n    }\n  } else if (\"value\" in desc) {\n    return desc.value;\n  } else {\n    var getter = desc.get;\n\n    if (getter === undefined) {\n      return undefined;\n    }\n\n    return getter.call(receiver);\n  }\n};\n\nbabelHelpers.inherits = function (subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n};\n\nbabelHelpers.interopRequireDefault = function (obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n};\n\nbabelHelpers.interopRequireWildcard = function (obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];\n      }\n    }\n\n    newObj.default = obj;\n    return newObj;\n  }\n};\n\nbabelHelpers.objectWithoutProperties = function (obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n};\n\nbabelHelpers.possibleConstructorReturn = function (self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n};\n\nbabelHelpers.slicedToArray = (function () {\n  function sliceIterator(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"]) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  return function (arr, i) {\n    if (Array.isArray(arr)) {\n      return arr;\n    } else if (Symbol.iterator in Object(arr)) {\n      return sliceIterator(arr, i);\n    } else {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n    }\n  };\n})();\n\nbabelHelpers.taggedTemplateLiteral = function (strings, raw) {\n  return Object.freeze(Object.defineProperties(strings, {\n    raw: {\n      value: Object.freeze(raw)\n    }\n  }));\n};\n\nbabelHelpers.toArray = function (arr) {\n  return Array.isArray(arr) ? arr : Array.from(arr);\n};\n\nbabelHelpers.toConsumableArray = function (arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];\n\n    return arr2;\n  } else {\n    return Array.from(arr);\n  }\n};\n","import './src/ReactCalculator.js';\n","import React, {Component} from 'react';\nimport Style from './Style';\nimport {View, Text, AppRegistry} from 'react-native';\nimport InputButton from './InputButton';\n\nconst inputButtons = [\n  [\n    1, 2, 3, '/'\n  ],\n  [\n    4, 5, 6, '*'\n  ],\n  [\n    7, 8, 9, '-'\n  ],\n  [0, '.', '=', '+']\n];\n\nclass ReactCalculator extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      inputValue: 0,\n      previousInputValue: 0,\n      selectedSymbol: null\n    };\n  }\n\n  _renderInputButtons() {\n    let views = [];\n    for (var r = 0; r < inputButtons.length; r++) {\n      let row = inputButtons[r];\n\n      let inputRow = [];\n      for (var i = 0; i < row.length; i++) {\n        let input = row[i];\n        inputRow.push(<InputButton value={input} highlight={this.state.selectedSymbol === input} onPress={this._onInputButtonPressed.bind(this, input)} key={r + '-' + i}/>);\n      }\n      views.push(\n        <View style={Style.inputRow} key={'row-' + r}>{inputRow}</View>\n      );\n    }\n    return views;\n  }\n\n  _onInputButtonPressed(input) {\n    switch (typeof input) {\n            case 'number':\n              return this._handleNumberInput(input);\n              break;\n            case 'string':\n              return this._handleStringInput(input);\n              break;\n            default:\n              break;\n        }\n  }\n\n  _handleNumberInput(num) {\n        let inputValue = (this.state.inputValue * 10) + num;\n\n        this.setState({\n            inputValue: inputValue\n        });\n    }\n\n  _handleStringInput(str){\n    switch (str) {\n      case '+':\n      case '-':\n      case '*':\n      case '/':\n\n        this.setState({\n          selectedSymbol:str,\n          previousInputValue:this.state.inputValue,\n          inputValue:0\n        });\n\n        break;\n        case '=':\n                  let symbol = this.state.selectedSymbol,\n                      inputValue = this.state.inputValue,\n                      previousInputValue = this.state.previousInputValue;\n\n                  if (!symbol) {\n                      return;\n                  }\n\n                  this.setState({\n                      previousInputValue: 0,\n                      inputValue: eval(previousInputValue + symbol + inputValue),\n                      selectedSymbol: null\n                  });\n                  break;\n      default:\n        break;\n    }\n  }\n\n  render() {\n    return (\n      <View style={Style.rootContainer}>\n        <View style={Style.displayContainer}>\n          <Text style={Style.displayText}>{this.state.inputValue}</Text>\n        </View>\n        <View style={Style.inputContainer}>{this._renderInputButtons()}</View>\n      </View>\n    );\n  }\n}\n\nAppRegistry.registerComponent('ReactCalculator', () => ReactCalculator);\n","'use strict';\n\nmodule.exports = require('./lib/React');\n","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar ReactBaseClasses = require('./ReactBaseClasses');\nvar ReactChildren = require('./ReactChildren');\nvar ReactClass = require('./ReactClass');\nvar ReactDOMFactories = require('./ReactDOMFactories');\nvar ReactElement = require('./ReactElement');\nvar ReactPropTypes = require('./ReactPropTypes');\nvar ReactVersion = require('./ReactVersion');\n\nvar onlyChild = require('./onlyChild');\nvar warning = require('fbjs/lib/warning');\nvar checkPropTypes = require('./checkPropTypes');\n\nvar createElement = ReactElement.createElement;\nvar createFactory = ReactElement.createFactory;\nvar cloneElement = ReactElement.cloneElement;\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactElementValidator = require('./ReactElementValidator');\n  createElement = ReactElementValidator.createElement;\n  createFactory = ReactElementValidator.createFactory;\n  cloneElement = ReactElementValidator.cloneElement;\n}\n\nvar createMixin = function (mixin) {\n  return mixin;\n};\n\nif (process.env.NODE_ENV !== 'production') {\n  var warnedForCreateMixin = false;\n\n  createMixin = function (mixin) {\n    process.env.NODE_ENV !== 'production' ? warning(warnedForCreateMixin, 'React.createMixin is deprecated and should not be used. You ' + 'can use this mixin directly instead.') : void 0;\n    warnedForCreateMixin = true;\n    return mixin;\n  };\n}\n\nvar React = {\n  // Modern\n\n  Children: {\n    map: ReactChildren.map,\n    forEach: ReactChildren.forEach,\n    count: ReactChildren.count,\n    toArray: ReactChildren.toArray,\n    only: onlyChild\n  },\n\n  Component: ReactBaseClasses.Component,\n  PureComponent: ReactBaseClasses.PureComponent,\n\n  createElement: createElement,\n  cloneElement: cloneElement,\n  isValidElement: ReactElement.isValidElement,\n\n  checkPropTypes: checkPropTypes,\n\n  // Classic\n\n  PropTypes: ReactPropTypes,\n  createClass: ReactClass.createClass,\n  createFactory: createFactory,\n  createMixin: createMixin,\n\n  // This looks DOM specific but these are actually isomorphic helpers\n  // since they are just generating DOM strings.\n  DOM: ReactDOMFactories,\n\n  version: ReactVersion\n};\n\nmodule.exports = React;","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar _prodInvariant = require('./reactProdInvariant'),\n    _assign = require('object-assign');\n\nvar ReactNoopUpdateQueue = require('./ReactNoopUpdateQueue');\n\nvar canDefineProperty = require('./canDefineProperty');\nvar emptyObject = require('fbjs/lib/emptyObject');\nvar invariant = require('fbjs/lib/invariant');\nvar warning = require('fbjs/lib/warning');\n\n/**\n * Base class helpers for the updating state of a component.\n */\nfunction ReactComponent(props, context, updater) {\n  this.props = props;\n  this.context = context;\n  this.refs = emptyObject;\n  // We initialize the default updater but the real one gets injected by the\n  // renderer.\n  this.updater = updater || ReactNoopUpdateQueue;\n}\n\nReactComponent.prototype.isReactComponent = {};\n\n/**\n * Sets a subset of the state. Always use this to mutate\n * state. You should treat `this.state` as immutable.\n *\n * There is no guarantee that `this.state` will be immediately updated, so\n * accessing `this.state` after calling this method may return the old value.\n *\n * There is no guarantee that calls to `setState` will run synchronously,\n * as they may eventually be batched together.  You can provide an optional\n * callback that will be executed when the call to setState is actually\n * completed.\n *\n * When a function is provided to setState, it will be called at some point in\n * the future (not synchronously). It will be called with the up to date\n * component arguments (state, props, context). These values can be different\n * from this.* because your function may be called after receiveProps but before\n * shouldComponentUpdate, and this new state, props, and context will not yet be\n * assigned to this.\n *\n * @param {object|function} partialState Next partial state or function to\n *        produce next partial state to be merged with current state.\n * @param {?function} callback Called after state is updated.\n * @final\n * @protected\n */\nReactComponent.prototype.setState = function (partialState, callback) {\n  !(typeof partialState === 'object' || typeof partialState === 'function' || partialState == null) ? process.env.NODE_ENV !== 'production' ? invariant(false, 'setState(...): takes an object of state variables to update or a function which returns an object of state variables.') : _prodInvariant('85') : void 0;\n  this.updater.enqueueSetState(this, partialState, callback, 'setState');\n};\n\n/**\n * Forces an update. This should only be invoked when it is known with\n * certainty that we are **not** in a DOM transaction.\n *\n * You may want to call this when you know that some deeper aspect of the\n * component's state has changed but `setState` was not called.\n *\n * This will not invoke `shouldComponentUpdate`, but it will invoke\n * `componentWillUpdate` and `componentDidUpdate`.\n *\n * @param {?function} callback Called after update is complete.\n * @final\n * @protected\n */\nReactComponent.prototype.forceUpdate = function (callback) {\n  this.updater.enqueueForceUpdate(this, callback, 'forceUpdate');\n};\n\n/**\n * Deprecated APIs. These APIs used to exist on classic React classes but since\n * we would like to deprecate them, we're not going to move them over to this\n * modern base class. Instead, we define a getter that warns if it's accessed.\n */\nif (process.env.NODE_ENV !== 'production') {\n  var deprecatedAPIs = {\n    isMounted: ['isMounted', 'Instead, make sure to clean up subscriptions and pending requests in ' + 'componentWillUnmount to prevent memory leaks.'],\n    replaceState: ['replaceState', 'Refactor your code to use setState instead (see ' + 'https://github.com/facebook/react/issues/3236).']\n  };\n  var defineDeprecationWarning = function (methodName, info) {\n    if (canDefineProperty) {\n      Object.defineProperty(ReactComponent.prototype, methodName, {\n        get: function () {\n          process.env.NODE_ENV !== 'production' ? warning(false, '%s(...) is deprecated in plain JavaScript React classes. %s', info[0], info[1]) : void 0;\n          return undefined;\n        }\n      });\n    }\n  };\n  for (var fnName in deprecatedAPIs) {\n    if (deprecatedAPIs.hasOwnProperty(fnName)) {\n      defineDeprecationWarning(fnName, deprecatedAPIs[fnName]);\n    }\n  }\n}\n\n/**\n * Base class helpers for the updating state of a component.\n */\nfunction ReactPureComponent(props, context, updater) {\n  // Duplicated from ReactComponent.\n  this.props = props;\n  this.context = context;\n  this.refs = emptyObject;\n  // We initialize the default updater but the real one gets injected by the\n  // renderer.\n  this.updater = updater || ReactNoopUpdateQueue;\n}\n\nfunction ComponentDummy() {}\nComponentDummy.prototype = ReactComponent.prototype;\nReactPureComponent.prototype = new ComponentDummy();\nReactPureComponent.prototype.constructor = ReactPureComponent;\n// Avoid an extra prototype jump for these methods.\n_assign(ReactPureComponent.prototype, ReactComponent.prototype);\nReactPureComponent.prototype.isPureReactComponent = true;\n\nmodule.exports = {\n  Component: ReactComponent,\n  PureComponent: ReactPureComponent\n};","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * \n */\n'use strict';\n\n/**\n * WARNING: DO NOT manually require this module.\n * This is a replacement for `invariant(...)` used by the error code system\n * and will _only_ be required by the corresponding babel pass.\n * It always throws.\n */\n\nfunction reactProdInvariant(code) {\n  var argCount = arguments.length - 1;\n\n  var message = 'Minified React error #' + code + '; visit ' + 'http://facebook.github.io/react/docs/error-decoder.html?invariant=' + code;\n\n  for (var argIdx = 0; argIdx < argCount; argIdx++) {\n    message += '&args[]=' + encodeURIComponent(arguments[argIdx + 1]);\n  }\n\n  message += ' for the full message or use the non-minified dev environment' + ' for full errors and additional helpful warnings.';\n\n  var error = new Error(message);\n  error.name = 'Invariant Violation';\n  error.framesToPop = 1; // we don't care about reactProdInvariant's own frame\n\n  throw error;\n}\n\nmodule.exports = reactProdInvariant;","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","/**\n * Copyright 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar warning = require('fbjs/lib/warning');\n\nfunction warnNoop(publicInstance, callerName) {\n  if (process.env.NODE_ENV !== 'production') {\n    var constructor = publicInstance.constructor;\n    process.env.NODE_ENV !== 'production' ? warning(false, '%s(...): Can only update a mounted or mounting component. ' + 'This usually means you called %s() on an unmounted component. ' + 'This is a no-op.\\n\\nPlease check the code for the %s component.', callerName, callerName, constructor && (constructor.displayName || constructor.name) || 'ReactClass') : void 0;\n  }\n}\n\n/**\n * This is the abstract API for an update queue.\n */\nvar ReactNoopUpdateQueue = {\n  /**\n   * Checks whether or not this composite component is mounted.\n   * @param {ReactClass} publicInstance The instance we want to test.\n   * @return {boolean} True if mounted, false otherwise.\n   * @protected\n   * @final\n   */\n  isMounted: function (publicInstance) {\n    return false;\n  },\n\n  /**\n   * Forces an update. This should only be invoked when it is known with\n   * certainty that we are **not** in a DOM transaction.\n   *\n   * You may want to call this when you know that some deeper aspect of the\n   * component's state has changed but `setState` was not called.\n   *\n   * This will not invoke `shouldComponentUpdate`, but it will invoke\n   * `componentWillUpdate` and `componentDidUpdate`.\n   *\n   * @param {ReactClass} publicInstance The instance that should rerender.\n   * @param {?function} callback Called after component is updated.\n   * @param {?string} Name of the calling function in the public API.\n   * @internal\n   */\n  enqueueForceUpdate: function (publicInstance, callback, callerName) {\n    warnNoop(publicInstance, 'forceUpdate');\n  },\n\n  /**\n   * Replaces all of the state. Always use this or `setState` to mutate state.\n   * You should treat `this.state` as immutable.\n   *\n   * There is no guarantee that `this.state` will be immediately updated, so\n   * accessing `this.state` after calling this method may return the old value.\n   *\n   * @param {ReactClass} publicInstance The instance that should rerender.\n   * @param {object} completeState Next state.\n   * @param {?function} callback Called after component is updated.\n   * @param {?string} Name of the calling function in the public API.\n   * @internal\n   */\n  enqueueReplaceState: function (publicInstance, completeState, callback, callerName) {\n    warnNoop(publicInstance, 'replaceState');\n  },\n\n  /**\n   * Sets a subset of the state. This only exists because _pendingState is\n   * internal. This provides a merging strategy that is not available to deep\n   * properties which is confusing. TODO: Expose pendingState or don't use it\n   * during the merge.\n   *\n   * @param {ReactClass} publicInstance The instance that should rerender.\n   * @param {object} partialState Next partial state to be merged with state.\n   * @param {?function} callback Called after component is updated.\n   * @param {?string} Name of the calling function in the public API.\n   * @internal\n   */\n  enqueueSetState: function (publicInstance, partialState, callback, callerName) {\n    warnNoop(publicInstance, 'setState');\n  }\n};\n\nmodule.exports = ReactNoopUpdateQueue;","/**\n * Copyright 2014-2015, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar emptyFunction = require('./emptyFunction');\n\n/**\n * Similar to invariant but only logs a warning if the condition is not met.\n * This can be used to log issues in development environments in critical\n * paths. Removing the logging code for production environments will keep the\n * same logic and follow the same code paths.\n */\n\nvar warning = emptyFunction;\n\nif (process.env.NODE_ENV !== 'production') {\n  (function () {\n    var printWarning = function printWarning(format) {\n      for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n\n      var argIndex = 0;\n      var message = 'Warning: ' + format.replace(/%s/g, function () {\n        return args[argIndex++];\n      });\n      if (typeof console !== 'undefined') {\n        console.error(message);\n      }\n      try {\n        // --- Welcome to debugging React ---\n        // This error was thrown as a convenience so that you can use this stack\n        // to find the callsite that caused this warning to fire.\n        throw new Error(message);\n      } catch (x) {}\n    };\n\n    warning = function warning(condition, format) {\n      if (format === undefined) {\n        throw new Error('`warning(condition, format, ...args)` requires a warning ' + 'message argument');\n      }\n\n      if (format.indexOf('Failed Composite propType: ') === 0) {\n        return; // Ignore CompositeComponent proptype check.\n      }\n\n      if (!condition) {\n        for (var _len2 = arguments.length, args = Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {\n          args[_key2 - 2] = arguments[_key2];\n        }\n\n        printWarning.apply(undefined, [format].concat(args));\n      }\n    };\n  })();\n}\n\nmodule.exports = warning;","\"use strict\";\n\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * \n */\n\nfunction makeEmptyFunction(arg) {\n  return function () {\n    return arg;\n  };\n}\n\n/**\n * This function accepts and discards inputs; it has no side effects. This is\n * primarily useful idiomatically for overridable function endpoints which\n * always need to be callable, since JS lacks a null-call idiom ala Cocoa.\n */\nvar emptyFunction = function emptyFunction() {};\n\nemptyFunction.thatReturns = makeEmptyFunction;\nemptyFunction.thatReturnsFalse = makeEmptyFunction(false);\nemptyFunction.thatReturnsTrue = makeEmptyFunction(true);\nemptyFunction.thatReturnsNull = makeEmptyFunction(null);\nemptyFunction.thatReturnsThis = function () {\n  return this;\n};\nemptyFunction.thatReturnsArgument = function (arg) {\n  return arg;\n};\n\nmodule.exports = emptyFunction;","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * \n */\n\n'use strict';\n\nvar canDefineProperty = false;\nif (process.env.NODE_ENV !== 'production') {\n  try {\n    // $FlowFixMe https://github.com/facebook/flow/issues/285\n    Object.defineProperty({}, 'x', { get: function () {} });\n    canDefineProperty = true;\n  } catch (x) {\n    // IE will fail on defineProperty\n  }\n}\n\nmodule.exports = canDefineProperty;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar emptyObject = {};\n\nif (process.env.NODE_ENV !== 'production') {\n  Object.freeze(emptyObject);\n}\n\nmodule.exports = emptyObject;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\n/**\n * Use invariant() to assert state which your program assumes to be true.\n *\n * Provide sprintf-style format (only %s is supported) and arguments\n * to provide information about what broke and what you were\n * expecting.\n *\n * The invariant message will be stripped in production, but the invariant\n * will remain to ensure logic does not differ in production.\n */\n\nvar validateFormat = function validateFormat(format) {};\n\nif (process.env.NODE_ENV !== 'production') {\n  validateFormat = function validateFormat(format) {\n    if (format === undefined) {\n      throw new Error('invariant requires an error message argument');\n    }\n  };\n}\n\nfunction invariant(condition, format, a, b, c, d, e, f) {\n  validateFormat(format);\n\n  if (!condition) {\n    var error;\n    if (format === undefined) {\n      error = new Error('Minified exception occurred; use the non-minified dev environment ' + 'for the full error message and additional helpful warnings.');\n    } else {\n      var args = [a, b, c, d, e, f];\n      var argIndex = 0;\n      error = new Error(format.replace(/%s/g, function () {\n        return args[argIndex++];\n      }));\n      error.name = 'Invariant Violation';\n    }\n\n    error.framesToPop = 1; // we don't care about invariant's own frame\n    throw error;\n  }\n}\n\nmodule.exports = invariant;","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar PooledClass = require('./PooledClass');\nvar ReactElement = require('./ReactElement');\n\nvar emptyFunction = require('fbjs/lib/emptyFunction');\nvar traverseAllChildren = require('./traverseAllChildren');\n\nvar twoArgumentPooler = PooledClass.twoArgumentPooler;\nvar fourArgumentPooler = PooledClass.fourArgumentPooler;\n\nvar userProvidedKeyEscapeRegex = /\\/+/g;\nfunction escapeUserProvidedKey(text) {\n  return ('' + text).replace(userProvidedKeyEscapeRegex, '$&/');\n}\n\n/**\n * PooledClass representing the bookkeeping associated with performing a child\n * traversal. Allows avoiding binding callbacks.\n *\n * @constructor ForEachBookKeeping\n * @param {!function} forEachFunction Function to perform traversal with.\n * @param {?*} forEachContext Context to perform context with.\n */\nfunction ForEachBookKeeping(forEachFunction, forEachContext) {\n  this.func = forEachFunction;\n  this.context = forEachContext;\n  this.count = 0;\n}\nForEachBookKeeping.prototype.destructor = function () {\n  this.func = null;\n  this.context = null;\n  this.count = 0;\n};\nPooledClass.addPoolingTo(ForEachBookKeeping, twoArgumentPooler);\n\nfunction forEachSingleChild(bookKeeping, child, name) {\n  var func = bookKeeping.func,\n      context = bookKeeping.context;\n\n  func.call(context, child, bookKeeping.count++);\n}\n\n/**\n * Iterates through children that are typically specified as `props.children`.\n *\n * See https://facebook.github.io/react/docs/react-api.html#react.children.foreach\n *\n * The provided forEachFunc(child, index) will be called for each\n * leaf child.\n *\n * @param {?*} children Children tree container.\n * @param {function(*, int)} forEachFunc\n * @param {*} forEachContext Context for forEachContext.\n */\nfunction forEachChildren(children, forEachFunc, forEachContext) {\n  if (children == null) {\n    return children;\n  }\n  var traverseContext = ForEachBookKeeping.getPooled(forEachFunc, forEachContext);\n  traverseAllChildren(children, forEachSingleChild, traverseContext);\n  ForEachBookKeeping.release(traverseContext);\n}\n\n/**\n * PooledClass representing the bookkeeping associated with performing a child\n * mapping. Allows avoiding binding callbacks.\n *\n * @constructor MapBookKeeping\n * @param {!*} mapResult Object containing the ordered map of results.\n * @param {!function} mapFunction Function to perform mapping with.\n * @param {?*} mapContext Context to perform mapping with.\n */\nfunction MapBookKeeping(mapResult, keyPrefix, mapFunction, mapContext) {\n  this.result = mapResult;\n  this.keyPrefix = keyPrefix;\n  this.func = mapFunction;\n  this.context = mapContext;\n  this.count = 0;\n}\nMapBookKeeping.prototype.destructor = function () {\n  this.result = null;\n  this.keyPrefix = null;\n  this.func = null;\n  this.context = null;\n  this.count = 0;\n};\nPooledClass.addPoolingTo(MapBookKeeping, fourArgumentPooler);\n\nfunction mapSingleChildIntoContext(bookKeeping, child, childKey) {\n  var result = bookKeeping.result,\n      keyPrefix = bookKeeping.keyPrefix,\n      func = bookKeeping.func,\n      context = bookKeeping.context;\n\n\n  var mappedChild = func.call(context, child, bookKeeping.count++);\n  if (Array.isArray(mappedChild)) {\n    mapIntoWithKeyPrefixInternal(mappedChild, result, childKey, emptyFunction.thatReturnsArgument);\n  } else if (mappedChild != null) {\n    if (ReactElement.isValidElement(mappedChild)) {\n      mappedChild = ReactElement.cloneAndReplaceKey(mappedChild,\n      // Keep both the (mapped) and old keys if they differ, just as\n      // traverseAllChildren used to do for objects as children\n      keyPrefix + (mappedChild.key && (!child || child.key !== mappedChild.key) ? escapeUserProvidedKey(mappedChild.key) + '/' : '') + childKey);\n    }\n    result.push(mappedChild);\n  }\n}\n\nfunction mapIntoWithKeyPrefixInternal(children, array, prefix, func, context) {\n  var escapedPrefix = '';\n  if (prefix != null) {\n    escapedPrefix = escapeUserProvidedKey(prefix) + '/';\n  }\n  var traverseContext = MapBookKeeping.getPooled(array, escapedPrefix, func, context);\n  traverseAllChildren(children, mapSingleChildIntoContext, traverseContext);\n  MapBookKeeping.release(traverseContext);\n}\n\n/**\n * Maps children that are typically specified as `props.children`.\n *\n * See https://facebook.github.io/react/docs/react-api.html#react.children.map\n *\n * The provided mapFunction(child, key, index) will be called for each\n * leaf child.\n *\n * @param {?*} children Children tree container.\n * @param {function(*, int)} func The map function.\n * @param {*} context Context for mapFunction.\n * @return {object} Object containing the ordered map of results.\n */\nfunction mapChildren(children, func, context) {\n  if (children == null) {\n    return children;\n  }\n  var result = [];\n  mapIntoWithKeyPrefixInternal(children, result, null, func, context);\n  return result;\n}\n\nfunction forEachSingleChildDummy(traverseContext, child, name) {\n  return null;\n}\n\n/**\n * Count the number of children that are typically specified as\n * `props.children`.\n *\n * See https://facebook.github.io/react/docs/react-api.html#react.children.count\n *\n * @param {?*} children Children tree container.\n * @return {number} The number of children.\n */\nfunction countChildren(children, context) {\n  return traverseAllChildren(children, forEachSingleChildDummy, null);\n}\n\n/**\n * Flatten a children object (typically specified as `props.children`) and\n * return an array with appropriately re-keyed children.\n *\n * See https://facebook.github.io/react/docs/react-api.html#react.children.toarray\n */\nfunction toArray(children) {\n  var result = [];\n  mapIntoWithKeyPrefixInternal(children, result, null, emptyFunction.thatReturnsArgument);\n  return result;\n}\n\nvar ReactChildren = {\n  forEach: forEachChildren,\n  map: mapChildren,\n  mapIntoWithKeyPrefixInternal: mapIntoWithKeyPrefixInternal,\n  count: countChildren,\n  toArray: toArray\n};\n\nmodule.exports = ReactChildren;","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * \n */\n\n'use strict';\n\nvar _prodInvariant = require('./reactProdInvariant');\n\nvar invariant = require('fbjs/lib/invariant');\n\n/**\n * Static poolers. Several custom versions for each potential number of\n * arguments. A completely generic pooler is easy to implement, but would\n * require accessing the `arguments` object. In each of these, `this` refers to\n * the Class itself, not an instance. If any others are needed, simply add them\n * here, or in their own files.\n */\nvar oneArgumentPooler = function (copyFieldsFrom) {\n  var Klass = this;\n  if (Klass.instancePool.length) {\n    var instance = Klass.instancePool.pop();\n    Klass.call(instance, copyFieldsFrom);\n    return instance;\n  } else {\n    return new Klass(copyFieldsFrom);\n  }\n};\n\nvar twoArgumentPooler = function (a1, a2) {\n  var Klass = this;\n  if (Klass.instancePool.length) {\n    var instance = Klass.instancePool.pop();\n    Klass.call(instance, a1, a2);\n    return instance;\n  } else {\n    return new Klass(a1, a2);\n  }\n};\n\nvar threeArgumentPooler = function (a1, a2, a3) {\n  var Klass = this;\n  if (Klass.instancePool.length) {\n    var instance = Klass.instancePool.pop();\n    Klass.call(instance, a1, a2, a3);\n    return instance;\n  } else {\n    return new Klass(a1, a2, a3);\n  }\n};\n\nvar fourArgumentPooler = function (a1, a2, a3, a4) {\n  var Klass = this;\n  if (Klass.instancePool.length) {\n    var instance = Klass.instancePool.pop();\n    Klass.call(instance, a1, a2, a3, a4);\n    return instance;\n  } else {\n    return new Klass(a1, a2, a3, a4);\n  }\n};\n\nvar standardReleaser = function (instance) {\n  var Klass = this;\n  !(instance instanceof Klass) ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Trying to release an instance into a pool of a different type.') : _prodInvariant('25') : void 0;\n  instance.destructor();\n  if (Klass.instancePool.length < Klass.poolSize) {\n    Klass.instancePool.push(instance);\n  }\n};\n\nvar DEFAULT_POOL_SIZE = 10;\nvar DEFAULT_POOLER = oneArgumentPooler;\n\n/**\n * Augments `CopyConstructor` to be a poolable class, augmenting only the class\n * itself (statically) not adding any prototypical fields. Any CopyConstructor\n * you give this may have a `poolSize` property, and will look for a\n * prototypical `destructor` on instances.\n *\n * @param {Function} CopyConstructor Constructor that can be used to reset.\n * @param {Function} pooler Customizable pooler.\n */\nvar addPoolingTo = function (CopyConstructor, pooler) {\n  // Casting as any so that flow ignores the actual implementation and trusts\n  // it to match the type we declared\n  var NewKlass = CopyConstructor;\n  NewKlass.instancePool = [];\n  NewKlass.getPooled = pooler || DEFAULT_POOLER;\n  if (!NewKlass.poolSize) {\n    NewKlass.poolSize = DEFAULT_POOL_SIZE;\n  }\n  NewKlass.release = standardReleaser;\n  return NewKlass;\n};\n\nvar PooledClass = {\n  addPoolingTo: addPoolingTo,\n  oneArgumentPooler: oneArgumentPooler,\n  twoArgumentPooler: twoArgumentPooler,\n  threeArgumentPooler: threeArgumentPooler,\n  fourArgumentPooler: fourArgumentPooler\n};\n\nmodule.exports = PooledClass;","/**\n * Copyright 2014-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar _assign = require('object-assign');\n\nvar ReactCurrentOwner = require('./ReactCurrentOwner');\n\nvar warning = require('fbjs/lib/warning');\nvar canDefineProperty = require('./canDefineProperty');\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nvar REACT_ELEMENT_TYPE = require('./ReactElementSymbol');\n\nvar RESERVED_PROPS = {\n  key: true,\n  ref: true,\n  __self: true,\n  __source: true\n};\n\nvar specialPropKeyWarningShown, specialPropRefWarningShown;\n\nfunction hasValidRef(config) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (hasOwnProperty.call(config, 'ref')) {\n      var getter = Object.getOwnPropertyDescriptor(config, 'ref').get;\n      if (getter && getter.isReactWarning) {\n        return false;\n      }\n    }\n  }\n  return config.ref !== undefined;\n}\n\nfunction hasValidKey(config) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (hasOwnProperty.call(config, 'key')) {\n      var getter = Object.getOwnPropertyDescriptor(config, 'key').get;\n      if (getter && getter.isReactWarning) {\n        return false;\n      }\n    }\n  }\n  return config.key !== undefined;\n}\n\nfunction defineKeyPropWarningGetter(props, displayName) {\n  var warnAboutAccessingKey = function () {\n    if (!specialPropKeyWarningShown) {\n      specialPropKeyWarningShown = true;\n      process.env.NODE_ENV !== 'production' ? warning(false, '%s: `key` is not a prop. Trying to access it will result ' + 'in `undefined` being returned. If you need to access the same ' + 'value within the child component, you should pass it as a different ' + 'prop. (https://fb.me/react-special-props)', displayName) : void 0;\n    }\n  };\n  warnAboutAccessingKey.isReactWarning = true;\n  Object.defineProperty(props, 'key', {\n    get: warnAboutAccessingKey,\n    configurable: true\n  });\n}\n\nfunction defineRefPropWarningGetter(props, displayName) {\n  var warnAboutAccessingRef = function () {\n    if (!specialPropRefWarningShown) {\n      specialPropRefWarningShown = true;\n      process.env.NODE_ENV !== 'production' ? warning(false, '%s: `ref` is not a prop. Trying to access it will result ' + 'in `undefined` being returned. If you need to access the same ' + 'value within the child component, you should pass it as a different ' + 'prop. (https://fb.me/react-special-props)', displayName) : void 0;\n    }\n  };\n  warnAboutAccessingRef.isReactWarning = true;\n  Object.defineProperty(props, 'ref', {\n    get: warnAboutAccessingRef,\n    configurable: true\n  });\n}\n\n/**\n * Factory method to create a new React element. This no longer adheres to\n * the class pattern, so do not use new to call it. Also, no instanceof check\n * will work. Instead test $$typeof field against Symbol.for('react.element') to check\n * if something is a React Element.\n *\n * @param {*} type\n * @param {*} key\n * @param {string|object} ref\n * @param {*} self A *temporary* helper to detect places where `this` is\n * different from the `owner` when React.createElement is called, so that we\n * can warn. We want to get rid of owner and replace string `ref`s with arrow\n * functions, and as long as `this` and owner are the same, there will be no\n * change in behavior.\n * @param {*} source An annotation object (added by a transpiler or otherwise)\n * indicating filename, line number, and/or other information.\n * @param {*} owner\n * @param {*} props\n * @internal\n */\nvar ReactElement = function (type, key, ref, self, source, owner, props) {\n  var element = {\n    // This tag allow us to uniquely identify this as a React Element\n    $$typeof: REACT_ELEMENT_TYPE,\n\n    // Built-in properties that belong on the element\n    type: type,\n    key: key,\n    ref: ref,\n    props: props,\n\n    // Record the component responsible for creating this element.\n    _owner: owner\n  };\n\n  if (process.env.NODE_ENV !== 'production') {\n    // The validation flag is currently mutative. We put it on\n    // an external backing store so that we can freeze the whole object.\n    // This can be replaced with a WeakMap once they are implemented in\n    // commonly used development environments.\n    element._store = {};\n\n    // To make comparing ReactElements easier for testing purposes, we make\n    // the validation flag non-enumerable (where possible, which should\n    // include every environment we run tests in), so the test framework\n    // ignores it.\n    if (canDefineProperty) {\n      Object.defineProperty(element._store, 'validated', {\n        configurable: false,\n        enumerable: false,\n        writable: true,\n        value: false\n      });\n      // self and source are DEV only properties.\n      Object.defineProperty(element, '_self', {\n        configurable: false,\n        enumerable: false,\n        writable: false,\n        value: self\n      });\n      // Two elements created in two different places should be considered\n      // equal for testing purposes and therefore we hide it from enumeration.\n      Object.defineProperty(element, '_source', {\n        configurable: false,\n        enumerable: false,\n        writable: false,\n        value: source\n      });\n    } else {\n      element._store.validated = false;\n      element._self = self;\n      element._source = source;\n    }\n    if (Object.freeze) {\n      Object.freeze(element.props);\n      Object.freeze(element);\n    }\n  }\n\n  return element;\n};\n\n/**\n * Create and return a new ReactElement of the given type.\n * See https://facebook.github.io/react/docs/react-api.html#createelement\n */\nReactElement.createElement = function (type, config, children) {\n  var propName;\n\n  // Reserved names are extracted\n  var props = {};\n\n  var key = null;\n  var ref = null;\n  var self = null;\n  var source = null;\n\n  if (config != null) {\n    if (hasValidRef(config)) {\n      ref = config.ref;\n    }\n    if (hasValidKey(config)) {\n      key = '' + config.key;\n    }\n\n    self = config.__self === undefined ? null : config.__self;\n    source = config.__source === undefined ? null : config.__source;\n    // Remaining properties are added to a new props object\n    for (propName in config) {\n      if (hasOwnProperty.call(config, propName) && !RESERVED_PROPS.hasOwnProperty(propName)) {\n        props[propName] = config[propName];\n      }\n    }\n  }\n\n  // Children can be more than one argument, and those are transferred onto\n  // the newly allocated props object.\n  var childrenLength = arguments.length - 2;\n  if (childrenLength === 1) {\n    props.children = children;\n  } else if (childrenLength > 1) {\n    var childArray = Array(childrenLength);\n    for (var i = 0; i < childrenLength; i++) {\n      childArray[i] = arguments[i + 2];\n    }\n    if (process.env.NODE_ENV !== 'production') {\n      if (Object.freeze) {\n        Object.freeze(childArray);\n      }\n    }\n    props.children = childArray;\n  }\n\n  // Resolve default props\n  if (type && type.defaultProps) {\n    var defaultProps = type.defaultProps;\n    for (propName in defaultProps) {\n      if (props[propName] === undefined) {\n        props[propName] = defaultProps[propName];\n      }\n    }\n  }\n  if (process.env.NODE_ENV !== 'production') {\n    if (key || ref) {\n      if (typeof props.$$typeof === 'undefined' || props.$$typeof !== REACT_ELEMENT_TYPE) {\n        var displayName = typeof type === 'function' ? type.displayName || type.name || 'Unknown' : type;\n        if (key) {\n          defineKeyPropWarningGetter(props, displayName);\n        }\n        if (ref) {\n          defineRefPropWarningGetter(props, displayName);\n        }\n      }\n    }\n  }\n  return ReactElement(type, key, ref, self, source, ReactCurrentOwner.current, props);\n};\n\n/**\n * Return a function that produces ReactElements of a given type.\n * See https://facebook.github.io/react/docs/react-api.html#createfactory\n */\nReactElement.createFactory = function (type) {\n  var factory = ReactElement.createElement.bind(null, type);\n  // Expose the type on the factory and the prototype so that it can be\n  // easily accessed on elements. E.g. `<Foo />.type === Foo`.\n  // This should not be named `constructor` since this may not be the function\n  // that created the element, and it may not even be a constructor.\n  // Legacy hook TODO: Warn if this is accessed\n  factory.type = type;\n  return factory;\n};\n\nReactElement.cloneAndReplaceKey = function (oldElement, newKey) {\n  var newElement = ReactElement(oldElement.type, newKey, oldElement.ref, oldElement._self, oldElement._source, oldElement._owner, oldElement.props);\n\n  return newElement;\n};\n\n/**\n * Clone and return a new ReactElement using element as the starting point.\n * See https://facebook.github.io/react/docs/react-api.html#cloneelement\n */\nReactElement.cloneElement = function (element, config, children) {\n  var propName;\n\n  // Original props are copied\n  var props = _assign({}, element.props);\n\n  // Reserved names are extracted\n  var key = element.key;\n  var ref = element.ref;\n  // Self is preserved since the owner is preserved.\n  var self = element._self;\n  // Source is preserved since cloneElement is unlikely to be targeted by a\n  // transpiler, and the original source is probably a better indicator of the\n  // true owner.\n  var source = element._source;\n\n  // Owner will be preserved, unless ref is overridden\n  var owner = element._owner;\n\n  if (config != null) {\n    if (hasValidRef(config)) {\n      // Silently steal the ref from the parent.\n      ref = config.ref;\n      owner = ReactCurrentOwner.current;\n    }\n    if (hasValidKey(config)) {\n      key = '' + config.key;\n    }\n\n    // Remaining properties override existing props\n    var defaultProps;\n    if (element.type && element.type.defaultProps) {\n      defaultProps = element.type.defaultProps;\n    }\n    for (propName in config) {\n      if (hasOwnProperty.call(config, propName) && !RESERVED_PROPS.hasOwnProperty(propName)) {\n        if (config[propName] === undefined && defaultProps !== undefined) {\n          // Resolve default props\n          props[propName] = defaultProps[propName];\n        } else {\n          props[propName] = config[propName];\n        }\n      }\n    }\n  }\n\n  // Children can be more than one argument, and those are transferred onto\n  // the newly allocated props object.\n  var childrenLength = arguments.length - 2;\n  if (childrenLength === 1) {\n    props.children = children;\n  } else if (childrenLength > 1) {\n    var childArray = Array(childrenLength);\n    for (var i = 0; i < childrenLength; i++) {\n      childArray[i] = arguments[i + 2];\n    }\n    props.children = childArray;\n  }\n\n  return ReactElement(element.type, key, ref, self, source, owner, props);\n};\n\n/**\n * Verifies the object is a ReactElement.\n * See https://facebook.github.io/react/docs/react-api.html#isvalidelement\n * @param {?object} object\n * @return {boolean} True if `object` is a valid component.\n * @final\n */\nReactElement.isValidElement = function (object) {\n  return typeof object === 'object' && object !== null && object.$$typeof === REACT_ELEMENT_TYPE;\n};\n\nmodule.exports = ReactElement;","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * \n */\n\n'use strict';\n\n/**\n * Keeps track of the current owner.\n *\n * The current owner is the component who should own any components that are\n * currently being constructed.\n */\nvar ReactCurrentOwner = {\n  /**\n   * @internal\n   * @type {ReactComponent}\n   */\n  current: null\n};\n\nmodule.exports = ReactCurrentOwner;","/**\n * Copyright 2014-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * \n */\n\n'use strict';\n\n// The Symbol used to tag the ReactElement type. If there is no native Symbol\n// nor polyfill, then a plain number is used for performance.\n\nvar REACT_ELEMENT_TYPE = typeof Symbol === 'function' && Symbol['for'] && Symbol['for']('react.element') || 0xeac7;\n\nmodule.exports = REACT_ELEMENT_TYPE;","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar _prodInvariant = require('./reactProdInvariant');\n\nvar ReactCurrentOwner = require('./ReactCurrentOwner');\nvar REACT_ELEMENT_TYPE = require('./ReactElementSymbol');\n\nvar getIteratorFn = require('./getIteratorFn');\nvar invariant = require('fbjs/lib/invariant');\nvar KeyEscapeUtils = require('./KeyEscapeUtils');\nvar warning = require('fbjs/lib/warning');\n\nvar SEPARATOR = '.';\nvar SUBSEPARATOR = ':';\n\n/**\n * This is inlined from ReactElement since this file is shared between\n * isomorphic and renderers. We could extract this to a\n *\n */\n\n/**\n * TODO: Test that a single child and an array with one item have the same key\n * pattern.\n */\n\nvar didWarnAboutMaps = false;\n\n/**\n * Generate a key string that identifies a component within a set.\n *\n * @param {*} component A component that could contain a manual key.\n * @param {number} index Index that is used if a manual key is not provided.\n * @return {string}\n */\nfunction getComponentKey(component, index) {\n  // Do some typechecking here since we call this blindly. We want to ensure\n  // that we don't block potential future ES APIs.\n  if (component && typeof component === 'object' && component.key != null) {\n    // Explicit key\n    return KeyEscapeUtils.escape(component.key);\n  }\n  // Implicit key determined by the index in the set\n  return index.toString(36);\n}\n\n/**\n * @param {?*} children Children tree container.\n * @param {!string} nameSoFar Name of the key path so far.\n * @param {!function} callback Callback to invoke with each child found.\n * @param {?*} traverseContext Used to pass information throughout the traversal\n * process.\n * @return {!number} The number of children in this subtree.\n */\nfunction traverseAllChildrenImpl(children, nameSoFar, callback, traverseContext) {\n  var type = typeof children;\n\n  if (type === 'undefined' || type === 'boolean') {\n    // All of the above are perceived as null.\n    children = null;\n  }\n\n  if (children === null || type === 'string' || type === 'number' ||\n  // The following is inlined from ReactElement. This means we can optimize\n  // some checks. React Fiber also inlines this logic for similar purposes.\n  type === 'object' && children.$$typeof === REACT_ELEMENT_TYPE) {\n    callback(traverseContext, children,\n    // If it's the only child, treat the name as if it was wrapped in an array\n    // so that it's consistent if the number of children grows.\n    nameSoFar === '' ? SEPARATOR + getComponentKey(children, 0) : nameSoFar);\n    return 1;\n  }\n\n  var child;\n  var nextName;\n  var subtreeCount = 0; // Count of children found in the current subtree.\n  var nextNamePrefix = nameSoFar === '' ? SEPARATOR : nameSoFar + SUBSEPARATOR;\n\n  if (Array.isArray(children)) {\n    for (var i = 0; i < children.length; i++) {\n      child = children[i];\n      nextName = nextNamePrefix + getComponentKey(child, i);\n      subtreeCount += traverseAllChildrenImpl(child, nextName, callback, traverseContext);\n    }\n  } else {\n    var iteratorFn = getIteratorFn(children);\n    if (iteratorFn) {\n      if (process.env.NODE_ENV !== 'production') {\n        // Warn about using Maps as children\n        if (iteratorFn === children.entries) {\n          var mapsAsChildrenAddendum = '';\n          if (ReactCurrentOwner.current) {\n            var mapsAsChildrenOwnerName = ReactCurrentOwner.current.getName();\n            if (mapsAsChildrenOwnerName) {\n              mapsAsChildrenAddendum = '\\n\\nCheck the render method of `' + mapsAsChildrenOwnerName + '`.';\n            }\n          }\n          process.env.NODE_ENV !== 'production' ? warning(didWarnAboutMaps, 'Using Maps as children is unsupported and will likely yield ' + 'unexpected results. Convert it to a sequence/iterable of keyed ' + 'ReactElements instead.%s', mapsAsChildrenAddendum) : void 0;\n          didWarnAboutMaps = true;\n        }\n      }\n\n      var iterator = iteratorFn.call(children);\n      var step;\n      var ii = 0;\n      while (!(step = iterator.next()).done) {\n        child = step.value;\n        nextName = nextNamePrefix + getComponentKey(child, ii++);\n        subtreeCount += traverseAllChildrenImpl(child, nextName, callback, traverseContext);\n      }\n    } else if (type === 'object') {\n      var addendum = '';\n      if (process.env.NODE_ENV !== 'production') {\n        addendum = ' If you meant to render a collection of children, use an array ' + 'instead.';\n        if (ReactCurrentOwner.current) {\n          var name = ReactCurrentOwner.current.getName();\n          if (name) {\n            addendum += '\\n\\nCheck the render method of `' + name + '`.';\n          }\n        }\n      }\n      var childrenString = '' + children;\n      !false ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Objects are not valid as a React child (found: %s).%s', childrenString === '[object Object]' ? 'object with keys {' + Object.keys(children).join(', ') + '}' : childrenString, addendum) : _prodInvariant('31', childrenString === '[object Object]' ? 'object with keys {' + Object.keys(children).join(', ') + '}' : childrenString, addendum) : void 0;\n    }\n  }\n\n  return subtreeCount;\n}\n\n/**\n * Traverses children that are typically specified as `props.children`, but\n * might also be specified through attributes:\n *\n * - `traverseAllChildren(this.props.children, ...)`\n * - `traverseAllChildren(this.props.leftPanelChildren, ...)`\n *\n * The `traverseContext` is an optional argument that is passed through the\n * entire traversal. It can be used to store accumulations or anything else that\n * the callback might find relevant.\n *\n * @param {?*} children Children tree object.\n * @param {!function} callback To invoke upon traversing each child.\n * @param {?*} traverseContext Context for traversal.\n * @return {!number} The number of children in this subtree.\n */\nfunction traverseAllChildren(children, callback, traverseContext) {\n  if (children == null) {\n    return 0;\n  }\n\n  return traverseAllChildrenImpl(children, '', callback, traverseContext);\n}\n\nmodule.exports = traverseAllChildren;","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * \n */\n\n'use strict';\n\n/* global Symbol */\n\nvar ITERATOR_SYMBOL = typeof Symbol === 'function' && Symbol.iterator;\nvar FAUX_ITERATOR_SYMBOL = '@@iterator'; // Before Symbol spec.\n\n/**\n * Returns the iterator method function contained on the iterable object.\n *\n * Be sure to invoke the function with the iterable as context:\n *\n *     var iteratorFn = getIteratorFn(myIterable);\n *     if (iteratorFn) {\n *       var iterator = iteratorFn.call(myIterable);\n *       ...\n *     }\n *\n * @param {?object} maybeIterable\n * @return {?function}\n */\nfunction getIteratorFn(maybeIterable) {\n  var iteratorFn = maybeIterable && (ITERATOR_SYMBOL && maybeIterable[ITERATOR_SYMBOL] || maybeIterable[FAUX_ITERATOR_SYMBOL]);\n  if (typeof iteratorFn === 'function') {\n    return iteratorFn;\n  }\n}\n\nmodule.exports = getIteratorFn;","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * \n */\n\n'use strict';\n\n/**\n * Escape and wrap key so it is safe to use as a reactid\n *\n * @param {string} key to be escaped.\n * @return {string} the escaped key.\n */\n\nfunction escape(key) {\n  var escapeRegex = /[=:]/g;\n  var escaperLookup = {\n    '=': '=0',\n    ':': '=2'\n  };\n  var escapedString = ('' + key).replace(escapeRegex, function (match) {\n    return escaperLookup[match];\n  });\n\n  return '$' + escapedString;\n}\n\n/**\n * Unescape and unwrap key for human-readable display\n *\n * @param {string} key to unescape.\n * @return {string} the unescaped key.\n */\nfunction unescape(key) {\n  var unescapeRegex = /(=0|=2)/g;\n  var unescaperLookup = {\n    '=0': '=',\n    '=2': ':'\n  };\n  var keySubstring = key[0] === '.' && key[1] === '$' ? key.substring(2) : key.substring(1);\n\n  return ('' + keySubstring).replace(unescapeRegex, function (match) {\n    return unescaperLookup[match];\n  });\n}\n\nvar KeyEscapeUtils = {\n  escape: escape,\n  unescape: unescape\n};\n\nmodule.exports = KeyEscapeUtils;","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar _assign = require('object-assign'),\n    _prodInvariant = require('./reactProdInvariant');\n\nvar ReactBaseClasses = require('./ReactBaseClasses');\nvar ReactElement = require('./ReactElement');\nvar ReactNoopUpdateQueue = require('./ReactNoopUpdateQueue');\n\nvar emptyObject = require('fbjs/lib/emptyObject');\nvar invariant = require('fbjs/lib/invariant');\nvar warning = require('fbjs/lib/warning');\n\nvar ReactComponent = ReactBaseClasses.Component;\n\nvar MIXINS_KEY = 'mixins';\n\n// Helper function to allow the creation of anonymous functions which do not\n// have .name set to the name of the variable being assigned to.\nfunction identity(fn) {\n  return fn;\n}\n\n/**\n * Policies that describe methods in `ReactClassInterface`.\n */\n\n\n/**\n * Composite components are higher-level components that compose other composite\n * or host components.\n *\n * To create a new type of `ReactClass`, pass a specification of\n * your new class to `React.createClass`. The only requirement of your class\n * specification is that you implement a `render` method.\n *\n *   var MyComponent = React.createClass({\n *     render: function() {\n *       return <div>Hello World</div>;\n *     }\n *   });\n *\n * The class specification supports a specific protocol of methods that have\n * special meaning (e.g. `render`). See `ReactClassInterface` for\n * more the comprehensive protocol. Any other properties and methods in the\n * class specification will be available on the prototype.\n *\n * @interface ReactClassInterface\n * @internal\n */\nvar ReactClassInterface = {\n  /**\n   * An array of Mixin objects to include when defining your component.\n   *\n   * @type {array}\n   * @optional\n   */\n  mixins: 'DEFINE_MANY',\n\n  /**\n   * An object containing properties and methods that should be defined on\n   * the component's constructor instead of its prototype (static methods).\n   *\n   * @type {object}\n   * @optional\n   */\n  statics: 'DEFINE_MANY',\n\n  /**\n   * Definition of prop types for this component.\n   *\n   * @type {object}\n   * @optional\n   */\n  propTypes: 'DEFINE_MANY',\n\n  /**\n   * Definition of context types for this component.\n   *\n   * @type {object}\n   * @optional\n   */\n  contextTypes: 'DEFINE_MANY',\n\n  /**\n   * Definition of context types this component sets for its children.\n   *\n   * @type {object}\n   * @optional\n   */\n  childContextTypes: 'DEFINE_MANY',\n\n  // ==== Definition methods ====\n\n  /**\n   * Invoked when the component is mounted. Values in the mapping will be set on\n   * `this.props` if that prop is not specified (i.e. using an `in` check).\n   *\n   * This method is invoked before `getInitialState` and therefore cannot rely\n   * on `this.state` or use `this.setState`.\n   *\n   * @return {object}\n   * @optional\n   */\n  getDefaultProps: 'DEFINE_MANY_MERGED',\n\n  /**\n   * Invoked once before the component is mounted. The return value will be used\n   * as the initial value of `this.state`.\n   *\n   *   getInitialState: function() {\n   *     return {\n   *       isOn: false,\n   *       fooBaz: new BazFoo()\n   *     }\n   *   }\n   *\n   * @return {object}\n   * @optional\n   */\n  getInitialState: 'DEFINE_MANY_MERGED',\n\n  /**\n   * @return {object}\n   * @optional\n   */\n  getChildContext: 'DEFINE_MANY_MERGED',\n\n  /**\n   * Uses props from `this.props` and state from `this.state` to render the\n   * structure of the component.\n   *\n   * No guarantees are made about when or how often this method is invoked, so\n   * it must not have side effects.\n   *\n   *   render: function() {\n   *     var name = this.props.name;\n   *     return <div>Hello, {name}!</div>;\n   *   }\n   *\n   * @return {ReactComponent}\n   * @required\n   */\n  render: 'DEFINE_ONCE',\n\n  // ==== Delegate methods ====\n\n  /**\n   * Invoked when the component is initially created and about to be mounted.\n   * This may have side effects, but any external subscriptions or data created\n   * by this method must be cleaned up in `componentWillUnmount`.\n   *\n   * @optional\n   */\n  componentWillMount: 'DEFINE_MANY',\n\n  /**\n   * Invoked when the component has been mounted and has a DOM representation.\n   * However, there is no guarantee that the DOM node is in the document.\n   *\n   * Use this as an opportunity to operate on the DOM when the component has\n   * been mounted (initialized and rendered) for the first time.\n   *\n   * @param {DOMElement} rootNode DOM element representing the component.\n   * @optional\n   */\n  componentDidMount: 'DEFINE_MANY',\n\n  /**\n   * Invoked before the component receives new props.\n   *\n   * Use this as an opportunity to react to a prop transition by updating the\n   * state using `this.setState`. Current props are accessed via `this.props`.\n   *\n   *   componentWillReceiveProps: function(nextProps, nextContext) {\n   *     this.setState({\n   *       likesIncreasing: nextProps.likeCount > this.props.likeCount\n   *     });\n   *   }\n   *\n   * NOTE: There is no equivalent `componentWillReceiveState`. An incoming prop\n   * transition may cause a state change, but the opposite is not true. If you\n   * need it, you are probably looking for `componentWillUpdate`.\n   *\n   * @param {object} nextProps\n   * @optional\n   */\n  componentWillReceiveProps: 'DEFINE_MANY',\n\n  /**\n   * Invoked while deciding if the component should be updated as a result of\n   * receiving new props, state and/or context.\n   *\n   * Use this as an opportunity to `return false` when you're certain that the\n   * transition to the new props/state/context will not require a component\n   * update.\n   *\n   *   shouldComponentUpdate: function(nextProps, nextState, nextContext) {\n   *     return !equal(nextProps, this.props) ||\n   *       !equal(nextState, this.state) ||\n   *       !equal(nextContext, this.context);\n   *   }\n   *\n   * @param {object} nextProps\n   * @param {?object} nextState\n   * @param {?object} nextContext\n   * @return {boolean} True if the component should update.\n   * @optional\n   */\n  shouldComponentUpdate: 'DEFINE_ONCE',\n\n  /**\n   * Invoked when the component is about to update due to a transition from\n   * `this.props`, `this.state` and `this.context` to `nextProps`, `nextState`\n   * and `nextContext`.\n   *\n   * Use this as an opportunity to perform preparation before an update occurs.\n   *\n   * NOTE: You **cannot** use `this.setState()` in this method.\n   *\n   * @param {object} nextProps\n   * @param {?object} nextState\n   * @param {?object} nextContext\n   * @param {ReactReconcileTransaction} transaction\n   * @optional\n   */\n  componentWillUpdate: 'DEFINE_MANY',\n\n  /**\n   * Invoked when the component's DOM representation has been updated.\n   *\n   * Use this as an opportunity to operate on the DOM when the component has\n   * been updated.\n   *\n   * @param {object} prevProps\n   * @param {?object} prevState\n   * @param {?object} prevContext\n   * @param {DOMElement} rootNode DOM element representing the component.\n   * @optional\n   */\n  componentDidUpdate: 'DEFINE_MANY',\n\n  /**\n   * Invoked when the component is about to be removed from its parent and have\n   * its DOM representation destroyed.\n   *\n   * Use this as an opportunity to deallocate any external resources.\n   *\n   * NOTE: There is no `componentDidUnmount` since your component will have been\n   * destroyed by that point.\n   *\n   * @optional\n   */\n  componentWillUnmount: 'DEFINE_MANY',\n\n  // ==== Advanced methods ====\n\n  /**\n   * Updates the component's currently mounted DOM representation.\n   *\n   * By default, this implements React's rendering and reconciliation algorithm.\n   * Sophisticated clients may wish to override this.\n   *\n   * @param {ReactReconcileTransaction} transaction\n   * @internal\n   * @overridable\n   */\n  updateComponent: 'OVERRIDE_BASE'\n};\n\n/**\n * Mapping from class specification keys to special processing functions.\n *\n * Although these are declared like instance properties in the specification\n * when defining classes using `React.createClass`, they are actually static\n * and are accessible on the constructor instead of the prototype. Despite\n * being static, they must be defined outside of the \"statics\" key under\n * which all other static methods are defined.\n */\nvar RESERVED_SPEC_KEYS = {\n  displayName: function (Constructor, displayName) {\n    Constructor.displayName = displayName;\n  },\n  mixins: function (Constructor, mixins) {\n    if (mixins) {\n      for (var i = 0; i < mixins.length; i++) {\n        mixSpecIntoComponent(Constructor, mixins[i]);\n      }\n    }\n  },\n  childContextTypes: function (Constructor, childContextTypes) {\n    if (process.env.NODE_ENV !== 'production') {\n      validateTypeDef(Constructor, childContextTypes, 'child context');\n    }\n    Constructor.childContextTypes = _assign({}, Constructor.childContextTypes, childContextTypes);\n  },\n  contextTypes: function (Constructor, contextTypes) {\n    if (process.env.NODE_ENV !== 'production') {\n      validateTypeDef(Constructor, contextTypes, 'context');\n    }\n    Constructor.contextTypes = _assign({}, Constructor.contextTypes, contextTypes);\n  },\n  /**\n   * Special case getDefaultProps which should move into statics but requires\n   * automatic merging.\n   */\n  getDefaultProps: function (Constructor, getDefaultProps) {\n    if (Constructor.getDefaultProps) {\n      Constructor.getDefaultProps = createMergedResultFunction(Constructor.getDefaultProps, getDefaultProps);\n    } else {\n      Constructor.getDefaultProps = getDefaultProps;\n    }\n  },\n  propTypes: function (Constructor, propTypes) {\n    if (process.env.NODE_ENV !== 'production') {\n      validateTypeDef(Constructor, propTypes, 'prop');\n    }\n    Constructor.propTypes = _assign({}, Constructor.propTypes, propTypes);\n  },\n  statics: function (Constructor, statics) {\n    mixStaticSpecIntoComponent(Constructor, statics);\n  },\n  autobind: function () {} };\n\nfunction validateTypeDef(Constructor, typeDef, location) {\n  for (var propName in typeDef) {\n    if (typeDef.hasOwnProperty(propName)) {\n      // use a warning instead of an invariant so components\n      // don't show up in prod but only in __DEV__\n      process.env.NODE_ENV !== 'production' ? warning(typeof typeDef[propName] === 'function', '%s: %s type `%s` is invalid; it must be a function, usually from ' + 'React.PropTypes.', Constructor.displayName || 'ReactClass', location, propName) : void 0;\n    }\n  }\n}\n\nfunction validateMethodOverride(isAlreadyDefined, name) {\n  var specPolicy = ReactClassInterface.hasOwnProperty(name) ? ReactClassInterface[name] : null;\n\n  // Disallow overriding of base class methods unless explicitly allowed.\n  if (ReactClassMixin.hasOwnProperty(name)) {\n    !(specPolicy === 'OVERRIDE_BASE') ? process.env.NODE_ENV !== 'production' ? invariant(false, 'ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.', name) : _prodInvariant('73', name) : void 0;\n  }\n\n  // Disallow defining methods more than once unless explicitly allowed.\n  if (isAlreadyDefined) {\n    !(specPolicy === 'DEFINE_MANY' || specPolicy === 'DEFINE_MANY_MERGED') ? process.env.NODE_ENV !== 'production' ? invariant(false, 'ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.', name) : _prodInvariant('74', name) : void 0;\n  }\n}\n\n/**\n * Mixin helper which handles policy validation and reserved\n * specification keys when building React classes.\n */\nfunction mixSpecIntoComponent(Constructor, spec) {\n  if (!spec) {\n    if (process.env.NODE_ENV !== 'production') {\n      var typeofSpec = typeof spec;\n      var isMixinValid = typeofSpec === 'object' && spec !== null;\n\n      process.env.NODE_ENV !== 'production' ? warning(isMixinValid, \"%s: You're attempting to include a mixin that is either null \" + 'or not an object. Check the mixins included by the component, ' + 'as well as any mixins they include themselves. ' + 'Expected object but got %s.', Constructor.displayName || 'ReactClass', spec === null ? null : typeofSpec) : void 0;\n    }\n\n    return;\n  }\n\n  !(typeof spec !== 'function') ? process.env.NODE_ENV !== 'production' ? invariant(false, 'ReactClass: You\\'re attempting to use a component class or function as a mixin. Instead, just use a regular object.') : _prodInvariant('75') : void 0;\n  !!ReactElement.isValidElement(spec) ? process.env.NODE_ENV !== 'production' ? invariant(false, 'ReactClass: You\\'re attempting to use a component as a mixin. Instead, just use a regular object.') : _prodInvariant('76') : void 0;\n\n  var proto = Constructor.prototype;\n  var autoBindPairs = proto.__reactAutoBindPairs;\n\n  // By handling mixins before any other properties, we ensure the same\n  // chaining order is applied to methods with DEFINE_MANY policy, whether\n  // mixins are listed before or after these methods in the spec.\n  if (spec.hasOwnProperty(MIXINS_KEY)) {\n    RESERVED_SPEC_KEYS.mixins(Constructor, spec.mixins);\n  }\n\n  for (var name in spec) {\n    if (!spec.hasOwnProperty(name)) {\n      continue;\n    }\n\n    if (name === MIXINS_KEY) {\n      // We have already handled mixins in a special case above.\n      continue;\n    }\n\n    var property = spec[name];\n    var isAlreadyDefined = proto.hasOwnProperty(name);\n    validateMethodOverride(isAlreadyDefined, name);\n\n    if (RESERVED_SPEC_KEYS.hasOwnProperty(name)) {\n      RESERVED_SPEC_KEYS[name](Constructor, property);\n    } else {\n      // Setup methods on prototype:\n      // The following member methods should not be automatically bound:\n      // 1. Expected ReactClass methods (in the \"interface\").\n      // 2. Overridden methods (that were mixed in).\n      var isReactClassMethod = ReactClassInterface.hasOwnProperty(name);\n      var isFunction = typeof property === 'function';\n      var shouldAutoBind = isFunction && !isReactClassMethod && !isAlreadyDefined && spec.autobind !== false;\n\n      if (shouldAutoBind) {\n        autoBindPairs.push(name, property);\n        proto[name] = property;\n      } else {\n        if (isAlreadyDefined) {\n          var specPolicy = ReactClassInterface[name];\n\n          // These cases should already be caught by validateMethodOverride.\n          !(isReactClassMethod && (specPolicy === 'DEFINE_MANY_MERGED' || specPolicy === 'DEFINE_MANY')) ? process.env.NODE_ENV !== 'production' ? invariant(false, 'ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.', specPolicy, name) : _prodInvariant('77', specPolicy, name) : void 0;\n\n          // For methods which are defined more than once, call the existing\n          // methods before calling the new property, merging if appropriate.\n          if (specPolicy === 'DEFINE_MANY_MERGED') {\n            proto[name] = createMergedResultFunction(proto[name], property);\n          } else if (specPolicy === 'DEFINE_MANY') {\n            proto[name] = createChainedFunction(proto[name], property);\n          }\n        } else {\n          proto[name] = property;\n          if (process.env.NODE_ENV !== 'production') {\n            // Add verbose displayName to the function, which helps when looking\n            // at profiling tools.\n            if (typeof property === 'function' && spec.displayName) {\n              proto[name].displayName = spec.displayName + '_' + name;\n            }\n          }\n        }\n      }\n    }\n  }\n}\n\nfunction mixStaticSpecIntoComponent(Constructor, statics) {\n  if (!statics) {\n    return;\n  }\n  for (var name in statics) {\n    var property = statics[name];\n    if (!statics.hasOwnProperty(name)) {\n      continue;\n    }\n\n    var isReserved = name in RESERVED_SPEC_KEYS;\n    !!isReserved ? process.env.NODE_ENV !== 'production' ? invariant(false, 'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\\'t be on the \"statics\" key. Define it as an instance property instead; it will still be accessible on the constructor.', name) : _prodInvariant('78', name) : void 0;\n\n    var isInherited = name in Constructor;\n    !!isInherited ? process.env.NODE_ENV !== 'production' ? invariant(false, 'ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.', name) : _prodInvariant('79', name) : void 0;\n    Constructor[name] = property;\n  }\n}\n\n/**\n * Merge two objects, but throw if both contain the same key.\n *\n * @param {object} one The first object, which is mutated.\n * @param {object} two The second object\n * @return {object} one after it has been mutated to contain everything in two.\n */\nfunction mergeIntoWithNoDuplicateKeys(one, two) {\n  !(one && two && typeof one === 'object' && typeof two === 'object') ? process.env.NODE_ENV !== 'production' ? invariant(false, 'mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects.') : _prodInvariant('80') : void 0;\n\n  for (var key in two) {\n    if (two.hasOwnProperty(key)) {\n      !(one[key] === undefined) ? process.env.NODE_ENV !== 'production' ? invariant(false, 'mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.', key) : _prodInvariant('81', key) : void 0;\n      one[key] = two[key];\n    }\n  }\n  return one;\n}\n\n/**\n * Creates a function that invokes two functions and merges their return values.\n *\n * @param {function} one Function to invoke first.\n * @param {function} two Function to invoke second.\n * @return {function} Function that invokes the two argument functions.\n * @private\n */\nfunction createMergedResultFunction(one, two) {\n  return function mergedResult() {\n    var a = one.apply(this, arguments);\n    var b = two.apply(this, arguments);\n    if (a == null) {\n      return b;\n    } else if (b == null) {\n      return a;\n    }\n    var c = {};\n    mergeIntoWithNoDuplicateKeys(c, a);\n    mergeIntoWithNoDuplicateKeys(c, b);\n    return c;\n  };\n}\n\n/**\n * Creates a function that invokes two functions and ignores their return vales.\n *\n * @param {function} one Function to invoke first.\n * @param {function} two Function to invoke second.\n * @return {function} Function that invokes the two argument functions.\n * @private\n */\nfunction createChainedFunction(one, two) {\n  return function chainedFunction() {\n    one.apply(this, arguments);\n    two.apply(this, arguments);\n  };\n}\n\n/**\n * Binds a method to the component.\n *\n * @param {object} component Component whose method is going to be bound.\n * @param {function} method Method to be bound.\n * @return {function} The bound method.\n */\nfunction bindAutoBindMethod(component, method) {\n  var boundMethod = method.bind(component);\n  if (process.env.NODE_ENV !== 'production') {\n    boundMethod.__reactBoundContext = component;\n    boundMethod.__reactBoundMethod = method;\n    boundMethod.__reactBoundArguments = null;\n    var componentName = component.constructor.displayName;\n    var _bind = boundMethod.bind;\n    boundMethod.bind = function (newThis) {\n      for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n\n      // User is trying to bind() an autobound method; we effectively will\n      // ignore the value of \"this\" that the user is trying to use, so\n      // let's warn.\n      if (newThis !== component && newThis !== null) {\n        process.env.NODE_ENV !== 'production' ? warning(false, 'bind(): React component methods may only be bound to the ' + 'component instance.\\n\\nSee %s', componentName) : void 0;\n      } else if (!args.length) {\n        process.env.NODE_ENV !== 'production' ? warning(false, 'bind(): You are binding a component method to the component. ' + 'React does this for you automatically in a high-performance ' + 'way, so you can safely remove this call.\\n\\nSee %s', componentName) : void 0;\n        return boundMethod;\n      }\n      var reboundMethod = _bind.apply(boundMethod, arguments);\n      reboundMethod.__reactBoundContext = component;\n      reboundMethod.__reactBoundMethod = method;\n      reboundMethod.__reactBoundArguments = args;\n      return reboundMethod;\n    };\n  }\n  return boundMethod;\n}\n\n/**\n * Binds all auto-bound methods in a component.\n *\n * @param {object} component Component whose method is going to be bound.\n */\nfunction bindAutoBindMethods(component) {\n  var pairs = component.__reactAutoBindPairs;\n  for (var i = 0; i < pairs.length; i += 2) {\n    var autoBindKey = pairs[i];\n    var method = pairs[i + 1];\n    component[autoBindKey] = bindAutoBindMethod(component, method);\n  }\n}\n\n/**\n * Add more to the ReactClass base class. These are all legacy features and\n * therefore not already part of the modern ReactComponent.\n */\nvar ReactClassMixin = {\n  /**\n   * TODO: This will be deprecated because state should always keep a consistent\n   * type signature and the only use case for this, is to avoid that.\n   */\n  replaceState: function (newState, callback) {\n    this.updater.enqueueReplaceState(this, newState, callback, 'replaceState');\n  },\n\n  /**\n   * Checks whether or not this composite component is mounted.\n   * @return {boolean} True if mounted, false otherwise.\n   * @protected\n   * @final\n   */\n  isMounted: function () {\n    return this.updater.isMounted(this);\n  }\n};\n\nvar ReactClassComponent = function () {};\n_assign(ReactClassComponent.prototype, ReactComponent.prototype, ReactClassMixin);\n\n/**\n * Module for creating composite components.\n *\n * @class ReactClass\n */\nvar ReactClass = {\n  /**\n   * Creates a composite component class given a class specification.\n   * See https://facebook.github.io/react/docs/react-api.html#createclass\n   *\n   * @param {object} spec Class specification (which must define `render`).\n   * @return {function} Component constructor function.\n   * @public\n   */\n  createClass: function (spec) {\n    // To keep our warnings more understandable, we'll use a little hack here to\n    // ensure that Constructor.name !== 'Constructor'. This makes sure we don't\n    // unnecessarily identify a class without displayName as 'Constructor'.\n    var Constructor = identity(function (props, context, updater) {\n      // This constructor gets overridden by mocks. The argument is used\n      // by mocks to assert on what gets mounted.\n\n      if (process.env.NODE_ENV !== 'production') {\n        process.env.NODE_ENV !== 'production' ? warning(this instanceof Constructor, 'Something is calling a React component directly. Use a factory or ' + 'JSX instead. See: https://fb.me/react-legacyfactory') : void 0;\n      }\n\n      // Wire up auto-binding\n      if (this.__reactAutoBindPairs.length) {\n        bindAutoBindMethods(this);\n      }\n\n      this.props = props;\n      this.context = context;\n      this.refs = emptyObject;\n      this.updater = updater || ReactNoopUpdateQueue;\n\n      this.state = null;\n\n      // ReactClasses doesn't have constructors. Instead, they use the\n      // getInitialState and componentWillMount methods for initialization.\n\n      var initialState = this.getInitialState ? this.getInitialState() : null;\n      if (process.env.NODE_ENV !== 'production') {\n        // We allow auto-mocks to proceed as if they're returning null.\n        if (initialState === undefined && this.getInitialState._isMockFunction) {\n          // This is probably bad practice. Consider warning here and\n          // deprecating this convenience.\n          initialState = null;\n        }\n      }\n      !(typeof initialState === 'object' && !Array.isArray(initialState)) ? process.env.NODE_ENV !== 'production' ? invariant(false, '%s.getInitialState(): must return an object or null', Constructor.displayName || 'ReactCompositeComponent') : _prodInvariant('82', Constructor.displayName || 'ReactCompositeComponent') : void 0;\n\n      this.state = initialState;\n    });\n    Constructor.prototype = new ReactClassComponent();\n    Constructor.prototype.constructor = Constructor;\n    Constructor.prototype.__reactAutoBindPairs = [];\n\n    mixSpecIntoComponent(Constructor, spec);\n\n    // Initialize the defaultProps property after all mixins have been merged.\n    if (Constructor.getDefaultProps) {\n      Constructor.defaultProps = Constructor.getDefaultProps();\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      // This is a tag to indicate that the use of these method names is ok,\n      // since it's used with createClass. If it's not, then it's likely a\n      // mistake so we'll warn you to use the static property, property\n      // initializer or constructor respectively.\n      if (Constructor.getDefaultProps) {\n        Constructor.getDefaultProps.isReactClassApproved = {};\n      }\n      if (Constructor.prototype.getInitialState) {\n        Constructor.prototype.getInitialState.isReactClassApproved = {};\n      }\n    }\n\n    !Constructor.prototype.render ? process.env.NODE_ENV !== 'production' ? invariant(false, 'createClass(...): Class specification must implement a `render` method.') : _prodInvariant('83') : void 0;\n\n    if (process.env.NODE_ENV !== 'production') {\n      process.env.NODE_ENV !== 'production' ? warning(!Constructor.prototype.componentShouldUpdate, '%s has a method called ' + 'componentShouldUpdate(). Did you mean shouldComponentUpdate()? ' + 'The name is phrased as a question because the function is ' + 'expected to return a value.', spec.displayName || 'A component') : void 0;\n      process.env.NODE_ENV !== 'production' ? warning(!Constructor.prototype.componentWillRecieveProps, '%s has a method called ' + 'componentWillRecieveProps(). Did you mean componentWillReceiveProps()?', spec.displayName || 'A component') : void 0;\n    }\n\n    // Reduce time spent doing lookups by setting these on the prototype.\n    for (var methodName in ReactClassInterface) {\n      if (!Constructor.prototype[methodName]) {\n        Constructor.prototype[methodName] = null;\n      }\n    }\n\n    return Constructor;\n  }\n};\n\nmodule.exports = ReactClass;","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar ReactElement = require('./ReactElement');\n\n/**\n * Create a factory that creates HTML tag elements.\n *\n * @private\n */\nvar createDOMFactory = ReactElement.createFactory;\nif (process.env.NODE_ENV !== 'production') {\n  var ReactElementValidator = require('./ReactElementValidator');\n  createDOMFactory = ReactElementValidator.createFactory;\n}\n\n/**\n * Creates a mapping from supported HTML tags to `ReactDOMComponent` classes.\n * This is also accessible via `React.DOM`.\n *\n * @public\n */\nvar ReactDOMFactories = {\n  a: createDOMFactory('a'),\n  abbr: createDOMFactory('abbr'),\n  address: createDOMFactory('address'),\n  area: createDOMFactory('area'),\n  article: createDOMFactory('article'),\n  aside: createDOMFactory('aside'),\n  audio: createDOMFactory('audio'),\n  b: createDOMFactory('b'),\n  base: createDOMFactory('base'),\n  bdi: createDOMFactory('bdi'),\n  bdo: createDOMFactory('bdo'),\n  big: createDOMFactory('big'),\n  blockquote: createDOMFactory('blockquote'),\n  body: createDOMFactory('body'),\n  br: createDOMFactory('br'),\n  button: createDOMFactory('button'),\n  canvas: createDOMFactory('canvas'),\n  caption: createDOMFactory('caption'),\n  cite: createDOMFactory('cite'),\n  code: createDOMFactory('code'),\n  col: createDOMFactory('col'),\n  colgroup: createDOMFactory('colgroup'),\n  data: createDOMFactory('data'),\n  datalist: createDOMFactory('datalist'),\n  dd: createDOMFactory('dd'),\n  del: createDOMFactory('del'),\n  details: createDOMFactory('details'),\n  dfn: createDOMFactory('dfn'),\n  dialog: createDOMFactory('dialog'),\n  div: createDOMFactory('div'),\n  dl: createDOMFactory('dl'),\n  dt: createDOMFactory('dt'),\n  em: createDOMFactory('em'),\n  embed: createDOMFactory('embed'),\n  fieldset: createDOMFactory('fieldset'),\n  figcaption: createDOMFactory('figcaption'),\n  figure: createDOMFactory('figure'),\n  footer: createDOMFactory('footer'),\n  form: createDOMFactory('form'),\n  h1: createDOMFactory('h1'),\n  h2: createDOMFactory('h2'),\n  h3: createDOMFactory('h3'),\n  h4: createDOMFactory('h4'),\n  h5: createDOMFactory('h5'),\n  h6: createDOMFactory('h6'),\n  head: createDOMFactory('head'),\n  header: createDOMFactory('header'),\n  hgroup: createDOMFactory('hgroup'),\n  hr: createDOMFactory('hr'),\n  html: createDOMFactory('html'),\n  i: createDOMFactory('i'),\n  iframe: createDOMFactory('iframe'),\n  img: createDOMFactory('img'),\n  input: createDOMFactory('input'),\n  ins: createDOMFactory('ins'),\n  kbd: createDOMFactory('kbd'),\n  keygen: createDOMFactory('keygen'),\n  label: createDOMFactory('label'),\n  legend: createDOMFactory('legend'),\n  li: createDOMFactory('li'),\n  link: createDOMFactory('link'),\n  main: createDOMFactory('main'),\n  map: createDOMFactory('map'),\n  mark: createDOMFactory('mark'),\n  menu: createDOMFactory('menu'),\n  menuitem: createDOMFactory('menuitem'),\n  meta: createDOMFactory('meta'),\n  meter: createDOMFactory('meter'),\n  nav: createDOMFactory('nav'),\n  noscript: createDOMFactory('noscript'),\n  object: createDOMFactory('object'),\n  ol: createDOMFactory('ol'),\n  optgroup: createDOMFactory('optgroup'),\n  option: createDOMFactory('option'),\n  output: createDOMFactory('output'),\n  p: createDOMFactory('p'),\n  param: createDOMFactory('param'),\n  picture: createDOMFactory('picture'),\n  pre: createDOMFactory('pre'),\n  progress: createDOMFactory('progress'),\n  q: createDOMFactory('q'),\n  rp: createDOMFactory('rp'),\n  rt: createDOMFactory('rt'),\n  ruby: createDOMFactory('ruby'),\n  s: createDOMFactory('s'),\n  samp: createDOMFactory('samp'),\n  script: createDOMFactory('script'),\n  section: createDOMFactory('section'),\n  select: createDOMFactory('select'),\n  small: createDOMFactory('small'),\n  source: createDOMFactory('source'),\n  span: createDOMFactory('span'),\n  strong: createDOMFactory('strong'),\n  style: createDOMFactory('style'),\n  sub: createDOMFactory('sub'),\n  summary: createDOMFactory('summary'),\n  sup: createDOMFactory('sup'),\n  table: createDOMFactory('table'),\n  tbody: createDOMFactory('tbody'),\n  td: createDOMFactory('td'),\n  textarea: createDOMFactory('textarea'),\n  tfoot: createDOMFactory('tfoot'),\n  th: createDOMFactory('th'),\n  thead: createDOMFactory('thead'),\n  time: createDOMFactory('time'),\n  title: createDOMFactory('title'),\n  tr: createDOMFactory('tr'),\n  track: createDOMFactory('track'),\n  u: createDOMFactory('u'),\n  ul: createDOMFactory('ul'),\n  'var': createDOMFactory('var'),\n  video: createDOMFactory('video'),\n  wbr: createDOMFactory('wbr'),\n\n  // SVG\n  circle: createDOMFactory('circle'),\n  clipPath: createDOMFactory('clipPath'),\n  defs: createDOMFactory('defs'),\n  ellipse: createDOMFactory('ellipse'),\n  g: createDOMFactory('g'),\n  image: createDOMFactory('image'),\n  line: createDOMFactory('line'),\n  linearGradient: createDOMFactory('linearGradient'),\n  mask: createDOMFactory('mask'),\n  path: createDOMFactory('path'),\n  pattern: createDOMFactory('pattern'),\n  polygon: createDOMFactory('polygon'),\n  polyline: createDOMFactory('polyline'),\n  radialGradient: createDOMFactory('radialGradient'),\n  rect: createDOMFactory('rect'),\n  stop: createDOMFactory('stop'),\n  svg: createDOMFactory('svg'),\n  text: createDOMFactory('text'),\n  tspan: createDOMFactory('tspan')\n};\n\nmodule.exports = ReactDOMFactories;","/**\n * Copyright 2014-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n/**\n * ReactElementValidator provides a wrapper around a element factory\n * which validates the props passed to the element. This is intended to be\n * used only in DEV and could be replaced by a static type checker for languages\n * that support it.\n */\n\n'use strict';\n\nvar ReactCurrentOwner = require('./ReactCurrentOwner');\nvar ReactElement = require('./ReactElement');\n\nvar checkReactTypeSpec = require('./checkReactTypeSpec');\n\nvar canDefineProperty = require('./canDefineProperty');\nvar getComponentName = require('./getComponentName');\nvar getIteratorFn = require('./getIteratorFn');\n\nif (process.env.NODE_ENV !== 'production') {\n  var warning = require('fbjs/lib/warning');\n  var ReactDebugCurrentFrame = require('./ReactDebugCurrentFrame');\n\n  var _require = require('./ReactComponentTreeHook'),\n      getCurrentStackAddendum = _require.getCurrentStackAddendum;\n}\n\nfunction getDeclarationErrorAddendum() {\n  if (ReactCurrentOwner.current) {\n    var name = getComponentName(ReactCurrentOwner.current);\n    if (name) {\n      return '\\n\\nCheck the render method of `' + name + '`.';\n    }\n  }\n  return '';\n}\n\nfunction getSourceInfoErrorAddendum(elementProps) {\n  if (elementProps !== null && elementProps !== undefined && elementProps.__source !== undefined) {\n    var source = elementProps.__source;\n    var fileName = source.fileName.replace(/^.*[\\\\\\/]/, '');\n    var lineNumber = source.lineNumber;\n    return '\\n\\nCheck your code at ' + fileName + ':' + lineNumber + '.';\n  }\n  return '';\n}\n\n/**\n * Warn if there's no key explicitly set on dynamic arrays of children or\n * object keys are not valid. This allows us to keep track of children between\n * updates.\n */\nvar ownerHasKeyUseWarning = {};\n\nfunction getCurrentComponentErrorInfo(parentType) {\n  var info = getDeclarationErrorAddendum();\n\n  if (!info) {\n    var parentName = typeof parentType === 'string' ? parentType : parentType.displayName || parentType.name;\n    if (parentName) {\n      info = '\\n\\nCheck the top-level render call using <' + parentName + '>.';\n    }\n  }\n  return info;\n}\n\n/**\n * Warn if the element doesn't have an explicit key assigned to it.\n * This element is in an array. The array could grow and shrink or be\n * reordered. All children that haven't already been validated are required to\n * have a \"key\" property assigned to it. Error statuses are cached so a warning\n * will only be shown once.\n *\n * @internal\n * @param {ReactElement} element Element that requires a key.\n * @param {*} parentType element's parent's type.\n */\nfunction validateExplicitKey(element, parentType) {\n  if (!element._store || element._store.validated || element.key != null) {\n    return;\n  }\n  element._store.validated = true;\n\n  var memoizer = ownerHasKeyUseWarning.uniqueKey || (ownerHasKeyUseWarning.uniqueKey = {});\n\n  var currentComponentErrorInfo = getCurrentComponentErrorInfo(parentType);\n  if (memoizer[currentComponentErrorInfo]) {\n    return;\n  }\n  memoizer[currentComponentErrorInfo] = true;\n\n  // Usually the current owner is the offender, but if it accepts children as a\n  // property, it may be the creator of the child that's responsible for\n  // assigning it a key.\n  var childOwner = '';\n  if (element && element._owner && element._owner !== ReactCurrentOwner.current) {\n    // Give the component that originally created this child.\n    childOwner = ' It was passed a child from ' + getComponentName(element._owner) + '.';\n  }\n\n  process.env.NODE_ENV !== 'production' ? warning(false, 'Each child in an array or iterator should have a unique \"key\" prop.' + '%s%s See https://fb.me/react-warning-keys for more information.%s', currentComponentErrorInfo, childOwner, getCurrentStackAddendum(element)) : void 0;\n}\n\n/**\n * Ensure that every element either is passed in a static location, in an\n * array with an explicit keys property defined, or in an object literal\n * with valid key property.\n *\n * @internal\n * @param {ReactNode} node Statically passed child of any type.\n * @param {*} parentType node's parent's type.\n */\nfunction validateChildKeys(node, parentType) {\n  if (typeof node !== 'object') {\n    return;\n  }\n  if (Array.isArray(node)) {\n    for (var i = 0; i < node.length; i++) {\n      var child = node[i];\n      if (ReactElement.isValidElement(child)) {\n        validateExplicitKey(child, parentType);\n      }\n    }\n  } else if (ReactElement.isValidElement(node)) {\n    // This element was passed in a valid location.\n    if (node._store) {\n      node._store.validated = true;\n    }\n  } else if (node) {\n    var iteratorFn = getIteratorFn(node);\n    // Entry iterators provide implicit keys.\n    if (iteratorFn) {\n      if (iteratorFn !== node.entries) {\n        var iterator = iteratorFn.call(node);\n        var step;\n        while (!(step = iterator.next()).done) {\n          if (ReactElement.isValidElement(step.value)) {\n            validateExplicitKey(step.value, parentType);\n          }\n        }\n      }\n    }\n  }\n}\n\n/**\n * Given an element, validate that its props follow the propTypes definition,\n * provided by the type.\n *\n * @param {ReactElement} element\n */\nfunction validatePropTypes(element) {\n  var componentClass = element.type;\n  if (typeof componentClass !== 'function') {\n    return;\n  }\n  var name = componentClass.displayName || componentClass.name;\n\n  // ReactNative `View.propTypes` have been deprecated in favor of `ViewPropTypes`.\n  // In their place a temporary getter has been added with a deprecated warning message.\n  // Avoid triggering that warning during validation using the temporary workaround, __propTypesSecretDontUseThesePlease.\n  // TODO (bvaughn) Revert this particular change any time after April 1 ReactNative RC is tagged.\n  var propTypes = typeof componentClass.__propTypesSecretDontUseThesePlease === 'object' ? componentClass.__propTypesSecretDontUseThesePlease : componentClass.propTypes;\n\n  if (propTypes) {\n    checkReactTypeSpec(propTypes, element.props, 'prop', name);\n  }\n  if (typeof componentClass.getDefaultProps === 'function') {\n    process.env.NODE_ENV !== 'production' ? warning(componentClass.getDefaultProps.isReactClassApproved, 'getDefaultProps is only used on classic React.createClass ' + 'definitions. Use a static property named `defaultProps` instead.') : void 0;\n  }\n}\n\nvar ReactElementValidator = {\n  createElement: function (type, props, children) {\n    var validType = typeof type === 'string' || typeof type === 'function';\n    // We warn in this case but don't throw. We expect the element creation to\n    // succeed and there will likely be errors in render.\n    if (!validType) {\n      var info = '';\n      if (type === undefined || typeof type === 'object' && type !== null && Object.keys(type).length === 0) {\n        info += ' You likely forgot to export your component from the file ' + \"it's defined in.\";\n      }\n\n      var sourceInfo = getSourceInfoErrorAddendum(props);\n      if (sourceInfo) {\n        info += sourceInfo;\n      } else {\n        info += getDeclarationErrorAddendum();\n      }\n\n      info += getCurrentStackAddendum();\n\n      process.env.NODE_ENV !== 'production' ? warning(false, 'React.createElement: type is invalid -- expected a string (for ' + 'built-in components) or a class/function (for composite ' + 'components) but got: %s.%s', type == null ? type : typeof type, info) : void 0;\n    }\n\n    var element = ReactElement.createElement.apply(this, arguments);\n\n    // The result can be nullish if a mock or a custom function is used.\n    // TODO: Drop this when these are no longer allowed as the type argument.\n    if (element == null) {\n      return element;\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      ReactDebugCurrentFrame.element = element;\n    }\n\n    // Skip key warning if the type isn't valid since our key validation logic\n    // doesn't expect a non-string/function type and can throw confusing errors.\n    // We don't want exception behavior to differ between dev and prod.\n    // (Rendering will throw with a helpful message and as soon as the type is\n    // fixed, the key warnings will appear.)\n    if (validType) {\n      for (var i = 2; i < arguments.length; i++) {\n        validateChildKeys(arguments[i], type);\n      }\n    }\n\n    validatePropTypes(element);\n\n    if (process.env.NODE_ENV !== 'production') {\n      ReactDebugCurrentFrame.element = null;\n    }\n\n    return element;\n  },\n\n  createFactory: function (type) {\n    var validatedFactory = ReactElementValidator.createElement.bind(null, type);\n    // Legacy hook TODO: Warn if this is accessed\n    validatedFactory.type = type;\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (canDefineProperty) {\n        Object.defineProperty(validatedFactory, 'type', {\n          enumerable: false,\n          get: function () {\n            process.env.NODE_ENV !== 'production' ? warning(false, 'Factory.type is deprecated. Access the class directly ' + 'before passing it to createFactory.') : void 0;\n            Object.defineProperty(this, 'type', {\n              value: type\n            });\n            return type;\n          }\n        });\n      }\n    }\n\n    return validatedFactory;\n  },\n\n  cloneElement: function (element, props, children) {\n    var newElement = ReactElement.cloneElement.apply(this, arguments);\n    if (process.env.NODE_ENV !== 'production') {\n      ReactDebugCurrentFrame.element = newElement;\n    }\n    for (var i = 2; i < arguments.length; i++) {\n      validateChildKeys(arguments[i], newElement.type);\n    }\n    validatePropTypes(newElement);\n    if (process.env.NODE_ENV !== 'production') {\n      ReactDebugCurrentFrame.element = null;\n    }\n    return newElement;\n  }\n};\n\nmodule.exports = ReactElementValidator;","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar checkPropTypes = require('./checkPropTypes');\n\nvar _require = require('./ReactDebugCurrentFrame'),\n    getStackAddendum = _require.getStackAddendum;\n\nfunction checkReactTypeSpec(typeSpecs, values, location, componentName) {\n  checkPropTypes(typeSpecs, values, location, componentName, getStackAddendum);\n}\n\nmodule.exports = checkReactTypeSpec;","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar _prodInvariant = require('./reactProdInvariant');\n\nvar ReactPropTypesSecret = require('./ReactPropTypesSecret');\n\nvar invariant = require('fbjs/lib/invariant');\nvar warning = require('fbjs/lib/warning');\n\nvar loggedTypeFailures = {};\n\n/**\n * Assert that the values match with the type specs.\n * Error messages are memorized and will only be shown once.\n *\n * @param {object} typeSpecs Map of name to a ReactPropType\n * @param {object} values Runtime values that need to be type-checked\n * @param {string} location e.g. \"prop\", \"context\", \"child context\"\n * @param {string} componentName Name of the component for error messages.\n * @param {?Function} getStack Returns the component stack.\n * @private\n */\nfunction checkPropTypes(typeSpecs, values, location, componentName, getStack) {\n  if (process.env.NODE_ENV !== 'production') {\n    for (var typeSpecName in typeSpecs) {\n      if (typeSpecs.hasOwnProperty(typeSpecName)) {\n        var error;\n        // Prop type validation may throw. In case they do, we don't want to\n        // fail the render phase where it didn't fail before. So we log it.\n        // After these have been cleaned up, we'll let them throw.\n        try {\n          // This is intentionally an invariant that gets caught. It's the same\n          // behavior as without this statement except with a better message.\n          !(typeof typeSpecs[typeSpecName] === 'function') ? process.env.NODE_ENV !== 'production' ? invariant(false, '%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.', componentName || 'React class', location, typeSpecName) : _prodInvariant('84', componentName || 'React class', location, typeSpecName) : void 0;\n          error = typeSpecs[typeSpecName](values, typeSpecName, componentName, location, null, ReactPropTypesSecret);\n        } catch (ex) {\n          error = ex;\n        }\n        process.env.NODE_ENV !== 'production' ? warning(!error || error instanceof Error, '%s: type specification of %s `%s` is invalid; the type checker ' + 'function must return `null` or an `Error` but returned a %s. ' + 'You may have forgotten to pass an argument to the type checker ' + 'creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and ' + 'shape all require an argument).', componentName || 'React class', location, typeSpecName, typeof error) : void 0;\n        if (error instanceof Error && !(error.message in loggedTypeFailures)) {\n          // Only monitor this failure once because there tends to be a lot of the\n          // same error.\n          loggedTypeFailures[error.message] = true;\n\n          var stack = getStack ? getStack() : '';\n\n          process.env.NODE_ENV !== 'production' ? warning(false, 'Failed %s type: %s%s', location, error.message, stack != null ? stack : '') : void 0;\n        }\n      }\n    }\n  }\n}\n\nmodule.exports = checkPropTypes;","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * \n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * \n */\n\n'use strict';\n\nvar ReactDebugCurrentFrame = {};\n\nif (process.env.NODE_ENV !== 'production') {\n  var _require = require('./ReactComponentTreeHook'),\n      getStackAddendumByID = _require.getStackAddendumByID,\n      getCurrentStackAddendum = _require.getCurrentStackAddendum;\n\n  var _require2 = require('./ReactFiberComponentTreeHook'),\n      getStackAddendumByWorkInProgressFiber = _require2.getStackAddendumByWorkInProgressFiber;\n\n  // Component that is being worked on\n\n\n  ReactDebugCurrentFrame.current = null;\n\n  // Element that is being cloned or created\n  ReactDebugCurrentFrame.element = null;\n\n  ReactDebugCurrentFrame.getStackAddendum = function () {\n    var stack = null;\n    var current = ReactDebugCurrentFrame.current;\n    var element = ReactDebugCurrentFrame.element;\n    if (current !== null) {\n      if (typeof current === 'number') {\n        // DebugID from Stack.\n        var debugID = current;\n        stack = getStackAddendumByID(debugID);\n      } else if (typeof current.tag === 'number') {\n        // This is a Fiber.\n        // The stack will only be correct if this is a work in progress\n        // version and we're calling it during reconciliation.\n        var workInProgress = current;\n        stack = getStackAddendumByWorkInProgressFiber(workInProgress);\n      }\n    } else if (element !== null) {\n      stack = getCurrentStackAddendum(element);\n    }\n    return stack;\n  };\n}\n\nmodule.exports = ReactDebugCurrentFrame;","/**\n * Copyright 2016-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * \n */\n\n'use strict';\n\nvar _prodInvariant = require('./reactProdInvariant');\n\nvar ReactCurrentOwner = require('./ReactCurrentOwner');\n\nvar _require = require('./ReactFiberComponentTreeHook'),\n    getStackAddendumByWorkInProgressFiber = _require.getStackAddendumByWorkInProgressFiber,\n    describeComponentFrame = _require.describeComponentFrame;\n\nvar invariant = require('fbjs/lib/invariant');\nvar warning = require('fbjs/lib/warning');\nvar getComponentName = require('./getComponentName');\n\nfunction isNative(fn) {\n  // Based on isNative() from Lodash\n  var funcToString = Function.prototype.toString;\n  var hasOwnProperty = Object.prototype.hasOwnProperty;\n  var reIsNative = RegExp('^' + funcToString\n  // Take an example native function source for comparison\n  .call(hasOwnProperty)\n  // Strip regex characters so we can use it for regex\n  .replace(/[\\\\^$.*+?()[\\]{}|]/g, '\\\\$&')\n  // Remove hasOwnProperty from the template to make it generic\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$');\n  try {\n    var source = funcToString.call(fn);\n    return reIsNative.test(source);\n  } catch (err) {\n    return false;\n  }\n}\n\nvar canUseCollections =\n// Array.from\ntypeof Array.from === 'function' &&\n// Map\ntypeof Map === 'function' && isNative(Map) &&\n// Map.prototype.keys\nMap.prototype != null && typeof Map.prototype.keys === 'function' && isNative(Map.prototype.keys) &&\n// Set\ntypeof Set === 'function' && isNative(Set) &&\n// Set.prototype.keys\nSet.prototype != null && typeof Set.prototype.keys === 'function' && isNative(Set.prototype.keys);\n\nvar setItem;\nvar getItem;\nvar removeItem;\nvar getItemIDs;\nvar addRoot;\nvar removeRoot;\nvar getRootIDs;\n\nif (canUseCollections) {\n  var itemMap = new Map();\n  var rootIDSet = new Set();\n\n  setItem = function (id, item) {\n    itemMap.set(id, item);\n  };\n  getItem = function (id) {\n    return itemMap.get(id);\n  };\n  removeItem = function (id) {\n    itemMap['delete'](id);\n  };\n  getItemIDs = function () {\n    return Array.from(itemMap.keys());\n  };\n\n  addRoot = function (id) {\n    rootIDSet.add(id);\n  };\n  removeRoot = function (id) {\n    rootIDSet['delete'](id);\n  };\n  getRootIDs = function () {\n    return Array.from(rootIDSet.keys());\n  };\n} else {\n  var itemByKey = {};\n  var rootByKey = {};\n\n  // Use non-numeric keys to prevent V8 performance issues:\n  // https://github.com/facebook/react/pull/7232\n  var getKeyFromID = function (id) {\n    return '.' + id;\n  };\n  var getIDFromKey = function (key) {\n    return parseInt(key.substr(1), 10);\n  };\n\n  setItem = function (id, item) {\n    var key = getKeyFromID(id);\n    itemByKey[key] = item;\n  };\n  getItem = function (id) {\n    var key = getKeyFromID(id);\n    return itemByKey[key];\n  };\n  removeItem = function (id) {\n    var key = getKeyFromID(id);\n    delete itemByKey[key];\n  };\n  getItemIDs = function () {\n    return Object.keys(itemByKey).map(getIDFromKey);\n  };\n\n  addRoot = function (id) {\n    var key = getKeyFromID(id);\n    rootByKey[key] = true;\n  };\n  removeRoot = function (id) {\n    var key = getKeyFromID(id);\n    delete rootByKey[key];\n  };\n  getRootIDs = function () {\n    return Object.keys(rootByKey).map(getIDFromKey);\n  };\n}\n\nvar unmountedIDs = [];\n\nfunction purgeDeep(id) {\n  var item = getItem(id);\n  if (item) {\n    var childIDs = item.childIDs;\n\n    removeItem(id);\n    childIDs.forEach(purgeDeep);\n  }\n}\n\nfunction getDisplayName(element) {\n  if (element == null) {\n    return '#empty';\n  } else if (typeof element === 'string' || typeof element === 'number') {\n    return '#text';\n  } else if (typeof element.type === 'string') {\n    return element.type;\n  } else {\n    return element.type.displayName || element.type.name || 'Unknown';\n  }\n}\n\nfunction describeID(id) {\n  var name = ReactComponentTreeHook.getDisplayName(id);\n  var element = ReactComponentTreeHook.getElement(id);\n  var ownerID = ReactComponentTreeHook.getOwnerID(id);\n  var ownerName = void 0;\n\n  if (ownerID) {\n    ownerName = ReactComponentTreeHook.getDisplayName(ownerID);\n  }\n  process.env.NODE_ENV !== 'production' ? warning(element, 'ReactComponentTreeHook: Missing React element for debugID %s when ' + 'building stack', id) : void 0;\n  return describeComponentFrame(name || '', element && element._source, ownerName || '');\n}\n\nvar ReactComponentTreeHook = {\n  onSetChildren: function (id, nextChildIDs) {\n    var item = getItem(id);\n    invariant(item, 'Item must have been set');\n    item.childIDs = nextChildIDs;\n\n    for (var i = 0; i < nextChildIDs.length; i++) {\n      var nextChildID = nextChildIDs[i];\n      var nextChild = getItem(nextChildID);\n      !nextChild ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Expected hook events to fire for the child before its parent includes it in onSetChildren().') : _prodInvariant('140') : void 0;\n      !(nextChild.childIDs != null || typeof nextChild.element !== 'object' || nextChild.element == null) ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Expected onSetChildren() to fire for a container child before its parent includes it in onSetChildren().') : _prodInvariant('141') : void 0;\n      !nextChild.isMounted ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Expected onMountComponent() to fire for the child before its parent includes it in onSetChildren().') : _prodInvariant('71') : void 0;\n      if (nextChild.parentID == null) {\n        nextChild.parentID = id;\n        // TODO: This shouldn't be necessary but mounting a new root during in\n        // componentWillMount currently causes not-yet-mounted components to\n        // be purged from our tree data so their parent id is missing.\n      }\n      !(nextChild.parentID === id) ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Expected onBeforeMountComponent() parent and onSetChildren() to be consistent (%s has parents %s and %s).', nextChildID, nextChild.parentID, id) : _prodInvariant('142', nextChildID, nextChild.parentID, id) : void 0;\n    }\n  },\n  onBeforeMountComponent: function (id, element, parentID) {\n    var item = {\n      element: element,\n      parentID: parentID,\n      text: null,\n      childIDs: [],\n      isMounted: false,\n      updateCount: 0\n    };\n    setItem(id, item);\n  },\n  onBeforeUpdateComponent: function (id, element) {\n    var item = getItem(id);\n    if (!item || !item.isMounted) {\n      // We may end up here as a result of setState() in componentWillUnmount().\n      // In this case, ignore the element.\n      return;\n    }\n    item.element = element;\n  },\n  onMountComponent: function (id) {\n    var item = getItem(id);\n    invariant(item, 'Item must have been set');\n    item.isMounted = true;\n    var isRoot = item.parentID === 0;\n    if (isRoot) {\n      addRoot(id);\n    }\n  },\n  onUpdateComponent: function (id) {\n    var item = getItem(id);\n    if (!item || !item.isMounted) {\n      // We may end up here as a result of setState() in componentWillUnmount().\n      // In this case, ignore the element.\n      return;\n    }\n    item.updateCount++;\n  },\n  onUnmountComponent: function (id) {\n    var item = getItem(id);\n    if (item) {\n      // We need to check if it exists.\n      // `item` might not exist if it is inside an error boundary, and a sibling\n      // error boundary child threw while mounting. Then this instance never\n      // got a chance to mount, but it still gets an unmounting event during\n      // the error boundary cleanup.\n      item.isMounted = false;\n      var isRoot = item.parentID === 0;\n      if (isRoot) {\n        removeRoot(id);\n      }\n    }\n    unmountedIDs.push(id);\n  },\n  purgeUnmountedComponents: function () {\n    if (ReactComponentTreeHook._preventPurging) {\n      // Should only be used for testing.\n      return;\n    }\n\n    for (var i = 0; i < unmountedIDs.length; i++) {\n      var id = unmountedIDs[i];\n      purgeDeep(id);\n    }\n    unmountedIDs.length = 0;\n  },\n  isMounted: function (id) {\n    var item = getItem(id);\n    return item ? item.isMounted : false;\n  },\n  getCurrentStackAddendum: function (topElement) {\n    var info = '';\n    if (topElement) {\n      var name = getDisplayName(topElement);\n      var owner = topElement._owner;\n      info += describeComponentFrame(name, topElement._source, owner && getComponentName(owner));\n    }\n\n    var currentOwner = ReactCurrentOwner.current;\n    if (currentOwner) {\n      if (typeof currentOwner.tag === 'number') {\n        var workInProgress = currentOwner;\n        // Safe because if current owner exists, we are reconciling,\n        // and it is guaranteed to be the work-in-progress version.\n        info += getStackAddendumByWorkInProgressFiber(workInProgress);\n      } else if (typeof currentOwner._debugID === 'number') {\n        info += ReactComponentTreeHook.getStackAddendumByID(currentOwner._debugID);\n      }\n    }\n    return info;\n  },\n  getStackAddendumByID: function (id) {\n    var info = '';\n    while (id) {\n      info += describeID(id);\n      id = ReactComponentTreeHook.getParentID(id);\n    }\n    return info;\n  },\n  getChildIDs: function (id) {\n    var item = getItem(id);\n    return item ? item.childIDs : [];\n  },\n  getDisplayName: function (id) {\n    var element = ReactComponentTreeHook.getElement(id);\n    if (!element) {\n      return null;\n    }\n    return getDisplayName(element);\n  },\n  getElement: function (id) {\n    var item = getItem(id);\n    return item ? item.element : null;\n  },\n  getOwnerID: function (id) {\n    var element = ReactComponentTreeHook.getElement(id);\n    if (!element || !element._owner) {\n      return null;\n    }\n    return element._owner._debugID;\n  },\n  getParentID: function (id) {\n    var item = getItem(id);\n    return item ? item.parentID : null;\n  },\n  getSource: function (id) {\n    var item = getItem(id);\n    var element = item ? item.element : null;\n    var source = element != null ? element._source : null;\n    return source;\n  },\n  getText: function (id) {\n    var element = ReactComponentTreeHook.getElement(id);\n    if (typeof element === 'string') {\n      return element;\n    } else if (typeof element === 'number') {\n      return '' + element;\n    } else {\n      return null;\n    }\n  },\n  getUpdateCount: function (id) {\n    var item = getItem(id);\n    return item ? item.updateCount : 0;\n  },\n\n\n  getRootIDs: getRootIDs,\n  getRegisteredIDs: getItemIDs\n};\n\nmodule.exports = ReactComponentTreeHook;","/**\n * Copyright 2016-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * \n */\n\n'use strict';\n\nvar ReactTypeOfWork = require('./ReactTypeOfWork');\nvar IndeterminateComponent = ReactTypeOfWork.IndeterminateComponent,\n    FunctionalComponent = ReactTypeOfWork.FunctionalComponent,\n    ClassComponent = ReactTypeOfWork.ClassComponent,\n    HostComponent = ReactTypeOfWork.HostComponent;\n\nvar getComponentName = require('./getComponentName');\n\nfunction describeComponentFrame(name, source, ownerName) {\n  return '\\n    in ' + (name || 'Unknown') + (source ? ' (at ' + source.fileName.replace(/^.*[\\\\\\/]/, '') + ':' + source.lineNumber + ')' : ownerName ? ' (created by ' + ownerName + ')' : '');\n}\n\nfunction describeFiber(fiber) {\n  switch (fiber.tag) {\n    case IndeterminateComponent:\n    case FunctionalComponent:\n    case ClassComponent:\n    case HostComponent:\n      var owner = fiber._debugOwner;\n      var source = fiber._debugSource;\n      var name = getComponentName(fiber);\n      var ownerName = null;\n      if (owner) {\n        ownerName = getComponentName(owner);\n      }\n      return describeComponentFrame(name, source, ownerName);\n    default:\n      return '';\n  }\n}\n\n// This function can only be called with a work-in-progress fiber and\n// only during begin or complete phase. Do not call it under any other\n// circumstances.\nfunction getStackAddendumByWorkInProgressFiber(workInProgress) {\n  var info = '';\n  var node = workInProgress;\n  do {\n    info += describeFiber(node);\n    // Otherwise this return pointer might point to the wrong tree:\n    node = node['return'];\n  } while (node);\n  return info;\n}\n\nmodule.exports = {\n  getStackAddendumByWorkInProgressFiber: getStackAddendumByWorkInProgressFiber,\n  describeComponentFrame: describeComponentFrame\n};","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * \n */\n\n'use strict';\n\nmodule.exports = {\n  IndeterminateComponent: 0, // Before we know whether it is functional or class\n  FunctionalComponent: 1,\n  ClassComponent: 2,\n  HostRoot: 3, // Root of a host tree. Could be nested inside another node.\n  HostPortal: 4, // A subtree. Could be an entry point to a different renderer.\n  HostComponent: 5,\n  HostText: 6,\n  CoroutineComponent: 7,\n  CoroutineHandlerPhase: 8,\n  YieldComponent: 9,\n  Fragment: 10\n};","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * \n */\n\n'use strict';\n\nfunction getComponentName(instanceOrFiber) {\n  if (typeof instanceOrFiber.getName === 'function') {\n    // Stack reconciler\n    var instance = instanceOrFiber;\n    return instance.getName();\n  }\n  if (typeof instanceOrFiber.tag === 'number') {\n    // Fiber reconciler\n    var fiber = instanceOrFiber;\n    var type = fiber.type;\n\n    if (typeof type === 'string') {\n      return type;\n    }\n    if (typeof type === 'function') {\n      return type.displayName || type.name;\n    }\n  }\n  return null;\n}\n\nmodule.exports = getComponentName;","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar _prodInvariant = require('./reactProdInvariant');\n\nvar ReactElement = require('./ReactElement');\nvar ReactPropTypesSecret = require('./ReactPropTypesSecret');\n\nvar emptyFunction = require('fbjs/lib/emptyFunction');\nvar getIteratorFn = require('./getIteratorFn');\nvar invariant = require('fbjs/lib/invariant');\nvar warning = require('fbjs/lib/warning');\n\n/**\n * Collection of methods that allow declaration and validation of props that are\n * supplied to React components. Example usage:\n *\n *   var Props = require('ReactPropTypes');\n *   var MyArticle = React.createClass({\n *     propTypes: {\n *       // An optional string prop named \"description\".\n *       description: Props.string,\n *\n *       // A required enum prop named \"category\".\n *       category: Props.oneOf(['News','Photos']).isRequired,\n *\n *       // A prop named \"dialog\" that requires an instance of Dialog.\n *       dialog: Props.instanceOf(Dialog).isRequired\n *     },\n *     render: function() { ... }\n *   });\n *\n * A more formal specification of how these methods are used:\n *\n *   type := array|bool|func|object|number|string|oneOf([...])|instanceOf(...)\n *   decl := ReactPropTypes.{type}(.isRequired)?\n *\n * Each and every declaration produces a function with the same signature. This\n * allows the creation of custom validation functions. For example:\n *\n *  var MyLink = React.createClass({\n *    propTypes: {\n *      // An optional string or URI prop named \"href\".\n *      href: function(props, propName, componentName) {\n *        var propValue = props[propName];\n *        if (propValue != null && typeof propValue !== 'string' &&\n *            !(propValue instanceof URI)) {\n *          return new Error(\n *            'Expected a string or an URI for ' + propName + ' in ' +\n *            componentName\n *          );\n *        }\n *      }\n *    },\n *    render: function() {...}\n *  });\n *\n * @internal\n */\n\nvar ANONYMOUS = '<<anonymous>>';\n\nvar ReactPropTypes;\n\nif (process.env.NODE_ENV !== 'production') {\n  // Keep in sync with production version below\n  ReactPropTypes = {\n    array: createPrimitiveTypeChecker('array'),\n    bool: createPrimitiveTypeChecker('boolean'),\n    func: createPrimitiveTypeChecker('function'),\n    number: createPrimitiveTypeChecker('number'),\n    object: createPrimitiveTypeChecker('object'),\n    string: createPrimitiveTypeChecker('string'),\n    symbol: createPrimitiveTypeChecker('symbol'),\n\n    any: createAnyTypeChecker(),\n    arrayOf: createArrayOfTypeChecker,\n    element: createElementTypeChecker(),\n    instanceOf: createInstanceTypeChecker,\n    node: createNodeChecker(),\n    objectOf: createObjectOfTypeChecker,\n    oneOf: createEnumTypeChecker,\n    oneOfType: createUnionTypeChecker,\n    shape: createShapeTypeChecker\n  };\n} else {\n  var productionTypeChecker = function () {\n    !false ? process.env.NODE_ENV !== 'production' ? invariant(false, 'React.PropTypes type checking code is stripped in production.') : _prodInvariant('144') : void 0;\n  };\n  productionTypeChecker.isRequired = productionTypeChecker;\n  var getProductionTypeChecker = function () {\n    return productionTypeChecker;\n  };\n  // Keep in sync with development version above\n  ReactPropTypes = {\n    array: productionTypeChecker,\n    bool: productionTypeChecker,\n    func: productionTypeChecker,\n    number: productionTypeChecker,\n    object: productionTypeChecker,\n    string: productionTypeChecker,\n    symbol: productionTypeChecker,\n\n    any: productionTypeChecker,\n    arrayOf: getProductionTypeChecker,\n    element: productionTypeChecker,\n    instanceOf: getProductionTypeChecker,\n    node: productionTypeChecker,\n    objectOf: getProductionTypeChecker,\n    oneOf: getProductionTypeChecker,\n    oneOfType: getProductionTypeChecker,\n    shape: getProductionTypeChecker\n  };\n}\n\n/**\n * inlined Object.is polyfill to avoid requiring consumers ship their own\n * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\n */\n/*eslint-disable no-self-compare*/\nfunction is(x, y) {\n  // SameValue algorithm\n  if (x === y) {\n    // Steps 1-5, 7-10\n    // Steps 6.b-6.e: +0 != -0\n    return x !== 0 || 1 / x === 1 / y;\n  } else {\n    // Step 6.a: NaN == NaN\n    return x !== x && y !== y;\n  }\n}\n/*eslint-enable no-self-compare*/\n\n/**\n * We use an Error-like object for backward compatibility as people may call\n * PropTypes directly and inspect their output. However, we don't use real\n * Errors anymore. We don't inspect their stack anyway, and creating them\n * is prohibitively expensive if they are created too often, such as what\n * happens in oneOfType() for any type before the one that matched.\n */\nfunction PropTypeError(message) {\n  this.message = message;\n  this.stack = '';\n}\n// Make `instanceof Error` still work for returned errors.\nPropTypeError.prototype = Error.prototype;\n\nfunction createChainableTypeChecker(validate) {\n  if (process.env.NODE_ENV !== 'production') {\n    var manualPropTypeCallCache = {};\n  }\n  function checkType(isRequired, props, propName, componentName, location, propFullName, secret) {\n    componentName = componentName || ANONYMOUS;\n    propFullName = propFullName || propName;\n    if (process.env.NODE_ENV !== 'production') {\n      if (secret !== ReactPropTypesSecret && typeof console !== 'undefined') {\n        var cacheKey = componentName + ':' + propName;\n        if (!manualPropTypeCallCache[cacheKey]) {\n          process.env.NODE_ENV !== 'production' ? warning(false, 'You are manually calling a React.PropTypes validation ' + 'function for the `%s` prop on `%s`. This is deprecated ' + 'and will not work in production with the next major version. ' + 'You may be seeing this warning due to a third-party PropTypes ' + 'library. See https://fb.me/react-warning-dont-call-proptypes ' + 'for details.', propFullName, componentName) : void 0;\n          manualPropTypeCallCache[cacheKey] = true;\n        }\n      }\n    }\n    if (props[propName] == null) {\n      if (isRequired) {\n        if (props[propName] === null) {\n          return new PropTypeError('The ' + location + ' `' + propFullName + '` is marked as required ' + ('in `' + componentName + '`, but its value is `null`.'));\n        }\n        return new PropTypeError('The ' + location + ' `' + propFullName + '` is marked as required in ' + ('`' + componentName + '`, but its value is `undefined`.'));\n      }\n      return null;\n    } else {\n      return validate(props, propName, componentName, location, propFullName);\n    }\n  }\n\n  var chainedCheckType = checkType.bind(null, false);\n  chainedCheckType.isRequired = checkType.bind(null, true);\n\n  return chainedCheckType;\n}\n\nfunction createPrimitiveTypeChecker(expectedType) {\n  function validate(props, propName, componentName, location, propFullName, secret) {\n    var propValue = props[propName];\n    var propType = getPropType(propValue);\n    if (propType !== expectedType) {\n      // `propValue` being instance of, say, date/regexp, pass the 'object'\n      // check, but we can offer a more precise error message here rather than\n      // 'of type `object`'.\n      var preciseType = getPreciseType(propValue);\n\n      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + preciseType + '` supplied to `' + componentName + '`, expected ') + ('`' + expectedType + '`.'));\n    }\n    return null;\n  }\n  return createChainableTypeChecker(validate);\n}\n\nfunction createAnyTypeChecker() {\n  return createChainableTypeChecker(emptyFunction.thatReturnsNull);\n}\n\nfunction createArrayOfTypeChecker(typeChecker) {\n  function validate(props, propName, componentName, location, propFullName) {\n    if (typeof typeChecker !== 'function') {\n      return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside arrayOf.');\n    }\n    var propValue = props[propName];\n    if (!Array.isArray(propValue)) {\n      var propType = getPropType(propValue);\n      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an array.'));\n    }\n    for (var i = 0; i < propValue.length; i++) {\n      var error = typeChecker(propValue, i, componentName, location, propFullName + '[' + i + ']', ReactPropTypesSecret);\n      if (error instanceof Error) {\n        return error;\n      }\n    }\n    return null;\n  }\n  return createChainableTypeChecker(validate);\n}\n\nfunction createElementTypeChecker() {\n  function validate(props, propName, componentName, location, propFullName) {\n    var propValue = props[propName];\n    if (!ReactElement.isValidElement(propValue)) {\n      var propType = getPropType(propValue);\n      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected a single ReactElement.'));\n    }\n    return null;\n  }\n  return createChainableTypeChecker(validate);\n}\n\nfunction createInstanceTypeChecker(expectedClass) {\n  function validate(props, propName, componentName, location, propFullName) {\n    if (!(props[propName] instanceof expectedClass)) {\n      var expectedClassName = expectedClass.name || ANONYMOUS;\n      var actualClassName = getClassName(props[propName]);\n      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + actualClassName + '` supplied to `' + componentName + '`, expected ') + ('instance of `' + expectedClassName + '`.'));\n    }\n    return null;\n  }\n  return createChainableTypeChecker(validate);\n}\n\nfunction createEnumTypeChecker(expectedValues) {\n  if (!Array.isArray(expectedValues)) {\n    process.env.NODE_ENV !== 'production' ? warning(false, 'Invalid argument supplied to oneOf, expected an instance of array.') : void 0;\n    return emptyFunction.thatReturnsNull;\n  }\n\n  function validate(props, propName, componentName, location, propFullName) {\n    var propValue = props[propName];\n    for (var i = 0; i < expectedValues.length; i++) {\n      if (is(propValue, expectedValues[i])) {\n        return null;\n      }\n    }\n\n    var valuesString = JSON.stringify(expectedValues);\n    return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of value `' + propValue + '` ' + ('supplied to `' + componentName + '`, expected one of ' + valuesString + '.'));\n  }\n  return createChainableTypeChecker(validate);\n}\n\nfunction createObjectOfTypeChecker(typeChecker) {\n  function validate(props, propName, componentName, location, propFullName) {\n    if (typeof typeChecker !== 'function') {\n      return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside objectOf.');\n    }\n    var propValue = props[propName];\n    var propType = getPropType(propValue);\n    if (propType !== 'object') {\n      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an object.'));\n    }\n    for (var key in propValue) {\n      if (propValue.hasOwnProperty(key)) {\n        var error = typeChecker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);\n        if (error instanceof Error) {\n          return error;\n        }\n      }\n    }\n    return null;\n  }\n  return createChainableTypeChecker(validate);\n}\n\nfunction createUnionTypeChecker(arrayOfTypeCheckers) {\n  if (!Array.isArray(arrayOfTypeCheckers)) {\n    process.env.NODE_ENV !== 'production' ? warning(false, 'Invalid argument supplied to oneOfType, expected an instance of array.') : void 0;\n    return emptyFunction.thatReturnsNull;\n  }\n\n  function validate(props, propName, componentName, location, propFullName) {\n    for (var i = 0; i < arrayOfTypeCheckers.length; i++) {\n      var checker = arrayOfTypeCheckers[i];\n      if (checker(props, propName, componentName, location, propFullName, ReactPropTypesSecret) == null) {\n        return null;\n      }\n    }\n\n    return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`.'));\n  }\n  return createChainableTypeChecker(validate);\n}\n\nfunction createNodeChecker() {\n  function validate(props, propName, componentName, location, propFullName) {\n    if (!isNode(props[propName])) {\n      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`, expected a ReactNode.'));\n    }\n    return null;\n  }\n  return createChainableTypeChecker(validate);\n}\n\nfunction createShapeTypeChecker(shapeTypes) {\n  function validate(props, propName, componentName, location, propFullName) {\n    var propValue = props[propName];\n    var propType = getPropType(propValue);\n    if (propType !== 'object') {\n      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type `' + propType + '` ' + ('supplied to `' + componentName + '`, expected `object`.'));\n    }\n    for (var key in shapeTypes) {\n      var checker = shapeTypes[key];\n      if (!checker) {\n        continue;\n      }\n      var error = checker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);\n      if (error) {\n        return error;\n      }\n    }\n    return null;\n  }\n  return createChainableTypeChecker(validate);\n}\n\nfunction isNode(propValue) {\n  switch (typeof propValue) {\n    case 'number':\n    case 'string':\n    case 'undefined':\n      return true;\n    case 'boolean':\n      return !propValue;\n    case 'object':\n      if (Array.isArray(propValue)) {\n        return propValue.every(isNode);\n      }\n      if (propValue === null || ReactElement.isValidElement(propValue)) {\n        return true;\n      }\n\n      var iteratorFn = getIteratorFn(propValue);\n      if (iteratorFn) {\n        var iterator = iteratorFn.call(propValue);\n        var step;\n        if (iteratorFn !== propValue.entries) {\n          while (!(step = iterator.next()).done) {\n            if (!isNode(step.value)) {\n              return false;\n            }\n          }\n        } else {\n          // Iterator will provide entry [k,v] tuples rather than values.\n          while (!(step = iterator.next()).done) {\n            var entry = step.value;\n            if (entry) {\n              if (!isNode(entry[1])) {\n                return false;\n              }\n            }\n          }\n        }\n      } else {\n        return false;\n      }\n\n      return true;\n    default:\n      return false;\n  }\n}\n\nfunction isSymbol(propType, propValue) {\n  // Native Symbol.\n  if (propType === 'symbol') {\n    return true;\n  }\n\n  // 19.4.3.5 Symbol.prototype[@@toStringTag] === 'Symbol'\n  if (propValue['@@toStringTag'] === 'Symbol') {\n    return true;\n  }\n\n  // Fallback for non-spec compliant Symbols which are polyfilled.\n  if (typeof Symbol === 'function' && propValue instanceof Symbol) {\n    return true;\n  }\n\n  return false;\n}\n\n// Equivalent of `typeof` but with special handling for array and regexp.\nfunction getPropType(propValue) {\n  var propType = typeof propValue;\n  if (Array.isArray(propValue)) {\n    return 'array';\n  }\n  if (propValue instanceof RegExp) {\n    // Old webkits (at least until Android 4.0) return 'function' rather than\n    // 'object' for typeof a RegExp. We'll normalize this here so that /bla/\n    // passes PropTypes.object.\n    return 'object';\n  }\n  if (isSymbol(propType, propValue)) {\n    return 'symbol';\n  }\n  return propType;\n}\n\n// This handles more types than `getPropType`. Only used for error messages.\n// See `createPrimitiveTypeChecker`.\nfunction getPreciseType(propValue) {\n  var propType = getPropType(propValue);\n  if (propType === 'object') {\n    if (propValue instanceof Date) {\n      return 'date';\n    } else if (propValue instanceof RegExp) {\n      return 'regexp';\n    }\n  }\n  return propType;\n}\n\n// Returns class name of the object, if any.\nfunction getClassName(propValue) {\n  if (!propValue.constructor || !propValue.constructor.name) {\n    return ANONYMOUS;\n  }\n  return propValue.constructor.name;\n}\n\nmodule.exports = ReactPropTypes;","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nmodule.exports = '16.0.0-alpha.6';","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n'use strict';\n\nvar _prodInvariant = require('./reactProdInvariant');\n\nvar ReactElement = require('./ReactElement');\n\nvar invariant = require('fbjs/lib/invariant');\n\n/**\n * Returns the first child in a collection of children and verifies that there\n * is only one child in the collection.\n *\n * See https://facebook.github.io/react/docs/react-api.html#react.children.only\n *\n * The current implementation of this function assumes that a single child gets\n * passed without a wrapper, but the purpose of this helper function is to\n * abstract away the particular structure of children.\n *\n * @param {?object} children Child collection structure.\n * @return {ReactElement} The first and only `ReactElement` contained in the\n * structure.\n */\nfunction onlyChild(children) {\n  !ReactElement.isValidElement(children) ? process.env.NODE_ENV !== 'production' ? invariant(false, 'React.Children.only expected to receive a single React element child.') : _prodInvariant('143') : void 0;\n  return children;\n}\n\nmodule.exports = onlyChild;","import { StyleSheet } from 'react-native';\n\nvar Style = StyleSheet.create({\n    rootContainer: {\n        flex: 1\n    },\n\n    displayContainer: {\n      flex: 2,\n      backgroundColor: '#193441',\n      justifyContent: 'center'\n    },\n\n    inputContainer: {\n        flex: 8,\n        backgroundColor: '#3E606F'\n    },\n    inputButton: {\n        flex: 1,\n        alignItems: 'flex-start',\n        justifyContent: 'center',\n        borderWidth: 0.5,\n        borderColor: '#91AA9D',\n\n    },\n\n    inputButtonText: {\n        fontSize: 22,\n        fontWeight: 'bold',\n        color: 'white'\n    },\n    inputRow:{\n      flex:1,\n      flexDirection:'row'\n    },\n\n    displayText: {\n        color: 'white',\n        fontSize: 38,\n        fontWeight: 'bold',\n        textAlign: 'right',\n        padding: 20\n    },\n    inputButtonHighlighted: {\n        backgroundColor: '#193441'\n    },\n});\n\nexport default Style;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule react-native-implementation\n * @noflow - get/set properties not yet supported by flow. also `...require(x)` is broken #6560135\n */\n'use strict';\n\nconst warning = require('fbjs/lib/warning');\n\nif (__DEV__) {\n  var warningDedupe = {};\n  var addonWarn = function(prevName, newPackageName) {\n    warning(\n      warningDedupe[prevName],\n      'React.addons.' + prevName + ' is deprecated. Please import the \"' +\n      newPackageName + '\" package instead.'\n    );\n    warningDedupe[prevName] = true;\n  };\n}\n\n// Export React, plus some native additions.\nconst ReactNative = {\n  // Components\n  get AccessibilityInfo() { return require('AccessibilityInfo'); },\n  get ActivityIndicator() { return require('ActivityIndicator'); },\n  get ART() { return require('ReactNativeART'); },\n  get Button() { return require('Button'); },\n  get DatePickerIOS() { return require('DatePickerIOS'); },\n  get DrawerLayoutAndroid() { return require('DrawerLayoutAndroid'); },\n  get FlatList() { return require('FlatList'); },\n  get Image() { return require('Image'); },\n  get ImageEditor() { return require('ImageEditor'); },\n  get ImageStore() { return require('ImageStore'); },\n  get KeyboardAvoidingView() { return require('KeyboardAvoidingView'); },\n  get ListView() { return require('ListView'); },\n  get MapView() { return require('MapView'); },\n  get Modal() { return require('Modal'); },\n  get Navigator() { return require('Navigator'); },\n  get NavigatorIOS() { return require('NavigatorIOS'); },\n  get Picker() { return require('Picker'); },\n  get PickerIOS() { return require('PickerIOS'); },\n  get ProgressBarAndroid() { return require('ProgressBarAndroid'); },\n  get ProgressViewIOS() { return require('ProgressViewIOS'); },\n  get ScrollView() { return require('ScrollView'); },\n  get SectionList() { return require('SectionList'); },\n  get SegmentedControlIOS() { return require('SegmentedControlIOS'); },\n  get Slider() { return require('Slider'); },\n  get SnapshotViewIOS() { return require('SnapshotViewIOS'); },\n  get Switch() { return require('Switch'); },\n  get RefreshControl() { return require('RefreshControl'); },\n  get StatusBar() { return require('StatusBar'); },\n  get SwipeableListView() { return require('SwipeableListView'); },\n  get TabBarIOS() { return require('TabBarIOS'); },\n  get Text() { return require('Text'); },\n  get TextInput() { return require('TextInput'); },\n  get ToastAndroid() { return require('ToastAndroid'); },\n  get ToolbarAndroid() { return require('ToolbarAndroid'); },\n  get Touchable() { return require('Touchable'); },\n  get TouchableHighlight() { return require('TouchableHighlight'); },\n  get TouchableNativeFeedback() { return require('TouchableNativeFeedback'); },\n  get TouchableOpacity() { return require('TouchableOpacity'); },\n  get TouchableWithoutFeedback() { return require('TouchableWithoutFeedback'); },\n  get View() { return require('View'); },\n  get ViewPagerAndroid() { return require('ViewPagerAndroid'); },\n  get VirtualizedList() { return require('VirtualizedList'); },\n  get WebView() { return require('WebView'); },\n\n  // APIs\n  get ActionSheetIOS() { return require('ActionSheetIOS'); },\n  get AdSupportIOS() { return require('AdSupportIOS'); },\n  get Alert() { return require('Alert'); },\n  get AlertIOS() { return require('AlertIOS'); },\n  get Animated() { return require('Animated'); },\n  get AppRegistry() { return require('AppRegistry'); },\n  get AppState() { return require('AppState'); },\n  get AsyncStorage() { return require('AsyncStorage'); },\n  get BackAndroid() { return require('BackAndroid'); },\n  get CameraRoll() { return require('CameraRoll'); },\n  get Clipboard() { return require('Clipboard'); },\n  get DatePickerAndroid() { return require('DatePickerAndroid'); },\n  get Dimensions() { return require('Dimensions'); },\n  get Easing() { return require('Easing'); },\n  get I18nManager() { return require('I18nManager'); },\n  get ImagePickerIOS() { return require('ImagePickerIOS'); },\n  get InteractionManager() { return require('InteractionManager'); },\n  get Keyboard() { return require('Keyboard'); },\n  get LayoutAnimation() { return require('LayoutAnimation'); },\n  get Linking() { return require('Linking'); },\n  get NativeEventEmitter() { return require('NativeEventEmitter'); },\n  get NavigationExperimental() { return require('NavigationExperimental'); },\n  get NetInfo() { return require('NetInfo'); },\n  get PanResponder() { return require('PanResponder'); },\n  get PermissionsAndroid() { return require('PermissionsAndroid'); },\n  get PixelRatio() { return require('PixelRatio'); },\n  get PushNotificationIOS() { return require('PushNotificationIOS'); },\n  get Settings() { return require('Settings'); },\n  get Share() { return require('Share'); },\n  get StatusBarIOS() { return require('StatusBarIOS'); },\n  get StyleSheet() { return require('StyleSheet'); },\n  get Systrace() { return require('Systrace'); },\n  get TimePickerAndroid() { return require('TimePickerAndroid'); },\n  get UIManager() { return require('UIManager'); },\n  get Vibration() { return require('Vibration'); },\n  get VibrationIOS() { return require('VibrationIOS'); },\n\n  // Plugins\n  get DeviceEventEmitter() { return require('RCTDeviceEventEmitter'); },\n  get NativeAppEventEmitter() { return require('RCTNativeAppEventEmitter'); },\n  get NativeModules() { return require('NativeModules'); },\n  get Platform() { return require('Platform'); },\n  get processColor() { return require('processColor'); },\n  get requireNativeComponent() { return require('requireNativeComponent'); },\n\n  // Prop Types\n  get ColorPropType() { return require('ColorPropType'); },\n  get EdgeInsetsPropType() { return require('EdgeInsetsPropType'); },\n  get PointPropType() { return require('PointPropType'); },\n};\n\n// Better error messages when accessing React APIs on ReactNative\nif (__DEV__) {\n  const throwOnWrongReactAPI = require('throwOnWrongReactAPI');\n  const reactAPIs = [ 'createClass', 'Component' ];\n\n  for (const key of reactAPIs) {\n    Object.defineProperty(ReactNative, key, {\n      get() { throwOnWrongReactAPI(key); },\n      enumerable: false,\n      configurable: false,\n    });\n  }\n}\n\n// Preserve getters with warnings on the internal ReactNative copy without\n// invoking them.\nconst ReactNativeInternal = require('ReactNative');\nfunction applyForwarding(key) {\n  if (__DEV__) {\n    Object.defineProperty(\n      ReactNative,\n      key,\n      Object.getOwnPropertyDescriptor(ReactNativeInternal, key)\n    );\n    return;\n  }\n  ReactNative[key] = ReactNativeInternal[key];\n}\nfor (const key in ReactNativeInternal) {\n  applyForwarding(key);\n}\nmodule.exports = ReactNative;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule AccessibilityInfo\n * @flow\n */\n'use strict';\n\nvar NativeModules = require('NativeModules');\nvar RCTDeviceEventEmitter = require('RCTDeviceEventEmitter');\n\nvar RCTAccessibilityInfo = NativeModules.AccessibilityInfo;\n\nvar TOUCH_EXPLORATION_EVENT = 'touchExplorationDidChange';\n\ntype ChangeEventName = $Enum<{\n  change: string,\n}>;\n\nvar _subscriptions = new Map();\n\nvar AccessibilityInfo = {\n\n  fetch: function(): Promise {\n    return new Promise((resolve, reject) => {\n      RCTAccessibilityInfo.isTouchExplorationEnabled(\n        function(resp) {\n          resolve(resp);\n        }\n      );\n    });\n  },\n\n  addEventListener: function (\n    eventName: ChangeEventName,\n    handler: Function\n  ): void {\n    var listener = RCTDeviceEventEmitter.addListener(\n      TOUCH_EXPLORATION_EVENT,\n      (enabled) => {\n        handler(enabled);\n      }\n    );\n    _subscriptions.set(handler, listener);\n  },\n\n  removeEventListener: function(\n    eventName: ChangeEventName,\n    handler: Function\n  ): void {\n    var listener = _subscriptions.get(handler);\n    if (!listener) {\n      return;\n    }\n    listener.remove();\n    _subscriptions.delete(handler);\n  },\n\n};\n\nmodule.exports = AccessibilityInfo;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule NativeModules\n * @flow\n */\n'use strict';\n\nconst BatchedBridge = require('BatchedBridge');\n\nconst defineLazyObjectProperty = require('defineLazyObjectProperty');\nconst invariant = require('fbjs/lib/invariant');\n\ntype ModuleConfig = [\n  string, /* name */\n  ?Object, /* constants */\n  Array<string>, /* functions */\n  Array<number>, /* promise method IDs */\n  Array<number>, /* sync method IDs */\n];\n\nexport type MethodType = 'async' | 'promise' | 'sync';\n\nfunction genModule(config: ?ModuleConfig, moduleID: number): ?{name: string, module?: Object} {\n  if (!config) {\n    return null;\n  }\n\n  const [moduleName, constants, methods, promiseMethods, syncMethods] = config;\n  invariant(!moduleName.startsWith('RCT') && !moduleName.startsWith('RK'),\n    'Module name prefixes should\\'ve been stripped by the native side ' +\n    'but wasn\\'t for ' + moduleName);\n\n  if (!constants && !methods) {\n    // Module contents will be filled in lazily later\n    return { name: moduleName };\n  }\n\n  const module = {};\n  methods && methods.forEach((methodName, methodID) => {\n    const isPromise = promiseMethods && arrayContains(promiseMethods, methodID);\n    const isSync = syncMethods && arrayContains(syncMethods, methodID);\n    invariant(!isPromise || !isSync, 'Cannot have a method that is both async and a sync hook');\n    const methodType = isPromise ? 'promise' : isSync ? 'sync' : 'async';\n    module[methodName] = genMethod(moduleID, methodID, methodType);\n  });\n  Object.assign(module, constants);\n\n  if (__DEV__) {\n    BatchedBridge.createDebugLookup(moduleID, moduleName, methods);\n  }\n\n  return { name: moduleName, module };\n}\n\n// export this method as a global so we can call it from native\nglobal.__fbGenNativeModule = genModule;\n\nfunction loadModule(name: string, moduleID: number): ?Object {\n  invariant(global.nativeRequireModuleConfig,\n    'Can\\'t lazily create module without nativeRequireModuleConfig');\n  const config = global.nativeRequireModuleConfig(name);\n  const info = genModule(config, moduleID);\n  return info && info.module;\n}\n\nfunction genMethod(moduleID: number, methodID: number, type: MethodType) {\n  let fn = null;\n  if (type === 'promise') {\n    fn = function(...args: Array<any>) {\n      return new Promise((resolve, reject) => {\n        BatchedBridge.enqueueNativeCall(moduleID, methodID, args,\n          (data) => resolve(data),\n          (errorData) => reject(createErrorFromErrorData(errorData)));\n      });\n    };\n  } else if (type === 'sync') {\n    fn = function(...args: Array<any>) {\n      return global.nativeCallSyncHook(moduleID, methodID, args);\n    };\n  } else {\n    fn = function(...args: Array<any>) {\n      const lastArg = args.length > 0 ? args[args.length - 1] : null;\n      const secondLastArg = args.length > 1 ? args[args.length - 2] : null;\n      const hasSuccessCallback = typeof lastArg === 'function';\n      const hasErrorCallback = typeof secondLastArg === 'function';\n      hasErrorCallback && invariant(\n        hasSuccessCallback,\n        'Cannot have a non-function arg after a function arg.'\n      );\n      const onSuccess = hasSuccessCallback ? lastArg : null;\n      const onFail = hasErrorCallback ? secondLastArg : null;\n      const callbackCount = hasSuccessCallback + hasErrorCallback;\n      args = args.slice(0, args.length - callbackCount);\n      BatchedBridge.enqueueNativeCall(moduleID, methodID, args, onFail, onSuccess);\n    };\n  }\n  fn.type = type;\n  return fn;\n}\n\nfunction arrayContains<T>(array: Array<T>, value: T): boolean {\n  return array.indexOf(value) !== -1;\n}\n\nfunction createErrorFromErrorData(errorData: {message: string}): Error {\n  const {\n    message,\n    ...extraErrorInfo\n  } = errorData;\n  const error = new Error(message);\n  (error:any).framesToPop = 1;\n  return Object.assign(error, extraErrorInfo);\n}\n\nlet NativeModules : {[moduleName: string]: Object} = {};\nif (global.nativeModuleProxy) {\n  NativeModules = global.nativeModuleProxy;\n} else {\n  const bridgeConfig = global.__fbBatchedBridgeConfig;\n  invariant(bridgeConfig, '__fbBatchedBridgeConfig is not set, cannot invoke native modules');\n\n  (bridgeConfig.remoteModuleConfig || []).forEach((config: ModuleConfig, moduleID: number) => {\n    // Initially this config will only contain the module name when running in JSC. The actual\n    // configuration of the module will be lazily loaded.\n    const info = genModule(config, moduleID);\n    if (!info) {\n      return;\n    }\n\n    if (info.module) {\n      NativeModules[info.name] = info.module;\n    }\n    // If there's no module config, define a lazy getter\n    else {\n      defineLazyObjectProperty(NativeModules, info.name, {\n        get: () => loadModule(info.name, moduleID)\n      });\n    }\n  });\n}\n\nmodule.exports = NativeModules;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule BatchedBridge\n * @flow\n */\n'use strict';\n\nconst MessageQueue = require('MessageQueue');\nconst BatchedBridge = new MessageQueue();\n\n// Wire up the batched bridge on the global object so that we can call into it.\n// Ideally, this would be the inverse relationship. I.e. the native environment\n// provides this global directly with its script embedded. Then this module\n// would export it. A possible fix would be to trim the dependencies in\n// MessageQueue to its minimal features and embed that in the native runtime.\n\nObject.defineProperty(global, '__fbBatchedBridge', {\n  configurable: true,\n  value: BatchedBridge,\n});\n\nmodule.exports = BatchedBridge;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule MessageQueue\n * @flow\n */\n\n/*eslint no-bitwise: 0*/\n\n'use strict';\n\nconst ErrorUtils = require('ErrorUtils');\nconst JSTimersExecution = require('JSTimersExecution');\nconst Systrace = require('Systrace');\n\nconst deepFreezeAndThrowOnMutationInDev = require('deepFreezeAndThrowOnMutationInDev');\nconst invariant = require('fbjs/lib/invariant');\nconst stringifySafe = require('stringifySafe');\n\nexport type SpyData = {\n  type: number,\n  module: ?string,\n  method: string|number,\n  args: any\n}\n\nconst TO_JS = 0;\nconst TO_NATIVE = 1;\n\nconst MODULE_IDS = 0;\nconst METHOD_IDS = 1;\nconst PARAMS = 2;\nconst MIN_TIME_BETWEEN_FLUSHES_MS = 5;\n\nconst TRACE_TAG_REACT_APPS = 1 << 17;\n\nconst DEBUG_INFO_LIMIT = 32;\n\nconst guard = (fn) => {\n  try {\n    fn();\n  } catch (error) {\n    ErrorUtils.reportFatalError(error);\n  }\n};\n\nclass MessageQueue {\n  _callableModules: {[key: string]: Object};\n  _queue: [Array<number>, Array<number>, Array<any>, number];\n  _callbacks: [];\n  _callbackID: number;\n  _callID: number;\n  _lastFlush: number;\n  _eventLoopStartTime: number;\n\n  _debugInfo: Object;\n  _remoteModuleTable: Object;\n  _remoteMethodTable: Object;\n\n  __spy: ?(data: SpyData) => void;\n\n  constructor() {\n    this._callableModules = {};\n    this._queue = [[], [], [], 0];\n    this._callbacks = [];\n    this._callbackID = 0;\n    this._callID = 0;\n    this._lastFlush = 0;\n    this._eventLoopStartTime = new Date().getTime();\n\n    if (__DEV__) {\n      this._debugInfo = {};\n      this._remoteModuleTable = {};\n      this._remoteMethodTable = {};\n    }\n\n    (this:any).callFunctionReturnFlushedQueue = this.callFunctionReturnFlushedQueue.bind(this);\n    (this:any).callFunctionReturnResultAndFlushedQueue = this.callFunctionReturnResultAndFlushedQueue.bind(this);\n    (this:any).flushedQueue = this.flushedQueue.bind(this);\n    (this:any).invokeCallbackAndReturnFlushedQueue = this.invokeCallbackAndReturnFlushedQueue.bind(this);\n  }\n\n  /**\n   * Public APIs\n   */\n\n  static spy(spyOrToggle: boolean|(data: SpyData) => void){\n    if (spyOrToggle === true){\n      MessageQueue.prototype.__spy = info => {\n        console.log(`${info.type === TO_JS ? 'N->JS' : 'JS->N'} : ` +\n                    `${info.module ? (info.module + '.') : ''}${info.method}` +\n                    `(${JSON.stringify(info.args)})`);\n      };\n    } else if (spyOrToggle === false) {\n      MessageQueue.prototype.__spy = null;\n    } else {\n      MessageQueue.prototype.__spy = spyOrToggle;\n    }\n  }\n\n  callFunctionReturnFlushedQueue(module: string, method: string, args: Array<any>) {\n    guard(() => {\n      this.__callFunction(module, method, args);\n      this.__callImmediates();\n    });\n\n    return this.flushedQueue();\n  }\n\n  callFunctionReturnResultAndFlushedQueue(module: string, method: string, args: Array<any>) {\n    let result;\n    guard(() => {\n      result = this.__callFunction(module, method, args);\n      this.__callImmediates();\n    });\n\n    return [result, this.flushedQueue()];\n  }\n\n  invokeCallbackAndReturnFlushedQueue(cbID: number, args: Array<any>) {\n    guard(() => {\n      this.__invokeCallback(cbID, args);\n      this.__callImmediates();\n    });\n\n    return this.flushedQueue();\n  }\n\n  flushedQueue() {\n    this.__callImmediates();\n\n    const queue = this._queue;\n    this._queue = [[], [], [], this._callID];\n    return queue[0].length ? queue : null;\n  }\n\n  getEventLoopRunningTime() {\n    return new Date().getTime() - this._eventLoopStartTime;\n  }\n\n  registerCallableModule(name: string, module: Object) {\n    this._callableModules[name] = module;\n  }\n\n  enqueueNativeCall(moduleID: number, methodID: number, params: Array<any>, onFail: ?Function, onSucc: ?Function) {\n    if (onFail || onSucc) {\n      if (__DEV__) {\n        const callId = this._callbackID >> 1;\n        this._debugInfo[callId] = [moduleID, methodID];\n        if (callId > DEBUG_INFO_LIMIT) {\n          delete this._debugInfo[callId - DEBUG_INFO_LIMIT];\n        }\n      }\n      onFail && params.push(this._callbackID);\n      /* $FlowFixMe(>=0.38.0 site=react_native_fb,react_native_oss) - Flow error\n       * detected during the deployment of v0.38.0. To see the error, remove\n       * this comment and run flow */\n      this._callbacks[this._callbackID++] = onFail;\n      onSucc && params.push(this._callbackID);\n      /* $FlowFixMe(>=0.38.0 site=react_native_fb,react_native_oss) - Flow error\n       * detected during the deployment of v0.38.0. To see the error, remove\n       * this comment and run flow */\n      this._callbacks[this._callbackID++] = onSucc;\n    }\n\n    if (__DEV__) {\n      global.nativeTraceBeginAsyncFlow &&\n        global.nativeTraceBeginAsyncFlow(TRACE_TAG_REACT_APPS, 'native', this._callID);\n    }\n    this._callID++;\n\n    this._queue[MODULE_IDS].push(moduleID);\n    this._queue[METHOD_IDS].push(methodID);\n\n    if (__DEV__) {\n      // Any params sent over the bridge should be encodable as JSON\n      JSON.stringify(params);\n\n      // The params object should not be mutated after being queued\n      deepFreezeAndThrowOnMutationInDev((params:any));\n    }\n    this._queue[PARAMS].push(params);\n\n    const now = new Date().getTime();\n    if (global.nativeFlushQueueImmediate &&\n        now - this._lastFlush >= MIN_TIME_BETWEEN_FLUSHES_MS) {\n      global.nativeFlushQueueImmediate(this._queue);\n      this._queue = [[], [], [], this._callID];\n      this._lastFlush = now;\n    }\n    Systrace.counterEvent('pending_js_to_native_queue', this._queue[0].length);\n    if (__DEV__ && this.__spy && isFinite(moduleID)) {\n      this.__spy(\n        { type: TO_NATIVE,\n          module: this._remoteModuleTable[moduleID],\n          method: this._remoteMethodTable[moduleID][methodID],\n          args: params }\n      );\n    } else if (this.__spy) {\n      this.__spy({type: TO_NATIVE, module: moduleID + '', method: methodID, args: params});\n    }\n  }\n\n  createDebugLookup(moduleID: number, name: string, methods: Array<string>) {\n    if (__DEV__) {\n      this._remoteModuleTable[moduleID] = name;\n      this._remoteMethodTable[moduleID] = methods;\n    }\n  }\n\n  /**\n   * \"Private\" methods\n   */\n\n  __callImmediates() {\n    Systrace.beginEvent('JSTimersExecution.callImmediates()');\n    guard(() => JSTimersExecution.callImmediates());\n    Systrace.endEvent();\n  }\n\n  __callFunction(module: string, method: string, args: Array<any>) {\n    this._lastFlush = new Date().getTime();\n    this._eventLoopStartTime = this._lastFlush;\n    Systrace.beginEvent(`${module}.${method}()`);\n    if (this.__spy) {\n      this.__spy({ type: TO_JS, module, method, args});\n    }\n    const moduleMethods = this._callableModules[module];\n    invariant(\n      !!moduleMethods,\n      'Module %s is not a registered callable module (calling %s)',\n      module, method\n    );\n    invariant(\n      !!moduleMethods[method],\n      'Method %s does not exist on module %s',\n      method, module\n    );\n    const result = moduleMethods[method].apply(moduleMethods, args);\n    Systrace.endEvent();\n    return result;\n  }\n\n  __invokeCallback(cbID: number, args: Array<any>) {\n    this._lastFlush = new Date().getTime();\n    this._eventLoopStartTime = this._lastFlush;\n    const callback = this._callbacks[cbID];\n\n    if (__DEV__) {\n      const debug = this._debugInfo[cbID >> 1];\n      const module = debug && this._remoteModuleTable[debug[0]];\n      const method = debug && this._remoteMethodTable[debug[0]][debug[1]];\n      if (callback == null) {\n        let errorMessage = `Callback with id ${cbID}: ${module}.${method}() not found`;\n        if (method) {\n          errorMessage = `The callback ${method}() exists in module ${module}, `\n          + 'but only one callback may be registered to a function in a native module.';\n        }\n        invariant(\n          callback,\n          errorMessage\n        );\n      }\n      const profileName = debug ? '<callback for ' + module + '.' + method + '>' : cbID;\n      if (callback && this.__spy) {\n        this.__spy({ type: TO_JS, module:null, method:profileName, args });\n      }\n      Systrace.beginEvent(\n        `MessageQueue.invokeCallback(${profileName}, ${stringifySafe(args)})`);\n    } else {\n      if (!callback) {\n        return;\n      }\n    }\n\n    /* $FlowFixMe(>=0.38.0 site=react_native_fb,react_native_oss) - Flow error\n     * detected during the deployment of v0.38.0. To see the error, remove this\n     * comment and run flow */\n    this._callbacks[cbID & ~1] = null;\n    /* $FlowFixMe(>=0.38.0 site=react_native_fb,react_native_oss) - Flow error\n     * detected during the deployment of v0.38.0. To see the error, remove this\n     * comment and run flow */\n    this._callbacks[cbID |  1] = null;\n    // $FlowIssue(>=0.35.0) #14551610\n    callback.apply(null, args);\n\n    if (__DEV__) {\n      Systrace.endEvent();\n    }\n  }\n}\n\nmodule.exports = MessageQueue;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule ErrorUtils\n * @flow\n */\n\n/* eslint-disable strict */\n\n/**\n * The particular require runtime that we are using looks for a global\n * `ErrorUtils` object and if it exists, then it requires modules with the\n * error handler specified via ErrorUtils.setGlobalHandler by calling the\n * require function with applyWithGuard. Since the require module is loaded\n * before any of the modules, this ErrorUtils must be defined (and the handler\n * set) globally before requiring anything.\n *\n * However, we still want to treat ErrorUtils as a module so that other modules\n * that use it aren't just using a global variable, so simply export the global\n * variable here. ErrorUtils is originally defined in a file named error-guard.js.\n */\nmodule.exports = global.ErrorUtils;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule JSTimersExecution\n * @flow\n */\n'use strict';\n\nconst Systrace = require('Systrace');\n\nconst invariant = require('fbjs/lib/invariant');\nconst performanceNow = require('fbjs/lib/performanceNow');\nconst warning = require('fbjs/lib/warning');\n\n// These timing contants should be kept in sync with the ones in native ios and\n// android `RCTTiming` module.\nconst FRAME_DURATION = 1000 / 60;\nconst IDLE_CALLBACK_FRAME_DEADLINE = 1;\n\nlet hasEmittedTimeDriftWarning = false;\n\nexport type JSTimerType =\n  'setTimeout' |\n  'setInterval' |\n  'requestAnimationFrame' |\n  'setImmediate' |\n  'requestIdleCallback';\n\n/**\n * JS implementation of timer functions. Must be completely driven by an\n * external clock signal, all that's stored here is timerID, timer type, and\n * callback.\n */\nconst JSTimersExecution = {\n  GUID: 1,\n\n  // Parallel arrays\n  callbacks: ([] : Array<?Function>),\n  types: ([] : Array<?JSTimerType>),\n  timerIDs: ([] : Array<?number>),\n  immediates: [],\n  requestIdleCallbacks: [],\n  identifiers: ([] : Array<null | {methodName: string}>),\n\n  errors: (null : ?Array<Error>),\n\n  /**\n   * Calls the callback associated with the ID. Also unregister that callback\n   * if it was a one time timer (setTimeout), and not unregister it if it was\n   * recurring (setInterval).\n   */\n  callTimer(timerID: number, frameTime: number) {\n    warning(\n      timerID <= JSTimersExecution.GUID,\n      'Tried to call timer with ID %s but no such timer exists.',\n      timerID\n    );\n\n    // timerIndex of -1 means that no timer with that ID exists. There are\n    // two situations when this happens, when a garbage timer ID was given\n    // and when a previously existing timer was deleted before this callback\n    // fired. In both cases we want to ignore the timer id, but in the former\n    // case we warn as well.\n    const timerIndex = JSTimersExecution.timerIDs.indexOf(timerID);\n    if (timerIndex === -1) {\n      return;\n    }\n\n    const type = JSTimersExecution.types[timerIndex];\n    const callback = JSTimersExecution.callbacks[timerIndex];\n    if (!callback || !type) {\n      console.error('No callback found for timerID ' + timerID);\n      return;\n    }\n\n    if (__DEV__) {\n      const identifier = JSTimersExecution.identifiers[timerIndex] || {};\n      Systrace.beginEvent('Systrace.callTimer: ' + identifier.methodName);\n    }\n\n    // Clear the metadata\n    if (type === 'setTimeout' || type === 'setImmediate' ||\n        type === 'requestAnimationFrame' || type === 'requestIdleCallback') {\n      JSTimersExecution._clearIndex(timerIndex);\n    }\n\n    try {\n      if (type === 'setTimeout' || type === 'setInterval' ||\n          type === 'setImmediate') {\n        callback();\n      } else if (type === 'requestAnimationFrame') {\n        callback(performanceNow());\n      } else if (type === 'requestIdleCallback') {\n        callback({\n          timeRemaining: function() {\n            // TODO: Optimisation: allow running for longer than one frame if\n            // there are no pending JS calls on the bridge from native. This\n            // would require a way to check the bridge queue synchronously.\n            return Math.max(0, FRAME_DURATION - (performanceNow() - frameTime));\n          },\n        });\n      } else {\n        console.error('Tried to call a callback with invalid type: ' + type);\n      }\n    } catch (e) {\n      // Don't rethrow so that we can run all timers.\n      if (!JSTimersExecution.errors) {\n        JSTimersExecution.errors = [e];\n      } else {\n        JSTimersExecution.errors.push(e);\n      }\n    }\n\n    if (__DEV__) {\n      Systrace.endEvent();\n    }\n  },\n\n  /**\n   * This is called from the native side. We are passed an array of timerIDs,\n   * and\n   */\n  callTimers(timerIDs: [number]) {\n    invariant(\n      timerIDs.length !== 0,\n      'Cannot call `callTimers` with an empty list of IDs.'\n    );\n\n    JSTimersExecution.errors = null;\n    for (let i = 0; i < timerIDs.length; i++) {\n      JSTimersExecution.callTimer(timerIDs[i], 0);\n    }\n\n    const errors = JSTimersExecution.errors;\n    if (errors) {\n      const errorCount = errors.length;\n      if (errorCount > 1) {\n        // Throw all the other errors in a setTimeout, which will throw each\n        // error one at a time\n        for (let ii = 1; ii < errorCount; ii++) {\n          require('JSTimers').setTimeout(\n            ((error) => { throw error; }).bind(null, errors[ii]),\n            0\n          );\n        }\n      }\n      throw errors[0];\n    }\n  },\n\n  callIdleCallbacks: function(frameTime: number) {\n    if (FRAME_DURATION - (performanceNow() - frameTime) < IDLE_CALLBACK_FRAME_DEADLINE) {\n      return;\n    }\n\n    JSTimersExecution.errors = null;\n    if (JSTimersExecution.requestIdleCallbacks.length > 0) {\n      const passIdleCallbacks = JSTimersExecution.requestIdleCallbacks.slice();\n      JSTimersExecution.requestIdleCallbacks = [];\n\n      for (let i = 0; i < passIdleCallbacks.length; ++i) {\n        JSTimersExecution.callTimer(passIdleCallbacks[i], frameTime);\n      }\n    }\n\n    if (JSTimersExecution.requestIdleCallbacks.length === 0) {\n      const { Timing } = require('NativeModules');\n      Timing.setSendIdleEvents(false);\n    }\n\n    if (JSTimersExecution.errors) {\n      JSTimersExecution.errors.forEach((error) =>\n        require('JSTimers').setTimeout(() => { throw error; }, 0)\n      );\n    }\n  },\n\n  /**\n   * Performs a single pass over the enqueued immediates. Returns whether\n   * more immediates are queued up (can be used as a condition a while loop).\n   */\n  callImmediatesPass() {\n    Systrace.beginEvent('JSTimersExecution.callImmediatesPass()');\n\n    // The main reason to extract a single pass is so that we can track\n    // in the system trace\n    if (JSTimersExecution.immediates.length > 0) {\n      const passImmediates = JSTimersExecution.immediates.slice();\n      JSTimersExecution.immediates = [];\n\n      // Use for loop rather than forEach as per @vjeux's advice\n      // https://github.com/facebook/react-native/commit/c8fd9f7588ad02d2293cac7224715f4af7b0f352#commitcomment-14570051\n      for (let i = 0; i < passImmediates.length; ++i) {\n        JSTimersExecution.callTimer(passImmediates[i], 0);\n      }\n    }\n\n    Systrace.endEvent();\n\n    return JSTimersExecution.immediates.length > 0;\n  },\n\n  /**\n   * This is called after we execute any command we receive from native but\n   * before we hand control back to native.\n   */\n  callImmediates() {\n    JSTimersExecution.errors = null;\n    while (JSTimersExecution.callImmediatesPass()) {}\n    if (JSTimersExecution.errors) {\n      JSTimersExecution.errors.forEach((error) =>\n        require('JSTimers').setTimeout(() => { throw error; }, 0)\n      );\n    }\n  },\n\n  /**\n   * Called from native (in development) when environment times are out-of-sync.\n   */\n  emitTimeDriftWarning(warningMessage: string) {\n    if (hasEmittedTimeDriftWarning) {\n      return;\n    }\n    hasEmittedTimeDriftWarning = true;\n    console.warn(warningMessage);\n  },\n\n  _clearIndex(i: number) {\n    JSTimersExecution.timerIDs[i] = null;\n    JSTimersExecution.callbacks[i] = null;\n    JSTimersExecution.types[i] = null;\n    JSTimersExecution.identifiers[i] = null;\n  },\n};\n\nmodule.exports = JSTimersExecution;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule Systrace\n * @flow\n */\n'use strict';\n\ntype RelayProfiler = {\n  attachProfileHandler(\n    name: string,\n    handler: (name: string, state?: any) => () => void\n  ): void,\n\n  attachAggregateHandler(\n    name: string,\n    handler: (name: string, callback: () => void) => void\n  ): void,\n};\n\n/* eslint no-bitwise: 0 */\nconst TRACE_TAG_REACT_APPS = 1 << 17;\nconst TRACE_TAG_JSC_CALLS = 1 << 27;\n\nlet _enabled = false;\nlet _asyncCookie = 0;\n\nconst ReactSystraceDevtool = __DEV__ ? {\n  onBeforeMountComponent(debugID) {\n    const displayName = require('react/lib/ReactComponentTreeHook').getDisplayName(debugID);\n    Systrace.beginEvent(`ReactReconciler.mountComponent(${displayName})`);\n  },\n  onMountComponent(debugID) {\n    Systrace.endEvent();\n  },\n  onBeforeUpdateComponent(debugID) {\n    const displayName = require('react/lib/ReactComponentTreeHook').getDisplayName(debugID);\n    Systrace.beginEvent(`ReactReconciler.updateComponent(${displayName})`);\n  },\n  onUpdateComponent(debugID) {\n    Systrace.endEvent();\n  },\n  onBeforeUnmountComponent(debugID) {\n    const displayName = require('react/lib/ReactComponentTreeHook').getDisplayName(debugID);\n    Systrace.beginEvent(`ReactReconciler.unmountComponent(${displayName})`);\n  },\n  onUnmountComponent(debugID) {\n    Systrace.endEvent();\n  },\n  onBeginLifeCycleTimer(debugID, timerType) {\n    const displayName = require('react/lib/ReactComponentTreeHook').getDisplayName(debugID);\n    Systrace.beginEvent(`${displayName}.${timerType}()`);\n  },\n  onEndLifeCycleTimer(debugID, timerType) {\n    Systrace.endEvent();\n  },\n} : null;\n\nconst Systrace = {\n  setEnabled(enabled: boolean) {\n    if (_enabled !== enabled) {\n      if (__DEV__) {\n        if (enabled) {\n          global.nativeTraceBeginLegacy && global.nativeTraceBeginLegacy(TRACE_TAG_JSC_CALLS);\n          require('ReactDebugTool').addHook(ReactSystraceDevtool);\n        } else {\n          global.nativeTraceEndLegacy && global.nativeTraceEndLegacy(TRACE_TAG_JSC_CALLS);\n          require('ReactDebugTool').removeHook(ReactSystraceDevtool);\n        }\n      }\n      _enabled = enabled;\n    }\n  },\n\n  /**\n   * beginEvent/endEvent for starting and then ending a profile within the same call stack frame\n  **/\n  beginEvent(profileName?: any, args?: any) {\n    if (_enabled) {\n      profileName = typeof profileName === 'function' ?\n        profileName() : profileName;\n      global.nativeTraceBeginSection(TRACE_TAG_REACT_APPS, profileName, args);\n    }\n  },\n\n  endEvent() {\n    if (_enabled) {\n      global.nativeTraceEndSection(TRACE_TAG_REACT_APPS);\n    }\n  },\n\n  /**\n   * beginAsyncEvent/endAsyncEvent for starting and then ending a profile where the end can either\n   * occur on another thread or out of the current stack frame, eg await\n   * the returned cookie variable should be used as input into the endAsyncEvent call to end the profile\n  **/\n  beginAsyncEvent(profileName?: any): any {\n    const cookie = _asyncCookie;\n    if (_enabled) {\n      _asyncCookie++;\n      profileName = typeof profileName === 'function' ?\n        profileName() : profileName;\n      global.nativeTraceBeginAsyncSection(TRACE_TAG_REACT_APPS, profileName, cookie, 0);\n    }\n    return cookie;\n  },\n\n  endAsyncEvent(profileName?: any, cookie?: any) {\n    if (_enabled) {\n      profileName = typeof profileName === 'function' ?\n        profileName() : profileName;\n      global.nativeTraceEndAsyncSection(TRACE_TAG_REACT_APPS, profileName, cookie, 0);\n    }\n  },\n\n  /**\n   * counterEvent registers the value to the profileName on the systrace timeline\n  **/\n  counterEvent(profileName?: any, value?: any) {\n    if (_enabled) {\n      profileName = typeof profileName === 'function' ?\n        profileName() : profileName;\n      global.nativeTraceCounter &&\n        global.nativeTraceCounter(TRACE_TAG_REACT_APPS, profileName, value);\n    }\n  },\n\n  /**\n   * Relay profiles use await calls, so likely occur out of current stack frame\n   * therefore async variant of profiling is used\n  **/\n  attachToRelayProfiler(relayProfiler: RelayProfiler) {\n    relayProfiler.attachProfileHandler('*', (name) => {\n      const cookie = Systrace.beginAsyncEvent(name);\n      return () => {\n        Systrace.endAsyncEvent(name, cookie);\n      };\n    });\n\n    relayProfiler.attachAggregateHandler('*', (name, callback) => {\n      Systrace.beginEvent(name);\n      callback();\n      Systrace.endEvent();\n    });\n  },\n\n  /* This is not called by default due to perf overhead but it's useful\n     if you want to find traces which spend too much time in JSON. */\n  swizzleJSON() {\n    Systrace.measureMethods(JSON, 'JSON', [\n      'parse',\n      'stringify'\n    ]);\n  },\n\n /**\n  * Measures multiple methods of a class. For example, you can do:\n  * Systrace.measureMethods(JSON, 'JSON', ['parse', 'stringify']);\n  *\n  * @param object\n  * @param objectName\n  * @param methodNames Map from method names to method display names.\n  */\n measureMethods(object: any, objectName: string, methodNames: Array<string>): void {\n   if (!__DEV__) {\n     return;\n   }\n\n   methodNames.forEach(methodName => {\n     object[methodName] = Systrace.measure(\n       objectName,\n       methodName,\n       object[methodName]\n     );\n   });\n },\n\n /**\n  * Returns an profiled version of the input function. For example, you can:\n  * JSON.parse = Systrace.measure('JSON', 'parse', JSON.parse);\n  *\n  * @param objName\n  * @param fnName\n  * @param {function} func\n  * @return {function} replacement function\n  */\n measure(objName: string, fnName: string, func: any): any {\n   if (!__DEV__) {\n     return func;\n   }\n\n   const profileName = `${objName}.${fnName}`;\n   return function() {\n     if (!_enabled) {\n       return func.apply(this, arguments);\n     }\n\n     Systrace.beginEvent(profileName);\n     const ret = func.apply(this, arguments);\n     Systrace.endEvent();\n     return ret;\n   };\n },\n};\n\nif (__DEV__) {\n  // This is needed, because require callis in polyfills are not processed as\n  // other files. Therefore, calls to `require('moduleId')` are not replaced\n  // with numeric IDs\n  // TODO(davidaurelio) Scan polyfills for dependencies, too (t9759686)\n  (require: any).Systrace = Systrace;\n}\n\nmodule.exports = Systrace;\n","/**\n * Copyright 2016-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule ReactDebugTool\n * @flow\n */\n\n'use strict';\n\nvar ReactInvalidSetStateWarningHook = require('ReactInvalidSetStateWarningHook');\nvar ReactHostOperationHistoryHook = require('ReactHostOperationHistoryHook');\nvar ReactComponentTreeHook = require('react/lib/ReactComponentTreeHook');\nvar ExecutionEnvironment = require('fbjs/lib/ExecutionEnvironment');\n\nvar performanceNow = require('fbjs/lib/performanceNow');\nvar warning = require('fbjs/lib/warning');\n\nimport type { ReactElement } from 'ReactElementType';\nimport type { DebugID } from 'ReactInstanceType';\nimport type { Operation } from 'ReactHostOperationHistoryHook';\n\ntype Hook = any;\n\ntype TimerType =\n  'ctor' |\n  'render' |\n  'componentWillMount' |\n  'componentWillUnmount' |\n  'componentWillReceiveProps' |\n  'shouldComponentUpdate' |\n  'componentWillUpdate' |\n  'componentDidUpdate' |\n  'componentDidMount';\n\ntype Measurement = {\n  timerType: TimerType,\n  instanceID: DebugID,\n  duration: number,\n};\n\ntype TreeSnapshot = {\n  [key: DebugID]: {\n    displayName: string,\n    text: string,\n    updateCount: number,\n    childIDs: Array<DebugID>,\n    ownerID: DebugID,\n    parentID: DebugID,\n  }\n};\n\ntype HistoryItem = {\n  duration: number,\n  measurements: Array<Measurement>,\n  operations: Array<Operation>,\n  treeSnapshot: TreeSnapshot,\n};\n\nexport type FlushHistory = Array<HistoryItem>;\n\n// Trust the developer to only use this with a __DEV__ check\nvar ReactDebugTool = ((null: any): typeof ReactDebugTool);\n\nif (__DEV__) {\n  var hooks = [];\n  var didHookThrowForEvent = {};\n\n  const callHook = function(event, fn, context, arg1, arg2, arg3, arg4, arg5) {\n    try {\n      fn.call(context, arg1, arg2, arg3, arg4, arg5);\n    } catch (e) {\n      warning(\n        didHookThrowForEvent[event],\n        'Exception thrown by hook while handling %s: %s',\n        event,\n        e + '\\n' + e.stack\n      );\n      didHookThrowForEvent[event] = true;\n    }\n  };\n\n  const emitEvent = function(event, arg1, arg2, arg3, arg4, arg5) {\n    for (var i = 0; i < hooks.length; i++) {\n      var hook = hooks[i];\n      var fn = hook[event];\n      if (fn) {\n        callHook(event, fn, hook, arg1, arg2, arg3, arg4, arg5);\n      }\n    }\n  };\n\n  var isProfiling = false;\n  var flushHistory = [];\n  var lifeCycleTimerStack = [];\n  var currentFlushNesting = 0;\n  var currentFlushMeasurements = [];\n  var currentFlushStartTime = 0;\n  var currentTimerDebugID = null;\n  var currentTimerStartTime = 0;\n  var currentTimerNestedFlushDuration = 0;\n  var currentTimerType = null;\n\n  var lifeCycleTimerHasWarned = false;\n\n  const clearHistory = function() {\n    ReactComponentTreeHook.purgeUnmountedComponents();\n    ReactHostOperationHistoryHook.clearHistory();\n  };\n\n  const getTreeSnapshot = function(registeredIDs) {\n    return registeredIDs.reduce((tree, id) => {\n      var ownerID = ReactComponentTreeHook.getOwnerID(id);\n      var parentID = ReactComponentTreeHook.getParentID(id);\n      tree[id] = {\n        displayName: ReactComponentTreeHook.getDisplayName(id),\n        text: ReactComponentTreeHook.getText(id),\n        updateCount: ReactComponentTreeHook.getUpdateCount(id),\n        childIDs: ReactComponentTreeHook.getChildIDs(id),\n        // Text nodes don't have owners but this is close enough.\n        ownerID: ownerID ||\n          parentID && ReactComponentTreeHook.getOwnerID(parentID) ||\n          0,\n        parentID,\n      };\n      return tree;\n    }, {});\n  };\n\n  const resetMeasurements = function() {\n    var previousStartTime = currentFlushStartTime;\n    var previousMeasurements = currentFlushMeasurements;\n    var previousOperations = ReactHostOperationHistoryHook.getHistory();\n\n    if (currentFlushNesting === 0) {\n      currentFlushStartTime = 0;\n      currentFlushMeasurements = [];\n      clearHistory();\n      return;\n    }\n\n    if (previousMeasurements.length || previousOperations.length) {\n      var registeredIDs = ReactComponentTreeHook.getRegisteredIDs();\n      flushHistory.push({\n        duration: performanceNow() - previousStartTime,\n        measurements: previousMeasurements || [],\n        operations: previousOperations || [],\n        treeSnapshot: getTreeSnapshot(registeredIDs),\n      });\n    }\n\n    clearHistory();\n    currentFlushStartTime = performanceNow();\n    currentFlushMeasurements = [];\n  };\n\n  const checkDebugID = function(debugID, allowRoot = false) {\n    if (allowRoot && debugID === 0) {\n      return;\n    }\n    if (!debugID) {\n      warning(false, 'ReactDebugTool: debugID may not be empty.');\n    }\n  };\n\n  const beginLifeCycleTimer = function(debugID, timerType) {\n    if (currentFlushNesting === 0) {\n      return;\n    }\n    if (currentTimerType && !lifeCycleTimerHasWarned) {\n      warning(\n        false,\n        'There is an internal error in the React performance measurement code.' +\n        '\\n\\nDid not expect %s timer to start while %s timer is still in ' +\n        'progress for %s instance.',\n        timerType,\n        currentTimerType || 'no',\n        (debugID === currentTimerDebugID) ? 'the same' : 'another'\n      );\n      lifeCycleTimerHasWarned = true;\n    }\n    currentTimerStartTime = performanceNow();\n    currentTimerNestedFlushDuration = 0;\n    currentTimerDebugID = debugID;\n    currentTimerType = timerType;\n  };\n\n  const endLifeCycleTimer = function(debugID, timerType) {\n    if (currentFlushNesting === 0) {\n      return;\n    }\n    if (currentTimerType !== timerType && !lifeCycleTimerHasWarned) {\n      warning(\n        false,\n        'There is an internal error in the React performance measurement code. ' +\n        'We did not expect %s timer to stop while %s timer is still in ' +\n        'progress for %s instance. Please report this as a bug in React.',\n        timerType,\n        currentTimerType || 'no',\n        (debugID === currentTimerDebugID) ? 'the same' : 'another'\n      );\n      lifeCycleTimerHasWarned = true;\n    }\n    if (isProfiling) {\n      currentFlushMeasurements.push({\n        timerType,\n        instanceID: debugID,\n        duration: performanceNow() - currentTimerStartTime - currentTimerNestedFlushDuration,\n      });\n    }\n    currentTimerStartTime = 0;\n    currentTimerNestedFlushDuration = 0;\n    currentTimerDebugID = null;\n    currentTimerType = null;\n  };\n\n  const pauseCurrentLifeCycleTimer = function() {\n    var currentTimer = {\n      startTime: currentTimerStartTime,\n      nestedFlushStartTime: performanceNow(),\n      debugID: currentTimerDebugID,\n      timerType: currentTimerType,\n    };\n    lifeCycleTimerStack.push(currentTimer);\n    currentTimerStartTime = 0;\n    currentTimerNestedFlushDuration = 0;\n    currentTimerDebugID = null;\n    currentTimerType = null;\n  };\n\n  const resumeCurrentLifeCycleTimer = function() {\n    var {startTime, nestedFlushStartTime, debugID, timerType} = lifeCycleTimerStack.pop();\n    var nestedFlushDuration = performanceNow() - nestedFlushStartTime;\n    currentTimerStartTime = startTime;\n    currentTimerNestedFlushDuration += nestedFlushDuration;\n    currentTimerDebugID = debugID;\n    currentTimerType = timerType;\n  };\n\n  var lastMarkTimeStamp = 0;\n  var canUsePerformanceMeasure: boolean =\n    typeof performance !== 'undefined' &&\n    typeof performance.mark === 'function' &&\n    typeof performance.clearMarks === 'function' &&\n    typeof performance.measure === 'function' &&\n    typeof performance.clearMeasures === 'function';\n\n  const shouldMark = function(debugID) {\n    if (!isProfiling || !canUsePerformanceMeasure) {\n      return false;\n    }\n    var element = ReactComponentTreeHook.getElement(debugID);\n    if (element == null || typeof element !== 'object') {\n      return false;\n    }\n    var isHostElement = typeof element.type === 'string';\n    if (isHostElement) {\n      return false;\n    }\n    return true;\n  };\n\n  const markBegin = function(debugID, markType) {\n    if (!shouldMark(debugID)) {\n      return;\n    }\n\n    var markName = `${debugID}::${markType}`;\n    lastMarkTimeStamp = performanceNow();\n    performance.mark(markName);\n  };\n\n  const markEnd = function(debugID, markType) {\n    if (!shouldMark(debugID)) {\n      return;\n    }\n\n    var markName = `${debugID}::${markType}`;\n    var displayName = ReactComponentTreeHook.getDisplayName(debugID) || 'Unknown';\n\n    // Chrome has an issue of dropping markers recorded too fast:\n    // https://bugs.chromium.org/p/chromium/issues/detail?id=640652\n    // To work around this, we will not report very small measurements.\n    // I determined the magic number by tweaking it back and forth.\n    // 0.05ms was enough to prevent the issue, but I set it to 0.1ms to be safe.\n    // When the bug is fixed, we can `measure()` unconditionally if we want to.\n    var timeStamp = performanceNow();\n    if (timeStamp - lastMarkTimeStamp > 0.1) {\n      var measurementName = `${displayName} [${markType}]`;\n      performance.measure(measurementName, markName);\n    }\n\n    performance.clearMarks(markName);\n    performance.clearMeasures(measurementName);\n  };\n\n  ReactDebugTool = {\n    addHook(hook: Hook): void {\n      hooks.push(hook);\n    },\n    removeHook(hook: Hook): void {\n      for (var i = 0; i < hooks.length; i++) {\n        if (hooks[i] === hook) {\n          hooks.splice(i, 1);\n          i--;\n        }\n      }\n    },\n    isProfiling(): boolean {\n      return isProfiling;\n    },\n    beginProfiling(): void {\n      if (isProfiling) {\n        return;\n      }\n\n      isProfiling = true;\n      flushHistory.length = 0;\n      resetMeasurements();\n      ReactDebugTool.addHook(ReactHostOperationHistoryHook);\n    },\n    endProfiling(): void {\n      if (!isProfiling) {\n        return;\n      }\n\n      isProfiling = false;\n      resetMeasurements();\n      ReactDebugTool.removeHook(ReactHostOperationHistoryHook);\n    },\n    getFlushHistory(): FlushHistory {\n      return flushHistory;\n    },\n    onBeginFlush(): void {\n      currentFlushNesting++;\n      resetMeasurements();\n      pauseCurrentLifeCycleTimer();\n      emitEvent('onBeginFlush');\n    },\n    onEndFlush(): void {\n      resetMeasurements();\n      currentFlushNesting--;\n      resumeCurrentLifeCycleTimer();\n      emitEvent('onEndFlush');\n    },\n    onBeginLifeCycleTimer(debugID: DebugID, timerType: TimerType): void {\n      checkDebugID(debugID);\n      emitEvent('onBeginLifeCycleTimer', debugID, timerType);\n      markBegin(debugID, timerType);\n      beginLifeCycleTimer(debugID, timerType);\n    },\n    onEndLifeCycleTimer(debugID: DebugID, timerType: TimerType): void {\n      checkDebugID(debugID);\n      endLifeCycleTimer(debugID, timerType);\n      markEnd(debugID, timerType);\n      emitEvent('onEndLifeCycleTimer', debugID, timerType);\n    },\n    onBeginProcessingChildContext(): void {\n      emitEvent('onBeginProcessingChildContext');\n    },\n    onEndProcessingChildContext(): void {\n      emitEvent('onEndProcessingChildContext');\n    },\n    onHostOperation(operation: Operation) {\n      checkDebugID(operation.instanceID);\n      emitEvent('onHostOperation', operation);\n    },\n    onSetState(): void {\n      emitEvent('onSetState');\n    },\n    onSetChildren(debugID: DebugID, childDebugIDs: Array<DebugID>) {\n      checkDebugID(debugID);\n      childDebugIDs.forEach(checkDebugID);\n      emitEvent('onSetChildren', debugID, childDebugIDs);\n    },\n    onBeforeMountComponent(debugID: DebugID, element: ReactElement, parentDebugID: DebugID): void {\n      checkDebugID(debugID);\n      checkDebugID(parentDebugID, true);\n      emitEvent('onBeforeMountComponent', debugID, element, parentDebugID);\n      markBegin(debugID, 'mount');\n    },\n    onMountComponent(debugID: DebugID): void {\n      checkDebugID(debugID);\n      markEnd(debugID, 'mount');\n      emitEvent('onMountComponent', debugID);\n    },\n    onBeforeUpdateComponent(debugID: DebugID, element: ReactElement): void {\n      checkDebugID(debugID);\n      emitEvent('onBeforeUpdateComponent', debugID, element);\n      markBegin(debugID, 'update');\n    },\n    onUpdateComponent(debugID: DebugID): void {\n      checkDebugID(debugID);\n      markEnd(debugID, 'update');\n      emitEvent('onUpdateComponent', debugID);\n    },\n    onBeforeUnmountComponent(debugID: DebugID): void {\n      checkDebugID(debugID);\n      emitEvent('onBeforeUnmountComponent', debugID);\n      markBegin(debugID, 'unmount');\n    },\n    onUnmountComponent(debugID: DebugID): void {\n      checkDebugID(debugID);\n      markEnd(debugID, 'unmount');\n      emitEvent('onUnmountComponent', debugID);\n    },\n    onTestEvent(): void {\n      emitEvent('onTestEvent');\n    },\n  };\n\n  ReactDebugTool.addHook(ReactInvalidSetStateWarningHook);\n  ReactDebugTool.addHook(ReactComponentTreeHook);\n  var url = (ExecutionEnvironment.canUseDOM && window.location.href) || '';\n  if ((/[?&]react_perf\\b/).test(url)) {\n    ReactDebugTool.beginProfiling();\n  }\n}\n\nmodule.exports = ReactDebugTool;\n","/**\n * Copyright 2016-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule ReactInvalidSetStateWarningHook\n * @flow\n */\n\n'use strict';\n\nvar warning = require('fbjs/lib/warning');\n\nvar ReactInvalidSetStateWarningHook = {};\n\nif (__DEV__) {\n  var processingChildContext = false;\n\n  var warnInvalidSetState = function() {\n    warning(\n      !processingChildContext,\n      'setState(...): Cannot call setState() inside getChildContext()'\n    );\n  };\n\n  ReactInvalidSetStateWarningHook = {\n    onBeginProcessingChildContext(): void {\n      processingChildContext = true;\n    },\n    onEndProcessingChildContext(): void {\n      processingChildContext = false;\n    },\n    onSetState(): void {\n      warnInvalidSetState();\n    },\n  };\n}\n\nmodule.exports = ReactInvalidSetStateWarningHook;\n","/**\n * Copyright 2016-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule ReactHostOperationHistoryHook\n * @flow\n */\n\n'use strict';\n\nimport type { DebugID } from 'ReactInstanceType';\n\nexport type Operation = {instanceID: DebugID} & (\n  {type: 'mount', payload: string} |\n  {type: 'insert child', payload: {toIndex: number, content: string}} |\n  {type: 'move child', payload: {fromIndex: number, toIndex: number}} |\n  {type: 'replace children', payload: string} |\n  {type: 'replace text', payload: string} |\n  {type: 'replace with', payload: string} |\n  {type: 'update styles', payload: mixed /* Style Object */} |\n  {type: 'update attribute', payload: {[name: string]: string}} |\n  {type: 'remove attribute', payload: string}\n);\n\n// Trust the developer to only use this with a __DEV__ check\nvar ReactHostOperationHistoryHook = ((null: any): typeof ReactHostOperationHistoryHook);\n\nif (__DEV__) {\n  var history: Array<Operation> = [];\n\n  ReactHostOperationHistoryHook = {\n    onHostOperation(operation: Operation) {\n      history.push(operation);\n    },\n\n    clearHistory(): void {\n      if (ReactHostOperationHistoryHook._preventClearing) {\n        // Should only be used for tests.\n        return;\n      }\n\n      history = [];\n    },\n\n    getHistory(): Array<Operation> {\n      return history;\n    },\n  };\n}\n\nmodule.exports = ReactHostOperationHistoryHook;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar canUseDOM = !!(typeof window !== 'undefined' && window.document && window.document.createElement);\n\n/**\n * Simple, lightweight module assisting with the detection and context of\n * Worker. Helps avoid circular dependencies and allows code to reason about\n * whether or not they are in a Worker, even if they never include the main\n * `ReactWorker` dependency.\n */\nvar ExecutionEnvironment = {\n\n  canUseDOM: canUseDOM,\n\n  canUseWorkers: typeof Worker !== 'undefined',\n\n  canUseEventListeners: canUseDOM && !!(window.addEventListener || window.attachEvent),\n\n  canUseViewport: canUseDOM && !!window.screen,\n\n  isInWorker: !canUseDOM // For now, this is true - might change in the future.\n\n};\n\nmodule.exports = ExecutionEnvironment;","'use strict';\n\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @typechecks\n */\n\nvar performance = require('./performance');\n\nvar performanceNow;\n\n/**\n * Detect if we can use `window.performance.now()` and gracefully fallback to\n * `Date.now()` if it doesn't exist. We need to support Firefox < 15 for now\n * because of Facebook's testing infrastructure.\n */\nif (performance.now) {\n  performanceNow = function performanceNow() {\n    return performance.now();\n  };\n} else {\n  performanceNow = function performanceNow() {\n    return Date.now();\n  };\n}\n\nmodule.exports = performanceNow;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @typechecks\n */\n\n'use strict';\n\nvar ExecutionEnvironment = require('./ExecutionEnvironment');\n\nvar performance;\n\nif (ExecutionEnvironment.canUseDOM) {\n  performance = window.performance || window.msPerformance || window.webkitPerformance;\n}\n\nmodule.exports = performance || {};","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule JSTimers\n * @flow\n */\n'use strict';\n\n// Note that the module JSTimers is split into two in order to solve a cycle\n// in dependencies. NativeModules > BatchedBridge > MessageQueue > JSTimersExecution\nconst RCTTiming = require('NativeModules').Timing;\nconst JSTimersExecution = require('JSTimersExecution');\n\nconst parseErrorStack = require('parseErrorStack');\n\nimport type {JSTimerType} from 'JSTimersExecution';\n\n// Returns a free index if one is available, and the next consecutive index otherwise.\nfunction _getFreeIndex(): number {\n  let freeIndex = JSTimersExecution.timerIDs.indexOf(null);\n  if (freeIndex === -1) {\n    freeIndex = JSTimersExecution.timerIDs.length;\n  }\n  return freeIndex;\n}\n\nfunction _allocateCallback(func: Function, type: JSTimerType): number {\n  const id = JSTimersExecution.GUID++;\n  const freeIndex = _getFreeIndex();\n  JSTimersExecution.timerIDs[freeIndex] = id;\n  JSTimersExecution.callbacks[freeIndex] = func;\n  JSTimersExecution.types[freeIndex] = type;\n  if (__DEV__) {\n    const e = (new Error() : any);\n    e.framesToPop = 1;\n    const stack = parseErrorStack(e);\n    if (stack) {\n      JSTimersExecution.identifiers[freeIndex] = stack.shift();\n    }\n  }\n  return id;\n}\n\nfunction _freeCallback(timerID: number) {\n  // JSTimersExecution.timerIDs contains nulls after timers have been removed;\n  // ignore nulls upfront so indexOf doesn't find them\n  if (timerID == null) {\n    return;\n  }\n\n  const index = JSTimersExecution.timerIDs.indexOf(timerID);\n  // See corresponding comment in `callTimers` for reasoning behind this\n  if (index !== -1) {\n    JSTimersExecution._clearIndex(index);\n    const type = JSTimersExecution.types[index];\n    if (type !== 'setImmediate' && type !== 'requestIdleCallback') {\n      RCTTiming.deleteTimer(timerID);\n    }\n  }\n}\n\n/**\n * JS implementation of timer functions. Must be completely driven by an\n * external clock signal, all that's stored here is timerID, timer type, and\n * callback.\n */\nconst JSTimers = {\n  /**\n   * @param {function} func Callback to be invoked after `duration` ms.\n   * @param {number} duration Number of milliseconds.\n   */\n  setTimeout: function(func: Function, duration: number, ...args?: any): number {\n    const id = _allocateCallback(() => func.apply(undefined, args), 'setTimeout');\n    RCTTiming.createTimer(id, duration || 0, Date.now(), /* recurring */ false);\n    return id;\n  },\n\n  /**\n   * @param {function} func Callback to be invoked every `duration` ms.\n   * @param {number} duration Number of milliseconds.\n   */\n  setInterval: function(func: Function, duration: number, ...args?: any): number {\n    const id = _allocateCallback(() => func.apply(undefined, args), 'setInterval');\n    RCTTiming.createTimer(id, duration || 0, Date.now(), /* recurring */ true);\n    return id;\n  },\n\n  /**\n   * @param {function} func Callback to be invoked before the end of the\n   * current JavaScript execution loop.\n   */\n  setImmediate: function(func: Function, ...args?: any) {\n    const id = _allocateCallback(() => func.apply(undefined, args), 'setImmediate');\n    JSTimersExecution.immediates.push(id);\n    return id;\n  },\n\n  /**\n   * @param {function} func Callback to be invoked every frame.\n   */\n  requestAnimationFrame: function(func : Function) {\n    const id = _allocateCallback(func, 'requestAnimationFrame');\n    RCTTiming.createTimer(id, 1, Date.now(), /* recurring */ false);\n    return id;\n  },\n\n  /**\n   * @param {function} func Callback to be invoked every frame and provided\n   * with time remaining in frame.\n   */\n  requestIdleCallback: function(func : Function) {\n    if (JSTimersExecution.requestIdleCallbacks.length === 0) {\n      RCTTiming.setSendIdleEvents(true);\n    }\n\n    const id = _allocateCallback(func, 'requestIdleCallback');\n    JSTimersExecution.requestIdleCallbacks.push(id);\n    return id;\n  },\n\n  cancelIdleCallback: function(timerID: number) {\n    _freeCallback(timerID);\n    const index = JSTimersExecution.requestIdleCallbacks.indexOf(timerID);\n    if (index !== -1) {\n      JSTimersExecution.requestIdleCallbacks.splice(index, 1);\n    }\n\n    if (JSTimersExecution.requestIdleCallbacks.length === 0) {\n      RCTTiming.setSendIdleEvents(false);\n    }\n  },\n\n  clearTimeout: function(timerID: number) {\n    _freeCallback(timerID);\n  },\n\n  clearInterval: function(timerID: number) {\n    _freeCallback(timerID);\n  },\n\n  clearImmediate: function(timerID: number) {\n    _freeCallback(timerID);\n    const index = JSTimersExecution.immediates.indexOf(timerID);\n    if (index !== -1) {\n      JSTimersExecution.immediates.splice(index, 1);\n    }\n  },\n\n  cancelAnimationFrame: function(timerID: number) {\n    _freeCallback(timerID);\n  },\n};\n\nmodule.exports = JSTimers;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule parseErrorStack\n * @flow\n */\n'use strict';\n\nexport type StackFrame = {\n  column: ?number,\n  file: string,\n  lineNumber: number,\n  methodName: string,\n};\n\nvar stacktraceParser = require('stacktrace-parser');\n\nfunction parseErrorStack(e: Error): Array<StackFrame> {\n  if (!e || !e.stack) {\n    return [];\n  }\n\n  var stack = Array.isArray(e.stack) ? e.stack : stacktraceParser.parse(e.stack);\n\n  var framesToPop = typeof e.framesToPop === 'number' ? e.framesToPop : 0;\n  while (framesToPop--) {\n    stack.shift();\n  }\n\n  return stack;\n}\n\nmodule.exports = parseErrorStack;\n","module.exports = require('./lib/stacktrace-parser.js');\n","\n\nvar UNKNOWN_FUNCTION = '<unknown>';\n\nvar StackTraceParser = {\n  /**\n   * This parses the different stack traces and puts them into one format\n   * This borrows heavily from TraceKit (https://github.com/occ/TraceKit)\n   */\n  parse: function(stackString) {\n    var chrome = /^\\s*at (?:(?:(?:Anonymous function)?|((?:\\[object object\\])?\\S+(?: \\[as \\S+\\])?)) )?\\(?((?:file|http|https):.*?):(\\d+)(?::(\\d+))?\\)?\\s*$/i,\n        gecko = /^(?:\\s*([^@]*)(?:\\((.*?)\\))?@)?(\\S.*?):(\\d+)(?::(\\d+))?\\s*$/i,\n        node  = /^\\s*at (?:((?:\\[object object\\])?\\S+(?: \\[as \\S+\\])?) )?\\(?(.*?):(\\d+)(?::(\\d+))?\\)?\\s*$/i,\n        lines = stackString.split('\\n'),\n        stack = [],\n        parts,\n        element;\n\n    for (var i = 0, j = lines.length; i < j; ++i) {\n        if ((parts = gecko.exec(lines[i]))) {\n            element = {\n                'file': parts[3],\n                'methodName': parts[1] || UNKNOWN_FUNCTION,\n                'lineNumber': +parts[4],\n                'column': parts[5] ? +parts[5] : null\n            };\n        } else if ((parts = chrome.exec(lines[i]))) {\n            element = {\n                'file': parts[2],\n                'methodName': parts[1] || UNKNOWN_FUNCTION,\n                'lineNumber': +parts[3],\n                'column': parts[4] ? +parts[4] : null\n            };\n        } else if ((parts = node.exec(lines[i]))) {\n            element = {\n                'file': parts[2],\n                'methodName': parts[1] || UNKNOWN_FUNCTION,\n                'lineNumber': +parts[3],\n                'column': parts[4] ? +parts[4] : null\n            };\n        } else {\n            continue;\n        }\n\n        stack.push(element);\n    }\n\n    return stack;\n  }\n};\n\n\nmodule.exports = StackTraceParser;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule deepFreezeAndThrowOnMutationInDev\n * @flow\n */\n\n'use strict';\n\n/**\n * If your application is accepting different values for the same field over\n * time and is doing a diff on them, you can either (1) create a copy or\n * (2) ensure that those values are not mutated behind two passes.\n * This function helps you with (2) by freezing the object and throwing if\n * the user subsequently modifies the value.\n *\n * There are two caveats with this function:\n *   - If the call site is not in strict mode, it will only throw when\n *     mutating existing fields, adding a new one\n *     will unfortunately fail silently :(\n *   - If the object is already frozen or sealed, it will not continue the\n *     deep traversal and will leave leaf nodes unfrozen.\n *\n * Freezing the object and adding the throw mechanism is expensive and will\n * only be used in DEV.\n */\nfunction deepFreezeAndThrowOnMutationInDev(object: Object) {\n  if (__DEV__) {\n    if (typeof object !== 'object' ||\n        object === null ||\n        Object.isFrozen(object) ||\n        Object.isSealed(object)) {\n      return;\n    }\n\n    var keys = Object.keys(object);\n\n    for (var i = 0; i < keys.length; i++) {\n      var key = keys[i];\n      if (object.hasOwnProperty(key)) {\n        object.__defineGetter__(key, identity.bind(null, object[key]));\n        object.__defineSetter__(key, throwOnImmutableMutation.bind(null, key));\n      }\n    }\n\n    Object.freeze(object);\n    Object.seal(object);\n\n    for (var i = 0; i < keys.length; i++) {\n      var key = keys[i];\n      if (object.hasOwnProperty(key)) {\n        deepFreezeAndThrowOnMutationInDev(object[key]);\n      }\n    }\n  }\n}\n\nfunction throwOnImmutableMutation(key, value) {\n  throw Error(\n    'You attempted to set the key `' + key + '` with the value `' +\n    JSON.stringify(value) + '` on an object that is meant to be immutable ' +\n    'and has been frozen.'\n  );\n}\n\nfunction identity(value) {\n  return value;\n}\n\nmodule.exports = deepFreezeAndThrowOnMutationInDev;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule stringifySafe\n * @flow\n */\n'use strict';\n\n/**\n * Tries to stringify with JSON.stringify and toString, but catches exceptions\n * (e.g. from circular objects) and always returns a string and never throws.\n */\nfunction stringifySafe(arg: any): string {\n  var ret;\n  var type = typeof arg;\n  if (arg === undefined) {\n    ret = 'undefined';\n  } else if (arg === null) {\n    ret = 'null';\n  } else if (type === 'string') {\n    ret = '\"' + arg + '\"';\n  } else if (type === 'function') {\n    try {\n      ret = arg.toString();\n    } catch (e) {\n      ret = '[function unknown]';\n    }\n  } else {\n    // Perform a try catch, just in case the object has a circular\n    // reference or stringify throws for some other reason.\n    try {\n      ret = JSON.stringify(arg);\n    } catch (e) {\n      if (typeof arg.toString === 'function') {\n        try {\n          ret = arg.toString();\n        } catch (E) {}\n      }\n    }\n  }\n  return ret || '[\"' + type + '\" failed to stringify]';\n}\n\nmodule.exports = stringifySafe;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule defineLazyObjectProperty\n * @flow\n */\n\n'use strict';\n\n/**\n * Defines a lazily evaluated property on the supplied `object`.\n */\nfunction defineLazyObjectProperty<T>(\n  object: Object,\n  name: string,\n  descriptor: {\n    get: () => T,\n    enumerable?: boolean,\n    writable?: boolean,\n  },\n): void {\n  const {get} = descriptor;\n  const enumerable = descriptor.enumerable !== false;\n  const writable = descriptor.writable !== false;\n\n  let value;\n  let valueSet = false;\n  function getValue(): T {\n    // WORKAROUND: A weird infinite loop occurs where calling `getValue` calls\n    // `setValue` which calls `Object.defineProperty` which somehow triggers\n    // `getValue` again. Adding `valueSet` breaks this loop.\n    if (!valueSet) {\n      // Calling `get()` here can trigger an infinite loop if it fails to\n      // remove the getter on the property, which can happen when executing\n      // JS in a V8 context.  `valueSet = true` will break this loop, and\n      // sets the value of the property to undefined, until the code in `get()`\n      // finishes, at which point the property is set to the correct value.\n      valueSet = true;\n      setValue(get());\n    }\n    return value;\n  }\n  function setValue(newValue: T): void {\n    value = newValue;\n    valueSet = true;\n    Object.defineProperty(object, name, {\n      value: newValue,\n      configurable: true,\n      enumerable,\n      writable,\n    });\n  }\n\n  Object.defineProperty(object, name, {\n    get: getValue,\n    set: setValue,\n    configurable: true,\n    enumerable,\n  });\n}\n\nmodule.exports = defineLazyObjectProperty;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule RCTDeviceEventEmitter\n * @flow\n */\n'use strict';\n\nconst EventEmitter = require('EventEmitter');\nconst EventSubscriptionVendor = require('EventSubscriptionVendor');\nconst BatchedBridge = require('BatchedBridge');\n\nimport type EmitterSubscription from 'EmitterSubscription';\n\n/**\n * Deprecated - subclass NativeEventEmitter to create granular event modules instead of\n * adding all event listeners directly to RCTDeviceEventEmitter.\n */\nclass RCTDeviceEventEmitter extends EventEmitter {\n\n  sharedSubscriber: EventSubscriptionVendor;\n\n  constructor() {\n    const sharedSubscriber = new EventSubscriptionVendor();\n    super(sharedSubscriber);\n    this.sharedSubscriber = sharedSubscriber;\n  }\n\n  _nativeEventModule(eventType: ?string) {\n    if (eventType) {\n      if (eventType.lastIndexOf('statusBar', 0) === 0) {\n        console.warn('`%s` event should be registered via the StatusBarIOS module', eventType);\n        return require('StatusBarIOS');\n      }\n      if (eventType.lastIndexOf('keyboard', 0) === 0) {\n        console.warn('`%s` event should be registered via the Keyboard module', eventType);\n        return require('Keyboard');\n      }\n      if (eventType === 'appStateDidChange' || eventType === 'memoryWarning') {\n        console.warn('`%s` event should be registered via the AppState module', eventType);\n        return require('AppState');\n      }\n    }\n    return null;\n  }\n\n  addListener(eventType: string, listener: Function, context: ?Object): EmitterSubscription {\n    const eventModule = this._nativeEventModule(eventType);\n    return eventModule ? eventModule.addListener(eventType, listener, context)\n                       : super.addListener(eventType, listener, context);\n  }\n\n  removeAllListeners(eventType: ?string) {\n    const eventModule = this._nativeEventModule(eventType);\n    (eventModule && eventType) ? eventModule.removeAllListeners(eventType)\n                               : super.removeAllListeners(eventType);\n  }\n\n  removeSubscription(subscription: EmitterSubscription) {\n    if (subscription.emitter !== this) {\n      subscription.emitter.removeSubscription(subscription);\n    } else {\n      super.removeSubscription(subscription);\n    }\n  }\n}\n\nRCTDeviceEventEmitter = new RCTDeviceEventEmitter();\n\nBatchedBridge.registerCallableModule(\n  'RCTDeviceEventEmitter',\n  RCTDeviceEventEmitter\n);\n\nmodule.exports = RCTDeviceEventEmitter;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule EventEmitter\n * @noflow\n * @typecheck\n */\n'use strict';\n\nconst EmitterSubscription = require('EmitterSubscription');\nconst EventSubscriptionVendor = require('EventSubscriptionVendor');\n\nconst emptyFunction = require('fbjs/lib/emptyFunction');\nconst invariant = require('fbjs/lib/invariant');\n\n/**\n * @class EventEmitter\n * @description\n * An EventEmitter is responsible for managing a set of listeners and publishing\n * events to them when it is told that such events happened. In addition to the\n * data for the given event it also sends a event control object which allows\n * the listeners/handlers to prevent the default behavior of the given event.\n *\n * The emitter is designed to be generic enough to support all the different\n * contexts in which one might want to emit events. It is a simple multicast\n * mechanism on top of which extra functionality can be composed. For example, a\n * more advanced emitter may use an EventHolder and EventFactory.\n */\nclass EventEmitter {\n\n  _subscriber: EventSubscriptionVendor;\n  _currentSubscription: ?EmitterSubscription;\n\n  /**\n   * @constructor\n   *\n   * @param {EventSubscriptionVendor} subscriber - Optional subscriber instance\n   *   to use. If omitted, a new subscriber will be created for the emitter.\n   */\n  constructor(subscriber: ?EventSubscriptionVendor) {\n    this._subscriber = subscriber || new EventSubscriptionVendor();\n  }\n\n  /**\n   * Adds a listener to be invoked when events of the specified type are\n   * emitted. An optional calling context may be provided. The data arguments\n   * emitted will be passed to the listener function.\n   *\n   * TODO: Annotate the listener arg's type. This is tricky because listeners\n   *       can be invoked with varargs.\n   *\n   * @param {string} eventType - Name of the event to listen to\n   * @param {function} listener - Function to invoke when the specified event is\n   *   emitted\n   * @param {*} context - Optional context object to use when invoking the\n   *   listener\n   */\n  addListener(\n    eventType: string, listener: Function, context: ?Object): EmitterSubscription {\n\n    return (this._subscriber.addSubscription(\n      eventType,\n      new EmitterSubscription(this, this._subscriber, listener, context)\n    ) : any);\n  }\n\n  /**\n   * Similar to addListener, except that the listener is removed after it is\n   * invoked once.\n   *\n   * @param {string} eventType - Name of the event to listen to\n   * @param {function} listener - Function to invoke only once when the\n   *   specified event is emitted\n   * @param {*} context - Optional context object to use when invoking the\n   *   listener\n   */\n  once(eventType: string, listener: Function, context: ?Object): EmitterSubscription {\n    return this.addListener(eventType, (...args) => {\n      this.removeCurrentListener();\n      listener.apply(context, args);\n    });\n  }\n\n  /**\n   * Removes all of the registered listeners, including those registered as\n   * listener maps.\n   *\n   * @param {?string} eventType - Optional name of the event whose registered\n   *   listeners to remove\n   */\n  removeAllListeners(eventType: ?string) {\n    this._subscriber.removeAllSubscriptions(eventType);\n  }\n\n  /**\n   * Provides an API that can be called during an eventing cycle to remove the\n   * last listener that was invoked. This allows a developer to provide an event\n   * object that can remove the listener (or listener map) during the\n   * invocation.\n   *\n   * If it is called when not inside of an emitting cycle it will throw.\n   *\n   * @throws {Error} When called not during an eventing cycle\n   *\n   * @example\n   *   var subscription = emitter.addListenerMap({\n   *     someEvent: function(data, event) {\n   *       console.log(data);\n   *       emitter.removeCurrentListener();\n   *     }\n   *   });\n   *\n   *   emitter.emit('someEvent', 'abc'); // logs 'abc'\n   *   emitter.emit('someEvent', 'def'); // does not log anything\n   */\n  removeCurrentListener() {\n    invariant(\n      !!this._currentSubscription,\n      'Not in an emitting cycle; there is no current subscription'\n    );\n    this.removeSubscription(this._currentSubscription);\n  }\n\n  /**\n   * Removes a specific subscription. Called by the `remove()` method of the\n   * subscription itself to ensure any necessary cleanup is performed.\n   */\n  removeSubscription(subscription: EmitterSubscription) {\n    invariant(\n      subscription.emitter === this,\n      'Subscription does not belong to this emitter.'\n    );\n    this._subscriber.removeSubscription(subscription);\n  }\n\n  /**\n   * Returns an array of listeners that are currently registered for the given\n   * event.\n   *\n   * @param {string} eventType - Name of the event to query\n   * @returns {array}\n   */\n  listeners(eventType: string): [EmitterSubscription] {\n    const subscriptions: ?[EmitterSubscription] = (this._subscriber.getSubscriptionsForType(eventType): any);\n    return subscriptions\n      ? subscriptions.filter(emptyFunction.thatReturnsTrue).map(\n          function(subscription) {\n            return subscription.listener;\n          })\n      : [];\n  }\n\n  /**\n   * Emits an event of the given type with the given data. All handlers of that\n   * particular type will be notified.\n   *\n   * @param {string} eventType - Name of the event to emit\n   * @param {...*} Arbitrary arguments to be passed to each registered listener\n   *\n   * @example\n   *   emitter.addListener('someEvent', function(message) {\n   *     console.log(message);\n   *   });\n   *\n   *   emitter.emit('someEvent', 'abc'); // logs 'abc'\n   */\n  emit(eventType: string) {\n    const subscriptions: ?[EmitterSubscription] = (this._subscriber.getSubscriptionsForType(eventType): any);\n    if (subscriptions) {\n      for (let i = 0, l = subscriptions.length; i < l; i++) {\n        const subscription = subscriptions[i];\n\n        // The subscription may have been removed during this event loop.\n        if (subscription) {\n          this._currentSubscription = subscription;\n          subscription.listener.apply(\n            subscription.context,\n            Array.prototype.slice.call(arguments, 1)\n          );\n        }\n      }\n      this._currentSubscription = null;\n    }\n  }\n\n  /**\n   * Removes the given listener for event of specific type.\n   *\n   * @param {string} eventType - Name of the event to emit\n   * @param {function} listener - Function to invoke when the specified event is\n   *   emitted\n   *\n   * @example\n   *   emitter.removeListener('someEvent', function(message) {\n   *     console.log(message);\n   *   }); // removes the listener if already registered\n   *\n   */\n  removeListener(eventType: String, listener) {\n    const subscriptions: ?[EmitterSubscription] = (this._subscriber.getSubscriptionsForType(eventType): any);\n    if (subscriptions) {\n      for (let i = 0, l = subscriptions.length; i < l; i++) {\n        const subscription = subscriptions[i];\n\n        // The subscription may have been removed during this event loop.\n        // its listener matches the listener in method parameters\n        if (subscription && subscription.listener === listener) {\n          subscription.remove();\n        }\n      }\n    }\n  }\n}\n\nmodule.exports = EventEmitter;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule EmitterSubscription\n * @noflow\n */\n'use strict';\n\nconst EventSubscription = require('EventSubscription');\n\nimport type EventEmitter from 'EventEmitter';\nimport type EventSubscriptionVendor from 'EventSubscriptionVendor';\n\n/**\n * EmitterSubscription represents a subscription with listener and context data.\n */\nclass EmitterSubscription extends EventSubscription {\n\n  emitter: EventEmitter;\n  listener: Function;\n  context: ?Object;\n\n  /**\n   * @param {EventEmitter} emitter - The event emitter that registered this\n   *   subscription\n   * @param {EventSubscriptionVendor} subscriber - The subscriber that controls\n   *   this subscription\n   * @param {function} listener - Function to invoke when the specified event is\n   *   emitted\n   * @param {*} context - Optional context object to use when invoking the\n   *   listener\n   */\n  constructor(\n    emitter: EventEmitter,\n    subscriber: EventSubscriptionVendor,\n    listener: Function,\n    context: ?Object\n  ) {\n    super(subscriber);\n    this.emitter = emitter;\n    this.listener = listener;\n    this.context = context;\n  }\n\n  /**\n   * Removes this subscription from the emitter that registered it.\n   * Note: we're overriding the `remove()` method of EventSubscription here\n   * but deliberately not calling `super.remove()` as the responsibility\n   * for removing the subscription lies with the EventEmitter.\n   */\n  remove() {\n    this.emitter.removeSubscription(this);\n  }\n}\n\nmodule.exports = EmitterSubscription;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule EventSubscription\n * @flow\n */\n'use strict';\n\nimport type EventSubscriptionVendor from 'EventSubscriptionVendor';\n\n/**\n * EventSubscription represents a subscription to a particular event. It can\n * remove its own subscription.\n */\nclass EventSubscription {\n\n  eventType: string;\n  key: number;\n  subscriber: EventSubscriptionVendor;\n\n  /**\n   * @param {EventSubscriptionVendor} subscriber the subscriber that controls\n   *   this subscription.\n   */\n  constructor(subscriber: EventSubscriptionVendor) {\n    this.subscriber = subscriber;\n  }\n\n  /**\n   * Removes this subscription from the subscriber that controls it.\n   */\n  remove() {\n    this.subscriber.removeSubscription(this);\n  }\n}\n\nmodule.exports = EventSubscription;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule EventSubscriptionVendor\n * @flow\n */\n'use strict';\n\nconst invariant = require('fbjs/lib/invariant');\n\nimport type EventSubscription from 'EventSubscription';\n\n/**\n * EventSubscriptionVendor stores a set of EventSubscriptions that are\n * subscribed to a particular event type.\n */\nclass EventSubscriptionVendor {\n\n  _subscriptionsForType: Object;\n  _currentSubscription: ?EventSubscription;\n\n  constructor() {\n    this._subscriptionsForType = {};\n    this._currentSubscription = null;\n  }\n\n  /**\n   * Adds a subscription keyed by an event type.\n   *\n   * @param {string} eventType\n   * @param {EventSubscription} subscription\n   */\n  addSubscription(\n    eventType: string, subscription: EventSubscription): EventSubscription {\n    invariant(\n      subscription.subscriber === this,\n      'The subscriber of the subscription is incorrectly set.');\n    if (!this._subscriptionsForType[eventType]) {\n      this._subscriptionsForType[eventType] = [];\n    }\n    const key = this._subscriptionsForType[eventType].length;\n    this._subscriptionsForType[eventType].push(subscription);\n    subscription.eventType = eventType;\n    subscription.key = key;\n    return subscription;\n  }\n\n  /**\n   * Removes a bulk set of the subscriptions.\n   *\n   * @param {?string} eventType - Optional name of the event type whose\n   *   registered supscriptions to remove, if null remove all subscriptions.\n   */\n  removeAllSubscriptions(eventType: ?string) {\n    if (eventType === undefined) {\n      this._subscriptionsForType = {};\n    } else {\n      delete this._subscriptionsForType[eventType];\n    }\n  }\n\n  /**\n   * Removes a specific subscription. Instead of calling this function, call\n   * `subscription.remove()` directly.\n   *\n   * @param {object} subscription\n   */\n  removeSubscription(subscription: Object) {\n    const eventType = subscription.eventType;\n    const key = subscription.key;\n\n    const subscriptionsForType = this._subscriptionsForType[eventType];\n    if (subscriptionsForType) {\n      delete subscriptionsForType[key];\n    }\n  }\n\n  /**\n   * Returns the array of subscriptions that are currently registered for the\n   * given event type.\n   *\n   * Note: This array can be potentially sparse as subscriptions are deleted\n   * from it when they are removed.\n   *\n   * TODO: This returns a nullable array. wat?\n   *\n   * @param {string} eventType\n   * @returns {?array}\n   */\n  getSubscriptionsForType(eventType: string): ?[EventSubscription] {\n   return this._subscriptionsForType[eventType];\n  }\n}\n\nmodule.exports = EventSubscriptionVendor;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule StatusBarIOS\n * @flow\n */\n'use strict';\n\nconst NativeEventEmitter = require('NativeEventEmitter');\n\nmodule.exports = new NativeEventEmitter('StatusBarManager');\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule NativeEventEmitter\n * @flow\n */\n'use strict';\n\nconst EventEmitter = require('EventEmitter');\nconst Platform = require('Platform');\nconst RCTDeviceEventEmitter = require('RCTDeviceEventEmitter');\nconst invariant = require('fbjs/lib/invariant');\n\nimport type EmitterSubscription from 'EmitterSubscription';\n\n/**\n * Abstract base class for implementing event-emitting modules. This implements\n * a subset of the standard EventEmitter node module API.\n */\nclass NativeEventEmitter extends EventEmitter {\n\n  _nativeModule: Object;\n\n  constructor(nativeModule: Object) {\n    super(RCTDeviceEventEmitter.sharedSubscriber);\n    if (Platform.OS === 'ios') {\n      invariant(nativeModule, 'Native module cannot be null.');\n      this._nativeModule = nativeModule;\n    }\n  }\n\n  addListener(eventType: string, listener: Function, context: ?Object): EmitterSubscription {\n    if (Platform.OS === 'ios') {\n      this._nativeModule.addListener(eventType);\n    }\n    return super.addListener(eventType, listener, context);\n  }\n\n  removeAllListeners(eventType: string) {\n    invariant(eventType, 'eventType argument is required.');\n    if (Platform.OS === 'ios') {\n      const count = this.listeners(eventType).length;\n      this._nativeModule.removeListeners(count);\n    }\n    super.removeAllListeners(eventType);\n  }\n\n  removeSubscription(subscription: EmitterSubscription) {\n    if (Platform.OS === 'ios') {\n      this._nativeModule.removeListeners(1);\n    }\n    super.removeSubscription(subscription);\n  }\n}\n\nmodule.exports = NativeEventEmitter;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule Platform\n * @flow\n */\n\n'use strict';\n\nconst NativeModules = require('NativeModules');\n\nconst Platform = {\n  OS: 'android',\n  get Version() {\n    const constants = NativeModules.PlatformConstants;\n    return constants && constants.Version;\n  },\n  get isTesting(): boolean {\n    const constants = NativeModules.PlatformConstants;\n    return constants && constants.isTesting;\n  },\n  select: (obj: Object) => 'android' in obj ? obj.android : obj.default,\n};\n\nmodule.exports = Platform;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule Keyboard\n * @flow\n */\n'use strict';\n\nconst invariant = require('fbjs/lib/invariant');\nconst NativeEventEmitter = require('NativeEventEmitter');\nconst KeyboardObserver = require('NativeModules').KeyboardObserver;\nconst dismissKeyboard = require('dismissKeyboard');\nconst KeyboardEventEmitter = new NativeEventEmitter(KeyboardObserver);\n\ntype KeyboardEventName =\n  | 'keyboardWillShow'\n  | 'keyboardDidShow'\n  | 'keyboardWillHide'\n  | 'keyboardDidHide'\n  | 'keyboardWillChangeFrame'\n  | 'keyboardDidChangeFrame';\n\ntype KeyboardEventData = {\n  endCoordinates: {\n    width: number,\n    height: number,\n    screenX: number,\n    screenY: number,\n  },\n};\n\ntype KeyboardEventListener = (e: KeyboardEventData) => void;\n\n// The following object exists for documentation purposes\n// Actual work happens in\n// https://github.com/facebook/react-native/blob/master/Libraries/EventEmitter/NativeEventEmitter.js\n\n/**\n * `Keyboard` module to control keyboard events.\n *\n * ### Usage\n *\n * The Keyboard module allows you to listen for native events and react to them, as\n * well as make changes to the keyboard, like dismissing it.\n *\n *```\n * import React, { Component } from 'react';\n * import { Keyboard, TextInput } from 'react-native';\n *\n * class Example extends Component {\n *   componentWillMount () {\n *     this.keyboardDidShowListener = Keyboard.addListener('keyboardDidShow', this._keyboardDidShow);\n *     this.keyboardDidHideListener = Keyboard.addListener('keyboardDidHide', this._keyboardDidHide);\n *   }\n *\n *   componentWillUnmount () {\n *     this.keyboardDidShowListener.remove();\n *     this.keyboardDidHideListener.remove();\n *   }\n *\n *   _keyboardDidShow () {\n *     alert('Keyboard Shown');\n *   }\n *\n *   _keyboardDidHide () {\n *     alert('Keyboard Hidden');\n *   }\n *\n *   render() {\n *     return (\n *       <TextInput\n *         onSubmitEditing={Keyboard.dismiss}\n *       />\n *     );\n *   }\n * }\n *```\n */\n\nlet Keyboard = {\n  /**\n   * The `addListener` function connects a JavaScript function to an identified native\n   * keyboard notification event.\n   *\n   * This function then returns the reference to the listener.\n   *\n   * @param {string} eventName The `nativeEvent` is the string that identifies the event you're listening for.  This\n   *can be any of the following:\n   *\n   * - `keyboardWillShow`\n   * - `keyboardDidShow`\n   * - `keyboardWillHide`\n   * - `keyboardDidHide`\n   * - `keyboardWillChangeFrame`\n   * - `keyboardDidChangeFrame`\n   *\n   * @param {function} callback function to be called when the event fires.\n   */\n  addListener(eventName: KeyboardEventName, callback: KeyboardEventListener) {\n    invariant(false, 'Dummy method used for documentation');\n  },\n\n  /**\n   * Removes a specific listener.\n   *\n   * @param {string} eventName The `nativeEvent` is the string that identifies the event you're listening for.\n   * @param {function} callback function to be called when the event fires.\n   */\n  removeListener(eventName: KeyboardEventName, callback: Function) {\n    invariant(false, 'Dummy method used for documentation');\n  },\n\n  /**\n   * Removes all listeners for a specific event type.\n   *\n   * @param {string} eventType The native event string listeners are watching which will be removed.\n   */\n  removeAllListeners(eventName: KeyboardEventName) {\n    invariant(false, 'Dummy method used for documentation');\n  },\n\n  /**\n   * Dismisses the active keyboard and removes focus.\n   */\n  dismiss() {\n    invariant(false, 'Dummy method used for documentation');\n  }\n};\n\n// Throw away the dummy object and reassign it to original module\nKeyboard = KeyboardEventEmitter;\nKeyboard.dismiss = dismissKeyboard;\n\nmodule.exports = Keyboard;\n\n","/**\n * Copyright 2004-present Facebook. All Rights Reserved.\n *\n * @providesModule dismissKeyboard\n *\n * This function dismisses the currently-open keyboard, if any\n */\n'use strict';\n\nvar TextInputState = require('TextInputState');\n\nfunction dismissKeyboard() {\n  TextInputState.blurTextInput(TextInputState.currentlyFocusedField());\n}\n\nmodule.exports = dismissKeyboard;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule TextInputState\n * @flow\n *\n * This class is responsible for coordinating the \"focused\"\n * state for TextInputs. All calls relating to the keyboard\n * should be funneled through here\n */\n'use strict';\n\nvar Platform = require('Platform');\nvar UIManager = require('UIManager');\n\nvar TextInputState = {\n   /**\n   * Internal state\n   */\n  _currentlyFocusedID: (null: ?number),\n\n  /**\n   * Returns the ID of the currently focused text field, if one exists\n   * If no text field is focused it returns null\n   */\n  currentlyFocusedField: function(): ?number {\n    return this._currentlyFocusedID;\n  },\n\n  /**\n   * @param {number} TextInputID id of the text field to focus\n   * Focuses the specified text field\n   * noop if the text field was already focused\n   */\n  focusTextInput: function(textFieldID: ?number) {\n    if (this._currentlyFocusedID !== textFieldID && textFieldID !== null) {\n      this._currentlyFocusedID = textFieldID;\n      if (Platform.OS === 'ios') {\n        UIManager.focus(textFieldID);\n      } else if (Platform.OS === 'android') {\n        UIManager.dispatchViewManagerCommand(\n          textFieldID,\n          UIManager.AndroidTextInput.Commands.focusTextInput,\n          null\n        );\n      }\n    }\n  },\n\n  /**\n   * @param {number} textFieldID id of the text field to focus\n   * Unfocuses the specified text field\n   * noop if it wasn't focused\n   */\n  blurTextInput: function(textFieldID: ?number) {\n    if (this._currentlyFocusedID === textFieldID && textFieldID !== null) {\n      this._currentlyFocusedID = null;\n      if (Platform.OS === 'ios') {\n        UIManager.blur(textFieldID);\n      } else if (Platform.OS === 'android') {\n        UIManager.dispatchViewManagerCommand(\n          textFieldID,\n          UIManager.AndroidTextInput.Commands.blurTextInput,\n          null\n        );\n      }\n    }\n  }\n};\n\nmodule.exports = TextInputState;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule UIManager\n * @flow\n */\n'use strict';\n\nconst NativeModules = require('NativeModules');\nconst Platform = require('Platform');\n\nconst defineLazyObjectProperty = require('defineLazyObjectProperty');\nconst findNodeHandle = require('findNodeHandle');\nconst invariant = require('fbjs/lib/invariant');\n\nimport type React from 'react';\n\nconst { UIManager } = NativeModules;\n\ninvariant(UIManager, 'UIManager is undefined. The native module config is probably incorrect.');\n\nconst _takeSnapshot = UIManager.takeSnapshot;\n\n/**\n * Capture an image of the screen, window or an individual view. The image\n * will be stored in a temporary file that will only exist for as long as the\n * app is running.\n *\n * The `view` argument can be the literal string `window` if you want to\n * capture the entire window, or it can be a reference to a specific\n * React Native component.\n *\n * The `options` argument may include:\n * - width/height (number) - the width and height of the image to capture.\n * - format (string) - either 'png' or 'jpeg'. Defaults to 'png'.\n * - quality (number) - the quality when using jpeg. 0.0 - 1.0 (default).\n *\n * Returns a Promise.\n * @platform ios\n */\nUIManager.takeSnapshot = async function(\n  view ?: 'window' | React.Element<any> | number,\n  options ?: {\n    width ?: number,\n    height ?: number,\n    format ?: 'png' | 'jpeg',\n    quality ?: number,\n  },\n) {\n  if (!_takeSnapshot) {\n    console.warn('UIManager.takeSnapshot is not available on this platform');\n    return;\n  }\n  if (typeof view !== 'number' && view !== 'window') {\n    view = findNodeHandle(view) || 'window';\n  }\n  return _takeSnapshot(view, options);\n};\n\n/**\n * Copies the ViewManager constants and commands into UIManager. This is\n * only needed for iOS, which puts the constants in the ViewManager\n * namespace instead of UIManager, unlike Android.\n */\nif (Platform.OS === 'ios') {\n  Object.keys(UIManager).forEach(viewName => {\n    const viewConfig = UIManager[viewName];\n    if (viewConfig.Manager) {\n      defineLazyObjectProperty(viewConfig, 'Constants', {\n        get: () => {\n          const viewManager = NativeModules[viewConfig.Manager];\n          const constants = {};\n          viewManager && Object.keys(viewManager).forEach(key => {\n            const value = viewManager[key];\n            if (typeof value !== 'function') {\n              constants[key] = value;\n            }\n          });\n          return constants;\n        },\n      });\n      defineLazyObjectProperty(viewConfig, 'Commands', {\n        get: () => {\n          const viewManager = NativeModules[viewConfig.Manager];\n          const commands = {};\n          let index = 0;\n          viewManager && Object.keys(viewManager).forEach(key => {\n            const value = viewManager[key];\n            if (typeof value === 'function') {\n              commands[key] = index++;\n            }\n          });\n          return commands;\n        },\n      });\n    }\n  });\n} else if (Platform.OS === 'android' && UIManager.AndroidLazyViewManagersEnabled) {\n  UIManager.ViewManagerNames.forEach(viewManagerName => {\n    defineLazyObjectProperty(UIManager, viewManagerName, {\n      get: () => NativeModules[viewManagerName.replace(/^(RCT|RK)/, '')],\n    });\n  });\n}\n\nmodule.exports = UIManager;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule findNodeHandle\n * @flow\n */\n\n'use strict';\n\nvar ReactCurrentOwner = require('react/lib/ReactCurrentOwner');\nvar ReactInstanceMap = require('ReactInstanceMap');\n\nvar invariant = require('fbjs/lib/invariant');\nvar warning = require('fbjs/lib/warning');\n\nimport type { ReactInstance } from 'ReactInstanceType';\n\n/**\n * ReactNative vs ReactWeb\n * -----------------------\n * React treats some pieces of data opaquely. This means that the information\n * is first class (it can be passed around), but cannot be inspected. This\n * allows us to build infrastructure that reasons about resources, without\n * making assumptions about the nature of those resources, and this allows that\n * infra to be shared across multiple platforms, where the resources are very\n * different. General infra (such as `ReactMultiChild`) reasons opaquely about\n * the data, but platform specific code (such as `ReactNativeBaseComponent`) can\n * make assumptions about the data.\n *\n *\n * `rootNodeID`, uniquely identifies a position in the generated native view\n * tree. Many layers of composite components (created with `React.createClass`)\n * can all share the same `rootNodeID`.\n *\n * `nodeHandle`: A sufficiently unambiguous way to refer to a lower level\n * resource (dom node, native view etc). The `rootNodeID` is sufficient for web\n * `nodeHandle`s, because the position in a tree is always enough to uniquely\n * identify a DOM node (we never have nodes in some bank outside of the\n * document). The same would be true for `ReactNative`, but we must maintain a\n * mapping that we can send efficiently serializable\n * strings across native boundaries.\n *\n * Opaque name      TodaysWebReact   FutureWebWorkerReact   ReactNative\n * ----------------------------------------------------------------------------\n * nodeHandle       N/A              rootNodeID             tag\n */\n\nlet injectedFindNode;\nlet injectedFindRootNodeID;\n\nfunction findNodeHandle(componentOrHandle: any): ?number {\n  if (__DEV__) {\n    // TODO: fix this unsafe cast to work with Fiber.\n    var owner = ((ReactCurrentOwner.current: any): ReactInstance | null);\n    if (owner !== null) {\n      warning(\n        owner._warnedAboutRefsInRender,\n        '%s is accessing findNodeHandle inside its render(). ' +\n        'render() should be a pure function of props and state. It should ' +\n        'never access something that requires stale data from the previous ' +\n        'render, such as refs. Move this logic to componentDidMount and ' +\n        'componentDidUpdate instead.',\n        owner.getName() || 'A component'\n      );\n\n      owner._warnedAboutRefsInRender = true;\n    }\n  }\n  if (componentOrHandle == null) {\n    return null;\n  }\n  if (typeof componentOrHandle === 'number') {\n    // Already a node handle\n    return componentOrHandle;\n  }\n\n  var component = componentOrHandle;\n\n  // TODO (balpert): Wrap iOS native components in a composite wrapper, then\n  // ReactInstanceMap.get here will always succeed for mounted components\n  var internalInstance = ReactInstanceMap.get(component);\n  if (internalInstance) {\n    return injectedFindNode(internalInstance);\n  } else {\n    var rootNodeID = injectedFindRootNodeID(component);\n    if (rootNodeID) {\n      return rootNodeID;\n    } else {\n      invariant(\n        (\n          // Native\n          typeof component === 'object' &&\n          (\n            '_rootNodeID' in component || // TODO (bvaughn) Clean up once Stack is deprecated\n            '_nativeTag' in component\n          )\n        ) || (\n          // Composite\n          component.render != null &&\n          typeof component.render === 'function'\n        ),\n        'findNodeHandle(...): Argument is not a component ' +\n        '(type: %s, keys: %s)',\n        typeof component,\n        Object.keys(component)\n      );\n      invariant(\n        false,\n        'findNodeHandle(...): Unable to find node handle for unmounted ' +\n        'component.'\n      );\n    }\n  }\n}\n\n// Fiber and stack implementations differ; each must inject a strategy\nfindNodeHandle.injection = {\n  injectFindNode(findNode) {\n    injectedFindNode = findNode;\n  },\n  injectFindRootNodeID(findRootNodeID) {\n    injectedFindRootNodeID = findRootNodeID;\n  },\n};\n\nmodule.exports = findNodeHandle;\n","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule ReactInstanceMap\n */\n\n'use strict';\n\n/**\n * `ReactInstanceMap` maintains a mapping from a public facing stateful\n * instance (key) and the internal representation (value). This allows public\n * methods to accept the user facing instance as an argument and map them back\n * to internal methods.\n */\n\n// TODO: Replace this with ES6: var ReactInstanceMap = new Map();\nvar ReactInstanceMap = {\n\n  /**\n   * This API should be called `delete` but we'd have to make sure to always\n   * transform these to strings for IE support. When this transform is fully\n   * supported we can rename it.\n   */\n  remove: function(key) {\n    key._reactInternalInstance = undefined;\n  },\n\n  get: function(key) {\n    return key._reactInternalInstance;\n  },\n\n  has: function(key) {\n    return key._reactInternalInstance !== undefined;\n  },\n\n  set: function(key, value) {\n    key._reactInternalInstance = value;\n  },\n\n};\n\nmodule.exports = ReactInstanceMap;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule AppState\n * @flow\n */\n'use strict';\n\nconst EventEmitter = require('EventEmitter');\nconst NativeEventEmitter = require('NativeEventEmitter');\nconst NativeModules = require('NativeModules');\nconst RCTAppState = NativeModules.AppState;\n\nconst logError = require('logError');\nconst invariant = require('fbjs/lib/invariant');\n\n/**\n * `AppState` can tell you if the app is in the foreground or background,\n * and notify you when the state changes.\n *\n * AppState is frequently used to determine the intent and proper behavior when\n * handling push notifications.\n *\n * ### App States\n *\n *  - `active` - The app is running in the foreground\n *  - `background` - The app is running in the background. The user is either\n *     in another app or on the home screen\n *  - `inactive` - This is a state that occurs when transitioning between\n *  \t foreground & background, and during periods of inactivity such as\n *  \t entering the Multitasking view or in the event of an incoming call\n *\n * For more information, see\n * [Apple's documentation](https://developer.apple.com/library/ios/documentation/iPhone/Conceptual/iPhoneOSProgrammingGuide/TheAppLifeCycle/TheAppLifeCycle.html)\n *\n * ### Basic Usage\n *\n * To see the current state, you can check `AppState.currentState`, which\n * will be kept up-to-date. However, `currentState` will be null at launch\n * while `AppState` retrieves it over the bridge.\n *\n * ```\n * import React, {Component} from 'react'\n * import {AppState, Text} from 'react-native'\n *\n * class AppStateExample extends Component {\n *\n *   state = {\n *     appState: AppState.currentState\n *   }\n *\n *   componentDidMount() {\n *     AppState.addEventListener('change', this._handleAppStateChange);\n *   }\n *\n *   componentWillUnmount() {\n *     AppState.removeEventListener('change', this._handleAppStateChange);\n *   }\n *\n *   _handleAppStateChange = (nextAppState) => {\n *     if (this.state.appState.match(/inactive|background/) && nextAppState === 'active') {\n *       console.log('App has come to the foreground!')\n *     }\n *     this.setState({appState: nextAppState});\n *   }\n *\n *   render() {\n *     return (\n *       <Text>Current state is: {this.state.appState}</Text>\n *     );\n *   }\n *\n * }\n * ```\n *\n * This example will only ever appear to say \"Current state is: active\" because\n * the app is only visible to the user when in the `active` state, and the null\n * state will happen only momentarily.\n */\n\nclass AppState extends NativeEventEmitter {\n\n  _eventHandlers: Object;\n  currentState: ?string;\n  isAvailable: boolean;\n\n  constructor() {\n    super(RCTAppState);\n\n    this.isAvailable = true;\n    this._eventHandlers = {\n      change: new Map(),\n      memoryWarning: new Map(),\n    };\n\n    // TODO: Remove the 'active' fallback after `initialAppState` is exported by\n    // the Android implementation.\n    this.currentState = RCTAppState.initialAppState || 'active';\n\n    // TODO: this is a terrible solution - in order to ensure `currentState` prop\n    // is up to date, we have to register an observer that updates it whenever\n    // the state changes, even if nobody cares. We should just deprecate the\n    // `currentState` property and get rid of this.\n    this.addListener(\n      'appStateDidChange',\n      (appStateData) => {\n        this.currentState = appStateData.app_state;\n      }\n    );\n\n    // TODO: see above - this request just populates the value of `currentState`\n    // when the module is first initialized. Would be better to get rid of the prop\n    // and expose `getCurrentAppState` method directly.\n    RCTAppState.getCurrentAppState(\n      (appStateData) => {\n        this.currentState = appStateData.app_state;\n      },\n      logError\n    );\n  }\n\n  /**\n   * Add a handler to AppState changes by listening to the `change` event type\n   * and providing the handler\n   *\n   * TODO: now that AppState is a subclass of NativeEventEmitter, we could deprecate\n   * `addEventListener` and `removeEventListener` and just use `addListener` and\n   * `listener.remove()` directly. That will be a breaking change though, as both\n   * the method and event names are different (addListener events are currently\n   * required to be globally unique).\n   */\n  addEventListener(\n    type: string,\n    handler: Function\n  ) {\n    invariant(\n      ['change', 'memoryWarning'].indexOf(type) !== -1,\n      'Trying to subscribe to unknown event: \"%s\"', type\n    );\n    if (type === 'change') {\n      this._eventHandlers[type].set(handler, this.addListener(\n        'appStateDidChange',\n        (appStateData) => {\n          handler(appStateData.app_state);\n        }\n      ));\n    } else if (type === 'memoryWarning') {\n      this._eventHandlers[type].set(handler, this.addListener(\n        'memoryWarning',\n        handler\n      ));\n    }\n  }\n\n  /**\n   * Remove a handler by passing the `change` event type and the handler\n   */\n  removeEventListener(\n    type: string,\n    handler: Function\n  ) {\n    invariant(\n      ['change', 'memoryWarning'].indexOf(type) !== -1,\n      'Trying to remove listener for unknown event: \"%s\"', type\n    );\n    if (!this._eventHandlers[type].has(handler)) {\n      return;\n    }\n    this._eventHandlers[type].get(handler).remove();\n    this._eventHandlers[type].delete(handler);\n  }\n}\n\nfunction throwMissingNativeModule() {\n  invariant(\n    false,\n    'Cannot use AppState module when native RCTAppState is not included in the build.\\n' +\n    'Either include it, or check AppState.isAvailable before calling any methods.'\n  );\n}\n\nclass MissingNativeAppStateShim extends EventEmitter {\n  // AppState\n  isAvailable: boolean = false;\n  currentState: ?string = null;\n\n  addEventListener() {\n    throwMissingNativeModule();\n  }\n\n  removeEventListener() {\n    throwMissingNativeModule();\n  }\n\n  // EventEmitter\n  addListener() {\n    throwMissingNativeModule();\n  }\n\n  removeAllListeners() {\n    throwMissingNativeModule();\n  }\n\n  removeSubscription() {\n    throwMissingNativeModule();\n  }\n}\n\n// This module depends on the native `RCTAppState` module. If you don't include it,\n// `AppState.isAvailable` will return `false`, and any method calls will throw.\n// We reassign the class variable to keep the autodoc generator happy.\nif (RCTAppState) {\n  AppState = new AppState();\n} else {\n  AppState = new MissingNativeAppStateShim();\n}\n\nmodule.exports = AppState;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule logError\n * @flow\n */\n'use strict';\n\n/**\n * Small utility that can be used as an error handler. You cannot just pass\n * `console.error` as a failure callback - it's not properly bound.  If passes an\n * `Error` object, it will print the message and stack.\n */\nvar logError = function() {\n  if (arguments.length === 1 && arguments[0] instanceof Error) {\n    var err = arguments[0];\n    console.error('Error: \"' + err.message + '\".  Stack:\\n' + err.stack);\n  } else {\n    console.error.apply(console, arguments);\n  }\n};\n\nmodule.exports = logError;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule ActivityIndicator\n * @flow\n */\n'use strict';\n\nconst ColorPropType = require('ColorPropType');\nconst NativeMethodsMixin = require('NativeMethodsMixin');\nconst Platform = require('Platform');\nconst React = require('React');\nconst StyleSheet = require('StyleSheet');\nconst View = require('View');\n\nconst requireNativeComponent = require('requireNativeComponent');\n\nconst PropTypes = React.PropTypes;\n\nconst GRAY = '#999999';\n\ntype IndicatorSize = number | 'small' | 'large';\n\ntype DefaultProps = {\n  animating: boolean,\n  color: any,\n  hidesWhenStopped: boolean,\n  size: IndicatorSize,\n}\n\n/**\n * Displays a circular loading indicator.\n */\nconst ActivityIndicator = React.createClass({\n  mixins: [NativeMethodsMixin],\n\n  propTypes: {\n    ...View.propTypes,\n    /**\n     * Whether to show the indicator (true, the default) or hide it (false).\n     */\n    animating: PropTypes.bool,\n    /**\n     * The foreground color of the spinner (default is gray).\n     */\n    color: ColorPropType,\n    /**\n     * Size of the indicator (default is 'small').\n     * Passing a number to the size prop is only supported on Android.\n     */\n    size: PropTypes.oneOfType([\n      PropTypes.oneOf([ 'small', 'large' ]),\n      PropTypes.number,\n    ]),\n    /**\n     * Whether the indicator should hide when not animating (true by default).\n     *\n     * @platform ios\n     */\n    hidesWhenStopped: PropTypes.bool,\n  },\n\n  getDefaultProps(): DefaultProps {\n    return {\n      animating: true,\n      color: Platform.OS === 'ios' ? GRAY : undefined,\n      hidesWhenStopped: true,\n      size: 'small',\n    };\n  },\n\n  render() {\n    const {onLayout, style, ...props} = this.props;\n    let sizeStyle;\n\n    switch (props.size) {\n      case 'small':\n        sizeStyle = styles.sizeSmall;\n        break;\n      case 'large':\n        sizeStyle = styles.sizeLarge;\n        break;\n      default:\n        sizeStyle = {height: props.size, width: props.size};\n        break;\n    }\n\n    return (\n      <View\n        onLayout={onLayout}\n        style={[styles.container, style]}>\n        <RCTActivityIndicator\n          {...props}\n          style={sizeStyle}\n          styleAttr=\"Normal\"\n          indeterminate\n        />\n      </View>\n    );\n  }\n});\n\nconst styles = StyleSheet.create({\n  container: {\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  sizeSmall: {\n    width: 20,\n    height: 20,\n  },\n  sizeLarge: {\n    width: 36,\n    height: 36,\n  },\n});\n\nif (Platform.OS === 'ios') {\n  var RCTActivityIndicator = requireNativeComponent(\n    'RCTActivityIndicatorView',\n    ActivityIndicator,\n    {nativeOnly: {activityIndicatorViewStyle: true}},\n  );\n} else if (Platform.OS === 'android') {\n  var RCTActivityIndicator = requireNativeComponent(\n    'AndroidProgressBar',\n    ActivityIndicator,\n    // Ignore props that are specific to non inderterminate ProgressBar.\n    {nativeOnly: {\n      indeterminate: true,\n      progress: true,\n      styleAttr: true,\n    }},\n  );\n}\n\nmodule.exports = ActivityIndicator;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule ColorPropType\n */\n'use strict';\n\nvar normalizeColor = require('normalizeColor');\n\nvar colorPropType = function(isRequired, props, propName, componentName, location, propFullName) {\n  var color = props[propName];\n  if (color === undefined || color === null) {\n    if (isRequired) {\n      return new Error(\n        'Required ' + location + ' `' + (propFullName || propName) +\n        '` was not specified in `' + componentName + '`.'\n      );\n    }\n    return;\n  }\n\n  if (typeof color === 'number') {\n    // Developers should not use a number, but we are using the prop type\n    // both for user provided colors and for transformed ones. This isn't ideal\n    // and should be fixed but will do for now...\n    return;\n  }\n\n  if (normalizeColor(color) === null) {\n    return new Error(\n      'Invalid ' + location + ' `' + (propFullName || propName) +\n      '` supplied to `' + componentName + '`: ' + color + '\\n' +\n`Valid color formats are\n  - '#f0f' (#rgb)\n  - '#f0fc' (#rgba)\n  - '#ff00ff' (#rrggbb)\n  - '#ff00ff00' (#rrggbbaa)\n  - 'rgb(255, 255, 255)'\n  - 'rgba(255, 255, 255, 1.0)'\n  - 'hsl(360, 100%, 100%)'\n  - 'hsla(360, 100%, 100%, 1.0)'\n  - 'transparent'\n  - 'red'\n  - 0xff00ff00 (0xrrggbbaa)\n`);\n  }\n};\n\nvar ColorPropType = colorPropType.bind(null, false /* isRequired */);\nColorPropType.isRequired = colorPropType.bind(null, true /* isRequired */);\n\nmodule.exports = ColorPropType;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule normalizeColor\n * @flow\n */\n/* eslint no-bitwise: 0 */\n'use strict';\n\nfunction normalizeColor(color: string | number): ?number {\n  var match;\n\n  if (typeof color === 'number') {\n    if (color >>> 0 === color && color >= 0 && color <= 0xffffffff) {\n      return color;\n    }\n    return null;\n  }\n\n  // Ordered based on occurrences on Facebook codebase\n  if ((match = matchers.hex6.exec(color))) {\n    return parseInt(match[1] + 'ff', 16) >>> 0;\n  }\n\n  if (names.hasOwnProperty(color)) {\n    return names[color];\n  }\n\n  if ((match = matchers.rgb.exec(color))) {\n    return (\n      parse255(match[1]) << 24 | // r\n      parse255(match[2]) << 16 | // g\n      parse255(match[3]) << 8 | // b\n      0x000000ff // a\n    ) >>> 0;\n  }\n\n  if ((match = matchers.rgba.exec(color))) {\n    return (\n      parse255(match[1]) << 24 | // r\n      parse255(match[2]) << 16 | // g\n      parse255(match[3]) << 8 | // b\n      parse1(match[4]) // a\n    ) >>> 0;\n  }\n\n  if ((match = matchers.hex3.exec(color))) {\n    return parseInt(\n      match[1] + match[1] + // r\n      match[2] + match[2] + // g\n      match[3] + match[3] + // b\n      'ff', // a\n      16\n    ) >>> 0;\n  }\n\n  // https://drafts.csswg.org/css-color-4/#hex-notation\n  if ((match = matchers.hex8.exec(color))) {\n    return parseInt(match[1], 16) >>> 0;\n  }\n\n  if ((match = matchers.hex4.exec(color))) {\n    return parseInt(\n      match[1] + match[1] + // r\n      match[2] + match[2] + // g\n      match[3] + match[3] + // b\n      match[4] + match[4], // a\n      16\n    ) >>> 0;\n  }\n\n  if ((match = matchers.hsl.exec(color))) {\n    return (\n      hslToRgb(\n        parse360(match[1]), // h\n        parsePercentage(match[2]), // s\n        parsePercentage(match[3]) // l\n      ) |\n      0x000000ff // a\n    ) >>> 0;\n  }\n\n  if ((match = matchers.hsla.exec(color))) {\n    return (\n      hslToRgb(\n        parse360(match[1]), // h\n        parsePercentage(match[2]), // s\n        parsePercentage(match[3]) // l\n      ) |\n      parse1(match[4]) // a\n    ) >>> 0;\n  }\n\n  return null;\n}\n\nfunction hue2rgb(p: number, q: number, t: number): number {\n  if (t < 0) {\n    t += 1;\n  }\n  if (t > 1) {\n    t -= 1;\n  }\n  if (t < 1 / 6) {\n    return p + (q - p) * 6 * t;\n  }\n  if (t < 1 / 2) {\n    return q;\n  }\n  if (t < 2 / 3) {\n    return p + (q - p) * (2 / 3 - t) * 6;\n  }\n  return p;\n}\n\nfunction hslToRgb(h: number, s: number, l: number): number {\n  var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n  var p = 2 * l - q;\n  var r = hue2rgb(p, q, h + 1 / 3);\n  var g = hue2rgb(p, q, h);\n  var b = hue2rgb(p, q, h - 1 / 3);\n\n  return (\n    Math.round(r * 255) << 24 |\n    Math.round(g * 255) << 16 |\n    Math.round(b * 255) << 8\n  );\n}\n\n// var INTEGER = '[-+]?\\\\d+';\nvar NUMBER = '[-+]?\\\\d*\\\\.?\\\\d+';\nvar PERCENTAGE = NUMBER + '%';\n\nfunction call(...args) {\n  return '\\\\(\\\\s*(' + args.join(')\\\\s*,\\\\s*(') + ')\\\\s*\\\\)';\n}\n\nvar matchers = {\n  rgb: new RegExp('rgb' + call(NUMBER, NUMBER, NUMBER)),\n  rgba: new RegExp('rgba' + call(NUMBER, NUMBER, NUMBER, NUMBER)),\n  hsl: new RegExp('hsl' + call(NUMBER, PERCENTAGE, PERCENTAGE)),\n  hsla: new RegExp('hsla' + call(NUMBER, PERCENTAGE, PERCENTAGE, NUMBER)),\n  hex3: /^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,\n  hex4: /^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,\n  hex6: /^#([0-9a-fA-F]{6})$/,\n  hex8: /^#([0-9a-fA-F]{8})$/,\n};\n\nfunction parse255(str: string): number {\n  var int = parseInt(str, 10);\n  if (int < 0) {\n    return 0;\n  }\n  if (int > 255) {\n    return 255;\n  }\n  return int;\n}\n\nfunction parse360(str: string): number {\n  var int = parseFloat(str);\n  return (((int % 360) + 360) % 360) / 360;\n}\n\nfunction parse1(str: string): number {\n  var num = parseFloat(str);\n  if (num < 0) {\n    return 0;\n  }\n  if (num > 1) {\n    return 255;\n  }\n  return Math.round(num * 255);\n}\n\nfunction parsePercentage(str: string): number {\n  // parseFloat conveniently ignores the final %\n  var int = parseFloat(str, 10);\n  if (int < 0) {\n    return 0;\n  }\n  if (int > 100) {\n    return 1;\n  }\n  return int / 100;\n}\n\nvar names = {\n  transparent: 0x00000000,\n\n  // http://www.w3.org/TR/css3-color/#svg-color\n  aliceblue: 0xf0f8ffff,\n  antiquewhite: 0xfaebd7ff,\n  aqua: 0x00ffffff,\n  aquamarine: 0x7fffd4ff,\n  azure: 0xf0ffffff,\n  beige: 0xf5f5dcff,\n  bisque: 0xffe4c4ff,\n  black: 0x000000ff,\n  blanchedalmond: 0xffebcdff,\n  blue: 0x0000ffff,\n  blueviolet: 0x8a2be2ff,\n  brown: 0xa52a2aff,\n  burlywood: 0xdeb887ff,\n  burntsienna: 0xea7e5dff,\n  cadetblue: 0x5f9ea0ff,\n  chartreuse: 0x7fff00ff,\n  chocolate: 0xd2691eff,\n  coral: 0xff7f50ff,\n  cornflowerblue: 0x6495edff,\n  cornsilk: 0xfff8dcff,\n  crimson: 0xdc143cff,\n  cyan: 0x00ffffff,\n  darkblue: 0x00008bff,\n  darkcyan: 0x008b8bff,\n  darkgoldenrod: 0xb8860bff,\n  darkgray: 0xa9a9a9ff,\n  darkgreen: 0x006400ff,\n  darkgrey: 0xa9a9a9ff,\n  darkkhaki: 0xbdb76bff,\n  darkmagenta: 0x8b008bff,\n  darkolivegreen: 0x556b2fff,\n  darkorange: 0xff8c00ff,\n  darkorchid: 0x9932ccff,\n  darkred: 0x8b0000ff,\n  darksalmon: 0xe9967aff,\n  darkseagreen: 0x8fbc8fff,\n  darkslateblue: 0x483d8bff,\n  darkslategray: 0x2f4f4fff,\n  darkslategrey: 0x2f4f4fff,\n  darkturquoise: 0x00ced1ff,\n  darkviolet: 0x9400d3ff,\n  deeppink: 0xff1493ff,\n  deepskyblue: 0x00bfffff,\n  dimgray: 0x696969ff,\n  dimgrey: 0x696969ff,\n  dodgerblue: 0x1e90ffff,\n  firebrick: 0xb22222ff,\n  floralwhite: 0xfffaf0ff,\n  forestgreen: 0x228b22ff,\n  fuchsia: 0xff00ffff,\n  gainsboro: 0xdcdcdcff,\n  ghostwhite: 0xf8f8ffff,\n  gold: 0xffd700ff,\n  goldenrod: 0xdaa520ff,\n  gray: 0x808080ff,\n  green: 0x008000ff,\n  greenyellow: 0xadff2fff,\n  grey: 0x808080ff,\n  honeydew: 0xf0fff0ff,\n  hotpink: 0xff69b4ff,\n  indianred: 0xcd5c5cff,\n  indigo: 0x4b0082ff,\n  ivory: 0xfffff0ff,\n  khaki: 0xf0e68cff,\n  lavender: 0xe6e6faff,\n  lavenderblush: 0xfff0f5ff,\n  lawngreen: 0x7cfc00ff,\n  lemonchiffon: 0xfffacdff,\n  lightblue: 0xadd8e6ff,\n  lightcoral: 0xf08080ff,\n  lightcyan: 0xe0ffffff,\n  lightgoldenrodyellow: 0xfafad2ff,\n  lightgray: 0xd3d3d3ff,\n  lightgreen: 0x90ee90ff,\n  lightgrey: 0xd3d3d3ff,\n  lightpink: 0xffb6c1ff,\n  lightsalmon: 0xffa07aff,\n  lightseagreen: 0x20b2aaff,\n  lightskyblue: 0x87cefaff,\n  lightslategray: 0x778899ff,\n  lightslategrey: 0x778899ff,\n  lightsteelblue: 0xb0c4deff,\n  lightyellow: 0xffffe0ff,\n  lime: 0x00ff00ff,\n  limegreen: 0x32cd32ff,\n  linen: 0xfaf0e6ff,\n  magenta: 0xff00ffff,\n  maroon: 0x800000ff,\n  mediumaquamarine: 0x66cdaaff,\n  mediumblue: 0x0000cdff,\n  mediumorchid: 0xba55d3ff,\n  mediumpurple: 0x9370dbff,\n  mediumseagreen: 0x3cb371ff,\n  mediumslateblue: 0x7b68eeff,\n  mediumspringgreen: 0x00fa9aff,\n  mediumturquoise: 0x48d1ccff,\n  mediumvioletred: 0xc71585ff,\n  midnightblue: 0x191970ff,\n  mintcream: 0xf5fffaff,\n  mistyrose: 0xffe4e1ff,\n  moccasin: 0xffe4b5ff,\n  navajowhite: 0xffdeadff,\n  navy: 0x000080ff,\n  oldlace: 0xfdf5e6ff,\n  olive: 0x808000ff,\n  olivedrab: 0x6b8e23ff,\n  orange: 0xffa500ff,\n  orangered: 0xff4500ff,\n  orchid: 0xda70d6ff,\n  palegoldenrod: 0xeee8aaff,\n  palegreen: 0x98fb98ff,\n  paleturquoise: 0xafeeeeff,\n  palevioletred: 0xdb7093ff,\n  papayawhip: 0xffefd5ff,\n  peachpuff: 0xffdab9ff,\n  peru: 0xcd853fff,\n  pink: 0xffc0cbff,\n  plum: 0xdda0ddff,\n  powderblue: 0xb0e0e6ff,\n  purple: 0x800080ff,\n  rebeccapurple: 0x663399ff,\n  red: 0xff0000ff,\n  rosybrown: 0xbc8f8fff,\n  royalblue: 0x4169e1ff,\n  saddlebrown: 0x8b4513ff,\n  salmon: 0xfa8072ff,\n  sandybrown: 0xf4a460ff,\n  seagreen: 0x2e8b57ff,\n  seashell: 0xfff5eeff,\n  sienna: 0xa0522dff,\n  silver: 0xc0c0c0ff,\n  skyblue: 0x87ceebff,\n  slateblue: 0x6a5acdff,\n  slategray: 0x708090ff,\n  slategrey: 0x708090ff,\n  snow: 0xfffafaff,\n  springgreen: 0x00ff7fff,\n  steelblue: 0x4682b4ff,\n  tan: 0xd2b48cff,\n  teal: 0x008080ff,\n  thistle: 0xd8bfd8ff,\n  tomato: 0xff6347ff,\n  turquoise: 0x40e0d0ff,\n  violet: 0xee82eeff,\n  wheat: 0xf5deb3ff,\n  white: 0xffffffff,\n  whitesmoke: 0xf5f5f5ff,\n  yellow: 0xffff00ff,\n  yellowgreen: 0x9acd32ff,\n};\n\nmodule.exports = normalizeColor;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule NativeMethodsMixin\n * @flow\n */\n'use strict';\n\nvar ReactNative = require('ReactNative');\nvar ReactNativeAttributePayload = require('ReactNativeAttributePayload');\nvar TextInputState = require('TextInputState');\nvar UIManager = require('UIManager');\n\nvar invariant = require('fbjs/lib/invariant');\n\ntype MeasureOnSuccessCallback = (\n  x: number,\n  y: number,\n  width: number,\n  height: number,\n  pageX: number,\n  pageY: number\n) => void\n\ntype MeasureInWindowOnSuccessCallback = (\n  x: number,\n  y: number,\n  width: number,\n  height: number,\n) => void\n\ntype MeasureLayoutOnSuccessCallback = (\n  left: number,\n  top: number,\n  width: number,\n  height: number\n) => void\n\nfunction warnForStyleProps(props, validAttributes) {\n  for (var key in validAttributes.style) {\n    if (!(validAttributes[key] || props[key] === undefined)) {\n      console.error(\n        'You are setting the style `{ ' + key + ': ... }` as a prop. You ' +\n        'should nest it in a style object. ' +\n        'E.g. `{ style: { ' + key + ': ... } }`'\n      );\n    }\n  }\n}\n\n/**\n * `NativeMethodsMixin` provides methods to access the underlying native\n * component directly. This can be useful in cases when you want to focus\n * a view or measure its on-screen dimensions, for example.\n *\n * The methods described here are available on most of the default components\n * provided by React Native. Note, however, that they are *not* available on\n * composite components that aren't directly backed by a native view. This will\n * generally include most components that you define in your own app. For more\n * information, see [Direct\n * Manipulation](docs/direct-manipulation.html).\n */\nvar NativeMethodsMixin = {\n  /**\n   * Determines the location on screen, width, and height of the given view and\n   * returns the values via an async callback. If successful, the callback will\n   * be called with the following arguments:\n   *\n   *  - x\n   *  - y\n   *  - width\n   *  - height\n   *  - pageX\n   *  - pageY\n   *\n   * Note that these measurements are not available until after the rendering\n   * has been completed in native. If you need the measurements as soon as\n   * possible, consider using the [`onLayout`\n   * prop](docs/view.html#onlayout) instead.\n   */\n  measure: function(callback: MeasureOnSuccessCallback) {\n    UIManager.measure(\n      ReactNative.findNodeHandle(this),\n      mountSafeCallback(this, callback)\n    );\n  },\n\n  /**\n   * Determines the location of the given view in the window and returns the\n   * values via an async callback. If the React root view is embedded in\n   * another native view, this will give you the absolute coordinates. If\n   * successful, the callback will be called with the following\n   * arguments:\n   *\n   *  - x\n   *  - y\n   *  - width\n   *  - height\n   *\n   * Note that these measurements are not available until after the rendering\n   * has been completed in native.\n   */\n  measureInWindow: function(callback: MeasureInWindowOnSuccessCallback) {\n    UIManager.measureInWindow(\n      ReactNative.findNodeHandle(this),\n      mountSafeCallback(this, callback)\n    );\n  },\n\n  /**\n   * Like [`measure()`](#measure), but measures the view relative an ancestor,\n   * specified as `relativeToNativeNode`. This means that the returned x, y\n   * are relative to the origin x, y of the ancestor view.\n   *\n   * As always, to obtain a native node handle for a component, you can use\n   * `ReactNative.findNodeHandle(component)`.\n   */\n  measureLayout: function(\n    relativeToNativeNode: number,\n    onSuccess: MeasureLayoutOnSuccessCallback,\n    onFail: () => void /* currently unused */\n  ) {\n    UIManager.measureLayout(\n      ReactNative.findNodeHandle(this),\n      relativeToNativeNode,\n      mountSafeCallback(this, onFail),\n      mountSafeCallback(this, onSuccess)\n    );\n  },\n\n  /**\n   * This function sends props straight to native. They will not participate in\n   * future diff process - this means that if you do not include them in the\n   * next render, they will remain active (see [Direct\n   * Manipulation](docs/direct-manipulation.html)).\n   */\n  setNativeProps: function(nativeProps: Object) {\n    if (__DEV__) {\n      warnForStyleProps(nativeProps, this.viewConfig.validAttributes);\n    }\n\n    var updatePayload = ReactNativeAttributePayload.create(\n      nativeProps,\n      this.viewConfig.validAttributes\n    );\n\n    UIManager.updateView(\n      (ReactNative.findNodeHandle(this) : any),\n      this.viewConfig.uiViewClassName,\n      updatePayload\n    );\n  },\n\n  /**\n   * Requests focus for the given input or view. The exact behavior triggered\n   * will depend on the platform and type of view.\n   */\n  focus: function() {\n    TextInputState.focusTextInput(ReactNative.findNodeHandle(this));\n  },\n\n  /**\n   * Removes focus from an input or view. This is the opposite of `focus()`.\n   */\n  blur: function() {\n    TextInputState.blurTextInput(ReactNative.findNodeHandle(this));\n  },\n};\n\nfunction throwOnStylesProp(component, props) {\n  if (props.styles !== undefined) {\n    var owner = component._owner || null;\n    var name = component.constructor.displayName;\n    var msg = '`styles` is not a supported property of `' + name + '`, did ' +\n      'you mean `style` (singular)?';\n    if (owner && owner.constructor && owner.constructor.displayName) {\n      msg += '\\n\\nCheck the `' + owner.constructor.displayName + '` parent ' +\n        ' component.';\n    }\n    throw new Error(msg);\n  }\n}\nif (__DEV__) {\n  // hide this from Flow since we can't define these properties outside of\n  // __DEV__ without actually implementing them (setting them to undefined\n  // isn't allowed by ReactClass)\n  var NativeMethodsMixin_DEV = (NativeMethodsMixin: any);\n  invariant(\n    !NativeMethodsMixin_DEV.componentWillMount &&\n    !NativeMethodsMixin_DEV.componentWillReceiveProps,\n    'Do not override existing functions.'\n  );\n  NativeMethodsMixin_DEV.componentWillMount = function() {\n    throwOnStylesProp(this, this.props);\n  };\n  NativeMethodsMixin_DEV.componentWillReceiveProps = function(newProps) {\n    throwOnStylesProp(this, newProps);\n  };\n}\n\n/**\n * In the future, we should cleanup callbacks by cancelling them instead of\n * using this.\n */\nfunction mountSafeCallback(\n  context: ReactComponent<any, any, any>,\n  callback: ?Function\n): any {\n  return function() {\n    if (!callback || (typeof context.isMounted === 'function' && !context.isMounted())) {\n      return undefined;\n    }\n    return callback.apply(context, arguments);\n  };\n}\n\nmodule.exports = NativeMethodsMixin;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule ReactNative\n * @flow\n */\n'use strict';\n\n// TODO (bvaughn) Enable Fiber experiement via ReactNativeFeatureFlags\nmodule.exports = require('ReactNativeStack');\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule ReactNativeStack\n * @flow\n */\n'use strict';\n\nvar ReactNativeComponentTree = require('ReactNativeComponentTree');\nvar ReactNativeInjection = require('ReactNativeInjection');\nvar ReactNativeStackInjection = require('ReactNativeStackInjection');\nvar ReactNativeMount = require('ReactNativeMount');\nvar ReactUpdates = require('ReactUpdates');\n\nvar findNodeHandle = require('findNodeHandle');\n\nReactNativeInjection.inject();\nReactNativeStackInjection.inject();\n\nvar render = function(\n  element: ReactElement<any>,\n  mountInto: number,\n  callback?: ?(() => void)\n): ?ReactComponent<any, any, any> {\n  return ReactNativeMount.renderComponent(element, mountInto, callback);\n};\n\nfindNodeHandle.injection.injectFindNode(\n  (instance) => instance.getHostNode()\n);\nfindNodeHandle.injection.injectFindRootNodeID(\n  (instance) => instance._rootNodeID\n);\n\nvar ReactNative = {\n  hasReactNativeInitialized: false,\n  findNodeHandle: findNodeHandle,\n  render: render,\n  unmountComponentAtNode: ReactNativeMount.unmountComponentAtNode,\n\n  /* eslint-disable camelcase */\n  unstable_batchedUpdates: ReactUpdates.batchedUpdates,\n  /* eslint-enable camelcase */\n\n  unmountComponentAtNodeAndRemoveContainer: ReactNativeMount.unmountComponentAtNodeAndRemoveContainer,\n};\n\n// Inject the runtime into a devtools global hook regardless of browser.\n// Allows for debugging when the hook is injected on the page.\n/* globals __REACT_DEVTOOLS_GLOBAL_HOOK__ */\nif (\n  typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ !== 'undefined' &&\n  typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject === 'function') {\n  __REACT_DEVTOOLS_GLOBAL_HOOK__.inject({\n    ComponentTree: {\n      getClosestInstanceFromNode: function(node) {\n        return ReactNativeComponentTree.getClosestInstanceFromNode(node);\n      },\n      getNodeFromInstance: function(inst) {\n        // inst is an internal instance (but could be a composite)\n        while (inst._renderedComponent) {\n          inst = inst._renderedComponent;\n        }\n        if (inst) {\n          return ReactNativeComponentTree.getNodeFromInstance(inst);\n        } else {\n          return null;\n        }\n      },\n    },\n    Mount: ReactNativeMount,\n    Reconciler: require('ReactReconciler'),\n  });\n}\n\nmodule.exports = ReactNative;\n","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule ReactNativeComponentTree\n */\n\n'use strict';\n\nvar invariant = require('fbjs/lib/invariant');\n\nvar instanceCache = {};\nvar instanceProps = {};\n\n/**\n * Drill down (through composites and empty components) until we get a host or\n * host text component.\n *\n * This is pretty polymorphic but unavoidable with the current structure we have\n * for `_renderedChildren`.\n */\nfunction getRenderedHostOrTextFromComponent(component) {\n  var rendered;\n  while ((rendered = component._renderedComponent)) {\n    component = rendered;\n  }\n  return component;\n}\n\n/**\n * Populate `_hostNode` on the rendered host/text component with the given\n * DOM node. The passed `inst` can be a composite.\n */\nfunction precacheNode(inst, tag) {\n  var nativeInst = getRenderedHostOrTextFromComponent(inst);\n  instanceCache[tag] = nativeInst;\n}\n\nfunction precacheFiberNode(hostInst, tag) {\n  instanceCache[tag] = hostInst;\n}\n\nfunction uncacheNode(inst) {\n  var tag = inst._rootNodeID;\n  if (tag) {\n    delete instanceCache[tag];\n  }\n}\n\nfunction uncacheFiberNode(tag) {\n  delete instanceCache[tag];\n  delete instanceProps[tag];\n}\n\nfunction getInstanceFromTag(tag) {\n  return instanceCache[tag] || null;\n}\n\nfunction getTagFromInstance(inst) {\n  // TODO (bvaughn) Clean up once Stack is deprecated\n  var tag = typeof inst.tag !== 'number'\n    ? inst._rootNodeID\n    : inst.stateNode._nativeTag;\n  invariant(tag, 'All native instances should have a tag.');\n  return tag;\n}\n\nfunction getFiberCurrentPropsFromNode(stateNode) {\n  return instanceProps[stateNode._nativeTag] || null;\n}\n\nfunction updateFiberProps(tag, props) {\n  instanceProps[tag] = props;\n}\n\nvar ReactNativeComponentTree = {\n  getClosestInstanceFromNode: getInstanceFromTag,\n  getInstanceFromNode: getInstanceFromTag,\n  getNodeFromInstance: getTagFromInstance,\n  precacheFiberNode,\n  precacheNode,\n  uncacheFiberNode,\n  uncacheNode,\n  getFiberCurrentPropsFromNode,\n  updateFiberProps,\n};\n\nmodule.exports = ReactNativeComponentTree;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule ReactNativeInjection\n * @flow\n */\n'use strict';\n\n/**\n * Make sure essential globals are available and are patched correctly. Please don't remove this\n * line. Bundles created by react-packager `require` it before executing any application code. This\n * ensures it exists in the dependency graph and can be `require`d.\n * TODO: require this in packager, not in React #10932517\n */\nrequire('InitializeCore');\n\nvar EventPluginHub = require('EventPluginHub');\nvar EventPluginUtils = require('EventPluginUtils');\nvar RCTEventEmitter = require('RCTEventEmitter');\nvar ReactNativeBridgeEventPlugin = require('ReactNativeBridgeEventPlugin');\nvar ReactNativeComponentTree = require('ReactNativeComponentTree');\nvar ReactNativeEventEmitter = require('ReactNativeEventEmitter');\nvar ReactNativeEventPluginOrder = require('ReactNativeEventPluginOrder');\nvar ReactNativeGlobalResponderHandler = require('ReactNativeGlobalResponderHandler');\nvar ResponderEventPlugin = require('ResponderEventPlugin');\n\nfunction inject() {\n  /**\n   * Register the event emitter with the native bridge\n   */\n  RCTEventEmitter.register(ReactNativeEventEmitter);\n\n  /**\n   * Inject module for resolving DOM hierarchy and plugin ordering.\n   */\n  EventPluginHub.injection.injectEventPluginOrder(ReactNativeEventPluginOrder);\n  EventPluginUtils.injection.injectComponentTree(ReactNativeComponentTree);\n\n  ResponderEventPlugin.injection.injectGlobalResponderHandler(\n    ReactNativeGlobalResponderHandler\n  );\n\n  /**\n   * Some important event plugins included by default (without having to require\n   * them).\n   */\n  EventPluginHub.injection.injectEventPluginsByName({\n    'ResponderEventPlugin': ResponderEventPlugin,\n    'ReactNativeBridgeEventPlugin': ReactNativeBridgeEventPlugin,\n  });\n}\n\nmodule.exports = {\n  inject: inject,\n};\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule InitializeCore\n * @flow\n */\n\n/* eslint-disable strict */\n/* globals window: true */\n\n\n/**\n * Sets up global variables typical in most JavaScript environments.\n *\n *   1. Global timers (via `setTimeout` etc).\n *   2. Global console object.\n *   3. Hooks for printing stack traces with source maps.\n *\n * Leaves enough room in the environment for implementing your own:\n *\n *   1. Require system.\n *   2. Bridged modules.\n *\n */\n'use strict';\n\nif (global.GLOBAL === undefined) {\n  global.GLOBAL = global;\n}\n\nif (global.window === undefined) {\n  global.window = global;\n}\n\nconst defineLazyObjectProperty = require('defineLazyObjectProperty');\n\n/**\n * Sets an object's property. If a property with the same name exists, this will\n * replace it but maintain its descriptor configuration. By default, the property\n * will replaced with a lazy getter.\n *\n * The original property value will be preserved as `original[PropertyName]` so\n * that, if necessary, it can be restored. For example, if you want to route\n * network requests through DevTools (to trace them):\n *\n *   global.XMLHttpRequest = global.originalXMLHttpRequest;\n *\n * @see https://github.com/facebook/react-native/issues/934\n */\nfunction defineProperty<T>(\n  object: Object,\n  name: string,\n  getValue: () => T,\n  eager?: boolean\n): void {\n  const descriptor = Object.getOwnPropertyDescriptor(object, name);\n  if (descriptor) {\n    const backupName = `original${name[0].toUpperCase()}${name.substr(1)}`;\n    Object.defineProperty(object, backupName, {\n      ...descriptor,\n      value: object[name],\n    });\n  }\n\n  const {enumerable, writable, configurable} = descriptor || {};\n  if (descriptor && !configurable) {\n    console.error('Failed to set polyfill. ' + name + ' is not configurable.');\n    return;\n  }\n\n  if (eager === true) {\n    Object.defineProperty(object, name, {\n      configurable: true,\n      enumerable: enumerable !== false,\n      writable: writable !== false,\n      value: getValue(),\n    });\n  } else {\n    defineLazyObjectProperty(object, name, {\n      get: getValue,\n      enumerable: enumerable !== false,\n      writable: writable !== false,\n    });\n  }\n}\n\n// Set up process\nglobal.process = global.process || {};\nglobal.process.env = global.process.env || {};\nif (!global.process.env.NODE_ENV) {\n  global.process.env.NODE_ENV = __DEV__ ? 'development' : 'production';\n}\n\n// Set up profile\nconst Systrace = require('Systrace');\nSystrace.setEnabled(global.__RCTProfileIsProfiling || false);\n\n// Set up console\nconst ExceptionsManager = require('ExceptionsManager');\nExceptionsManager.installConsoleErrorReporter();\n\n// TODO: Move these around to solve the cycle in a cleaner way\nconst BatchedBridge = require('BatchedBridge');\nBatchedBridge.registerCallableModule('Systrace', require('Systrace'));\nBatchedBridge.registerCallableModule('JSTimersExecution', require('JSTimersExecution'));\nBatchedBridge.registerCallableModule('HeapCapture', require('HeapCapture'));\nBatchedBridge.registerCallableModule('SamplingProfiler', require('SamplingProfiler'));\n\nif (__DEV__) {\n  BatchedBridge.registerCallableModule('HMRClient', require('HMRClient'));\n}\n\n// RCTLog needs to register with BatchedBridge\nrequire('RCTLog');\n\n// Set up error handler\nif (!global.__fbDisableExceptionsManager) {\n  const handleError = (e, isFatal) => {\n    try {\n      ExceptionsManager.handleException(e, isFatal);\n    } catch (ee) {\n      /* eslint-disable no-console-disallow */\n      console.log('Failed to print error: ', ee.message);\n      /* eslint-enable no-console-disallow */\n      throw e;\n    }\n  };\n\n  const ErrorUtils = require('ErrorUtils');\n  ErrorUtils.setGlobalHandler(handleError);\n}\n\n// Set up timers\nconst defineLazyTimer = name => {\n  defineProperty(global, name, () => require('JSTimers')[name]);\n};\ndefineLazyTimer('setTimeout');\ndefineLazyTimer('setInterval');\ndefineLazyTimer('setImmediate');\ndefineLazyTimer('clearTimeout');\ndefineLazyTimer('clearInterval');\ndefineLazyTimer('clearImmediate');\ndefineLazyTimer('requestAnimationFrame');\ndefineLazyTimer('cancelAnimationFrame');\ndefineLazyTimer('requestIdleCallback');\ndefineLazyTimer('cancelIdleCallback');\n\n// Set up alert\nif (!global.alert) {\n  global.alert = function(text) {\n    // Require Alert on demand. Requiring it too early can lead to issues\n    // with things like Platform not being fully initialized.\n    require('Alert').alert('Alert', '' + text);\n  };\n}\n\n// Set up Promise\n// The native Promise implementation throws the following error:\n// ERROR: Event loop not supported.\ndefineProperty(global, 'Promise', () => require('Promise'));\n\n// Set up regenerator.\ndefineProperty(global, 'regeneratorRuntime', () => {\n  // The require just sets up the global, so make sure when we first\n  // invoke it the global does not exist\n  delete global.regeneratorRuntime;\n  require('regenerator-runtime/runtime');\n  return global.regeneratorRuntime;\n});\n\n// Set up XHR\n// The native XMLHttpRequest in Chrome dev tools is CORS aware and won't\n// let you fetch anything from the internet\ndefineProperty(global, 'XMLHttpRequest', () => require('XMLHttpRequest'));\ndefineProperty(global, 'FormData', () => require('FormData'));\n\ndefineProperty(global, 'fetch', () => require('fetch').fetch);\ndefineProperty(global, 'Headers', () => require('fetch').Headers);\ndefineProperty(global, 'Request', () => require('fetch').Request);\ndefineProperty(global, 'Response', () => require('fetch').Response);\ndefineProperty(global, 'WebSocket', () => require('WebSocket'));\n\n// Set up Geolocation\nlet navigator = global.navigator;\nif (navigator === undefined) {\n  global.navigator = navigator = {};\n}\n\n// see https://github.com/facebook/react-native/issues/10881\ndefineProperty(navigator, 'product', () => 'ReactNative', true);\ndefineProperty(navigator, 'geolocation', () => require('Geolocation'));\n\n// Set up collections\n// We can't make these lazy because `Map` checks for `global.Map` (which wouldc\n// not exist if it were lazily defined).\ndefineProperty(global, 'Map', () => require('Map'), true);\ndefineProperty(global, 'Set', () => require('Set'), true);\n\n// Set up devtools\nif (__DEV__) {\n  // not when debugging in chrome\n  // TODO(t12832058) This check is broken\n  if (!window.document) {\n    require('setupDevtools');\n  }\n\n  require('RCTDebugComponentOwnership');\n}\n\n// Set up inspector\nif (__DEV__) {\n  const JSInspector = require('JSInspector');\n  JSInspector.registerAgent(require('NetworkAgent'));\n}\n\n// Just to make sure the JS gets packaged up. Wait until the JS environment has\n// been initialized before requiring them.\nrequire('RCTDeviceEventEmitter');\nrequire('RCTNativeAppEventEmitter');\nrequire('PerformanceLogger');\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule ExceptionsManager\n * @flow\n */\n'use strict';\n\n/**\n * Handles the developer-visible aspect of errors and exceptions\n */\nlet exceptionID = 0;\nfunction reportException(e: Error, isFatal: bool) {\n  const {ExceptionsManager} = require('NativeModules');\n  if (ExceptionsManager) {\n    const parseErrorStack = require('parseErrorStack');\n    const stack = parseErrorStack(e);\n    const currentExceptionID = ++exceptionID;\n    if (isFatal) {\n      ExceptionsManager.reportFatalException(e.message, stack, currentExceptionID);\n    } else {\n      ExceptionsManager.reportSoftException(e.message, stack, currentExceptionID);\n    }\n    if (__DEV__) {\n      const symbolicateStackTrace = require('symbolicateStackTrace');\n      symbolicateStackTrace(stack).then(\n        (prettyStack) => {\n          if (prettyStack) {\n            ExceptionsManager.updateExceptionMessage(e.message, prettyStack, currentExceptionID);\n          } else {\n            throw new Error('The stack is null');\n          }\n        }\n      ).catch(\n        (error) => console.warn('Unable to symbolicate stack trace: ' + error.message)\n      );\n    }\n  }\n}\n\ndeclare var console: typeof console & {\n  _errorOriginal: Function,\n  reportErrorsAsExceptions: boolean,\n};\n\n/**\n * Logs exceptions to the (native) console and displays them\n */\nfunction handleException(e: Error, isFatal: boolean) {\n  // Workaround for reporting errors caused by `throw 'some string'`\n  // Unfortunately there is no way to figure out the stacktrace in this\n  // case, so if you ended up here trying to trace an error, look for\n  // `throw '<error message>'` somewhere in your codebase.\n  if (!e.message) {\n    e = new Error(e);\n  }\n  if (console._errorOriginal) {\n    console._errorOriginal(e.message);\n  } else {\n    console.error(e.message);\n  }\n  reportException(e, isFatal);\n}\n\nfunction reactConsoleErrorHandler() {\n  console._errorOriginal.apply(console, arguments);\n  if (!console.reportErrorsAsExceptions) {\n    return;\n  }\n\n  if (arguments[0] && arguments[0].stack) {\n    reportException(arguments[0], /* isFatal */ false);\n  } else {\n    const stringifySafe = require('stringifySafe');\n    const str = Array.prototype.map.call(arguments, stringifySafe).join(', ');\n    if (str.slice(0, 10) === '\"Warning: ') {\n      // React warnings use console.error so that a stack trace is shown, but\n      // we don't (currently) want these to show a redbox\n      // (Note: Logic duplicated in polyfills/console.js.)\n      return;\n    }\n    const error : any = new Error('console.error: ' + str);\n    error.framesToPop = 1;\n    reportException(error, /* isFatal */ false);\n  }\n}\n\n/**\n * Shows a redbox with stacktrace for all console.error messages.  Disable by\n * setting `console.reportErrorsAsExceptions = false;` in your app.\n */\nfunction installConsoleErrorReporter() {\n  // Enable reportErrorsAsExceptions\n  if (console._errorOriginal) {\n    return; // already installed\n  }\n  // Flow doesn't like it when you set arbitrary values on a global object\n  console._errorOriginal = console.error.bind(console);\n  console.error = reactConsoleErrorHandler;\n  if (console.reportErrorsAsExceptions === undefined) {\n    // Individual apps can disable this\n    // Flow doesn't like it when you set arbitrary values on a global object\n    console.reportErrorsAsExceptions = true;\n  }\n}\n\nmodule.exports = { handleException, installConsoleErrorReporter };\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule symbolicateStackTrace\n * @flow\n */\n'use strict';\n\nconst getDevServer = require('getDevServer');\n\nconst {SourceCode} = require('NativeModules');\n\n// Avoid requiring fetch on load of this module; see symbolicateStackTrace\nlet fetch; \n\nimport type {StackFrame} from 'parseErrorStack';\n\nfunction isSourcedFromDisk(sourcePath: string): boolean {\n  return !/^http/.test(sourcePath) && /[\\\\/]/.test(sourcePath);\n}\n\nasync function symbolicateStackTrace(stack: Array<StackFrame>): Promise<Array<StackFrame>> {\n  // RN currently lazy loads whatwg-fetch using a custom fetch module, which, \n  // when called for the first time, requires and re-exports 'whatwg-fetch'.\n  // However, when a dependency of the project tries to require whatwg-fetch \n  // either directly or indirectly, whatwg-fetch is required before \n  // RN can lazy load whatwg-fetch. As whatwg-fetch checks\n  // for a fetch polyfill before loading, it will in turn try to load \n  // RN's fetch module, which immediately tries to import whatwg-fetch AGAIN. \n  // This causes a circular require which results in RN's fetch module\n  // exporting fetch as 'undefined'.\n  // The fix below postpones trying to load fetch until the first call to symbolicateStackTrace.\n  // At that time, we will have either global.fetch (whatwg-fetch) or RN's fetch.\n  if (!fetch) {\n    fetch = global.fetch || require('fetch').fetch;\n  }\n\n  const devServer = getDevServer();\n  if (!devServer.bundleLoadedFromServer) {\n    throw new Error('Bundle was not loaded from the packager');\n  }\n\n  let stackCopy = stack;\n\n  if (SourceCode.scriptURL) {\n    let foundInternalSource: boolean = false;\n    stackCopy = stack.map((frame: StackFrame) => {\n      // If the sources exist on disk rather than appearing to come from the packager,\n      // replace the location with the packager URL until we reach an internal source\n      // which does not have a path (no slashes), indicating a switch from within\n      // the application to a surrounding debugging environment.\n      if (!foundInternalSource && isSourcedFromDisk(frame.file)) {\n        // Copy frame into new object and replace 'file' property\n        return {...frame, file: SourceCode.scriptURL};\n      }\n\n      foundInternalSource = true;\n      return frame;\n    });\n  }\n\n  const response = await fetch(devServer.url + 'symbolicate', {\n    method: 'POST',\n    body: JSON.stringify({stack: stackCopy}),\n  });\n  const json = await response.json();\n  return json.stack;\n}\n\nmodule.exports = symbolicateStackTrace;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule getDevServer\n * @flow\n */\n'use strict';\n\nconst {SourceCode} = require('NativeModules');\n\nlet _cachedDevServerURL: ?string;\nconst FALLBACK = 'http://localhost:8081/';\n\ntype DevServerInfo = {\n  url: string,\n  bundleLoadedFromServer: boolean,\n};\n\n/**\n * Many RN development tools rely on the development server (packager) running\n * @return URL to packager with trailing slash\n */\nfunction getDevServer(): DevServerInfo {\n  if (_cachedDevServerURL === undefined) {\n    const match = SourceCode.scriptURL && SourceCode.scriptURL.match(/^https?:\\/\\/.*?\\//);\n    _cachedDevServerURL = match ? match[0] : null;\n  }\n\n  return {\n    url: _cachedDevServerURL || FALLBACK,\n    bundleLoadedFromServer: _cachedDevServerURL !== null,\n  };\n}\n\nmodule.exports = getDevServer;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule fetch\n * @nolint\n *\n */\n'use strict';\n\nimport 'whatwg-fetch';\n\nmodule.exports = {fetch, Headers, Request, Response};\n","(function(self) {\n  'use strict';\n\n  if (self.fetch) {\n    return\n  }\n\n  var support = {\n    searchParams: 'URLSearchParams' in self,\n    iterable: 'Symbol' in self && 'iterator' in Symbol,\n    blob: 'FileReader' in self && 'Blob' in self && (function() {\n      try {\n        new Blob()\n        return true\n      } catch(e) {\n        return false\n      }\n    })(),\n    formData: 'FormData' in self,\n    arrayBuffer: 'ArrayBuffer' in self\n  }\n\n  if (support.arrayBuffer) {\n    var viewClasses = [\n      '[object Int8Array]',\n      '[object Uint8Array]',\n      '[object Uint8ClampedArray]',\n      '[object Int16Array]',\n      '[object Uint16Array]',\n      '[object Int32Array]',\n      '[object Uint32Array]',\n      '[object Float32Array]',\n      '[object Float64Array]'\n    ]\n\n    var isDataView = function(obj) {\n      return obj && DataView.prototype.isPrototypeOf(obj)\n    }\n\n    var isArrayBufferView = ArrayBuffer.isView || function(obj) {\n      return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1\n    }\n  }\n\n  function normalizeName(name) {\n    if (typeof name !== 'string') {\n      name = String(name)\n    }\n    if (/[^a-z0-9\\-#$%&'*+.\\^_`|~]/i.test(name)) {\n      throw new TypeError('Invalid character in header field name')\n    }\n    return name.toLowerCase()\n  }\n\n  function normalizeValue(value) {\n    if (typeof value !== 'string') {\n      value = String(value)\n    }\n    return value\n  }\n\n  // Build a destructive iterator for the value list\n  function iteratorFor(items) {\n    var iterator = {\n      next: function() {\n        var value = items.shift()\n        return {done: value === undefined, value: value}\n      }\n    }\n\n    if (support.iterable) {\n      iterator[Symbol.iterator] = function() {\n        return iterator\n      }\n    }\n\n    return iterator\n  }\n\n  function Headers(headers) {\n    this.map = {}\n\n    if (headers instanceof Headers) {\n      headers.forEach(function(value, name) {\n        this.append(name, value)\n      }, this)\n\n    } else if (headers) {\n      Object.getOwnPropertyNames(headers).forEach(function(name) {\n        this.append(name, headers[name])\n      }, this)\n    }\n  }\n\n  Headers.prototype.append = function(name, value) {\n    name = normalizeName(name)\n    value = normalizeValue(value)\n    var list = this.map[name]\n    if (!list) {\n      list = []\n      this.map[name] = list\n    }\n    list.push(value)\n  }\n\n  Headers.prototype['delete'] = function(name) {\n    delete this.map[normalizeName(name)]\n  }\n\n  Headers.prototype.get = function(name) {\n    var values = this.map[normalizeName(name)]\n    return values ? values[0] : null\n  }\n\n  Headers.prototype.getAll = function(name) {\n    return this.map[normalizeName(name)] || []\n  }\n\n  Headers.prototype.has = function(name) {\n    return this.map.hasOwnProperty(normalizeName(name))\n  }\n\n  Headers.prototype.set = function(name, value) {\n    this.map[normalizeName(name)] = [normalizeValue(value)]\n  }\n\n  Headers.prototype.forEach = function(callback, thisArg) {\n    Object.getOwnPropertyNames(this.map).forEach(function(name) {\n      this.map[name].forEach(function(value) {\n        callback.call(thisArg, value, name, this)\n      }, this)\n    }, this)\n  }\n\n  Headers.prototype.keys = function() {\n    var items = []\n    this.forEach(function(value, name) { items.push(name) })\n    return iteratorFor(items)\n  }\n\n  Headers.prototype.values = function() {\n    var items = []\n    this.forEach(function(value) { items.push(value) })\n    return iteratorFor(items)\n  }\n\n  Headers.prototype.entries = function() {\n    var items = []\n    this.forEach(function(value, name) { items.push([name, value]) })\n    return iteratorFor(items)\n  }\n\n  if (support.iterable) {\n    Headers.prototype[Symbol.iterator] = Headers.prototype.entries\n  }\n\n  function consumed(body) {\n    if (body.bodyUsed) {\n      return Promise.reject(new TypeError('Already read'))\n    }\n    body.bodyUsed = true\n  }\n\n  function fileReaderReady(reader) {\n    return new Promise(function(resolve, reject) {\n      reader.onload = function() {\n        resolve(reader.result)\n      }\n      reader.onerror = function() {\n        reject(reader.error)\n      }\n    })\n  }\n\n  function readBlobAsArrayBuffer(blob) {\n    var reader = new FileReader()\n    var promise = fileReaderReady(reader)\n    reader.readAsArrayBuffer(blob)\n    return promise\n  }\n\n  function readBlobAsText(blob) {\n    var reader = new FileReader()\n    var promise = fileReaderReady(reader)\n    reader.readAsText(blob)\n    return promise\n  }\n\n  function readArrayBufferAsText(buf) {\n    var view = new Uint8Array(buf)\n    var chars = new Array(view.length)\n\n    for (var i = 0; i < view.length; i++) {\n      chars[i] = String.fromCharCode(view[i])\n    }\n    return chars.join('')\n  }\n\n  function bufferClone(buf) {\n    if (buf.slice) {\n      return buf.slice(0)\n    } else {\n      var view = new Uint8Array(buf.byteLength)\n      view.set(new Uint8Array(buf))\n      return view.buffer\n    }\n  }\n\n  function Body() {\n    this.bodyUsed = false\n\n    this._initBody = function(body) {\n      this._bodyInit = body\n      if (!body) {\n        this._bodyText = ''\n      } else if (typeof body === 'string') {\n        this._bodyText = body\n      } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n        this._bodyBlob = body\n      } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n        this._bodyFormData = body\n      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n        this._bodyText = body.toString()\n      } else if (support.arrayBuffer && support.blob && isDataView(body)) {\n        this._bodyArrayBuffer = bufferClone(body.buffer)\n        // IE 10-11 can't handle a DataView body.\n        this._bodyInit = new Blob([this._bodyArrayBuffer])\n      } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {\n        this._bodyArrayBuffer = bufferClone(body)\n      } else {\n        throw new Error('unsupported BodyInit type')\n      }\n\n      if (!this.headers.get('content-type')) {\n        if (typeof body === 'string') {\n          this.headers.set('content-type', 'text/plain;charset=UTF-8')\n        } else if (this._bodyBlob && this._bodyBlob.type) {\n          this.headers.set('content-type', this._bodyBlob.type)\n        } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n          this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8')\n        }\n      }\n    }\n\n    if (support.blob) {\n      this.blob = function() {\n        var rejected = consumed(this)\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return Promise.resolve(this._bodyBlob)\n        } else if (this._bodyArrayBuffer) {\n          return Promise.resolve(new Blob([this._bodyArrayBuffer]))\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as blob')\n        } else {\n          return Promise.resolve(new Blob([this._bodyText]))\n        }\n      }\n\n      this.arrayBuffer = function() {\n        if (this._bodyArrayBuffer) {\n          return consumed(this) || Promise.resolve(this._bodyArrayBuffer)\n        } else {\n          return this.blob().then(readBlobAsArrayBuffer)\n        }\n      }\n    }\n\n    this.text = function() {\n      var rejected = consumed(this)\n      if (rejected) {\n        return rejected\n      }\n\n      if (this._bodyBlob) {\n        return readBlobAsText(this._bodyBlob)\n      } else if (this._bodyArrayBuffer) {\n        return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))\n      } else if (this._bodyFormData) {\n        throw new Error('could not read FormData body as text')\n      } else {\n        return Promise.resolve(this._bodyText)\n      }\n    }\n\n    if (support.formData) {\n      this.formData = function() {\n        return this.text().then(decode)\n      }\n    }\n\n    this.json = function() {\n      return this.text().then(JSON.parse)\n    }\n\n    return this\n  }\n\n  // HTTP methods whose capitalization should be normalized\n  var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT']\n\n  function normalizeMethod(method) {\n    var upcased = method.toUpperCase()\n    return (methods.indexOf(upcased) > -1) ? upcased : method\n  }\n\n  function Request(input, options) {\n    options = options || {}\n    var body = options.body\n\n    if (typeof input === 'string') {\n      this.url = input\n    } else {\n      if (input.bodyUsed) {\n        throw new TypeError('Already read')\n      }\n      this.url = input.url\n      this.credentials = input.credentials\n      if (!options.headers) {\n        this.headers = new Headers(input.headers)\n      }\n      this.method = input.method\n      this.mode = input.mode\n      if (!body && input._bodyInit != null) {\n        body = input._bodyInit\n        input.bodyUsed = true\n      }\n    }\n\n    this.credentials = options.credentials || this.credentials || 'omit'\n    if (options.headers || !this.headers) {\n      this.headers = new Headers(options.headers)\n    }\n    this.method = normalizeMethod(options.method || this.method || 'GET')\n    this.mode = options.mode || this.mode || null\n    this.referrer = null\n\n    if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n      throw new TypeError('Body not allowed for GET or HEAD requests')\n    }\n    this._initBody(body)\n  }\n\n  Request.prototype.clone = function() {\n    return new Request(this, { body: this._bodyInit })\n  }\n\n  function decode(body) {\n    var form = new FormData()\n    body.trim().split('&').forEach(function(bytes) {\n      if (bytes) {\n        var split = bytes.split('=')\n        var name = split.shift().replace(/\\+/g, ' ')\n        var value = split.join('=').replace(/\\+/g, ' ')\n        form.append(decodeURIComponent(name), decodeURIComponent(value))\n      }\n    })\n    return form\n  }\n\n  function parseHeaders(rawHeaders) {\n    var headers = new Headers()\n    rawHeaders.split('\\r\\n').forEach(function(line) {\n      var parts = line.split(':')\n      var key = parts.shift().trim()\n      if (key) {\n        var value = parts.join(':').trim()\n        headers.append(key, value)\n      }\n    })\n    return headers\n  }\n\n  Body.call(Request.prototype)\n\n  function Response(bodyInit, options) {\n    if (!options) {\n      options = {}\n    }\n\n    this.type = 'default'\n    this.status = 'status' in options ? options.status : 200\n    this.ok = this.status >= 200 && this.status < 300\n    this.statusText = 'statusText' in options ? options.statusText : 'OK'\n    this.headers = new Headers(options.headers)\n    this.url = options.url || ''\n    this._initBody(bodyInit)\n  }\n\n  Body.call(Response.prototype)\n\n  Response.prototype.clone = function() {\n    return new Response(this._bodyInit, {\n      status: this.status,\n      statusText: this.statusText,\n      headers: new Headers(this.headers),\n      url: this.url\n    })\n  }\n\n  Response.error = function() {\n    var response = new Response(null, {status: 0, statusText: ''})\n    response.type = 'error'\n    return response\n  }\n\n  var redirectStatuses = [301, 302, 303, 307, 308]\n\n  Response.redirect = function(url, status) {\n    if (redirectStatuses.indexOf(status) === -1) {\n      throw new RangeError('Invalid status code')\n    }\n\n    return new Response(null, {status: status, headers: {location: url}})\n  }\n\n  self.Headers = Headers\n  self.Request = Request\n  self.Response = Response\n\n  self.fetch = function(input, init) {\n    return new Promise(function(resolve, reject) {\n      var request = new Request(input, init)\n      var xhr = new XMLHttpRequest()\n\n      xhr.onload = function() {\n        var options = {\n          status: xhr.status,\n          statusText: xhr.statusText,\n          headers: parseHeaders(xhr.getAllResponseHeaders() || '')\n        }\n        options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL')\n        var body = 'response' in xhr ? xhr.response : xhr.responseText\n        resolve(new Response(body, options))\n      }\n\n      xhr.onerror = function() {\n        reject(new TypeError('Network request failed'))\n      }\n\n      xhr.ontimeout = function() {\n        reject(new TypeError('Network request failed'))\n      }\n\n      xhr.open(request.method, request.url, true)\n\n      if (request.credentials === 'include') {\n        xhr.withCredentials = true\n      }\n\n      if ('responseType' in xhr && support.blob) {\n        xhr.responseType = 'blob'\n      }\n\n      request.headers.forEach(function(value, name) {\n        xhr.setRequestHeader(name, value)\n      })\n\n      xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit)\n    })\n  }\n  self.fetch.polyfill = true\n})(typeof self !== 'undefined' ? self : this);\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule HeapCapture\n * @flow\n */\n'use strict';\n\nvar HeapCapture = {\n  captureHeap: function (path: string) {\n    var error = null;\n    try {\n      global.nativeCaptureHeap(path);\n      console.log('HeapCapture.captureHeap succeeded: ' + path);\n    } catch (e) {\n      console.log('HeapCapture.captureHeap error: ' + e.toString());\n      error = e.toString();\n    }\n    require('NativeModules').JSCHeapCapture.captureComplete(path, error);\n  },\n};\n\nmodule.exports = HeapCapture;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule SamplingProfiler\n * @flow\n */\n'use strict';\n\nvar SamplingProfiler = {\n  poke: function (token: number): void {\n    var error = null;\n    var result = null;\n    try {\n      result = global.pokeSamplingProfiler();\n      if (result === null) {\n        console.log('The JSC Sampling Profiler has started');\n      } else {\n        console.log('The JSC Sampling Profiler has stopped');\n      }\n    } catch (e) {\n      console.log(\n        'Error occured when restarting Sampling Profiler: ' + e.toString());\n      error = e.toString();\n    }\n    require('NativeModules').JSCSamplingProfiler.operationComplete(\n      token, result, error);\n  },\n};\n\nmodule.exports = SamplingProfiler;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule HMRClient\n * @flow\n */\n'use strict';\n\nconst Platform = require('Platform');\nconst invariant = require('fbjs/lib/invariant');\n\n/**\n * HMR Client that receives from the server HMR updates and propagates them\n * runtime to reflects those changes.\n */\nconst HMRClient = {\n  enable(platform: string, bundleEntry: string, host: string, port: number) {\n    invariant(platform, 'Missing required parameter `platform`');\n    invariant(bundleEntry, 'Missing required paramenter `bundleEntry`');\n    invariant(host, 'Missing required paramenter `host`');\n\n    // need to require WebSocket inside of `enable` function because\n    // this module is defined as a `polyfillGlobal`.\n    // See `InitializeJavascriptAppEngine.js`\n    const WebSocket = require('WebSocket');\n\n    const wsHostPort = port !== null && port !== ''\n      ? `${host}:${port}`\n      : host;\n\n    // Build the websocket url\n    const wsUrl = `ws://${wsHostPort}/hot?` +\n      `platform=${platform}&` +\n      `bundleEntry=${bundleEntry.replace('.bundle', '.js')}`;\n\n    const activeWS = new WebSocket(wsUrl);\n    activeWS.onerror = (e) => {\n      let error = (\n`Hot loading isn't working because it cannot connect to the development server.\n\nTry the following to fix the issue:\n- Ensure that the packager server is running and available on the same network`\n      );\n\n      if (Platform.OS === 'ios') {\n        error += (\n`\n- Ensure that the Packager server URL is correctly set in AppDelegate`\n        );\n      } else {\n        error += (\n`\n- Ensure that your device/emulator is connected to your machine and has USB debugging enabled - run 'adb devices' to see a list of connected devices\n- If you're on a physical device connected to the same machine, run 'adb reverse tcp:8081 tcp:8081' to forward requests from your device\n- If your device is on the same Wi-Fi network, set 'Debug server host & port for device' in 'Dev settings' to your machine's IP address and the port of the local dev server - e.g. 10.0.1.1:8081`\n        );\n      }\n\n      error += (\n`\n\nURL: ${host}:${port}\n\nError: ${e.message}`\n      );\n\n      throw new Error(error);\n    };\n    activeWS.onmessage = ({data}) => {\n      // Moving to top gives errors due to NativeModules not being initialized\n      const HMRLoadingView = require('HMRLoadingView');\n\n      data = JSON.parse(data);\n\n      switch (data.type) {\n        case 'update-start': {\n          HMRLoadingView.showMessage('Hot Loading...');\n          break;\n        }\n        case 'update': {\n          const {\n            modules,\n            sourceMappingURLs,\n            sourceURLs,\n            inverseDependencies,\n          } = data.body;\n\n          if (Platform.OS === 'ios') {\n            const RCTRedBox = require('NativeModules').RedBox;\n            RCTRedBox && RCTRedBox.dismiss && RCTRedBox.dismiss();\n          } else {\n            const RCTExceptionsManager = require('NativeModules').ExceptionsManager;\n            RCTExceptionsManager && RCTExceptionsManager.dismissRedbox && RCTExceptionsManager.dismissRedbox();\n          }\n\n          modules.forEach(({id, code}, i) => {\n            code = code + '\\n\\n' + sourceMappingURLs[i];\n\n            // on JSC we need to inject from native for sourcemaps to work\n            // (Safari doesn't support `sourceMappingURL` nor any variant when\n            // evaluating code) but on Chrome we can simply use eval\n            const injectFunction = typeof global.nativeInjectHMRUpdate === 'function'\n              ? global.nativeInjectHMRUpdate\n              : eval;\n\n            code = [\n              '__accept(',\n                `${id},`,\n                'function(global,require,module,exports){',\n                  `${code}`,\n                '\\n},',\n                `${JSON.stringify(inverseDependencies)}`,\n              ');',\n            ].join('');\n\n            injectFunction(code, sourceURLs[i]);\n          });\n\n          HMRLoadingView.hide();\n          break;\n        }\n        case 'update-done': {\n          HMRLoadingView.hide();\n          break;\n        }\n        case 'error': {\n          HMRLoadingView.hide();\n          throw new Error(data.body.type + ' ' + data.body.description);\n        }\n        default: {\n          throw new Error(`Unexpected message: ${data}`);\n        }\n      }\n    };\n  },\n};\n\nmodule.exports = HMRClient;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule WebSocket\n * @flow\n */\n'use strict';\n\nconst NativeEventEmitter = require('NativeEventEmitter');\nconst Platform = require('Platform');\nconst RCTWebSocketModule = require('NativeModules').WebSocketModule;\nconst WebSocketEvent = require('WebSocketEvent');\nconst binaryToBase64 = require('binaryToBase64');\n\nconst EventTarget = require('event-target-shim');\nconst base64 = require('base64-js');\n\nimport type EventSubscription from 'EventSubscription';\n\nconst CONNECTING = 0;\nconst OPEN = 1;\nconst CLOSING = 2;\nconst CLOSED = 3;\n\nconst CLOSE_NORMAL = 1000;\n\nconst WEBSOCKET_EVENTS = [\n  'close',\n  'error',\n  'message',\n  'open',\n];\n\nlet nextWebSocketId = 0;\n\n/**\n * Browser-compatible WebSockets implementation.\n *\n * See https://developer.mozilla.org/en-US/docs/Web/API/WebSocket\n * See https://github.com/websockets/ws\n */\nclass WebSocket extends EventTarget(...WEBSOCKET_EVENTS) {\n  static CONNECTING = CONNECTING;\n  static OPEN = OPEN;\n  static CLOSING = CLOSING;\n  static CLOSED = CLOSED;\n\n  CONNECTING: number = CONNECTING;\n  OPEN: number = OPEN;\n  CLOSING: number = CLOSING;\n  CLOSED: number = CLOSED;\n\n  _socketId: number;\n  _eventEmitter: NativeEventEmitter;\n  _subscriptions: Array<EventSubscription>;\n\n  onclose: ?Function;\n  onerror: ?Function;\n  onmessage: ?Function;\n  onopen: ?Function;\n\n  binaryType: ?string;\n  bufferedAmount: number;\n  extension: ?string;\n  protocol: ?string;\n  readyState: number = CONNECTING;\n  url: ?string;\n\n  constructor(url: string, protocols: ?string | ?Array<string>, options: ?{origin?: string}) {\n    super();\n    if (typeof protocols === 'string') {\n      protocols = [protocols];\n    }\n\n    if (!Array.isArray(protocols)) {\n      protocols = null;\n    }\n\n    this._eventEmitter = new NativeEventEmitter(RCTWebSocketModule);\n    this._socketId = nextWebSocketId++;\n    this._registerEvents();\n    RCTWebSocketModule.connect(url, protocols, options, this._socketId);\n  }\n\n  close(code?: number, reason?: string): void {\n    if (this.readyState === this.CLOSING ||\n        this.readyState === this.CLOSED) {\n      return;\n    }\n\n    this.readyState = this.CLOSING;\n    this._close(code, reason);\n  }\n\n  send(data: string | ArrayBuffer | $ArrayBufferView): void {\n    if (this.readyState === this.CONNECTING) {\n      throw new Error('INVALID_STATE_ERR');\n    }\n\n    if (typeof data === 'string') {\n      RCTWebSocketModule.send(data, this._socketId);\n      return;\n    }\n\n    if (data instanceof ArrayBuffer || ArrayBuffer.isView(data)) {\n      RCTWebSocketModule.sendBinary(binaryToBase64(data), this._socketId);\n      return;\n    }\n\n    throw new Error('Unsupported data type');\n  }\n\n  ping(): void {\n    if (this.readyState === this.CONNECTING) {\n        throw new Error('INVALID_STATE_ERR');\n    }\n\n    RCTWebSocketModule.ping(this._socketId);\n  }\n\n  _close(code?: number, reason?: string): void {\n    if (Platform.OS === 'android') {\n      // See https://developer.mozilla.org/en-US/docs/Web/API/CloseEvent\n      const statusCode = typeof code === 'number' ? code : CLOSE_NORMAL;\n      const closeReason = typeof reason === 'string' ? reason : '';\n      RCTWebSocketModule.close(statusCode, closeReason, this._socketId);\n    } else {\n      RCTWebSocketModule.close(this._socketId);\n    }\n  }\n\n  _unregisterEvents(): void {\n    this._subscriptions.forEach(e => e.remove());\n    this._subscriptions = [];\n  }\n\n  _registerEvents(): void {\n    this._subscriptions = [\n      this._eventEmitter.addListener('websocketMessage', ev => {\n        if (ev.id !== this._socketId) {\n          return;\n        }\n        this.dispatchEvent(new WebSocketEvent('message', {\n          data: (ev.type === 'binary') ? base64.toByteArray(ev.data).buffer : ev.data\n        }));\n      }),\n      this._eventEmitter.addListener('websocketOpen', ev => {\n        if (ev.id !== this._socketId) {\n          return;\n        }\n        this.readyState = this.OPEN;\n        this.dispatchEvent(new WebSocketEvent('open'));\n      }),\n      this._eventEmitter.addListener('websocketClosed', ev => {\n        if (ev.id !== this._socketId) {\n          return;\n        }\n        this.readyState = this.CLOSED;\n        this.dispatchEvent(new WebSocketEvent('close', {\n          code: ev.code,\n          reason: ev.reason,\n        }));\n        this._unregisterEvents();\n        this.close();\n      }),\n      this._eventEmitter.addListener('websocketFailed', ev => {\n        if (ev.id !== this._socketId) {\n          return;\n        }\n        this.readyState = this.CLOSED;\n        this.dispatchEvent(new WebSocketEvent('error', {\n          message: ev.message,\n        }));\n        this.dispatchEvent(new WebSocketEvent('close', {\n          message: ev.message,\n        }));\n        this._unregisterEvents();\n        this.close();\n      })\n    ];\n  }\n}\n\nmodule.exports = WebSocket;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule WebSocketEvent\n */\n\n'use strict';\n\n/**\n * Event object passed to the `onopen`, `onclose`, `onmessage`, `onerror`\n * callbacks of `WebSocket`.\n *\n * The `type` property is \"open\", \"close\", \"message\", \"error\" respectively.\n *\n * In case of \"message\", the `data` property contains the incoming data.\n */\nclass WebSocketEvent {\n  constructor(type, eventInitDict) {\n    this.type = type.toString();\n    Object.assign(this, eventInitDict);\n  }\n}\n\nmodule.exports = WebSocketEvent;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule binaryToBase64\n * @flow\n */\n'use strict';\n\nconst base64 = require('base64-js');\n\nfunction binaryToBase64(data: ArrayBuffer | $ArrayBufferView) {\n  if (data instanceof ArrayBuffer) {\n    data = new Uint8Array(data);\n  }\n  if (data instanceof Uint8Array) {\n    return base64.fromByteArray(data);\n  }\n  if (!ArrayBuffer.isView(data)) {\n    throw new Error('data must be ArrayBuffer or typed array');\n  }\n  const {buffer, byteOffset, byteLength} = data;\n  return base64.fromByteArray(new Uint8Array(buffer, byteOffset, byteLength));\n}\n\nmodule.exports = binaryToBase64;\n","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction placeHoldersCount (b64) {\n  var len = b64.length\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // the number of equal signs (place holders)\n  // if there are two placeholders, than the two characters before it\n  // represent one byte\n  // if there is only one, then the three characters before it represent 2 bytes\n  // this is just a cheap hack to not do indexOf twice\n  return b64[len - 2] === '=' ? 2 : b64[len - 1] === '=' ? 1 : 0\n}\n\nfunction byteLength (b64) {\n  // base64 is 4/3 + up to two characters of the original data\n  return b64.length * 3 / 4 - placeHoldersCount(b64)\n}\n\nfunction toByteArray (b64) {\n  var i, j, l, tmp, placeHolders, arr\n  var len = b64.length\n  placeHolders = placeHoldersCount(b64)\n\n  arr = new Arr(len * 3 / 4 - placeHolders)\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  l = placeHolders > 0 ? len - 4 : len\n\n  var L = 0\n\n  for (i = 0, j = 0; i < l; i += 4, j += 3) {\n    tmp = (revLookup[b64.charCodeAt(i)] << 18) | (revLookup[b64.charCodeAt(i + 1)] << 12) | (revLookup[b64.charCodeAt(i + 2)] << 6) | revLookup[b64.charCodeAt(i + 3)]\n    arr[L++] = (tmp >> 16) & 0xFF\n    arr[L++] = (tmp >> 8) & 0xFF\n    arr[L++] = tmp & 0xFF\n  }\n\n  if (placeHolders === 2) {\n    tmp = (revLookup[b64.charCodeAt(i)] << 2) | (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[L++] = tmp & 0xFF\n  } else if (placeHolders === 1) {\n    tmp = (revLookup[b64.charCodeAt(i)] << 10) | (revLookup[b64.charCodeAt(i + 1)] << 4) | (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[L++] = (tmp >> 8) & 0xFF\n    arr[L++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] + lookup[num >> 12 & 0x3F] + lookup[num >> 6 & 0x3F] + lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp = (uint8[i] << 16) + (uint8[i + 1] << 8) + (uint8[i + 2])\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var output = ''\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    output += lookup[tmp >> 2]\n    output += lookup[(tmp << 4) & 0x3F]\n    output += '=='\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + (uint8[len - 1])\n    output += lookup[tmp >> 10]\n    output += lookup[(tmp >> 4) & 0x3F]\n    output += lookup[(tmp << 2) & 0x3F]\n    output += '='\n  }\n\n  parts.push(output)\n\n  return parts.join('')\n}\n","/**\n * @author Toru Nagashima\n * @copyright 2015 Toru Nagashima. All rights reserved.\n * See LICENSE file in root directory for full license.\n */\n\n\"use strict\";\n\n//-----------------------------------------------------------------------------\n// Requirements\n//-----------------------------------------------------------------------------\n\nvar Commons = require(\"./commons\");\nvar CustomEventTarget = require(\"./custom-event-target\");\nvar EventWrapper = require(\"./event-wrapper\");\nvar LISTENERS = Commons.LISTENERS;\nvar CAPTURE = Commons.CAPTURE;\nvar BUBBLE = Commons.BUBBLE;\nvar ATTRIBUTE = Commons.ATTRIBUTE;\nvar newNode = Commons.newNode;\nvar defineCustomEventTarget = CustomEventTarget.defineCustomEventTarget;\nvar createEventWrapper = EventWrapper.createEventWrapper;\nvar STOP_IMMEDIATE_PROPAGATION_FLAG =\n    EventWrapper.STOP_IMMEDIATE_PROPAGATION_FLAG;\n\n//-----------------------------------------------------------------------------\n// Constants\n//-----------------------------------------------------------------------------\n\n/**\n * A flag which shows there is the native `EventTarget` interface object.\n *\n * @type {boolean}\n * @private\n */\nvar HAS_EVENTTARGET_INTERFACE = (\n    typeof window !== \"undefined\" &&\n    typeof window.EventTarget !== \"undefined\"\n);\n\n//-----------------------------------------------------------------------------\n// Public Interface\n//-----------------------------------------------------------------------------\n\n/**\n * An implementation for `EventTarget` interface.\n *\n * @constructor\n * @public\n */\nvar EventTarget = module.exports = function EventTarget() {\n    if (this instanceof EventTarget) {\n        // this[LISTENERS] is a Map.\n        // Its key is event type.\n        // Its value is ListenerNode object or null.\n        //\n        // interface ListenerNode {\n        //     var listener: Function\n        //     var kind: CAPTURE|BUBBLE|ATTRIBUTE\n        //     var next: ListenerNode|null\n        // }\n        Object.defineProperty(this, LISTENERS, {value: Object.create(null)});\n    }\n    else if (arguments.length === 1 && Array.isArray(arguments[0])) {\n        return defineCustomEventTarget(EventTarget, arguments[0]);\n    }\n    else if (arguments.length > 0) {\n        var types = Array(arguments.length);\n        for (var i = 0; i < arguments.length; ++i) {\n            types[i] = arguments[i];\n        }\n\n        // To use to extend with attribute listener properties.\n        // e.g.\n        //     class MyCustomObject extends EventTarget(\"message\", \"error\") {\n        //         //...\n        //     }\n        return defineCustomEventTarget(EventTarget, types);\n    }\n    else {\n        throw new TypeError(\"Cannot call a class as a function\");\n    }\n};\n\nEventTarget.prototype = Object.create(\n    (HAS_EVENTTARGET_INTERFACE ? window.EventTarget : Object).prototype,\n    {\n        constructor: {\n            value: EventTarget,\n            writable: true,\n            configurable: true\n        },\n\n        addEventListener: {\n            value: function addEventListener(type, listener, capture) {\n                if (listener == null) {\n                    return false;\n                }\n                if (typeof listener !== \"function\" && typeof listener !== \"object\") {\n                    throw new TypeError(\"\\\"listener\\\" is not an object.\");\n                }\n\n                var kind = (capture ? CAPTURE : BUBBLE);\n                var node = this[LISTENERS][type];\n                if (node == null) {\n                    this[LISTENERS][type] = newNode(listener, kind);\n                    return true;\n                }\n\n                var prev = null;\n                while (node != null) {\n                    if (node.listener === listener && node.kind === kind) {\n                        // Should ignore a duplicated listener.\n                        return false;\n                    }\n                    prev = node;\n                    node = node.next;\n                }\n\n                prev.next = newNode(listener, kind);\n                return true;\n            },\n            configurable: true,\n            writable: true\n        },\n\n        removeEventListener: {\n            value: function removeEventListener(type, listener, capture) {\n                if (listener == null) {\n                    return false;\n                }\n\n                var kind = (capture ? CAPTURE : BUBBLE);\n                var prev = null;\n                var node = this[LISTENERS][type];\n                while (node != null) {\n                    if (node.listener === listener && node.kind === kind) {\n                        if (prev == null) {\n                            this[LISTENERS][type] = node.next;\n                        }\n                        else {\n                            prev.next = node.next;\n                        }\n                        return true;\n                    }\n\n                    prev = node;\n                    node = node.next;\n                }\n\n                return false;\n            },\n            configurable: true,\n            writable: true\n        },\n\n        dispatchEvent: {\n            value: function dispatchEvent(event) {\n                // If listeners aren't registered, terminate.\n                var node = this[LISTENERS][event.type];\n                if (node == null) {\n                    return true;\n                }\n\n                // Since we cannot rewrite several properties, so wrap object.\n                var wrapped = createEventWrapper(event, this);\n\n                // This doesn't process capturing phase and bubbling phase.\n                // This isn't participating in a tree.\n                while (node != null) {\n                    if (typeof node.listener === \"function\") {\n                        node.listener.call(this, wrapped);\n                    }\n                    else if (node.kind !== ATTRIBUTE && typeof node.listener.handleEvent === \"function\") {\n                        node.listener.handleEvent(wrapped);\n                    }\n\n                    if (wrapped[STOP_IMMEDIATE_PROPAGATION_FLAG]) {\n                        break;\n                    }\n                    node = node.next;\n                }\n\n                return !wrapped.defaultPrevented;\n            },\n            configurable: true,\n            writable: true\n        }\n    }\n);\n","/**\n * @author Toru Nagashima\n * @copyright 2015 Toru Nagashima. All rights reserved.\n * See LICENSE file in root directory for full license.\n */\n\n\"use strict\";\n\n/**\n * Creates a unique key.\n *\n * @param {string} name - A name to create.\n * @returns {symbol|string}\n * @private\n */\nvar createUniqueKey = exports.createUniqueKey = (typeof Symbol !== \"undefined\" ?\n    Symbol :\n    function createUniqueKey(name) {\n        return \"[[\" + name + \"_\" + Math.random().toFixed(8).slice(2) + \"]]\";\n    });\n\n/**\n * The key of listeners.\n *\n * @type {symbol|string}\n * @private\n */\nexports.LISTENERS = createUniqueKey(\"listeners\");\n\n/**\n * A value of kind for listeners which are registered in the capturing phase.\n *\n * @type {number}\n * @private\n */\nexports.CAPTURE = 1;\n\n/**\n * A value of kind for listeners which are registered in the bubbling phase.\n *\n * @type {number}\n * @private\n */\nexports.BUBBLE = 2;\n\n/**\n * A value of kind for listeners which are registered as an attribute.\n *\n * @type {number}\n * @private\n */\nexports.ATTRIBUTE = 3;\n\n/**\n * @typedef object ListenerNode\n * @property {function} listener - A listener function.\n * @property {number} kind - The kind of the listener.\n * @property {ListenerNode|null} next - The next node.\n *      If this node is the last, this is `null`.\n */\n\n/**\n * Creates a node of singly linked list for a list of listeners.\n *\n * @param {function} listener - A listener function.\n * @param {number} kind - The kind of the listener.\n * @returns {ListenerNode} The created listener node.\n */\nexports.newNode = function newNode(listener, kind) {\n    return {listener: listener, kind: kind, next: null};\n};\n","/**\n * @author Toru Nagashima\n * @copyright 2015 Toru Nagashima. All rights reserved.\n * See LICENSE file in root directory for full license.\n */\n\n\"use strict\";\n\n//-----------------------------------------------------------------------------\n// Requirements\n//-----------------------------------------------------------------------------\n\nvar Commons = require(\"./commons\");\nvar LISTENERS = Commons.LISTENERS;\nvar ATTRIBUTE = Commons.ATTRIBUTE;\nvar newNode = Commons.newNode;\n\n//-----------------------------------------------------------------------------\n// Helpers\n//-----------------------------------------------------------------------------\n\n/**\n * Gets a specified attribute listener from a given EventTarget object.\n *\n * @param {EventTarget} eventTarget - An EventTarget object to get.\n * @param {string} type - An event type to get.\n * @returns {function|null} The found attribute listener.\n */\nfunction getAttributeListener(eventTarget, type) {\n    var node = eventTarget[LISTENERS][type];\n    while (node != null) {\n        if (node.kind === ATTRIBUTE) {\n            return node.listener;\n        }\n        node = node.next;\n    }\n    return null;\n}\n\n/**\n * Sets a specified attribute listener to a given EventTarget object.\n *\n * @param {EventTarget} eventTarget - An EventTarget object to set.\n * @param {string} type - An event type to set.\n * @param {function|null} listener - A listener to be set.\n * @returns {void}\n */\nfunction setAttributeListener(eventTarget, type, listener) {\n    if (typeof listener !== \"function\" && typeof listener !== \"object\") {\n        listener = null; // eslint-disable-line no-param-reassign\n    }\n\n    var prev = null;\n    var node = eventTarget[LISTENERS][type];\n    while (node != null) {\n        if (node.kind === ATTRIBUTE) {\n            // Remove old value.\n            if (prev == null) {\n                eventTarget[LISTENERS][type] = node.next;\n            }\n            else {\n                prev.next = node.next;\n            }\n        }\n        else {\n            prev = node;\n        }\n\n        node = node.next;\n    }\n\n    // Add new value.\n    if (listener != null) {\n        if (prev == null) {\n            eventTarget[LISTENERS][type] = newNode(listener, ATTRIBUTE);\n        }\n        else {\n            prev.next = newNode(listener, ATTRIBUTE);\n        }\n    }\n}\n\n//-----------------------------------------------------------------------------\n// Public Interface\n//-----------------------------------------------------------------------------\n\n/**\n * Defines an `EventTarget` implementation which has `onfoobar` attributes.\n *\n * @param {EventTarget} EventTargetBase - A base implementation of EventTarget.\n * @param {string[]} types - A list of event types which are defined as attribute listeners.\n * @returns {EventTarget} The defined `EventTarget` implementation which has attribute listeners.\n */\nexports.defineCustomEventTarget = function(EventTargetBase, types) {\n    function EventTarget() {\n        EventTargetBase.call(this);\n    }\n\n    var descripter = {\n        constructor: {\n            value: EventTarget,\n            configurable: true,\n            writable: true\n        }\n    };\n\n    types.forEach(function(type) {\n        descripter[\"on\" + type] = {\n            get: function() { return getAttributeListener(this, type); },\n            set: function(listener) { setAttributeListener(this, type, listener); },\n            configurable: true,\n            enumerable: true\n        };\n    });\n\n    EventTarget.prototype = Object.create(EventTargetBase.prototype, descripter);\n\n    return EventTarget;\n};\n","/**\n * @author Toru Nagashima\n * @copyright 2015 Toru Nagashima. All rights reserved.\n * See LICENSE file in root directory for full license.\n */\n\n\"use strict\";\n\n//-----------------------------------------------------------------------------\n// Requirements\n//-----------------------------------------------------------------------------\n\nvar createUniqueKey = require(\"./commons\").createUniqueKey;\n\n//-----------------------------------------------------------------------------\n// Constsnts\n//-----------------------------------------------------------------------------\n\n/**\n * The key of the flag which is turned on by `stopImmediatePropagation` method.\n *\n * @type {symbol|string}\n * @private\n */\nvar STOP_IMMEDIATE_PROPAGATION_FLAG =\n    createUniqueKey(\"stop_immediate_propagation_flag\");\n\n/**\n * The key of the flag which is turned on by `preventDefault` method.\n *\n * @type {symbol|string}\n * @private\n */\nvar CANCELED_FLAG = createUniqueKey(\"canceled_flag\");\n\n/**\n * The key of the original event object.\n *\n * @type {symbol|string}\n * @private\n */\nvar ORIGINAL_EVENT = createUniqueKey(\"original_event\");\n\n/**\n * Method definitions for the event wrapper.\n *\n * @type {object}\n * @private\n */\nvar wrapperPrototypeDefinition = Object.freeze({\n    stopPropagation: Object.freeze({\n        value: function stopPropagation() {\n            var e = this[ORIGINAL_EVENT];\n            if (typeof e.stopPropagation === \"function\") {\n                e.stopPropagation();\n            }\n        },\n        writable: true,\n        configurable: true\n    }),\n\n    stopImmediatePropagation: Object.freeze({\n        value: function stopImmediatePropagation() {\n            this[STOP_IMMEDIATE_PROPAGATION_FLAG] = true;\n\n            var e = this[ORIGINAL_EVENT];\n            if (typeof e.stopImmediatePropagation === \"function\") {\n                e.stopImmediatePropagation();\n            }\n        },\n        writable: true,\n        configurable: true\n    }),\n\n    preventDefault: Object.freeze({\n        value: function preventDefault() {\n            if (this.cancelable === true) {\n                this[CANCELED_FLAG] = true;\n            }\n\n            var e = this[ORIGINAL_EVENT];\n            if (typeof e.preventDefault === \"function\") {\n                e.preventDefault();\n            }\n        },\n        writable: true,\n        configurable: true\n    }),\n\n    defaultPrevented: Object.freeze({\n        get: function defaultPrevented() { return this[CANCELED_FLAG]; },\n        enumerable: true,\n        configurable: true\n    })\n});\n\n//-----------------------------------------------------------------------------\n// Public Interface\n//-----------------------------------------------------------------------------\n\nexports.STOP_IMMEDIATE_PROPAGATION_FLAG = STOP_IMMEDIATE_PROPAGATION_FLAG;\n\n/**\n * Creates an event wrapper.\n *\n * We cannot modify several properties of `Event` object, so we need to create the wrapper.\n * Plus, this wrapper supports non `Event` objects.\n *\n * @param {Event|{type: string}} event - An original event to create the wrapper.\n * @param {EventTarget} eventTarget - The event target of the event.\n * @returns {Event} The created wrapper. This object is implemented `Event` interface.\n * @private\n */\nexports.createEventWrapper = function createEventWrapper(event, eventTarget) {\n    var timeStamp = (\n        typeof event.timeStamp === \"number\" ? event.timeStamp : Date.now()\n    );\n    var propertyDefinition = {\n        type: {value: event.type, enumerable: true},\n        target: {value: eventTarget, enumerable: true},\n        currentTarget: {value: eventTarget, enumerable: true},\n        eventPhase: {value: 2, enumerable: true},\n        bubbles: {value: Boolean(event.bubbles), enumerable: true},\n        cancelable: {value: Boolean(event.cancelable), enumerable: true},\n        timeStamp: {value: timeStamp, enumerable: true},\n        isTrusted: {value: false, enumerable: true}\n    };\n    propertyDefinition[STOP_IMMEDIATE_PROPAGATION_FLAG] = {value: false, writable: true};\n    propertyDefinition[CANCELED_FLAG] = {value: false, writable: true};\n    propertyDefinition[ORIGINAL_EVENT] = {value: event};\n\n    // For CustomEvent.\n    if (typeof event.detail !== \"undefined\") {\n        propertyDefinition.detail = {value: event.detail, enumerable: true};\n    }\n\n    return Object.create(\n        Object.create(event, wrapperPrototypeDefinition),\n        propertyDefinition\n    );\n};\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule HMRLoadingView\n * @flow\n */\n\n'use strict';\n\nvar ToastAndroid = require('ToastAndroid');\n\nconst TOAST_SHORT_DELAY = 2000;\n\nclass HMRLoadingView {\n  static _showing: boolean;\n\n  static showMessage(message: string) {\n    if (HMRLoadingView._showing) {\n      return;\n    }\n    ToastAndroid.show(message, ToastAndroid.SHORT);\n    HMRLoadingView._showing = true;\n    setTimeout(() => {\n      HMRLoadingView._showing = false;\n    }, TOAST_SHORT_DELAY);\n  }\n\n  static hide() {\n    // noop\n  }\n}\n\nmodule.exports = HMRLoadingView;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule ToastAndroid\n */\n\n'use strict';\n\nvar RCTToastAndroid = require('NativeModules').ToastAndroid;\n\n/**\n * This exposes the native ToastAndroid module as a JS module. This has a function 'show'\n * which takes the following parameters:\n *\n * 1. String message: A string with the text to toast\n * 2. int duration: The duration of the toast. May be ToastAndroid.SHORT or ToastAndroid.LONG\n *\n * There is also a function `showWithGravity` to specify the layout gravity. May be\n * ToastAndroid.TOP, ToastAndroid.BOTTOM, ToastAndroid.CENTER.\n *\n * Basic usage:\n * ```javascript\n * ToastAndroid.show('A pikachu appeared nearby !', ToastAndroid.SHORT);\n * ToastAndroid.showWithGravity('All Your Base Are Belong To Us', ToastAndroid.SHORT, ToastAndroid.CENTER);\n * ```\n */\n\nvar ToastAndroid = {\n\n  // Toast duration constants\n  SHORT: RCTToastAndroid.SHORT,\n  LONG: RCTToastAndroid.LONG,\n\n  // Toast gravity constants\n  TOP: RCTToastAndroid.TOP,\n  BOTTOM: RCTToastAndroid.BOTTOM,\n  CENTER: RCTToastAndroid.CENTER,\n\n  show: function (\n    message: string,\n    duration: number\n  ): void {\n    RCTToastAndroid.show(message, duration);\n  },\n\n  showWithGravity: function (\n    message: string,\n    duration: number,\n    gravity: number,\n  ): void {\n    RCTToastAndroid.showWithGravity(message, duration, gravity);\n  },\n};\n\nmodule.exports = ToastAndroid;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule RCTLog\n * @flow\n */\n'use strict';\n\nvar BatchedBridge = require('BatchedBridge');\n\nvar invariant = require('fbjs/lib/invariant');\n\nvar levelsMap = {\n  log: 'log',\n  info: 'info',\n  warn: 'warn',\n  error: 'error',\n  fatal: 'error',\n};\n\nclass RCTLog {\n  // level one of log, info, warn, error, mustfix\n  static logIfNoNativeHook() {\n    var args = Array.prototype.slice.call(arguments);\n    var level = args.shift();\n    var logFn = levelsMap[level];\n    invariant(\n      logFn,\n      'Level \"' + level + '\" not one of ' + Object.keys(levelsMap)\n    );\n    if (typeof global.nativeLoggingHook === 'undefined') {\n      // We already printed in xcode, so only log here if using a js debugger\n      console[logFn].apply(console, args);\n    }\n\n    return true;\n  }\n}\n\nBatchedBridge.registerCallableModule(\n  'RCTLog',\n  RCTLog\n);\n\nmodule.exports = RCTLog;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule Alert\n * @flow\n */\n'use strict';\n\nconst AlertIOS = require('AlertIOS');\nconst NativeModules = require('NativeModules');\nconst Platform = require('Platform');\n\nimport type { AlertType, AlertButtonStyle } from 'AlertIOS';\n\ntype Buttons = Array<{\n  text?: string,\n  onPress?: ?Function,\n  style?: AlertButtonStyle,\n}>;\n\ntype Options = {\n  cancelable?: ?boolean,\n  onDismiss?: ?Function,\n};\n\n/**\n * Launches an alert dialog with the specified title and message.\n *\n * Optionally provide a list of buttons. Tapping any button will fire the\n * respective onPress callback and dismiss the alert. By default, the only\n * button will be an 'OK' button.\n *\n * This is an API that works both on iOS and Android and can show static\n * alerts. To show an alert that prompts the user to enter some information,\n * see `AlertIOS`; entering text in an alert is common on iOS only.\n *\n * ## iOS\n *\n * On iOS you can specify any number of buttons. Each button can optionally\n * specify a style, which is one of 'default', 'cancel' or 'destructive'.\n *\n * ## Android\n *\n * On Android at most three buttons can be specified. Android has a concept\n * of a neutral, negative and a positive button:\n *\n *   - If you specify one button, it will be the 'positive' one (such as 'OK')\n *   - Two buttons mean 'negative', 'positive' (such as 'Cancel', 'OK')\n *   - Three buttons mean 'neutral', 'negative', 'positive' (such as 'Later', 'Cancel', 'OK')\n *\n * By default alerts on Android can be dismissed by tapping outside of the alert\n * box. This event can be handled by providing an optional `options` parameter,\n * with an `onDismiss` callback property `{ onDismiss: () => {} }`.\n *\n * Alternatively, the dismissing behavior can be disabled altogether by providing\n * an optional `options` parameter with the `cancelable` property set to `false`\n * i.e. `{ cancelable: false }`\n *\n * Example usage:\n * ```\n * // Works on both iOS and Android\n * Alert.alert(\n *   'Alert Title',\n *   'My Alert Msg',\n *   [\n *     {text: 'Ask me later', onPress: () => console.log('Ask me later pressed')},\n *     {text: 'Cancel', onPress: () => console.log('Cancel Pressed'), style: 'cancel'},\n *     {text: 'OK', onPress: () => console.log('OK Pressed')},\n *   ],\n *   { cancelable: false }\n * )\n * ```\n */\nclass Alert {\n\n  static alert(\n    title: ?string,\n    message?: ?string,\n    buttons?: Buttons,\n    options?: Options,\n    type?: AlertType,\n  ): void {\n    if (Platform.OS === 'ios') {\n      if (typeof type !== 'undefined') {\n        console.warn('Alert.alert() with a 5th \"type\" parameter is deprecated and will be removed. Use AlertIOS.prompt() instead.');\n        AlertIOS.alert(title, message, buttons, type);\n        return;\n      }\n      AlertIOS.alert(title, message, buttons);\n    } else if (Platform.OS === 'android') {\n      AlertAndroid.alert(title, message, buttons, options);\n    }\n  }\n}\n\n/**\n * Wrapper around the Android native module.\n */\nclass AlertAndroid {\n\n  static alert(\n    title: ?string,\n    message?: ?string,\n    buttons?: Buttons,\n    options?: Options,\n  ): void {\n    var config = {\n      title: title || '',\n      message: message || '',\n    };\n\n    if (options) {\n      config = {...config, cancelable: options.cancelable};\n    }\n    // At most three buttons (neutral, negative, positive). Ignore rest.\n    // The text 'OK' should be probably localized. iOS Alert does that in native.\n    var validButtons: Buttons = buttons ? buttons.slice(0, 3) : [{text: 'OK'}];\n    var buttonPositive = validButtons.pop();\n    var buttonNegative = validButtons.pop();\n    var buttonNeutral = validButtons.pop();\n    if (buttonNeutral) {\n      config = {...config, buttonNeutral: buttonNeutral.text || '' };\n    }\n    if (buttonNegative) {\n      config = {...config, buttonNegative: buttonNegative.text || '' };\n    }\n    if (buttonPositive) {\n      config = {...config, buttonPositive: buttonPositive.text || '' };\n    }\n    NativeModules.DialogManagerAndroid.showAlert(\n      config,\n      (errorMessage) => console.warn(errorMessage),\n      (action, buttonKey) => {\n        if (action === NativeModules.DialogManagerAndroid.buttonClicked) {\n          if (buttonKey === NativeModules.DialogManagerAndroid.buttonNeutral) {\n            buttonNeutral.onPress && buttonNeutral.onPress();\n          } else if (buttonKey === NativeModules.DialogManagerAndroid.buttonNegative) {\n            buttonNegative.onPress && buttonNegative.onPress();\n          } else if (buttonKey === NativeModules.DialogManagerAndroid.buttonPositive) {\n            buttonPositive.onPress && buttonPositive.onPress();\n          }\n        } else if (action === NativeModules.DialogManagerAndroid.dismissed) {\n          options && options.onDismiss && options.onDismiss();\n        }\n      }\n    );\n  }\n}\n\nmodule.exports = Alert;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule AlertIOS\n * @flow\n * @jsdoc\n */\n'use strict';\n\nvar RCTAlertManager = require('NativeModules').AlertManager;\n\n/**\n * An Alert button type\n */\nexport type AlertType = $Enum<{\n  /**\n   * Default alert with no inputs\n   */\n  'default': string,\n  /**\n   * Plain text input alert\n   */\n  'plain-text': string,\n  /**\n   * Secure text input alert\n   */\n  'secure-text': string,\n  /**\n   * Login and password alert\n   */\n  'login-password': string,\n}>;\n\n/**\n * An Alert button style\n */\nexport type AlertButtonStyle = $Enum<{\n  /**\n   * Default button style\n   */\n  'default': string,\n  /**\n   * Cancel button style\n   */\n  'cancel': string,\n  /**\n   * Destructive button style\n   */\n  'destructive': string,\n}>;\n\n/**\n * Array or buttons\n * @typedef {Array} ButtonsArray\n * @property {string=} text Button label\n * @property {Function=} onPress Callback function when button pressed\n * @property {AlertButtonStyle=} style Button style\n */\ntype ButtonsArray = Array<{\n  /**\n   * Button label\n   */\n  text?: string,\n  /**\n   * Callback function when button pressed\n   */\n  onPress?: ?Function,\n  /**\n   * Button style\n   */\n  style?: AlertButtonStyle,\n}>;\n\n/**\n * @description\n * `AlertIOS` provides functionality to create an iOS alert dialog with a\n * message or create a prompt for user input.\n *\n * Creating an iOS alert:\n *\n * ```\n * AlertIOS.alert(\n *  'Sync Complete',\n *  'All your data are belong to us.'\n * );\n * ```\n *\n * Creating an iOS prompt:\n *\n * ```\n * AlertIOS.prompt(\n *   'Enter a value',\n *   null,\n *   text => console.log(\"You entered \"+text)\n * );\n * ```\n *\n * We recommend using the [`Alert.alert`](docs/alert.html) method for\n * cross-platform support if you don't need to create iOS-only prompts.\n *\n */\nclass AlertIOS {\n  /**\n   * Create and display a popup alert.\n   * @static\n   * @method alert\n   * @param title The dialog's title.\n   * @param message An optional message that appears below\n   *     the dialog's title.\n   * @param callbackOrButtons This optional argument should\n   *    be either a single-argument function or an array of buttons. If passed\n   *    a function, it will be called when the user taps 'OK'.\n   *\n   *    If passed an array of button configurations, each button should include\n   *    a `text` key, as well as optional `onPress` and `style` keys. `style`\n   *    should be one of 'default', 'cancel' or 'destructive'.\n   * @param type Deprecated, do not use.\n   *\n   * @example <caption>Example with custom buttons</caption>\n   *\n   * AlertIOS.alert(\n   *  'Update available',\n   *  'Keep your app up to date to enjoy the latest features',\n   *  [\n   *    {text: 'Cancel', onPress: () => console.log('Cancel Pressed'), style: 'cancel'},\n   *    {text: 'Install', onPress: () => console.log('Install Pressed')},\n   *  ],\n   * );\n   */\n  static alert(\n    title: ?string,\n    message?: ?string,\n    callbackOrButtons?: ?(() => void) | ButtonsArray,\n    type?: AlertType,\n  ): void {\n    if (typeof type !== 'undefined') {\n      console.warn('AlertIOS.alert() with a 4th \"type\" parameter is deprecated and will be removed. Use AlertIOS.prompt() instead.');\n      this.prompt(title, message, callbackOrButtons, type);\n      return;\n    }\n    this.prompt(title, message, callbackOrButtons, 'default');\n  }\n\n  /**\n   * Create and display a prompt to enter some text.\n   * @static\n   * @method prompt\n   * @param title The dialog's title.\n   * @param message An optional message that appears above the text\n   *    input.\n   * @param callbackOrButtons This optional argument should\n   *    be either a single-argument function or an array of buttons. If passed\n   *    a function, it will be called with the prompt's value when the user\n   *    taps 'OK'.\n   *\n   *    If passed an array of button configurations, each button should include\n   *    a `text` key, as well as optional `onPress` and `style` keys (see\n   *    example). `style` should be one of 'default', 'cancel' or 'destructive'.\n   * @param type This configures the text input. One of 'plain-text',\n   *    'secure-text' or 'login-password'.\n   * @param defaultValue The default text in text input.\n   * @param keyboardType The keyboard type of first text field(if exists).\n   *    One of 'default', 'email-address', 'numeric', 'phone-pad',\n   *    'ascii-capable', 'numbers-and-punctuation', 'url', 'number-pad',\n   *    'name-phone-pad', 'decimal-pad', 'twitter' or 'web-search'.\n   *\n   * @example <caption>Example with custom buttons</caption>\n   *\n   * AlertIOS.prompt(\n   *   'Enter password',\n   *   'Enter your password to claim your $1.5B in lottery winnings',\n   *   [\n   *     {text: 'Cancel', onPress: () => console.log('Cancel Pressed'), style: 'cancel'},\n   *     {text: 'OK', onPress: password => console.log('OK Pressed, password: ' + password)},\n   *   ],\n   *   'secure-text'\n   * );\n   *\n   * @example <caption>Example with the default button and a custom callback</caption>\n   *\n   * AlertIOS.prompt(\n   *   'Update username',\n   *   null,\n   *   text => console.log(\"Your username is \"+text),\n   *   null,\n   *   'default'\n   * );\n   */\n  static prompt(\n    title: ?string,\n    message?: ?string,\n    callbackOrButtons?: ?((text: string) => void) | ButtonsArray,\n    type?: ?AlertType = 'plain-text',\n    defaultValue?: string,\n    keyboardType?: string\n  ): void {\n    if (typeof type === 'function') {\n      console.warn(\n        'You passed a callback function as the \"type\" argument to AlertIOS.prompt(). React Native is ' +\n        'assuming  you want to use the deprecated AlertIOS.prompt(title, defaultValue, buttons, callback) ' +\n        'signature. The current signature is AlertIOS.prompt(title, message, callbackOrButtons, type, defaultValue, ' +\n        'keyboardType) and the old syntax will be removed in a future version.');\n\n      var callback = type;\n      var defaultValue = message;\n      RCTAlertManager.alertWithArgs({\n        title: title || undefined,\n        type: 'plain-text',\n        defaultValue,\n      }, (id, value) => {\n        callback(value);\n      });\n      return;\n    }\n\n    var callbacks = [];\n    var buttons = [];\n    var cancelButtonKey;\n    var destructiveButtonKey;\n    if (typeof callbackOrButtons === 'function') {\n      callbacks = [callbackOrButtons];\n    }\n    else if (callbackOrButtons instanceof Array) {\n      callbackOrButtons.forEach((btn, index) => {\n        callbacks[index] = btn.onPress;\n        if (btn.style === 'cancel') {\n          cancelButtonKey = String(index);\n        } else if (btn.style === 'destructive') {\n          destructiveButtonKey = String(index);\n        }\n        if (btn.text || index < (callbackOrButtons || []).length - 1) {\n          var btnDef = {};\n          btnDef[index] = btn.text || '';\n          buttons.push(btnDef);\n        }\n      });\n    }\n\n    RCTAlertManager.alertWithArgs({\n      title: title || undefined,\n      message: message || undefined,\n      buttons,\n      type: type || undefined,\n      defaultValue,\n      cancelButtonKey,\n      destructiveButtonKey,\n      keyboardType,\n    }, (id, value) => {\n      var cb = callbacks[id];\n      cb && cb(value);\n    });\n  }\n}\n\nmodule.exports = AlertIOS;\n","/**\n * Copyright (c) 2016-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule Promise\n * @flow\n */\n'use strict';\n\nconst Promise = require('fbjs/lib/Promise.native');\n\nif (__DEV__) {\n  require('promise/setimmediate/rejection-tracking').enable({\n    allRejections: true,\n    onUnhandled: (id, error = {}) => {\n      const {message = null, stack = null} = error;\n      const warning =\n        `Possible Unhandled Promise Rejection (id: ${id}):\\n` +\n        (message == null ? '' : `${message}\\n`) +\n        (stack == null ? '' : stack);\n      console.warn(warning);\n    },\n    onHandled: (id) => {\n      const warning =\n        `Promise Rejection Handled (id: ${id})\\n` +\n        'This means you can ignore any previous messages of the form ' +\n        `\"Possible Unhandled Promise Rejection (id: ${id}):\"`;\n      console.warn(warning);\n    },\n  });\n}\n\nmodule.exports = Promise;\n","/**\n *\n * Copyright 2013-2016 Facebook, Inc.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * This module wraps and augments the minimally ES6-compliant Promise\n * implementation provided by the promise npm package.\n *\n */\n\n'use strict';\n\nvar Promise = require('promise/setimmediate/es6-extensions');\nrequire('promise/setimmediate/done');\n\n/**\n * Handle either fulfillment or rejection with the same callback.\n */\nPromise.prototype['finally'] = function (onSettled) {\n  return this.then(onSettled, onSettled);\n};\n\nmodule.exports = Promise;","'use strict';\n\n//This file contains the ES6 extensions to the core Promises/A+ API\n\nvar Promise = require('./core.js');\n\nmodule.exports = Promise;\n\n/* Static Functions */\n\nvar TRUE = valuePromise(true);\nvar FALSE = valuePromise(false);\nvar NULL = valuePromise(null);\nvar UNDEFINED = valuePromise(undefined);\nvar ZERO = valuePromise(0);\nvar EMPTYSTRING = valuePromise('');\n\nfunction valuePromise(value) {\n  var p = new Promise(Promise._61);\n  p._81 = 1;\n  p._65 = value;\n  return p;\n}\nPromise.resolve = function (value) {\n  if (value instanceof Promise) return value;\n\n  if (value === null) return NULL;\n  if (value === undefined) return UNDEFINED;\n  if (value === true) return TRUE;\n  if (value === false) return FALSE;\n  if (value === 0) return ZERO;\n  if (value === '') return EMPTYSTRING;\n\n  if (typeof value === 'object' || typeof value === 'function') {\n    try {\n      var then = value.then;\n      if (typeof then === 'function') {\n        return new Promise(then.bind(value));\n      }\n    } catch (ex) {\n      return new Promise(function (resolve, reject) {\n        reject(ex);\n      });\n    }\n  }\n  return valuePromise(value);\n};\n\nPromise.all = function (arr) {\n  var args = Array.prototype.slice.call(arr);\n\n  return new Promise(function (resolve, reject) {\n    if (args.length === 0) return resolve([]);\n    var remaining = args.length;\n    function res(i, val) {\n      if (val && (typeof val === 'object' || typeof val === 'function')) {\n        if (val instanceof Promise && val.then === Promise.prototype.then) {\n          while (val._81 === 3) {\n            val = val._65;\n          }\n          if (val._81 === 1) return res(i, val._65);\n          if (val._81 === 2) reject(val._65);\n          val.then(function (val) {\n            res(i, val);\n          }, reject);\n          return;\n        } else {\n          var then = val.then;\n          if (typeof then === 'function') {\n            var p = new Promise(then.bind(val));\n            p.then(function (val) {\n              res(i, val);\n            }, reject);\n            return;\n          }\n        }\n      }\n      args[i] = val;\n      if (--remaining === 0) {\n        resolve(args);\n      }\n    }\n    for (var i = 0; i < args.length; i++) {\n      res(i, args[i]);\n    }\n  });\n};\n\nPromise.reject = function (value) {\n  return new Promise(function (resolve, reject) {\n    reject(value);\n  });\n};\n\nPromise.race = function (values) {\n  return new Promise(function (resolve, reject) {\n    values.forEach(function(value){\n      Promise.resolve(value).then(resolve, reject);\n    });\n  });\n};\n\n/* Prototype Methods */\n\nPromise.prototype['catch'] = function (onRejected) {\n  return this.then(null, onRejected);\n};\n","'use strict';\n\n\n\nfunction noop() {}\n\n// States:\n//\n// 0 - pending\n// 1 - fulfilled with _value\n// 2 - rejected with _value\n// 3 - adopted the state of another promise, _value\n//\n// once the state is no longer pending (0) it is immutable\n\n// All `_` prefixed properties will be reduced to `_{random number}`\n// at build time to obfuscate them and discourage their use.\n// We don't use symbols or Object.defineProperty to fully hide them\n// because the performance isn't good enough.\n\n\n// to avoid using try/catch inside critical functions, we\n// extract them to here.\nvar LAST_ERROR = null;\nvar IS_ERROR = {};\nfunction getThen(obj) {\n  try {\n    return obj.then;\n  } catch (ex) {\n    LAST_ERROR = ex;\n    return IS_ERROR;\n  }\n}\n\nfunction tryCallOne(fn, a) {\n  try {\n    return fn(a);\n  } catch (ex) {\n    LAST_ERROR = ex;\n    return IS_ERROR;\n  }\n}\nfunction tryCallTwo(fn, a, b) {\n  try {\n    fn(a, b);\n  } catch (ex) {\n    LAST_ERROR = ex;\n    return IS_ERROR;\n  }\n}\n\nmodule.exports = Promise;\n\nfunction Promise(fn) {\n  if (typeof this !== 'object') {\n    throw new TypeError('Promises must be constructed via new');\n  }\n  if (typeof fn !== 'function') {\n    throw new TypeError('not a function');\n  }\n  this._45 = 0;\n  this._81 = 0;\n  this._65 = null;\n  this._54 = null;\n  if (fn === noop) return;\n  doResolve(fn, this);\n}\nPromise._10 = null;\nPromise._97 = null;\nPromise._61 = noop;\n\nPromise.prototype.then = function(onFulfilled, onRejected) {\n  if (this.constructor !== Promise) {\n    return safeThen(this, onFulfilled, onRejected);\n  }\n  var res = new Promise(noop);\n  handle(this, new Handler(onFulfilled, onRejected, res));\n  return res;\n};\n\nfunction safeThen(self, onFulfilled, onRejected) {\n  return new self.constructor(function (resolve, reject) {\n    var res = new Promise(noop);\n    res.then(resolve, reject);\n    handle(self, new Handler(onFulfilled, onRejected, res));\n  });\n};\nfunction handle(self, deferred) {\n  while (self._81 === 3) {\n    self = self._65;\n  }\n  if (Promise._10) {\n    Promise._10(self);\n  }\n  if (self._81 === 0) {\n    if (self._45 === 0) {\n      self._45 = 1;\n      self._54 = deferred;\n      return;\n    }\n    if (self._45 === 1) {\n      self._45 = 2;\n      self._54 = [self._54, deferred];\n      return;\n    }\n    self._54.push(deferred);\n    return;\n  }\n  handleResolved(self, deferred);\n}\n\nfunction handleResolved(self, deferred) {\n  setImmediate(function() {\n    var cb = self._81 === 1 ? deferred.onFulfilled : deferred.onRejected;\n    if (cb === null) {\n      if (self._81 === 1) {\n        resolve(deferred.promise, self._65);\n      } else {\n        reject(deferred.promise, self._65);\n      }\n      return;\n    }\n    var ret = tryCallOne(cb, self._65);\n    if (ret === IS_ERROR) {\n      reject(deferred.promise, LAST_ERROR);\n    } else {\n      resolve(deferred.promise, ret);\n    }\n  });\n}\nfunction resolve(self, newValue) {\n  // Promise Resolution Procedure: https://github.com/promises-aplus/promises-spec#the-promise-resolution-procedure\n  if (newValue === self) {\n    return reject(\n      self,\n      new TypeError('A promise cannot be resolved with itself.')\n    );\n  }\n  if (\n    newValue &&\n    (typeof newValue === 'object' || typeof newValue === 'function')\n  ) {\n    var then = getThen(newValue);\n    if (then === IS_ERROR) {\n      return reject(self, LAST_ERROR);\n    }\n    if (\n      then === self.then &&\n      newValue instanceof Promise\n    ) {\n      self._81 = 3;\n      self._65 = newValue;\n      finale(self);\n      return;\n    } else if (typeof then === 'function') {\n      doResolve(then.bind(newValue), self);\n      return;\n    }\n  }\n  self._81 = 1;\n  self._65 = newValue;\n  finale(self);\n}\n\nfunction reject(self, newValue) {\n  self._81 = 2;\n  self._65 = newValue;\n  if (Promise._97) {\n    Promise._97(self, newValue);\n  }\n  finale(self);\n}\nfunction finale(self) {\n  if (self._45 === 1) {\n    handle(self, self._54);\n    self._54 = null;\n  }\n  if (self._45 === 2) {\n    for (var i = 0; i < self._54.length; i++) {\n      handle(self, self._54[i]);\n    }\n    self._54 = null;\n  }\n}\n\nfunction Handler(onFulfilled, onRejected, promise){\n  this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\n  this.onRejected = typeof onRejected === 'function' ? onRejected : null;\n  this.promise = promise;\n}\n\n/**\n * Take a potentially misbehaving resolver function and make sure\n * onFulfilled and onRejected are only called once.\n *\n * Makes no guarantees about asynchrony.\n */\nfunction doResolve(fn, promise) {\n  var done = false;\n  var res = tryCallTwo(fn, function (value) {\n    if (done) return;\n    done = true;\n    resolve(promise, value);\n  }, function (reason) {\n    if (done) return;\n    done = true;\n    reject(promise, reason);\n  })\n  if (!done && res === IS_ERROR) {\n    done = true;\n    reject(promise, LAST_ERROR);\n  }\n}\n","'use strict';\n\nvar Promise = require('./core.js');\n\nmodule.exports = Promise;\nPromise.prototype.done = function (onFulfilled, onRejected) {\n  var self = arguments.length ? this.then.apply(this, arguments) : this;\n  self.then(null, function (err) {\n    setTimeout(function () {\n      throw err;\n    }, 0);\n  });\n};\n","'use strict';\n\nvar Promise = require('./core');\n\nvar DEFAULT_WHITELIST = [\n  ReferenceError,\n  TypeError,\n  RangeError\n];\n\nvar enabled = false;\nexports.disable = disable;\nfunction disable() {\n  enabled = false;\n  Promise._10 = null;\n  Promise._97 = null;\n}\n\nexports.enable = enable;\nfunction enable(options) {\n  options = options || {};\n  if (enabled) disable();\n  enabled = true;\n  var id = 0;\n  var displayId = 0;\n  var rejections = {};\n  Promise._10 = function (promise) {\n    if (\n      promise._81 === 2 && // IS REJECTED\n      rejections[promise._72]\n    ) {\n      if (rejections[promise._72].logged) {\n        onHandled(promise._72);\n      } else {\n        clearTimeout(rejections[promise._72].timeout);\n      }\n      delete rejections[promise._72];\n    }\n  };\n  Promise._97 = function (promise, err) {\n    if (promise._45 === 0) { // not yet handled\n      promise._72 = id++;\n      rejections[promise._72] = {\n        displayId: null,\n        error: err,\n        timeout: setTimeout(\n          onUnhandled.bind(null, promise._72),\n          // For reference errors and type errors, this almost always\n          // means the programmer made a mistake, so log them after just\n          // 100ms\n          // otherwise, wait 2 seconds to see if they get handled\n          matchWhitelist(err, DEFAULT_WHITELIST)\n            ? 100\n            : 2000\n        ),\n        logged: false\n      };\n    }\n  };\n  function onUnhandled(id) {\n    if (\n      options.allRejections ||\n      matchWhitelist(\n        rejections[id].error,\n        options.whitelist || DEFAULT_WHITELIST\n      )\n    ) {\n      rejections[id].displayId = displayId++;\n      if (options.onUnhandled) {\n        rejections[id].logged = true;\n        options.onUnhandled(\n          rejections[id].displayId,\n          rejections[id].error\n        );\n      } else {\n        rejections[id].logged = true;\n        logError(\n          rejections[id].displayId,\n          rejections[id].error\n        );\n      }\n    }\n  }\n  function onHandled(id) {\n    if (rejections[id].logged) {\n      if (options.onHandled) {\n        options.onHandled(rejections[id].displayId, rejections[id].error);\n      } else if (!rejections[id].onUnhandled) {\n        console.warn(\n          'Promise Rejection Handled (id: ' + rejections[id].displayId + '):'\n        );\n        console.warn(\n          '  This means you can ignore any previous messages of the form \"Possible Unhandled Promise Rejection\" with id ' +\n          rejections[id].displayId + '.'\n        );\n      }\n    }\n  }\n}\n\nfunction logError(id, error) {\n  console.warn('Possible Unhandled Promise Rejection (id: ' + id + '):');\n  var errStr = (error && (error.stack || error)) + '';\n  errStr.split('\\n').forEach(function (line) {\n    console.warn('  ' + line);\n  });\n}\n\nfunction matchWhitelist(error, list) {\n  return list.some(function (cls) {\n    return error instanceof cls;\n  });\n}","/**\n * Copyright (c) 2014, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * https://raw.github.com/facebook/regenerator/master/LICENSE file. An\n * additional grant of patent rights can be found in the PATENTS file in\n * the same directory.\n */\n\n!(function(global) {\n  \"use strict\";\n\n  var hasOwn = Object.prototype.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  var inModule = typeof module === \"object\";\n  var runtime = global.regeneratorRuntime;\n  if (runtime) {\n    if (inModule) {\n      // If regeneratorRuntime is defined globally and we're in a module,\n      // make the exports object identical to regeneratorRuntime.\n      module.exports = runtime;\n    }\n    // Don't bother evaluating the rest of this file if the runtime was\n    // already defined globally.\n    return;\n  }\n\n  // Define the runtime globally (as expected by generated code) as either\n  // module.exports (if we're in a module) or a new, empty object.\n  runtime = global.regeneratorRuntime = inModule ? module.exports : {};\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  runtime.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype;\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunctionPrototype[toStringTagSymbol] = GeneratorFunction.displayName = \"GeneratorFunction\";\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      prototype[method] = function(arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  runtime.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  runtime.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      if (!(toStringTagSymbol in genFun)) {\n        genFun[toStringTagSymbol] = \"GeneratorFunction\";\n      }\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `value instanceof AwaitArgument` to determine if the yielded value is\n  // meant to be awaited. Some may consider the name of this method too\n  // cutesy, but they are curmudgeons.\n  runtime.awrap = function(arg) {\n    return new AwaitArgument(arg);\n  };\n\n  function AwaitArgument(arg) {\n    this.arg = arg;\n  }\n\n  function AsyncIterator(generator) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value instanceof AwaitArgument) {\n          return Promise.resolve(value.arg).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return Promise.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration. If the Promise is rejected, however, the\n          // result for this iteration will be rejected with the same\n          // reason. Note that rejections of yielded Promises are not\n          // thrown back into the generator function, as is the case\n          // when an awaited Promise is rejected. This difference in\n          // behavior between yield and await is important, because it\n          // allows the consumer to decide what to do with the yielded\n          // rejection (swallow it and continue, manually .throw it back\n          // into the generator, abandon iteration, whatever). With\n          // await, by contrast, there is no opportunity to examine the\n          // rejection reason outside the generator function, so the\n          // only option is to throw it from the await expression, and\n          // let the generator function handle the exception.\n          result.value = unwrapped;\n          resolve(result);\n        }, reject);\n      }\n    }\n\n    if (typeof process === \"object\" && process.domain) {\n      invoke = process.domain.bind(invoke);\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new Promise(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  runtime.async = function(innerFn, outerFn, self, tryLocsList) {\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList)\n    );\n\n    return runtime.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          if (method === \"return\" ||\n              (method === \"throw\" && delegate.iterator[method] === undefined)) {\n            // A return or throw (when the delegate iterator has no throw\n            // method) always terminates the yield* loop.\n            context.delegate = null;\n\n            // If the delegate iterator has a return method, give it a\n            // chance to clean up.\n            var returnMethod = delegate.iterator[\"return\"];\n            if (returnMethod) {\n              var record = tryCatch(returnMethod, delegate.iterator, arg);\n              if (record.type === \"throw\") {\n                // If the return method threw an exception, let that\n                // exception prevail over the original return or throw.\n                method = \"throw\";\n                arg = record.arg;\n                continue;\n              }\n            }\n\n            if (method === \"return\") {\n              // Continue with the outer return, now that the delegate\n              // iterator has been terminated.\n              continue;\n            }\n          }\n\n          var record = tryCatch(\n            delegate.iterator[method],\n            delegate.iterator,\n            arg\n          );\n\n          if (record.type === \"throw\") {\n            context.delegate = null;\n\n            // Like returning generator.throw(uncaught), but without the\n            // overhead of an extra function call.\n            method = \"throw\";\n            arg = record.arg;\n            continue;\n          }\n\n          // Delegate generator ran and handled its own exceptions so\n          // regardless of what the method was, we continue as if it is\n          // \"next\" with an undefined arg.\n          method = \"next\";\n          arg = undefined;\n\n          var info = record.arg;\n          if (info.done) {\n            context[delegate.resultName] = info.value;\n            context.next = delegate.nextLoc;\n          } else {\n            state = GenStateSuspendedYield;\n            return info;\n          }\n\n          context.delegate = null;\n        }\n\n        if (method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = arg;\n\n        } else if (method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw arg;\n          }\n\n          if (context.dispatchException(arg)) {\n            // If the dispatched exception was caught by a catch block,\n            // then let that catch block handle the exception normally.\n            method = \"next\";\n            arg = undefined;\n          }\n\n        } else if (method === \"return\") {\n          context.abrupt(\"return\", arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          var info = {\n            value: record.arg,\n            done: context.done\n          };\n\n          if (record.arg === ContinueSentinel) {\n            if (context.delegate && method === \"next\") {\n              // Deliberately forget the last sent value so that we don't\n              // accidentally pass it on to the delegate.\n              arg = undefined;\n            }\n          } else {\n            return info;\n          }\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(arg) call above.\n          method = \"throw\";\n          arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp[toStringTagSymbol] = \"Generator\";\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  runtime.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  runtime.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n        return !!caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.next = finallyEntry.finallyLoc;\n      } else {\n        this.complete(record);\n      }\n\n      return ContinueSentinel;\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = record.arg;\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      return ContinueSentinel;\n    }\n  };\n})(\n  // Among the various tricks for obtaining a reference to the global\n  // object, this seems to be the most reliable technique that does not\n  // use indirect eval (which violates Content Security Policy).\n  typeof global === \"object\" ? global :\n  typeof window === \"object\" ? window :\n  typeof self === \"object\" ? self : this\n);\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule XMLHttpRequest\n * @flow\n */\n'use strict';\n\nconst EventTarget = require('event-target-shim');\nconst RCTNetworking = require('RCTNetworking');\n\nconst base64 = require('base64-js');\nconst invariant = require('fbjs/lib/invariant');\nconst warning = require('fbjs/lib/warning');\n\ntype ResponseType = '' | 'arraybuffer' | 'blob' | 'document' | 'json' | 'text';\ntype Response = ?Object | string;\n\ntype XHRInterceptor = {\n  requestSent(\n    id: number,\n    url: string,\n    method: string,\n    headers: Object\n  ): void,\n  responseReceived(\n    id: number,\n    url: string,\n    status: number,\n    headers: Object\n  ): void,\n  dataReceived(\n    id: number,\n    data: string\n  ): void,\n  loadingFinished(\n    id: number,\n    encodedDataLength: number\n  ): void,\n  loadingFailed(\n    id: number,\n    error: string\n  ): void,\n};\n\nconst UNSENT = 0;\nconst OPENED = 1;\nconst HEADERS_RECEIVED = 2;\nconst LOADING = 3;\nconst DONE = 4;\n\nconst SUPPORTED_RESPONSE_TYPES = {\n  arraybuffer: typeof global.ArrayBuffer === 'function',\n  blob: typeof global.Blob === 'function',\n  document: false,\n  json: true,\n  text: true,\n  '': true,\n};\n\nconst REQUEST_EVENTS = [\n  'abort',\n  'error',\n  'load',\n  'loadstart',\n  'progress',\n  'timeout',\n  'loadend',\n];\n\nconst XHR_EVENTS = REQUEST_EVENTS.concat('readystatechange');\n\nclass XMLHttpRequestEventTarget extends EventTarget(...REQUEST_EVENTS) {\n  onload: ?Function;\n  onloadstart: ?Function;\n  onprogress: ?Function;\n  ontimeout: ?Function;\n  onerror: ?Function;\n  onloadend: ?Function;\n}\n\n/**\n * Shared base for platform-specific XMLHttpRequest implementations.\n */\nclass XMLHttpRequest extends EventTarget(...XHR_EVENTS) {\n\n  static UNSENT: number = UNSENT;\n  static OPENED: number = OPENED;\n  static HEADERS_RECEIVED: number = HEADERS_RECEIVED;\n  static LOADING: number = LOADING;\n  static DONE: number = DONE;\n\n  static _interceptor: ?XHRInterceptor = null;\n\n  UNSENT: number = UNSENT;\n  OPENED: number = OPENED;\n  HEADERS_RECEIVED: number = HEADERS_RECEIVED;\n  LOADING: number = LOADING;\n  DONE: number = DONE;\n\n  // EventTarget automatically initializes these to `null`.\n  onload: ?Function;\n  onloadstart: ?Function;\n  onprogress: ?Function;\n  ontimeout: ?Function;\n  onerror: ?Function;\n  onloadend: ?Function;\n  onreadystatechange: ?Function;\n\n  readyState: number = UNSENT;\n  responseHeaders: ?Object;\n  status: number = 0;\n  timeout: number = 0;\n  responseURL: ?string;\n\n  upload: XMLHttpRequestEventTarget = new XMLHttpRequestEventTarget();\n\n  _requestId: ?number;\n  _subscriptions: Array<*>;\n\n  _aborted: boolean = false;\n  _cachedResponse: Response;\n  _hasError: boolean = false;\n  _headers: Object;\n  _lowerCaseResponseHeaders: Object;\n  _method: ?string = null;\n  _response: string | ?Object;\n  _responseType: ResponseType;\n  _response: string = '';\n  _sent: boolean;\n  _url: ?string = null;\n  _timedOut: boolean = false;\n  _trackingName: string = 'unknown';\n  _incrementalEvents: boolean = false;\n\n  static setInterceptor(interceptor: ?XHRInterceptor) {\n    XMLHttpRequest._interceptor = interceptor;\n  }\n\n  constructor() {\n    super();\n    this._reset();\n  }\n\n  _reset(): void {\n    this.readyState = this.UNSENT;\n    this.responseHeaders = undefined;\n    this.status = 0;\n    delete this.responseURL;\n\n    this._requestId = null;\n\n    this._cachedResponse = undefined;\n    this._hasError = false;\n    this._headers = {};\n    this._response = '';\n    this._responseType = '';\n    this._sent = false;\n    this._lowerCaseResponseHeaders = {};\n\n    this._clearSubscriptions();\n    this._timedOut = false;\n  }\n\n  get responseType(): ResponseType {\n    return this._responseType;\n  }\n\n  set responseType(responseType: ResponseType): void {\n    if (this._sent) {\n      throw new Error(\n        'Failed to set the \\'responseType\\' property on \\'XMLHttpRequest\\': The ' +\n        'response type cannot be set after the request has been sent.'\n      );\n    }\n    if (!SUPPORTED_RESPONSE_TYPES.hasOwnProperty(responseType)) {\n      warning(\n        false,\n        `The provided value '${responseType}' is not a valid 'responseType'.`\n      );\n      return;\n    }\n\n    // redboxes early, e.g. for 'arraybuffer' on ios 7\n    invariant(\n      SUPPORTED_RESPONSE_TYPES[responseType] || responseType === 'document',\n      `The provided value '${responseType}' is unsupported in this environment.`\n    );\n    this._responseType = responseType;\n  }\n\n  get responseText(): string {\n    if (this._responseType !== '' && this._responseType !== 'text') {\n      throw new Error(\n        \"The 'responseText' property is only available if 'responseType' \" +\n        `is set to '' or 'text', but it is '${this._responseType}'.`\n      );\n    }\n    if (this.readyState < LOADING) {\n      return '';\n    }\n    return this._response;\n  }\n\n  get response(): Response {\n    const {responseType} = this;\n    if (responseType === '' || responseType === 'text') {\n      return this.readyState < LOADING || this._hasError\n        ? ''\n        : this._response;\n    }\n\n    if (this.readyState !== DONE) {\n      return null;\n    }\n\n    if (this._cachedResponse !== undefined) {\n      return this._cachedResponse;\n    }\n\n    switch (responseType) {\n      case 'document':\n        this._cachedResponse = null;\n        break;\n\n      case 'arraybuffer':\n        this._cachedResponse = base64.toByteArray(this._response).buffer;\n        break;\n\n      case 'blob':\n        this._cachedResponse = new global.Blob(\n          [base64.toByteArray(this._response).buffer],\n          {type: this.getResponseHeader('content-type') || ''}\n        );\n        break;\n\n      case 'json':\n        try {\n          this._cachedResponse = JSON.parse(this._response);\n        } catch (_) {\n          this._cachedResponse = null;\n        }\n        break;\n\n      default:\n        this._cachedResponse = null;\n    }\n\n    return this._cachedResponse;\n  }\n\n  // exposed for testing\n  __didCreateRequest(requestId: number): void {\n    this._requestId = requestId;\n\n    XMLHttpRequest._interceptor && XMLHttpRequest._interceptor.requestSent(\n      requestId,\n      this._url || '',\n      this._method || 'GET',\n      this._headers);\n  }\n\n  // exposed for testing\n  __didUploadProgress(\n    requestId: number,\n    progress: number,\n    total: number\n  ): void {\n    if (requestId === this._requestId) {\n      this.upload.dispatchEvent({\n        type: 'progress',\n        lengthComputable: true,\n        loaded: progress,\n        total,\n      });\n    }\n  }\n\n  __didReceiveResponse(\n    requestId: number,\n    status: number,\n    responseHeaders: ?Object,\n    responseURL: ?string\n  ): void {\n    if (requestId === this._requestId) {\n      this.status = status;\n      this.setResponseHeaders(responseHeaders);\n      this.setReadyState(this.HEADERS_RECEIVED);\n      if (responseURL || responseURL === '') {\n        this.responseURL = responseURL;\n      } else {\n        delete this.responseURL;\n      }\n\n      XMLHttpRequest._interceptor && XMLHttpRequest._interceptor.responseReceived(\n        requestId,\n        responseURL || this._url || '',\n        status,\n        responseHeaders || {});\n    }\n  }\n\n  __didReceiveData(requestId: number, response: string): void {\n    if (requestId !== this._requestId) {\n      return;\n    }\n    this._response = response;\n    this._cachedResponse = undefined; // force lazy recomputation\n    this.setReadyState(this.LOADING);\n\n    XMLHttpRequest._interceptor && XMLHttpRequest._interceptor.dataReceived(\n      requestId,\n      response);\n  }\n\n  __didReceiveIncrementalData(\n    requestId: number,\n    responseText: string,\n    progress: number,\n    total: number\n  ) {\n    if (requestId !== this._requestId) {\n      return;\n    }\n    if (!this._response) {\n      this._response = responseText;\n    } else {\n      this._response += responseText;\n    }\n\n    XMLHttpRequest._interceptor && XMLHttpRequest._interceptor.dataReceived(\n      requestId,\n      responseText);\n\n    this.setReadyState(this.LOADING);\n    this.__didReceiveDataProgress(requestId, progress, total);\n  }\n\n  __didReceiveDataProgress(\n    requestId: number,\n    loaded: number,\n    total: number\n  ): void {\n    if (requestId !== this._requestId) {\n      return;\n    }\n    this.dispatchEvent({\n      type: 'progress',\n      lengthComputable: total >= 0,\n      loaded,\n      total,\n    });\n  }\n\n  // exposed for testing\n  __didCompleteResponse(\n    requestId: number,\n    error: string,\n    timeOutError: boolean\n  ): void {\n    if (requestId === this._requestId) {\n      if (error) {\n        if (this._responseType === '' || this._responseType === 'text') {\n          this._response = error;\n        }\n        this._hasError = true;\n        if (timeOutError) {\n          this._timedOut = true;\n        }\n      }\n      this._clearSubscriptions();\n      this._requestId = null;\n      this.setReadyState(this.DONE);\n\n      if (error) {\n        XMLHttpRequest._interceptor && XMLHttpRequest._interceptor.loadingFailed(\n          requestId,\n          error);\n      } else {\n        XMLHttpRequest._interceptor && XMLHttpRequest._interceptor.loadingFinished(\n          requestId,\n          this._response.length);\n      }\n    }\n  }\n\n  _clearSubscriptions(): void {\n    (this._subscriptions || []).forEach(sub => {\n      sub.remove();\n    });\n    this._subscriptions = [];\n  }\n\n  getAllResponseHeaders(): ?string {\n    if (!this.responseHeaders) {\n      // according to the spec, return null if no response has been received\n      return null;\n    }\n    var headers = this.responseHeaders || {};\n    return Object.keys(headers).map((headerName) => {\n      return headerName + ': ' + headers[headerName];\n    }).join('\\r\\n');\n  }\n\n  getResponseHeader(header: string): ?string {\n    var value = this._lowerCaseResponseHeaders[header.toLowerCase()];\n    return value !== undefined ? value : null;\n  }\n\n  setRequestHeader(header: string, value: any): void {\n    if (this.readyState !== this.OPENED) {\n      throw new Error('Request has not been opened');\n    }\n    this._headers[header.toLowerCase()] = String(value);\n  }\n\n  /**\n   * Custom extension for tracking origins of request.\n   */\n  setTrackingName(trackingName: string): XMLHttpRequest {\n    this._trackingName = trackingName;\n    return this;\n  }\n\n  open(method: string, url: string, async: ?boolean): void {\n    /* Other optional arguments are not supported yet */\n    if (this.readyState !== this.UNSENT) {\n      throw new Error('Cannot open, already sending');\n    }\n    if (async !== undefined && !async) {\n      // async is default\n      throw new Error('Synchronous http requests are not supported');\n    }\n    if (!url) {\n      throw new Error('Cannot load an empty url');\n    }\n    this._method = method.toUpperCase();\n    this._url = url;\n    this._aborted = false;\n    this.setReadyState(this.OPENED);\n  }\n\n  send(data: any): void {\n    if (this.readyState !== this.OPENED) {\n      throw new Error('Request has not been opened');\n    }\n    if (this._sent) {\n      throw new Error('Request has already been sent');\n    }\n    this._sent = true;\n    const incrementalEvents = this._incrementalEvents ||\n      !!this.onreadystatechange ||\n      !!this.onprogress;\n\n    this._subscriptions.push(RCTNetworking.addListener(\n      'didSendNetworkData',\n      (args) => this.__didUploadProgress(...args)\n    ));\n    this._subscriptions.push(RCTNetworking.addListener(\n      'didReceiveNetworkResponse',\n      (args) => this.__didReceiveResponse(...args)\n    ));\n    this._subscriptions.push(RCTNetworking.addListener(\n      'didReceiveNetworkData',\n      (args) => this.__didReceiveData(...args)\n    ));\n    this._subscriptions.push(RCTNetworking.addListener(\n      'didReceiveNetworkIncrementalData',\n      (args) => this.__didReceiveIncrementalData(...args)\n    ));\n    this._subscriptions.push(RCTNetworking.addListener(\n      'didReceiveNetworkDataProgress',\n      (args) => this.__didReceiveDataProgress(...args)\n    ));\n    this._subscriptions.push(RCTNetworking.addListener(\n      'didCompleteNetworkResponse',\n      (args) => this.__didCompleteResponse(...args)\n    ));\n\n    let nativeResponseType = 'text';\n    if (this._responseType === 'arraybuffer' || this._responseType === 'blob') {\n      nativeResponseType = 'base64';\n    }\n\n    invariant(this._method, 'Request method needs to be defined.');\n    invariant(this._url, 'Request URL needs to be defined.');\n    RCTNetworking.sendRequest(\n      this._method,\n      this._trackingName,\n      this._url,\n      this._headers,\n      data,\n      nativeResponseType,\n      incrementalEvents,\n      this.timeout,\n      this.__didCreateRequest.bind(this),\n    );\n  }\n\n  abort(): void {\n    this._aborted = true;\n    if (this._requestId) {\n      RCTNetworking.abortRequest(this._requestId);\n    }\n    // only call onreadystatechange if there is something to abort,\n    // below logic is per spec\n    if (!(this.readyState === this.UNSENT ||\n        (this.readyState === this.OPENED && !this._sent) ||\n        this.readyState === this.DONE)) {\n      this._reset();\n      this.setReadyState(this.DONE);\n    }\n    // Reset again after, in case modified in handler\n    this._reset();\n  }\n\n  setResponseHeaders(responseHeaders: ?Object): void {\n    this.responseHeaders = responseHeaders || null;\n    var headers = responseHeaders || {};\n    this._lowerCaseResponseHeaders =\n      Object.keys(headers).reduce((lcaseHeaders, headerName) => {\n        lcaseHeaders[headerName.toLowerCase()] = headers[headerName];\n        return lcaseHeaders;\n      }, {});\n  }\n\n  setReadyState(newState: number): void {\n    this.readyState = newState;\n    this.dispatchEvent({type: 'readystatechange'});\n    if (newState === this.DONE) {\n      if (this._aborted) {\n        this.dispatchEvent({type: 'abort'});\n      } else if (this._hasError) {\n        if (this._timedOut) {\n          this.dispatchEvent({type: 'timeout'});\n        } else {\n          this.dispatchEvent({type: 'error'});\n        }\n      } else {\n        this.dispatchEvent({type: 'load'});\n      }\n      this.dispatchEvent({type: 'loadend'});\n    }\n  }\n\n  /* global EventListener */\n  addEventListener(type: string, listener: EventListener): void {\n    // If we dont' have a 'readystatechange' event handler, we don't\n    // have to send repeated LOADING events with incremental updates\n    // to responseText, which will avoid a bunch of native -> JS\n    // bridge traffic.\n    if (type === 'readystatechange' || type === 'progress') {\n      this._incrementalEvents = true;\n    }\n    super.addEventListener(type, listener);\n  }\n}\n\nmodule.exports = XMLHttpRequest;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule RCTNetworking\n * @flow\n */\n'use strict';\n\n// Do not require the native RCTNetworking module directly! Use this wrapper module instead.\n// It will add the necessary requestId, so that you don't have to generate it yourself.\nconst FormData = require('FormData');\nconst NativeEventEmitter = require('NativeEventEmitter');\nconst RCTNetworkingNative = require('NativeModules').Networking;\nconst convertRequestBody = require('convertRequestBody');\n\nimport type {RequestBody} from 'convertRequestBody';\n\ntype Header = [string, string];\n\n// Convert FormData headers to arrays, which are easier to consume in\n// native on Android.\nfunction convertHeadersMapToArray(headers: Object): Array<Header> {\n  const headerArray = [];\n  for (const name in headers) {\n    headerArray.push([name, headers[name]]);\n  }\n  return headerArray;\n}\n\nlet _requestId = 1;\nfunction generateRequestId(): number {\n  return _requestId++;\n}\n\n/**\n * This class is a wrapper around the native RCTNetworking module. It adds a necessary unique\n * requestId to each network request that can be used to abort that request later on.\n */\nclass RCTNetworking extends NativeEventEmitter {\n\n  constructor() {\n    super(RCTNetworkingNative);\n  }\n\n  sendRequest(\n    method: string,\n    trackingName: string,\n    url: string,\n    headers: Object,\n    data: RequestBody,\n    responseType: 'text' | 'base64',\n    incrementalUpdates: boolean,\n    timeout: number,\n    callback: (requestId: number) => any\n  ) {\n    const body = convertRequestBody(data);\n    if (body && body.formData) {\n      body.formData = body.formData.map((part) => ({\n        ...part,\n        headers: convertHeadersMapToArray(part.headers),\n      }));\n    }\n    const requestId = generateRequestId();\n    RCTNetworkingNative.sendRequest(\n      method,\n      url,\n      requestId,\n      convertHeadersMapToArray(headers),\n      {...body, trackingName},\n      responseType,\n      incrementalUpdates,\n      timeout\n    );\n    callback(requestId);\n  }\n\n  abortRequest(requestId: number) {\n    RCTNetworkingNative.abortRequest(requestId);\n  }\n\n  clearCookies(callback: (result: boolean) => any) {\n    RCTNetworkingNative.clearCookies(callback);\n  }\n}\n\nmodule.exports = new RCTNetworking();\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule FormData\n * @flow\n */\n'use strict';\n\ntype FormDataValue = any;\ntype FormDataNameValuePair = [string, FormDataValue];\n\ntype Headers = {[name: string]: string};\ntype FormDataPart = {\n  string: string,\n  headers: Headers,\n} | {\n  uri: string,\n  headers: Headers,\n  name?: string,\n  type?: string,\n};\n\n/**\n * Polyfill for XMLHttpRequest2 FormData API, allowing multipart POST requests\n * with mixed data (string, native files) to be submitted via XMLHttpRequest.\n *\n * Example:\n *\n *   var photo = {\n *     uri: uriFromCameraRoll,\n *     type: 'image/jpeg',\n *     name: 'photo.jpg',\n *   };\n *\n *   var body = new FormData();\n *   body.append('authToken', 'secret');\n *   body.append('photo', photo);\n *   body.append('title', 'A beautiful photo!');\n *\n *   xhr.open('POST', serverURL);\n *   xhr.send(body);\n */\nclass FormData {\n  _parts: Array<FormDataNameValuePair>;\n\n  constructor() {\n    this._parts = [];\n  }\n\n  append(key: string, value: FormDataValue) {\n    // The XMLHttpRequest spec doesn't specify if duplicate keys are allowed.\n    // MDN says that any new values should be appended to existing values.\n    // In any case, major browsers allow duplicate keys, so that's what we'll do\n    // too. They'll simply get appended as additional form data parts in the\n    // request body, leaving the server to deal with them.\n    this._parts.push([key, value]);\n  }\n\n  getParts(): Array<FormDataPart> {\n    return this._parts.map(([name, value]) => {\n      var contentDisposition = 'form-data; name=\"' + name + '\"';\n\n      var headers: Headers = {'content-disposition': contentDisposition};\n\n      // The body part is a \"blob\", which in React Native just means\n      // an object with a `uri` attribute. Optionally, it can also\n      // have a `name` and `type` attribute to specify filename and\n      // content type (cf. web Blob interface.)\n      if (typeof value === 'object' && value) {\n        if (typeof value.name === 'string') {\n          headers['content-disposition'] += '; filename=\"' + value.name + '\"';\n        }\n        if (typeof value.type === 'string') {\n          headers['content-type'] = value.type;\n        }\n        return {...value, headers, fieldName: name};\n      }\n      // Convert non-object values to strings as per FormData.append() spec\n      return {string: String(value), headers, fieldName: name};\n    });\n  }\n}\n\nmodule.exports = FormData;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule convertRequestBody\n * @flow\n */\n'use strict';\n\nconst binaryToBase64 = require('binaryToBase64');\n\nconst FormData = require('FormData');\n\nexport type RequestBody =\n    string\n  | FormData\n  | {uri: string}\n  | ArrayBuffer\n  | $ArrayBufferView\n  ;\n\nfunction convertRequestBody(body: RequestBody): Object {\n  if (typeof body === 'string') {\n    return {string: body};\n  }\n  if (body instanceof FormData) {\n    return {formData: body.getParts()};\n  }\n  if (body instanceof ArrayBuffer || ArrayBuffer.isView(body)) {\n    // $FlowFixMe: no way to assert that 'body' is indeed an ArrayBufferView\n    return {base64: binaryToBase64(body)};\n  }\n  return body;\n}\n\nmodule.exports = convertRequestBody;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule Geolocation\n * @flow\n */\n'use strict';\n\nconst NativeEventEmitter = require('NativeEventEmitter');\nconst RCTLocationObserver = require('NativeModules').LocationObserver;\n\nconst invariant = require('fbjs/lib/invariant');\nconst logError = require('logError');\nconst warning = require('fbjs/lib/warning');\n\nconst LocationEventEmitter = new NativeEventEmitter(RCTLocationObserver);\n\nvar subscriptions = [];\nvar updatesEnabled = false;\n\ntype GeoOptions = {\n  timeout: number,\n  maximumAge: number,\n  enableHighAccuracy: bool,\n  distanceFilter: number,\n}\n\n/**\n * The Geolocation API extends the web spec:\n * https://developer.mozilla.org/en-US/docs/Web/API/Geolocation\n *\n * As a browser polyfill, this API is available through the `navigator.geolocation`\n * global - you do not need to `import` it.\n *\n * ### iOS\n * You need to include the `NSLocationWhenInUseUsageDescription` key\n * in Info.plist to enable geolocation when using the app. Geolocation is\n * enabled by default when you create a project with `react-native init`.\n *\n * In order to enable geolocation in the background, you need to include the\n * 'NSLocationAlwaysUsageDescription' key in Info.plist and add location as\n * a background mode in the 'Capabilities' tab in Xcode.\n *\n * ### Android\n * To request access to location, you need to add the following line to your\n * app's `AndroidManifest.xml`:\n *\n * `<uses-permission android:name=\"android.permission.ACCESS_FINE_LOCATION\" />`\n *\n * Android API >= 18 Positions will also contain a `mocked` boolean to indicate if position\n * was created from a mock provider.\n *\n */\nvar Geolocation = {\n\n  /*\n   * Invokes the success callback once with the latest location info.  Supported\n   * options: timeout (ms), maximumAge (ms), enableHighAccuracy (bool)\n   * On Android, if the location is cached this can return almost immediately,\n   * or it will request an update which might take a while.\n   */\n  getCurrentPosition: function(\n    geo_success: Function,\n    geo_error?: Function,\n    geo_options?: GeoOptions\n  ) {\n    invariant(\n      typeof geo_success === 'function',\n      'Must provide a valid geo_success callback.'\n    );\n    RCTLocationObserver.getCurrentPosition(\n      geo_options || {},\n      geo_success,\n      geo_error || logError\n    );\n  },\n\n  /*\n   * Invokes the success callback whenever the location changes.  Supported\n   * options: timeout (ms), maximumAge (ms), enableHighAccuracy (bool), distanceFilter(m)\n   */\n  watchPosition: function(success: Function, error?: Function, options?: GeoOptions): number {\n    if (!updatesEnabled) {\n      RCTLocationObserver.startObserving(options || {});\n      updatesEnabled = true;\n    }\n    var watchID = subscriptions.length;\n    subscriptions.push([\n      LocationEventEmitter.addListener(\n        'geolocationDidChange',\n        success\n      ),\n      error ? LocationEventEmitter.addListener(\n        'geolocationError',\n        error\n      ) : null,\n    ]);\n    return watchID;\n  },\n\n  clearWatch: function(watchID: number) {\n    var sub = subscriptions[watchID];\n    if (!sub) {\n      // Silently exit when the watchID is invalid or already cleared\n      // This is consistent with timers\n      return;\n    }\n\n    sub[0].remove();\n    // array element refinements not yet enabled in Flow\n    var sub1 = sub[1]; sub1 && sub1.remove();\n    subscriptions[watchID] = undefined;\n    var noWatchers = true;\n    for (var ii = 0; ii < subscriptions.length; ii++) {\n      if (subscriptions[ii]) {\n        noWatchers = false; // still valid subscriptions\n      }\n    }\n    if (noWatchers) {\n      Geolocation.stopObserving();\n    }\n  },\n\n  stopObserving: function() {\n    if (updatesEnabled) {\n      RCTLocationObserver.stopObserving();\n      updatesEnabled = false;\n      for (var ii = 0; ii < subscriptions.length; ii++) {\n        var sub = subscriptions[ii];\n        if (sub) {\n          warning('Called stopObserving with existing subscriptions.');\n          sub[0].remove();\n          // array element refinements not yet enabled in Flow\n          var sub1 = sub[1]; sub1 && sub1.remove();\n        }\n      }\n      subscriptions = [];\n    }\n  }\n};\n\nmodule.exports = Geolocation;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule Map\n * @preventMunge\n * @typechecks\n */\n\n/* eslint-disable no-extend-native, no-shadow-restricted-names */\n\n'use strict';\n\nvar _shouldPolyfillES6Collection = require('_shouldPolyfillES6Collection');\nvar guid = require('guid');\nvar isNode = require('fbjs/lib/isNode');\nvar toIterator = require('toIterator');\n\nmodule.exports = (function(global, undefined) {\n  // Since our implementation is spec-compliant for the most part we can safely\n  // delegate to a built-in version if exists and is implemented correctly.\n  // Firefox had gotten a few implementation details wrong across different\n  // versions so we guard against that.\n  if (!_shouldPolyfillES6Collection('Map')) {\n    return global.Map;\n  }\n\n  /**\n   * == ES6 Map Collection ==\n   *\n   * This module is meant to implement a Map collection as described in chapter\n   * 23.1 of the ES6 specification.\n   *\n   * Map objects are collections of key/value pairs where both the keys and\n   * values may be arbitrary ECMAScript language values. A distinct key value\n   * may only occur in one key/value pair within the Map's collection.\n   *\n   * https://people.mozilla.org/~jorendorff/es6-draft.html#sec-map-objects\n   *\n   * There only two -- rather small -- diviations from the spec:\n   *\n   * 1. The use of frozen objects as keys.\n   *    We decided not to allow and simply throw an error. The reason being is\n   *    we store a \"hash\" on the object for fast access to it's place in the\n   *    internal map entries.\n   *    If this turns out to be a popular use case it's possible to implement by\n   *    overiding `Object.freeze` to store a \"hash\" property on the object\n   *    for later use with the map.\n   *\n   * 2. The `size` property on a map object is a regular property and not a\n   *    computed property on the prototype as described by the spec.\n   *    The reason being is that we simply want to support ES3 environments\n   *    which doesn't implement computed properties.\n   *\n   * == Usage ==\n   *\n   * var map = new Map(iterable);\n   *\n   * map.set(key, value);\n   * map.get(key); // value\n   * map.has(key); // true\n   * map.delete(key); // true\n   *\n   * var iterator = map.keys();\n   * iterator.next(); // {value: key, done: false}\n   *\n   * var iterator = map.values();\n   * iterator.next(); // {value: value, done: false}\n   *\n   * var iterator = map.entries();\n   * iterator.next(); // {value: [key, value], done: false}\n   *\n   * map.forEach(function(value, key){ this === thisArg }, thisArg);\n   *\n   * map.clear(); // resets map.\n   */\n\n  /**\n   * Constants\n   */\n\n  // Kinds of map iterations 23.1.5.3\n  var KIND_KEY = 'key';\n  var KIND_VALUE = 'value';\n  var KIND_KEY_VALUE = 'key+value';\n\n  // In older browsers we can't create a null-prototype object so we have to\n  // defend against key collisions with built-in methods.\n  var KEY_PREFIX = '$map_';\n\n  // This property will be used as the internal size variable to disallow\n  // writing and to issue warnings for writings in development.\n  var SECRET_SIZE_PROP;\n  if (__DEV__) {\n    SECRET_SIZE_PROP = '$size' + guid();\n  }\n\n  // In oldIE we use the DOM Node `uniqueID` property to get create the hash.\n  var OLD_IE_HASH_PREFIX = 'IE_HASH_';\n\n  class Map {\n\n    /**\n     * 23.1.1.1\n     * Takes an `iterable` which is basically any object that implements a\n     * Symbol.iterator (@@iterator) method. The iterable is expected to be a\n     * collection of pairs. Each pair is a key/value pair that will be used\n     * to instantiate the map.\n     *\n     * @param {*} iterable\n     */\n    constructor(iterable) {\n      if (!isObject(this)) {\n        throw new TypeError('Wrong map object type.');\n      }\n\n      initMap(this);\n\n      if (iterable != null) {\n        var it = toIterator(iterable);\n        var next;\n        while (!(next = it.next()).done) {\n          if (!isObject(next.value)) {\n            throw new TypeError('Expected iterable items to be pair objects.');\n          }\n          this.set(next.value[0], next.value[1]);\n        }\n      }\n    }\n\n    /**\n     * 23.1.3.1\n     * Clears the map from all keys and values.\n     */\n    clear() {\n      initMap(this);\n    }\n\n    /**\n     * 23.1.3.7\n     * Check if a key exists in the collection.\n     *\n     * @param {*} key\n     * @return {boolean}\n     */\n    has(key) {\n      var index = getIndex(this, key);\n      return !!(index != null && this._mapData[index]);\n    }\n\n    /**\n     * 23.1.3.9\n     * Adds a key/value pair to the collection.\n     *\n     * @param {*} key\n     * @param {*} value\n     * @return {map}\n     */\n    set(key, value) {\n      var index = getIndex(this, key);\n\n      if (index != null && this._mapData[index]) {\n        this._mapData[index][1] = value;\n      } else {\n        index = this._mapData.push([\n          key,\n          value\n        ]) - 1;\n        setIndex(this, key, index);\n        if (__DEV__) {\n          this[SECRET_SIZE_PROP] += 1;\n        } else {\n          this.size += 1;\n        }\n      }\n\n      return this;\n    }\n\n    /**\n     * 23.1.3.6\n     * Gets a value associated with a key in the collection.\n     *\n     * @param {*} key\n     * @return {*}\n     */\n    get(key) {\n      var index = getIndex(this, key);\n      if (index == null) {\n        return undefined;\n      } else {\n        return this._mapData[index][1];\n      }\n    }\n\n\n    /**\n     * 23.1.3.3\n     * Delete a key/value from the collection.\n     *\n     * @param {*} key\n     * @return {boolean} Whether the key was found and deleted.\n     */\n    delete(key) {\n      var index = getIndex(this, key);\n      if (index != null && this._mapData[index]) {\n        setIndex(this, key, undefined);\n        this._mapData[index] = undefined;\n        if (__DEV__) {\n          this[SECRET_SIZE_PROP] -= 1;\n        } else {\n          this.size -= 1;\n        }\n        return true;\n      } else {\n        return false;\n      }\n    }\n\n    /**\n     * 23.1.3.4\n     * Returns an iterator over the key/value pairs (in the form of an Array) in\n     * the collection.\n     *\n     * @return {MapIterator}\n     */\n    entries() {\n      return new MapIterator(this, KIND_KEY_VALUE);\n    }\n\n    /**\n     * 23.1.3.8\n     * Returns an iterator over the keys in the collection.\n     *\n     * @return {MapIterator}\n     */\n    keys() {\n      return new MapIterator(this, KIND_KEY);\n    }\n\n    /**\n     * 23.1.3.11\n     * Returns an iterator over the values pairs in the collection.\n     *\n     * @return {MapIterator}\n     */\n    values() {\n      return new MapIterator(this, KIND_VALUE);\n    }\n\n    /**\n     * 23.1.3.5\n     * Iterates over the key/value pairs in the collection calling `callback`\n     * with [value, key, map]. An optional `thisArg` can be passed to set the\n     * context when `callback` is called.\n     *\n     * @param {function} callback\n     * @param {?object} thisArg\n     */\n    forEach(callback, thisArg) {\n      if (typeof callback !== 'function') {\n        throw new TypeError('Callback must be callable.');\n      }\n\n      var boundCallback = callback.bind(thisArg || undefined);\n      var mapData = this._mapData;\n\n      // Note that `mapData.length` should be computed on each iteration to\n      // support iterating over new items in the map that were added after the\n      // start of the iteration.\n      for (var i = 0; i < mapData.length; i++) {\n        var entry = mapData[i];\n        if (entry != null) {\n          boundCallback(entry[1], entry[0], this);\n        }\n      }\n    }\n  }\n\n  // 23.1.3.12\n  Map.prototype[toIterator.ITERATOR_SYMBOL] = Map.prototype.entries;\n\n  class MapIterator {\n\n    /**\n     * 23.1.5.1\n     * Create a `MapIterator` for a given `map`. While this class is private it\n     * will create objects that will be passed around publicily.\n     *\n     * @param {map} map\n     * @param {string} kind\n     */\n    constructor(map, kind) {\n      if (!(isObject(map) && map._mapData)) {\n        throw new TypeError('Object is not a map.');\n      }\n\n      if ([KIND_KEY, KIND_KEY_VALUE, KIND_VALUE].indexOf(kind) === -1) {\n        throw new Error('Invalid iteration kind.');\n      }\n\n      this._map = map;\n      this._nextIndex = 0;\n      this._kind = kind;\n    }\n\n    /**\n     * 23.1.5.2.1\n     * Get the next iteration.\n     *\n     * @return {object}\n     */\n    next() {\n      if (!this instanceof Map) {\n        throw new TypeError('Expected to be called on a MapIterator.');\n      }\n\n      var map = this._map;\n      var index = this._nextIndex;\n      var kind = this._kind;\n\n      if (map == null) {\n        return createIterResultObject(undefined, true);\n      }\n\n      var entries = map._mapData;\n\n      while (index < entries.length) {\n        var record = entries[index];\n\n        index += 1;\n        this._nextIndex = index;\n\n        if (record) {\n          if (kind === KIND_KEY) {\n            return createIterResultObject(record[0], false);\n          } else if (kind === KIND_VALUE) {\n            return createIterResultObject(record[1], false);\n          } else if (kind) {\n            return createIterResultObject(record, false);\n          }\n        }\n      }\n\n      this._map = undefined;\n\n      return createIterResultObject(undefined, true);\n    }\n  }\n\n  // We can put this in the class definition once we have computed props\n  // transform.\n  // 23.1.5.2.2\n  MapIterator.prototype[toIterator.ITERATOR_SYMBOL] = function() {\n    return this;\n  };\n\n  /**\n   * Helper Functions.\n   */\n\n  /**\n   * Return an index to map.[[MapData]] array for a given Key.\n   *\n   * @param {map} map\n   * @param {*} key\n   * @return {?number}\n   */\n  function getIndex(map, key) {\n    if (isObject(key)) {\n      var hash = getHash(key);\n      return map._objectIndex[hash];\n    } else {\n      var prefixedKey = KEY_PREFIX + key;\n      if (typeof key === 'string') {\n        return map._stringIndex[prefixedKey];\n      } else {\n        return map._otherIndex[prefixedKey];\n      }\n    }\n  }\n\n  /**\n   * Setup an index that refer to the key's location in map.[[MapData]].\n   *\n   * @param {map} map\n   * @param {*} key\n   */\n  function setIndex(map, key, index) {\n    var shouldDelete = index == null;\n\n    if (isObject(key)) {\n      var hash = getHash(key);\n      if (shouldDelete) {\n        delete map._objectIndex[hash];\n      } else {\n        map._objectIndex[hash] = index;\n      }\n    } else {\n      var prefixedKey = KEY_PREFIX + key;\n      if (typeof key === 'string') {\n        if (shouldDelete) {\n          delete map._stringIndex[prefixedKey];\n        } else {\n          map._stringIndex[prefixedKey] = index;\n        }\n      } else {\n        if (shouldDelete) {\n          delete map._otherIndex[prefixedKey];\n        } else {\n          map._otherIndex[prefixedKey] = index;\n        }\n      }\n    }\n  }\n\n  /**\n   * Instantiate a map with internal slots.\n   *\n   * @param {map} map\n   */\n  function initMap(map) {\n    // Data structure design inspired by Traceur's Map implementation.\n    // We maintain an internal array for all the entries. The array is needed\n    // to remember order. However, to have a reasonable HashMap performance\n    // i.e. O(1) for insertion, deletion, and retrieval. We maintain indices\n    // in objects for fast look ups. Indices are split up according to data\n    // types to avoid collisions.\n    map._mapData = [];\n\n    // Object index maps from an object \"hash\" to index. The hash being a unique\n    // property of our choosing that we associate with the object. Association\n    // is done by ways of keeping a non-enumerable property on the object.\n    // Ideally these would be `Object.create(null)` objects but since we're\n    // trying to support ES3 we'll have to gaurd against collisions using\n    // prefixes on the keys rather than rely on null prototype objects.\n    map._objectIndex = {};\n\n    // String index maps from strings to index.\n    map._stringIndex = {};\n\n    // Numbers, booleans, undefined, and null.\n    map._otherIndex = {};\n\n    // Unfortunately we have to support ES3 and cannot have `Map.prototype.size`\n    // be a getter method but just a regular method. The biggest problem with\n    // this is safety. Clients can change the size property easily and possibly\n    // without noticing (e.g. `if (map.size = 1) {..}` kind of typo). What we\n    // can do to mitigate use getters and setters in development to disallow\n    // and issue a warning for changing the `size` property.\n    if (__DEV__) {\n      if (isES5) {\n        // If the `SECRET_SIZE_PROP` property is already defined then we're not\n        // in the first call to `initMap` (e.g. coming from `map.clear()`) so\n        // all we need to do is reset the size without defining the properties.\n        if (map.hasOwnProperty(SECRET_SIZE_PROP)) {\n          map[SECRET_SIZE_PROP] = 0;\n        } else {\n          Object.defineProperty(map, SECRET_SIZE_PROP, {\n            value: 0,\n            writable: true\n          });\n          Object.defineProperty(map, 'size', {\n            set: (v) => {\n              console.error(\n                'PLEASE FIX ME: You are changing the map size property which ' +\n                'should not be writable and will break in production.'\n              );\n              throw new Error('The map size property is not writable.');\n            },\n            get: () => map[SECRET_SIZE_PROP]\n          });\n        }\n\n        // NOTE: Early return to implement immutable `.size` in DEV.\n        return;\n      }\n    }\n\n    // This is a diviation from the spec. `size` should be a getter on\n    // `Map.prototype`. However, we have to support IE8.\n    map.size = 0;\n  }\n\n  /**\n   * Check if something is an object.\n   *\n   * @param {*} o\n   * @return {boolean}\n   */\n  function isObject(o) {\n    return o != null && (typeof o === 'object' || typeof o === 'function');\n  }\n\n  /**\n   * Create an iteration object.\n   *\n   * @param {*} value\n   * @param {boolean} done\n   * @return {object}\n   */\n  function createIterResultObject(value, done) {\n    return {value, done};\n  }\n\n  // Are we in a legit ES5 environment. Spoiler alert: that doesn't include IE8.\n  var isES5 = (function() {\n    try {\n      Object.defineProperty({}, 'x', {});\n      return true;\n    } catch (e) {\n      return false;\n    }\n  })();\n\n  /**\n   * Check if an object can be extended.\n   *\n   * @param {object|array|function|regexp} o\n   * @return {boolean}\n   */\n  function isExtensible(o) {\n    if (!isES5) {\n      return true;\n    } else {\n      return Object.isExtensible(o);\n    }\n  }\n\n  /**\n   * IE has a `uniqueID` set on every DOM node. So we construct the hash from\n   * this uniqueID to avoid memory leaks and the IE cloneNode bug where it\n   * clones properties in addition to the attributes.\n   *\n   * @param {object} node\n   * @return {?string}\n   */\n  function getIENodeHash(node) {\n    var uniqueID;\n    switch (node.nodeType) {\n      case 1: // Element\n        uniqueID = node.uniqueID;\n        break;\n      case 9: // Document\n        uniqueID = node.documentElement.uniqueID;\n        break;\n      default:\n        return null;\n    }\n\n    if (uniqueID) {\n      return  OLD_IE_HASH_PREFIX + uniqueID;\n    } else {\n      return null;\n    }\n  }\n\n  var getHash = (function() {\n    var propIsEnumerable = Object.prototype.propertyIsEnumerable;\n    var hashProperty = guid();\n    var hashCounter = 0;\n\n    /**\n     * Get the \"hash\" associated with an object.\n     *\n     * @param {object|array|function|regexp} o\n     * @return {number}\n     */\n    return function getHash(o) { // eslint-disable-line no-shadow\n      if (o[hashProperty]) {\n        return o[hashProperty];\n      } else if (!isES5 &&\n                  o.propertyIsEnumerable &&\n                  o.propertyIsEnumerable[hashProperty]) {\n        return o.propertyIsEnumerable[hashProperty];\n      } else if (!isES5 &&\n                  isNode(o) &&\n                  getIENodeHash(o)) {\n        return getIENodeHash(o);\n      } else if (!isES5 && o[hashProperty]) {\n        return o[hashProperty];\n      }\n\n      if (isExtensible(o)) {\n        hashCounter += 1;\n        if (isES5) {\n          Object.defineProperty(o, hashProperty, {\n            enumerable: false,\n            writable: false,\n            configurable: false,\n            value: hashCounter\n          });\n        } else if (o.propertyIsEnumerable) {\n          // Since we can't define a non-enumerable property on the object\n          // we'll hijack one of the less-used non-enumerable properties to\n          // save our hash on it. Addiotionally, since this is a function it\n          // will not show up in `JSON.stringify` which is what we want.\n          o.propertyIsEnumerable = function() {\n            return propIsEnumerable.apply(this, arguments);\n          };\n          o.propertyIsEnumerable[hashProperty] = hashCounter;\n        } else if (isNode(o)) {\n          // At this point we couldn't get the IE `uniqueID` to use as a hash\n          // and we couldn't use a non-enumerable property to exploit the\n          // dontEnum bug so we simply add the `hashProperty` on the node\n          // itself.\n          o[hashProperty] = hashCounter;\n        } else {\n          throw new Error('Unable to set a non-enumerable property on object.');\n        }\n        return hashCounter;\n      } else {\n        throw new Error('Non-extensible objects are not allowed as keys.');\n      }\n    };\n  })();\n\n  return Map;\n})(Function('return this')()); // eslint-disable-line no-new-func\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule _shouldPolyfillES6Collection\n * @preventMunge\n * @flow\n */\n'use strict';\n\n/**\n * Checks whether a collection name (e.g. \"Map\" or \"Set\") has a native polyfill\n * that is safe to be used.\n */\nfunction shouldPolyfillES6Collection(collectionName: string): boolean {\n  var Collection = global[collectionName];\n  if (Collection == null) {\n    return true;\n  }\n\n  // The iterator protocol depends on `Symbol.iterator`. If a collection is\n  // implemented, but `Symbol` is not, it's going to break iteration because\n  // we'll be using custom \"@@iterator\" instead, which is not implemented on\n  // native collections.\n  if (typeof global.Symbol !== 'function') {\n    return true;\n  }\n\n  var proto = Collection.prototype;\n\n  // These checks are adapted from es6-shim: https://fburl.com/34437854\n  // NOTE: `isCallableWithoutNew` and `!supportsSubclassing` are not checked\n  // because they make debugging with \"break on exceptions\" difficult.\n  return Collection == null ||\n    typeof Collection !== 'function' ||\n    typeof proto.clear !== 'function' ||\n    new Collection().size !== 0 ||\n    typeof proto.keys !== 'function' ||\n    typeof proto.forEach !== 'function';\n}\n\nmodule.exports = shouldPolyfillES6Collection;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule guid\n */\n\n/* eslint-disable no-bitwise */\n\n'use strict';\n\n/**\n * Module that provides a function for creating a unique identifier.\n * The returned value does not conform to the GUID standard, but should\n * be globally unique in the context of the browser.\n */\nfunction guid() {\n  return 'f' + (Math.random() * (1 << 30)).toString(16).replace('.', '');\n}\n\nmodule.exports = guid;\n","'use strict';\n\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @typechecks\n */\n\n/**\n * @param {*} object The object to check.\n * @return {boolean} Whether or not the object is a DOM node.\n */\nfunction isNode(object) {\n  var doc = object ? object.ownerDocument || object : document;\n  var defaultView = doc.defaultView || window;\n  return !!(object && (typeof defaultView.Node === 'function' ? object instanceof defaultView.Node : typeof object === 'object' && typeof object.nodeType === 'number' && typeof object.nodeName === 'string'));\n}\n\nmodule.exports = isNode;","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule toIterator\n */\n'use strict';\n\n/**\n * Given an object `toIterator` will return the itrator for that object. If the\n * object has a `Symbol.iterator` method we just call that. Otherwise we\n * implement the ES6 `Array` and `String` Iterator.\n */\n\n/**\n * Constants\n */\n\nvar KIND_KEY = 'key';\nvar KIND_VALUE = 'value';\nvar KIND_KEY_VAL = 'key+value';\n/*global Symbol: true*/\nvar ITERATOR_SYMBOL = (typeof Symbol === 'function')\n    ? Symbol.iterator\n    : '@@iterator';\n\nvar toIterator = (function() {\n  if (!(Array.prototype[ITERATOR_SYMBOL] &&\n        String.prototype[ITERATOR_SYMBOL])) {\n    // IIFE to avoid creating classes for no reason because of hoisting.\n    return (function() {\n      class ArrayIterator {\n        // 22.1.5.1 CreateArrayIterator Abstract Operation\n        constructor(array, kind) {\n          if (!Array.isArray(array)) {\n            throw new TypeError('Object is not an Array');\n          }\n          this._iteratedObject = array;\n          this._kind = kind;\n          this._nextIndex = 0;\n        }\n\n        // 22.1.5.2.1 %ArrayIteratorPrototype%.next()\n        next() {\n          if (!this instanceof ArrayIterator) {\n            throw new TypeError('Object is not an ArrayIterator');\n          }\n\n          if (this._iteratedObject == null) {\n            return createIterResultObject(undefined, true);\n          }\n\n          var array = this._iteratedObject;\n          var len = this._iteratedObject.length;\n          var index = this._nextIndex;\n          var kind = this._kind;\n\n          if (index >= len) {\n            this._iteratedObject = undefined;\n            return createIterResultObject(undefined, true);\n          }\n\n          this._nextIndex = index + 1;\n\n          if (kind === KIND_KEY) {\n            return createIterResultObject(index, false);\n          } else if (kind === KIND_VALUE) {\n            return createIterResultObject(array[index], false);\n          } else if (kind === KIND_KEY_VAL) {\n            return createIterResultObject([index, array[index]], false);\n          }\n        }\n\n        // 22.1.5.2.2 %ArrayIteratorPrototype%[@@iterator]()\n        '@@iterator'() {\n          return this;\n        }\n      }\n\n      class StringIterator {\n        // 21.1.5.1 CreateStringIterator Abstract Operation\n        constructor(string) {\n          if (typeof string !== 'string') {\n            throw new TypeError('Object is not a string');\n          }\n          this._iteratedString = string;\n          this._nextIndex = 0;\n        }\n\n        // 21.1.5.2.1 %StringIteratorPrototype%.next()\n        next() {\n          if (!this instanceof StringIterator) {\n            throw new TypeError('Object is not a StringIterator');\n          }\n\n          if (this._iteratedString == null) {\n            return createIterResultObject(undefined, true);\n          }\n\n          var index = this._nextIndex;\n          var s = this._iteratedString;\n          var len = s.length;\n\n          if (index >= len) {\n            this._iteratedString = undefined;\n            return createIterResultObject(undefined, true);\n          }\n\n          var ret;\n          var first = s.charCodeAt(index);\n\n          if (first < 0xD800 || first > 0xDBFF || index + 1 === len) {\n            ret = s[index];\n          } else {\n            var second = s.charCodeAt(index + 1);\n            if (second < 0xDC00 || second > 0xDFFF) {\n              ret = s[index];\n            } else {\n              ret = s[index] + s[index + 1];\n            }\n          }\n\n          this._nextIndex = index + ret.length;\n\n          return createIterResultObject(ret, false);\n        }\n\n        // 21.1.5.2.2 %StringIteratorPrototype%[@@ITERATOR_SYMBOL]()\n        '@@iterator'() {\n          return this;\n        }\n      }\n\n      // 7.4.7 createIterResultObject(value, done)\n      function createIterResultObject(value, done) {\n        return {value: value, done: done};\n      }\n\n      return function(object, kind) {\n        if (typeof object === 'string') {\n          return new StringIterator(object);\n        } else if (Array.isArray(object)) {\n          return new ArrayIterator(object, kind || KIND_VALUE);\n        } else {\n          return object[ITERATOR_SYMBOL]();\n        }\n      };\n    })();\n  } else {\n    return function(object) {\n      return object[ITERATOR_SYMBOL]();\n    };\n  }\n})();\n\n/**\n * Export constants\n */\n\nObject.assign(toIterator, {\n  KIND_KEY,\n  KIND_VALUE,\n  KIND_KEY_VAL,\n  ITERATOR_SYMBOL\n});\n\nmodule.exports = toIterator;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule Set\n * @preventMunge\n * @typechecks\n */\n\n/* eslint-disable no-extend-native */\n\n'use strict';\n\nvar Map = require('Map');\n\nvar _shouldPolyfillES6Collection = require('_shouldPolyfillES6Collection');\nvar toIterator = require('toIterator');\n\nmodule.exports = (function(global) {\n  // Since our implementation is spec-compliant for the most part we can safely\n  // delegate to a built-in version if exists and is implemented correctly.\n  // Firefox had gotten a few implementation details wrong across different\n  // versions so we guard against that.\n  // These checks are adapted from es6-shim https://fburl.com/34437854\n  if (!_shouldPolyfillES6Collection('Set')) {\n    return global.Set;\n  }\n\n  /**\n   * == ES6 Set Collection ==\n   *\n   * This module is meant to implement a Set collection as described in chapter\n   * 23.2 of the ES6 specification.\n   *\n   * Set objects are collections of unique values. Where values can be any\n   * JavaScript value.\n   * https://people.mozilla.org/~jorendorff/es6-draft.html#sec-map-objects\n   *\n   * There only two -- rather small -- diviations from the spec:\n   *\n   * 1. The use of frozen objects as keys. @see Map module for more on this.\n   *\n   * 2. The `size` property on a map object is a regular property and not a\n   *    computed property on the prototype as described by the spec.\n   *    The reason being is that we simply want to support ES3 environments\n   *    which doesn't implement computed properties.\n   *\n   * == Usage ==\n   *\n   * var set = new set(iterable);\n   *\n   * set.set(value);\n   * set.has(value); // true\n   * set.delete(value); // true\n   *\n   * var iterator = set.keys();\n   * iterator.next(); // {value: value, done: false}\n   *\n   * var iterator = set.values();\n   * iterator.next(); // {value: value, done: false}\n   *\n   * var iterator = set.entries();\n   * iterator.next(); // {value: [value, value], done: false}\n   *\n   * set.forEach(function(value, value){ this === thisArg }, thisArg);\n   *\n   * set.clear(); // resets set.\n   */\n\n  class Set {\n\n    /**\n     * 23.2.1.1\n     *\n     * Takes an optional `iterable` (which is basically any object that\n     * implements a Symbol.iterator (@@iterator) method). That is a collection\n     * of values used to instantiate the set.\n     *\n     * @param {*} iterable\n     */\n    constructor(iterable) {\n      if (this == null ||\n          (typeof this !== 'object' && typeof this !== 'function')) {\n        throw new TypeError('Wrong set object type.');\n      }\n\n      initSet(this);\n\n      if (iterable != null) {\n        var it = toIterator(iterable);\n        var next;\n        while (!(next = it.next()).done) {\n          this.add(next.value);\n        }\n      }\n    }\n\n    /**\n     * 23.2.3.1\n     *\n     * If it doesn't already exist in the collection a `value` is added.\n     *\n     * @param {*} value\n     * @return {set}\n     */\n    add(value) {\n      this._map.set(value, value);\n      this.size = this._map.size;\n      return this;\n    }\n\n    /**\n     * 23.2.3.2\n     *\n     * Clears the set.\n     */\n    clear() {\n      initSet(this);\n    }\n\n    /**\n     * 23.2.3.4\n     *\n     * Deletes a `value` from the collection if it exists.\n     * Returns true if the value was found and deleted and false otherwise.\n     *\n     * @param {*} value\n     * @return {boolean}\n     */\n    delete(value) {\n      var ret = this._map.delete(value);\n      this.size = this._map.size;\n      return ret;\n    }\n\n    /**\n     * 23.2.3.5\n     *\n     * Returns an iterator over a collection of [value, value] tuples.\n     */\n    entries() {\n      return this._map.entries();\n    }\n\n    /**\n     * 23.2.3.6\n     *\n     * Iterate over the collection calling `callback` with (value, value, set).\n     *\n     * @param {function} callback\n     */\n    forEach(callback) {\n      var thisArg = arguments[1];\n      var it = this._map.keys();\n      var next;\n      while (!(next = it.next()).done) {\n        callback.call(thisArg, next.value, next.value, this);\n      }\n    }\n\n    /**\n     * 23.2.3.7\n     *\n     * Iterate over the collection calling `callback` with (value, value, set).\n     *\n     * @param {*} value\n     * @return {boolean}\n     */\n    has(value) {\n      return this._map.has(value);\n    }\n\n    /**\n     * 23.2.3.7\n     *\n     * Returns an iterator over the colleciton of values.\n     */\n    values() {\n      return this._map.values();\n    }\n  }\n\n  // 23.2.3.11\n  Set.prototype[toIterator.ITERATOR_SYMBOL] = Set.prototype.values;\n\n  // 23.2.3.7\n  Set.prototype.keys = Set.prototype.values;\n\n  function initSet(set) {\n    set._map = new Map();\n    set.size = set._map.size;\n  }\n\n  return Set;\n})(Function('return this')()); // eslint-disable-line no-new-func\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule setupDevtools\n * @flow\n */\n'use strict';\n\nif (__DEV__) {\n  const AppState = require('AppState');\n  const {PlatformConstants} = require('NativeModules');\n  const {connectToDevTools} = require('react-devtools-core');\n\n  connectToDevTools({\n    isAppActive() {\n      // Don't steal the DevTools from currently active app.\n      // Note: if you add any AppState subscriptions to this file,\n      // you will also need to guard against `AppState.isAvailable`,\n      // or the code will throw for bundles that don't have it.\n      return AppState.currentState !== 'background';\n    },\n    // Special case: Genymotion is running on a different host.\n    host: PlatformConstants && PlatformConstants.ServerHost ?\n      PlatformConstants.ServerHost.split(':')[0] :\n      'localhost',\n    // Read the optional global variable for backward compatibility.\n    // It was added in https://github.com/facebook/react-native/commit/bf2b435322e89d0aeee8792b1c6e04656c2719a0.\n    port: window.__REACT_DEVTOOLS_PORT__,\n    resolveRNStyle: require('flattenStyle'),\n  });\n}\n","!function(root, factory) {\n    \"object\" == typeof exports && \"object\" == typeof module ? module.exports = factory() : \"function\" == typeof define && define.amd ? define([], factory) : \"object\" == typeof exports ? exports.ReactDevToolsBackend = factory() : root.ReactDevToolsBackend = factory();\n}(this, function() {\n    return function(modules) {\n        function __webpack_require__(moduleId) {\n            if (installedModules[moduleId]) return installedModules[moduleId].exports;\n            var module = installedModules[moduleId] = {\n                exports: {},\n                id: moduleId,\n                loaded: !1\n            };\n            return modules[moduleId].call(module.exports, module, module.exports, __webpack_require__), \n            module.loaded = !0, module.exports;\n        }\n        var installedModules = {};\n        return __webpack_require__.m = modules, __webpack_require__.c = installedModules, \n        __webpack_require__.p = \"\", __webpack_require__(0);\n    }([ function(module, exports, __webpack_require__) {\n        \"use strict\";\n        function connectToDevTools(options) {\n            function scheduleRetry() {\n                setTimeout(function() {\n                    return connectToDevTools(options);\n                }, 2e3);\n            }\n            function handleClose() {\n                hasClosed || (hasClosed = !0, scheduleRetry(), closeListeners.forEach(function(fn) {\n                    return fn();\n                }));\n            }\n            function handleMessage(evt) {\n                var data;\n                if (0 !== evt.data.indexOf(\"eval:\")) {\n                    try {\n                        data = JSON.parse(evt.data);\n                    } catch (e) {\n                        return void console.error(\"failed to parse json: \" + evt.data);\n                    }\n                    messageListeners.forEach(function(fn) {\n                        try {\n                            fn(data);\n                        } catch (e) {\n                            throw console.log(data), e;\n                        }\n                    });\n                }\n            }\n            var _ref = options || {}, _ref$host = _ref.host, host = void 0 === _ref$host ? \"localhost\" : _ref$host, _ref$port = _ref.port, port = void 0 === _ref$port ? 8097 : _ref$port, _ref$resolveRNStyle = _ref.resolveRNStyle, resolveRNStyle = void 0 === _ref$resolveRNStyle ? null : _ref$resolveRNStyle, _ref$isAppActive = _ref.isAppActive, isAppActive = void 0 === _ref$isAppActive ? function() {\n                return !0;\n            } : _ref$isAppActive;\n            if (!isAppActive()) return void scheduleRetry();\n            var messageListeners = [], closeListeners = [], uri = \"ws://\" + host + \":\" + port, ws = new window.WebSocket(uri);\n            ws.onclose = handleClose, ws.onerror = handleClose, ws.onmessage = handleMessage, \n            ws.onopen = function() {\n                var wall = {\n                    listen: function(fn) {\n                        messageListeners.push(fn);\n                    },\n                    onClose: function(fn) {\n                        closeListeners.push(fn);\n                    },\n                    send: function(data) {\n                        ws.send(JSON.stringify(data));\n                    }\n                };\n                setupBackend(wall, resolveRNStyle);\n            };\n            var hasClosed = !1;\n        }\n        function setupBackend(wall, resolveRNStyle) {\n            wall.onClose(function() {\n                agent && agent.emit(\"shutdown\"), window.__REACT_DEVTOOLS_GLOBAL_HOOK__.emit(\"shutdown\"), \n                bridge = null, agent = null, console.log(\"closing devtools\");\n            });\n            var bridge = new Bridge(wall), agent = new Agent(window, {\n                rnStyle: !!resolveRNStyle,\n                rnStyleMeasure: !!resolveRNStyle\n            });\n            agent.addBridge(bridge), resolveRNStyle && setupRNStyle(bridge, agent, resolveRNStyle), \n            setupRelay(bridge, agent, window.__REACT_DEVTOOLS_GLOBAL_HOOK__);\n            var _connectTimeout = setTimeout(function() {\n                console.warn(\"react-devtools agent got no connection\");\n            }, 2e4);\n            agent.once(\"connected\", function() {\n                agent && (inject(window.__REACT_DEVTOOLS_GLOBAL_HOOK__, agent), clearTimeout(_connectTimeout));\n            });\n        }\n        var Agent = __webpack_require__(1), Bridge = __webpack_require__(6), installGlobalHook = __webpack_require__(31), installRelayHook = __webpack_require__(32), inject = __webpack_require__(33), setupRNStyle = __webpack_require__(43), setupRelay = __webpack_require__(45);\n        installGlobalHook(window), installRelayHook(window), window.document && window.__REACT_DEVTOOLS_GLOBAL_HOOK__.on(\"react-devtools\", function(agent) {\n            var setupHighlighter = __webpack_require__(46);\n            setupHighlighter(agent);\n        }), module.exports = {\n            connectToDevTools: connectToDevTools\n        };\n    }, function(module, exports, __webpack_require__) {\n        \"use strict\";\n        function _classCallCheck(instance, Constructor) {\n            if (!(instance instanceof Constructor)) throw new TypeError(\"Cannot call a class as a function\");\n        }\n        function _possibleConstructorReturn(self, call) {\n            if (!self) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n            return !call || \"object\" != typeof call && \"function\" != typeof call ? self : call;\n        }\n        function _inherits(subClass, superClass) {\n            if (\"function\" != typeof superClass && null !== superClass) throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n            subClass.prototype = Object.create(superClass && superClass.prototype, {\n                constructor: {\n                    value: subClass,\n                    enumerable: !1,\n                    writable: !0,\n                    configurable: !0\n                }\n            }), superClass && (Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass);\n        }\n        var _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function(obj) {\n            return typeof obj;\n        } : function(obj) {\n            return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n        }, _createClass = function() {\n            function defineProperties(target, props) {\n                for (var i = 0; i < props.length; i++) {\n                    var descriptor = props[i];\n                    descriptor.enumerable = descriptor.enumerable || !1, descriptor.configurable = !0, \n                    \"value\" in descriptor && (descriptor.writable = !0), Object.defineProperty(target, descriptor.key, descriptor);\n                }\n            }\n            return function(Constructor, protoProps, staticProps) {\n                return protoProps && defineProperties(Constructor.prototype, protoProps), staticProps && defineProperties(Constructor, staticProps), \n                Constructor;\n            };\n        }(), _require = __webpack_require__(2), EventEmitter = _require.EventEmitter, assign = __webpack_require__(3), guid = __webpack_require__(4), getIn = __webpack_require__(5), Agent = function(_EventEmitter) {\n            function Agent(global, capabilities) {\n                _classCallCheck(this, Agent);\n                var _this = _possibleConstructorReturn(this, (Agent.__proto__ || Object.getPrototypeOf(Agent)).call(this));\n                _this.global = global, _this.internalInstancesById = new Map(), _this.idsByInternalInstances = new WeakMap(), \n                _this.renderers = new Map(), _this.elementData = new Map(), _this.roots = new Set(), \n                _this.reactInternals = {};\n                var lastSelected;\n                _this.on(\"selected\", function(id) {\n                    var data = _this.elementData.get(id);\n                    data && data.publicInstance && _this.global.$r === lastSelected && (_this.global.$r = data.publicInstance, \n                    lastSelected = data.publicInstance);\n                }), _this._prevSelected = null, _this._scrollUpdate = !1;\n                var isReactDOM = window.document && \"function\" == typeof window.document.createElement;\n                return _this.capabilities = assign({\n                    scroll: isReactDOM && \"function\" == typeof window.document.body.scrollIntoView,\n                    dom: isReactDOM,\n                    editTextContent: !1\n                }, capabilities), isReactDOM && (_this._updateScroll = _this._updateScroll.bind(_this), \n                window.addEventListener(\"scroll\", _this._onScroll.bind(_this), !0)), _this;\n            }\n            return _inherits(Agent, _EventEmitter), _createClass(Agent, [ {\n                key: \"sub\",\n                value: function(ev, fn) {\n                    var _this2 = this;\n                    return this.on(ev, fn), function() {\n                        _this2.removeListener(ev, fn);\n                    };\n                }\n            }, {\n                key: \"setReactInternals\",\n                value: function(renderer, reactInternals) {\n                    this.reactInternals[renderer] = reactInternals;\n                }\n            }, {\n                key: \"addBridge\",\n                value: function(bridge) {\n                    var _this3 = this;\n                    bridge.on(\"requestCapabilities\", function() {\n                        bridge.send(\"capabilities\", _this3.capabilities), _this3.emit(\"connected\");\n                    }), bridge.on(\"setState\", this._setState.bind(this)), bridge.on(\"setProps\", this._setProps.bind(this)), \n                    bridge.on(\"setContext\", this._setContext.bind(this)), bridge.on(\"makeGlobal\", this._makeGlobal.bind(this)), \n                    bridge.on(\"highlight\", function(id) {\n                        return _this3.highlight(id);\n                    }), bridge.on(\"highlightMany\", function(id) {\n                        return _this3.highlightMany(id);\n                    }), bridge.on(\"hideHighlight\", function() {\n                        return _this3.emit(\"hideHighlight\");\n                    }), bridge.on(\"startInspecting\", function() {\n                        return _this3.emit(\"startInspecting\");\n                    }), bridge.on(\"stopInspecting\", function() {\n                        return _this3.emit(\"stopInspecting\");\n                    }), bridge.on(\"selected\", function(id) {\n                        return _this3.emit(\"selected\", id);\n                    }), bridge.on(\"shutdown\", function() {\n                        return _this3.emit(\"shutdown\");\n                    }), bridge.on(\"changeTextContent\", function(_ref) {\n                        var id = _ref.id, text = _ref.text, node = _this3.getNodeForID(id);\n                        node && (node.textContent = text);\n                    }), bridge.on(\"putSelectedNode\", function(id) {\n                        window.__REACT_DEVTOOLS_GLOBAL_HOOK__.$node = _this3.getNodeForID(id);\n                    }), bridge.on(\"putSelectedInstance\", function(id) {\n                        var node = _this3.elementData.get(id);\n                        node ? window.__REACT_DEVTOOLS_GLOBAL_HOOK__.$type = node.type : window.__REACT_DEVTOOLS_GLOBAL_HOOK__.$type = null, \n                        node && node.publicInstance ? window.__REACT_DEVTOOLS_GLOBAL_HOOK__.$inst = node.publicInstance : window.__REACT_DEVTOOLS_GLOBAL_HOOK__.$inst = null;\n                    }), bridge.on(\"checkSelection\", function() {\n                        var newSelected = window.__REACT_DEVTOOLS_GLOBAL_HOOK__.$0;\n                        if (newSelected !== _this3._prevSelected) {\n                            _this3._prevSelected = newSelected;\n                            var sentSelected = window.__REACT_DEVTOOLS_GLOBAL_HOOK__.$node;\n                            newSelected !== sentSelected && _this3.selectFromDOMNode(newSelected, !0);\n                        }\n                    }), bridge.on(\"scrollToNode\", function(id) {\n                        return _this3.scrollToNode(id);\n                    }), bridge.on(\"traceupdatesstatechange\", function(value) {\n                        return _this3.emit(\"traceupdatesstatechange\", value);\n                    }), bridge.on(\"colorizerchange\", function(value) {\n                        return _this3.emit(\"colorizerchange\", value);\n                    }), this.on(\"root\", function(id) {\n                        return bridge.send(\"root\", id);\n                    }), this.on(\"mount\", function(data) {\n                        return bridge.send(\"mount\", data);\n                    }), this.on(\"update\", function(data) {\n                        return bridge.send(\"update\", data);\n                    }), this.on(\"unmount\", function(id) {\n                        bridge.send(\"unmount\", id), bridge.forget(id);\n                    }), this.on(\"setSelection\", function(data) {\n                        return bridge.send(\"select\", data);\n                    });\n                }\n            }, {\n                key: \"scrollToNode\",\n                value: function(id) {\n                    var node = this.getNodeForID(id);\n                    if (!node) return void console.warn(\"unable to get the node for scrolling\");\n                    var domElement = node.nodeType === Node.ELEMENT_NODE ? node : node.parentElement;\n                    return domElement ? (\"function\" == typeof domElement.scrollIntoViewIfNeeded ? domElement.scrollIntoViewIfNeeded() : \"function\" == typeof domElement.scrollIntoView && domElement.scrollIntoView(), \n                    void this.highlight(id)) : void console.warn(\"unable to get the domElement for scrolling\");\n                }\n            }, {\n                key: \"highlight\",\n                value: function(id) {\n                    var data = this.elementData.get(id), node = this.getNodeForID(id);\n                    data && node && this.emit(\"highlight\", {\n                        node: node,\n                        name: data.name,\n                        props: data.props\n                    });\n                }\n            }, {\n                key: \"highlightMany\",\n                value: function(ids) {\n                    var _this4 = this, nodes = [];\n                    ids.forEach(function(id) {\n                        var node = _this4.getNodeForID(id);\n                        node && nodes.push(node);\n                    }), nodes.length && this.emit(\"highlightMany\", nodes);\n                }\n            }, {\n                key: \"getNodeForID\",\n                value: function(id) {\n                    var component = this.internalInstancesById.get(id);\n                    if (!component) return null;\n                    var renderer = this.renderers.get(id);\n                    return renderer && this.reactInternals[renderer].getNativeFromReactElement ? this.reactInternals[renderer].getNativeFromReactElement(component) : null;\n                }\n            }, {\n                key: \"selectFromDOMNode\",\n                value: function(node, quiet) {\n                    var id = this.getIDForNode(node);\n                    id && this.emit(\"setSelection\", {\n                        id: id,\n                        quiet: quiet\n                    });\n                }\n            }, {\n                key: \"selectFromReactInstance\",\n                value: function(instance, quiet) {\n                    var id = this.getId(instance);\n                    return id ? void this.emit(\"setSelection\", {\n                        id: id,\n                        quiet: quiet\n                    }) : void console.log(\"no instance id\", instance);\n                }\n            }, {\n                key: \"getIDForNode\",\n                value: function(node) {\n                    if (!this.reactInternals) return null;\n                    var component;\n                    for (var renderer in this.reactInternals) {\n                        try {\n                            component = this.reactInternals[renderer].getReactElementFromNative(node);\n                        } catch (e) {}\n                        if (component) return this.getId(component);\n                    }\n                    return null;\n                }\n            }, {\n                key: \"_setProps\",\n                value: function(_ref2) {\n                    var id = _ref2.id, path = _ref2.path, value = _ref2.value, data = this.elementData.get(id);\n                    data && data.updater && data.updater.setInProps ? data.updater.setInProps(path, value) : console.warn(\"trying to set props on a component that doesn't support it\");\n                }\n            }, {\n                key: \"_setState\",\n                value: function(_ref3) {\n                    var id = _ref3.id, path = _ref3.path, value = _ref3.value, data = this.elementData.get(id);\n                    data && data.updater && data.updater.setInState ? data.updater.setInState(path, value) : console.warn(\"trying to set state on a component that doesn't support it\");\n                }\n            }, {\n                key: \"_setContext\",\n                value: function(_ref4) {\n                    var id = _ref4.id, path = _ref4.path, value = _ref4.value, data = this.elementData.get(id);\n                    data && data.updater && data.updater.setInContext ? data.updater.setInContext(path, value) : console.warn(\"trying to set state on a component that doesn't support it\");\n                }\n            }, {\n                key: \"_makeGlobal\",\n                value: function(_ref5) {\n                    var id = _ref5.id, path = _ref5.path, data = this.elementData.get(id);\n                    if (data) {\n                        var value;\n                        value = \"instance\" === path ? data.publicInstance : getIn(data, path), this.global.$tmp = value, \n                        console.log(\"$tmp =\", value);\n                    }\n                }\n            }, {\n                key: \"getId\",\n                value: function(internalInstance) {\n                    return \"object\" === (\"undefined\" == typeof internalInstance ? \"undefined\" : _typeof(internalInstance)) && internalInstance ? (this.idsByInternalInstances.has(internalInstance) || (this.idsByInternalInstances.set(internalInstance, guid()), \n                    this.internalInstancesById.set(this.idsByInternalInstances.get(internalInstance), internalInstance)), \n                    this.idsByInternalInstances.get(internalInstance)) : internalInstance;\n                }\n            }, {\n                key: \"addRoot\",\n                value: function(renderer, internalInstance) {\n                    var id = this.getId(internalInstance);\n                    this.roots.add(id), this.emit(\"root\", id);\n                }\n            }, {\n                key: \"onMounted\",\n                value: function(renderer, component, data) {\n                    var _this5 = this, id = this.getId(component);\n                    this.renderers.set(id, renderer), this.elementData.set(id, data);\n                    var send = assign({}, data);\n                    send.children && send.children.map && (send.children = send.children.map(function(c) {\n                        return _this5.getId(c);\n                    })), send.id = id, send.canUpdate = send.updater && !!send.updater.forceUpdate, \n                    delete send.type, delete send.updater, this.emit(\"mount\", send);\n                }\n            }, {\n                key: \"onUpdated\",\n                value: function(component, data) {\n                    var _this6 = this, id = this.getId(component);\n                    this.elementData.set(id, data);\n                    var send = assign({}, data);\n                    send.children && send.children.map && (send.children = send.children.map(function(c) {\n                        return _this6.getId(c);\n                    })), send.id = id, send.canUpdate = send.updater && !!send.updater.forceUpdate, \n                    delete send.type, delete send.updater, this.emit(\"update\", send);\n                }\n            }, {\n                key: \"onUnmounted\",\n                value: function(component) {\n                    var id = this.getId(component);\n                    this.elementData[\"delete\"](id), this.roots[\"delete\"](id), this.renderers[\"delete\"](id), \n                    this.emit(\"unmount\", id), this.idsByInternalInstances[\"delete\"](component);\n                }\n            }, {\n                key: \"_onScroll\",\n                value: function() {\n                    this._scrollUpdate || (this._scrollUpdate = !0, window.requestAnimationFrame(this._updateScroll));\n                }\n            }, {\n                key: \"_updateScroll\",\n                value: function() {\n                    this.emit(\"refreshMultiOverlay\"), this._scrollUpdate = !1;\n                }\n            } ]), Agent;\n        }(EventEmitter);\n        module.exports = Agent;\n    }, function(module, exports) {\n        function EventEmitter() {\n            this._events = this._events || {}, this._maxListeners = this._maxListeners || void 0;\n        }\n        function isFunction(arg) {\n            return \"function\" == typeof arg;\n        }\n        function isNumber(arg) {\n            return \"number\" == typeof arg;\n        }\n        function isObject(arg) {\n            return \"object\" == typeof arg && null !== arg;\n        }\n        function isUndefined(arg) {\n            return void 0 === arg;\n        }\n        module.exports = EventEmitter, EventEmitter.EventEmitter = EventEmitter, EventEmitter.prototype._events = void 0, \n        EventEmitter.prototype._maxListeners = void 0, EventEmitter.defaultMaxListeners = 10, \n        EventEmitter.prototype.setMaxListeners = function(n) {\n            if (!isNumber(n) || n < 0 || isNaN(n)) throw TypeError(\"n must be a positive number\");\n            return this._maxListeners = n, this;\n        }, EventEmitter.prototype.emit = function(type) {\n            var er, handler, len, args, i, listeners;\n            if (this._events || (this._events = {}), \"error\" === type && (!this._events.error || isObject(this._events.error) && !this._events.error.length)) {\n                if (er = arguments[1], er instanceof Error) throw er;\n                var err = new Error('Uncaught, unspecified \"error\" event. (' + er + \")\");\n                throw err.context = er, err;\n            }\n            if (handler = this._events[type], isUndefined(handler)) return !1;\n            if (isFunction(handler)) switch (arguments.length) {\n              case 1:\n                handler.call(this);\n                break;\n\n              case 2:\n                handler.call(this, arguments[1]);\n                break;\n\n              case 3:\n                handler.call(this, arguments[1], arguments[2]);\n                break;\n\n              default:\n                args = Array.prototype.slice.call(arguments, 1), handler.apply(this, args);\n            } else if (isObject(handler)) for (args = Array.prototype.slice.call(arguments, 1), \n            listeners = handler.slice(), len = listeners.length, i = 0; i < len; i++) listeners[i].apply(this, args);\n            return !0;\n        }, EventEmitter.prototype.addListener = function(type, listener) {\n            var m;\n            if (!isFunction(listener)) throw TypeError(\"listener must be a function\");\n            return this._events || (this._events = {}), this._events.newListener && this.emit(\"newListener\", type, isFunction(listener.listener) ? listener.listener : listener), \n            this._events[type] ? isObject(this._events[type]) ? this._events[type].push(listener) : this._events[type] = [ this._events[type], listener ] : this._events[type] = listener, \n            isObject(this._events[type]) && !this._events[type].warned && (m = isUndefined(this._maxListeners) ? EventEmitter.defaultMaxListeners : this._maxListeners, \n            m && m > 0 && this._events[type].length > m && (this._events[type].warned = !0, \n            console.error(\"(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.\", this._events[type].length), \n            \"function\" == typeof console.trace && console.trace())), this;\n        }, EventEmitter.prototype.on = EventEmitter.prototype.addListener, EventEmitter.prototype.once = function(type, listener) {\n            function g() {\n                this.removeListener(type, g), fired || (fired = !0, listener.apply(this, arguments));\n            }\n            if (!isFunction(listener)) throw TypeError(\"listener must be a function\");\n            var fired = !1;\n            return g.listener = listener, this.on(type, g), this;\n        }, EventEmitter.prototype.removeListener = function(type, listener) {\n            var list, position, length, i;\n            if (!isFunction(listener)) throw TypeError(\"listener must be a function\");\n            if (!this._events || !this._events[type]) return this;\n            if (list = this._events[type], length = list.length, position = -1, list === listener || isFunction(list.listener) && list.listener === listener) delete this._events[type], \n            this._events.removeListener && this.emit(\"removeListener\", type, listener); else if (isObject(list)) {\n                for (i = length; i-- > 0; ) if (list[i] === listener || list[i].listener && list[i].listener === listener) {\n                    position = i;\n                    break;\n                }\n                if (position < 0) return this;\n                1 === list.length ? (list.length = 0, delete this._events[type]) : list.splice(position, 1), \n                this._events.removeListener && this.emit(\"removeListener\", type, listener);\n            }\n            return this;\n        }, EventEmitter.prototype.removeAllListeners = function(type) {\n            var key, listeners;\n            if (!this._events) return this;\n            if (!this._events.removeListener) return 0 === arguments.length ? this._events = {} : this._events[type] && delete this._events[type], \n            this;\n            if (0 === arguments.length) {\n                for (key in this._events) \"removeListener\" !== key && this.removeAllListeners(key);\n                return this.removeAllListeners(\"removeListener\"), this._events = {}, this;\n            }\n            if (listeners = this._events[type], isFunction(listeners)) this.removeListener(type, listeners); else if (listeners) for (;listeners.length; ) this.removeListener(type, listeners[listeners.length - 1]);\n            return delete this._events[type], this;\n        }, EventEmitter.prototype.listeners = function(type) {\n            var ret;\n            return ret = this._events && this._events[type] ? isFunction(this._events[type]) ? [ this._events[type] ] : this._events[type].slice() : [];\n        }, EventEmitter.prototype.listenerCount = function(type) {\n            if (this._events) {\n                var evlistener = this._events[type];\n                if (isFunction(evlistener)) return 1;\n                if (evlistener) return evlistener.length;\n            }\n            return 0;\n        }, EventEmitter.listenerCount = function(emitter, type) {\n            return emitter.listenerCount(type);\n        };\n    }, function(module, exports) {\n        \"use strict\";\n        function toObject(val) {\n            if (null === val || void 0 === val) throw new TypeError(\"Object.assign cannot be called with null or undefined\");\n            return Object(val);\n        }\n        var hasOwnProperty = Object.prototype.hasOwnProperty, propIsEnumerable = Object.prototype.propertyIsEnumerable;\n        module.exports = Object.assign || function(target, source) {\n            for (var from, symbols, to = toObject(target), s = 1; s < arguments.length; s++) {\n                from = Object(arguments[s]);\n                for (var key in from) hasOwnProperty.call(from, key) && (to[key] = from[key]);\n                if (Object.getOwnPropertySymbols) {\n                    symbols = Object.getOwnPropertySymbols(from);\n                    for (var i = 0; i < symbols.length; i++) propIsEnumerable.call(from, symbols[i]) && (to[symbols[i]] = from[symbols[i]]);\n                }\n            }\n            return to;\n        };\n    }, function(module, exports) {\n        \"use strict\";\n        function guid() {\n            return \"g\" + Math.random().toString(16).substr(2);\n        }\n        module.exports = guid;\n    }, function(module, exports) {\n        \"use strict\";\n        function _toConsumableArray(arr) {\n            if (Array.isArray(arr)) {\n                for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];\n                return arr2;\n            }\n            return Array.from(arr);\n        }\n        function getIn(base, path) {\n            return path.reduce(function(obj, attr) {\n                if (obj) {\n                    if (obj.hasOwnProperty(attr)) return obj[attr];\n                    if (\"function\" == typeof obj[Symbol.iterator]) return [].concat(_toConsumableArray(obj))[attr];\n                }\n                return null;\n            }, base);\n        }\n        module.exports = getIn;\n    }, function(module, exports, __webpack_require__) {\n        \"use strict\";\n        function _toConsumableArray(arr) {\n            if (Array.isArray(arr)) {\n                for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];\n                return arr2;\n            }\n            return Array.from(arr);\n        }\n        function _classCallCheck(instance, Constructor) {\n            if (!(instance instanceof Constructor)) throw new TypeError(\"Cannot call a class as a function\");\n        }\n        var _extends = Object.assign || function(target) {\n            for (var i = 1; i < arguments.length; i++) {\n                var source = arguments[i];\n                for (var key in source) Object.prototype.hasOwnProperty.call(source, key) && (target[key] = source[key]);\n            }\n            return target;\n        }, _createClass = function() {\n            function defineProperties(target, props) {\n                for (var i = 0; i < props.length; i++) {\n                    var descriptor = props[i];\n                    descriptor.enumerable = descriptor.enumerable || !1, descriptor.configurable = !0, \n                    \"value\" in descriptor && (descriptor.writable = !0), Object.defineProperty(target, descriptor.key, descriptor);\n                }\n            }\n            return function(Constructor, protoProps, staticProps) {\n                return protoProps && defineProperties(Constructor.prototype, protoProps), staticProps && defineProperties(Constructor, staticProps), \n                Constructor;\n            };\n        }(), consts = __webpack_require__(7), hydrate = __webpack_require__(26), dehydrate = __webpack_require__(27), getIn = __webpack_require__(5), performanceNow = __webpack_require__(28), lastRunTimeMS = 5, cancelIdleCallback = window.cancelIdleCallback || clearTimeout, requestIdleCallback = window.requestIdleCallback || function(cb, options) {\n            var delayMS = 3e3 * lastRunTimeMS;\n            return delayMS > 500 && (delayMS = 500), setTimeout(function() {\n                var startTime = performanceNow();\n                cb({\n                    didTimeout: !1,\n                    timeRemaining: function() {\n                        return 1 / 0;\n                    }\n                });\n                var endTime = performanceNow();\n                lastRunTimeMS = (endTime - startTime) / 1e3;\n            }, delayMS);\n        }, Bridge = function() {\n            function Bridge(wall) {\n                _classCallCheck(this, Bridge), this._cbs = new Map(), this._inspectables = new Map(), \n                this._cid = 0, this._listeners = {}, this._buffer = [], this._flushHandle = null, \n                this._callers = {}, this._paused = !1, this._wall = wall, wall.listen(this._handleMessage.bind(this));\n            }\n            return _createClass(Bridge, [ {\n                key: \"inspect\",\n                value: function(id, path, cb) {\n                    var _cid = this._cid++;\n                    this._cbs.set(_cid, function(data, cleaned, proto, protoclean) {\n                        cleaned.length && hydrate(data, cleaned), proto && protoclean.length && hydrate(proto, protoclean), \n                        proto && (data[consts.proto] = proto), cb(data);\n                    }), this._wall.send({\n                        type: \"inspect\",\n                        callback: _cid,\n                        path: path,\n                        id: id\n                    });\n                }\n            }, {\n                key: \"call\",\n                value: function(name, args, cb) {\n                    var _cid = this._cid++;\n                    this._cbs.set(_cid, cb), this._wall.send({\n                        type: \"call\",\n                        callback: _cid,\n                        args: args,\n                        name: name\n                    });\n                }\n            }, {\n                key: \"onCall\",\n                value: function(name, handler) {\n                    if (this._callers[name]) throw new Error(\"only one call handler per call name allowed\");\n                    this._callers[name] = handler;\n                }\n            }, {\n                key: \"pause\",\n                value: function() {\n                    this._wall.send({\n                        type: \"pause\"\n                    });\n                }\n            }, {\n                key: \"resume\",\n                value: function() {\n                    this._wall.send({\n                        type: \"resume\"\n                    });\n                }\n            }, {\n                key: \"setInspectable\",\n                value: function(id, data) {\n                    var prev = this._inspectables.get(id);\n                    return prev ? void this._inspectables.set(id, _extends({}, prev, data)) : void this._inspectables.set(id, data);\n                }\n            }, {\n                key: \"send\",\n                value: function(evt, data) {\n                    this._buffer.push({\n                        evt: evt,\n                        data: data\n                    }), this.scheduleFlush();\n                }\n            }, {\n                key: \"scheduleFlush\",\n                value: function() {\n                    if (!this._flushHandle && this._buffer.length) {\n                        var timeout = this._paused ? 5e3 : 500;\n                        this._flushHandle = requestIdleCallback(this.flushBufferWhileIdle.bind(this), {\n                            timeout: timeout\n                        });\n                    }\n                }\n            }, {\n                key: \"cancelFlush\",\n                value: function() {\n                    this._flushHandle && (cancelIdleCallback(this._flushHandle), this._flushHandle = null);\n                }\n            }, {\n                key: \"flushBufferWhileIdle\",\n                value: function(deadline) {\n                    this._flushHandle = null;\n                    for (var chunkCount = this._paused ? 20 : 10, chunkSize = Math.round(this._buffer.length / chunkCount), minChunkSize = this._paused ? 50 : 100; this._buffer.length && (deadline.timeRemaining() > 0 || deadline.didTimeout); ) {\n                        var take = Math.min(this._buffer.length, Math.max(minChunkSize, chunkSize)), currentBuffer = this._buffer.splice(0, take);\n                        this.flushBufferSlice(currentBuffer);\n                    }\n                    this._buffer.length && this.scheduleFlush();\n                }\n            }, {\n                key: \"flushBufferSlice\",\n                value: function(bufferSlice) {\n                    var _this = this, events = bufferSlice.map(function(_ref) {\n                        var evt = _ref.evt, data = _ref.data, cleaned = [], san = dehydrate(data, cleaned);\n                        return cleaned.length && _this.setInspectable(data.id, data), {\n                            type: \"event\",\n                            evt: evt,\n                            data: san,\n                            cleaned: cleaned\n                        };\n                    });\n                    this._wall.send({\n                        type: \"many-events\",\n                        events: events\n                    });\n                }\n            }, {\n                key: \"forget\",\n                value: function(id) {\n                    this._inspectables[\"delete\"](id);\n                }\n            }, {\n                key: \"on\",\n                value: function(evt, fn) {\n                    this._listeners[evt] ? this._listeners[evt].push(fn) : this._listeners[evt] = [ fn ];\n                }\n            }, {\n                key: \"off\",\n                value: function(evt, fn) {\n                    if (this._listeners[evt]) {\n                        var ix = this._listeners[evt].indexOf(fn);\n                        ix !== -1 && this._listeners[evt].splice(ix, 1);\n                    }\n                }\n            }, {\n                key: \"once\",\n                value: function(evt, fn) {\n                    var self = this, listener = function listener() {\n                        fn.apply(this, arguments), self.off(evt, listener);\n                    };\n                    this.on(evt, listener);\n                }\n            }, {\n                key: \"_handleMessage\",\n                value: function(payload) {\n                    var _this2 = this;\n                    if (\"resume\" === payload.type) return this._paused = !1, void this.scheduleFlush();\n                    if (\"pause\" === payload.type) return this._paused = !0, void this.cancelFlush();\n                    if (\"callback\" === payload.type) {\n                        var callback = this._cbs.get(payload.id);\n                        return void (callback && (callback.apply(void 0, _toConsumableArray(payload.args)), \n                        this._cbs[\"delete\"](payload.id)));\n                    }\n                    if (\"call\" === payload.type) return void this._handleCall(payload.name, payload.args, payload.callback);\n                    if (\"inspect\" === payload.type) return void this._inspectResponse(payload.id, payload.path, payload.callback);\n                    if (\"event\" === payload.type) {\n                        payload.cleaned && hydrate(payload.data, payload.cleaned);\n                        var fns = this._listeners[payload.evt], data = payload.data;\n                        fns && fns.forEach(function(fn) {\n                            return fn(data);\n                        });\n                    }\n                    \"many-events\" === payload.type && payload.events.forEach(function(event) {\n                        event.cleaned && hydrate(event.data, event.cleaned);\n                        var handlers = _this2._listeners[event.evt];\n                        handlers && handlers.forEach(function(fn) {\n                            return fn(event.data);\n                        });\n                    });\n                }\n            }, {\n                key: \"_handleCall\",\n                value: function(name, args, callback) {\n                    if (!this._callers[name]) return void console.warn('unknown call: \"' + name + '\"');\n                    args = Array.isArray(args) ? args : [ args ];\n                    var result;\n                    try {\n                        result = this._callers[name].apply(null, args);\n                    } catch (e) {\n                        return void console.error(\"Failed to call\", e);\n                    }\n                    this._wall.send({\n                        type: \"callback\",\n                        id: callback,\n                        args: [ result ]\n                    });\n                }\n            }, {\n                key: \"_inspectResponse\",\n                value: function(id, path, callback) {\n                    var inspectable = this._inspectables.get(id), result = {}, cleaned = [], proto = null, protoclean = [];\n                    if (inspectable) {\n                        var val = getIn(inspectable, path), protod = !1, isFn = \"function\" == typeof val;\n                        if (val && \"function\" == typeof val[Symbol.iterator]) {\n                            var iterVal = Object.create({}), count = 0, _iteratorNormalCompletion = !0, _didIteratorError = !1, _iteratorError = void 0;\n                            try {\n                                for (var _step, _iterator = val[Symbol.iterator](); !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = !0) {\n                                    var entry = _step.value;\n                                    if (count > 100) break;\n                                    iterVal[count] = entry, count++;\n                                }\n                            } catch (err) {\n                                _didIteratorError = !0, _iteratorError = err;\n                            } finally {\n                                try {\n                                    !_iteratorNormalCompletion && _iterator[\"return\"] && _iterator[\"return\"]();\n                                } finally {\n                                    if (_didIteratorError) throw _iteratorError;\n                                }\n                            }\n                            val = iterVal;\n                        }\n                        if (Object.getOwnPropertyNames(val).forEach(function(name) {\n                            \"__proto__\" === name && (protod = !0), (!isFn || \"arguments\" !== name && \"callee\" !== name && \"caller\" !== name) && (result[name] = dehydrate(val[name], cleaned, [ name ]));\n                        }), !protod && val.__proto__ && \"Object\" !== val.constructor.name) {\n                            var newProto = {}, pIsFn = \"function\" == typeof val.__proto__;\n                            Object.getOwnPropertyNames(val.__proto__).forEach(function(name) {\n                                (!pIsFn || \"arguments\" !== name && \"callee\" !== name && \"caller\" !== name) && (newProto[name] = dehydrate(val.__proto__[name], protoclean, [ name ]));\n                            }), proto = newProto;\n                        }\n                    }\n                    this._wall.send({\n                        type: \"callback\",\n                        id: callback,\n                        args: [ result, cleaned, proto, protoclean ]\n                    });\n                }\n            } ]), Bridge;\n        }();\n        module.exports = Bridge;\n    }, function(module, exports, __webpack_require__) {\n        \"use strict\";\n        var _Symbol = __webpack_require__(8);\n        module.exports = {\n            name: _Symbol(\"name\"),\n            type: _Symbol(\"type\"),\n            inspected: _Symbol(\"inspected\"),\n            meta: _Symbol(\"meta\"),\n            proto: _Symbol(\"proto\")\n        };\n    }, function(module, exports, __webpack_require__) {\n        \"use strict\";\n        module.exports = __webpack_require__(9)() ? Symbol : __webpack_require__(10);\n    }, function(module, exports) {\n        \"use strict\";\n        module.exports = function() {\n            var symbol;\n            if (\"function\" != typeof Symbol) return !1;\n            symbol = Symbol(\"test symbol\");\n            try {\n                String(symbol);\n            } catch (e) {\n                return !1;\n            }\n            return \"symbol\" == typeof Symbol.iterator || \"object\" == typeof Symbol.isConcatSpreadable && (\"object\" == typeof Symbol.iterator && (\"object\" == typeof Symbol.toPrimitive && (\"object\" == typeof Symbol.toStringTag && \"object\" == typeof Symbol.unscopables)));\n        };\n    }, function(module, exports, __webpack_require__) {\n        \"use strict\";\n        var NativeSymbol, SymbolPolyfill, HiddenSymbol, d = __webpack_require__(11), validateSymbol = __webpack_require__(24), create = Object.create, defineProperties = Object.defineProperties, defineProperty = Object.defineProperty, objPrototype = Object.prototype, globalSymbols = create(null);\n        \"function\" == typeof Symbol && (NativeSymbol = Symbol);\n        var generateName = function() {\n            var created = create(null);\n            return function(desc) {\n                for (var name, ie11BugWorkaround, postfix = 0; created[desc + (postfix || \"\")]; ) ++postfix;\n                return desc += postfix || \"\", created[desc] = !0, name = \"@@\" + desc, defineProperty(objPrototype, name, d.gs(null, function(value) {\n                    ie11BugWorkaround || (ie11BugWorkaround = !0, defineProperty(this, name, d(value)), \n                    ie11BugWorkaround = !1);\n                })), name;\n            };\n        }();\n        HiddenSymbol = function(description) {\n            if (this instanceof HiddenSymbol) throw new TypeError(\"TypeError: Symbol is not a constructor\");\n            return SymbolPolyfill(description);\n        }, module.exports = SymbolPolyfill = function Symbol(description) {\n            var symbol;\n            if (this instanceof Symbol) throw new TypeError(\"TypeError: Symbol is not a constructor\");\n            return symbol = create(HiddenSymbol.prototype), description = void 0 === description ? \"\" : String(description), \n            defineProperties(symbol, {\n                __description__: d(\"\", description),\n                __name__: d(\"\", generateName(description))\n            });\n        }, defineProperties(SymbolPolyfill, {\n            \"for\": d(function(key) {\n                return globalSymbols[key] ? globalSymbols[key] : globalSymbols[key] = SymbolPolyfill(String(key));\n            }),\n            keyFor: d(function(s) {\n                var key;\n                validateSymbol(s);\n                for (key in globalSymbols) if (globalSymbols[key] === s) return key;\n            }),\n            hasInstance: d(\"\", NativeSymbol && NativeSymbol.hasInstance || SymbolPolyfill(\"hasInstance\")),\n            isConcatSpreadable: d(\"\", NativeSymbol && NativeSymbol.isConcatSpreadable || SymbolPolyfill(\"isConcatSpreadable\")),\n            iterator: d(\"\", NativeSymbol && NativeSymbol.iterator || SymbolPolyfill(\"iterator\")),\n            match: d(\"\", NativeSymbol && NativeSymbol.match || SymbolPolyfill(\"match\")),\n            replace: d(\"\", NativeSymbol && NativeSymbol.replace || SymbolPolyfill(\"replace\")),\n            search: d(\"\", NativeSymbol && NativeSymbol.search || SymbolPolyfill(\"search\")),\n            species: d(\"\", NativeSymbol && NativeSymbol.species || SymbolPolyfill(\"species\")),\n            split: d(\"\", NativeSymbol && NativeSymbol.split || SymbolPolyfill(\"split\")),\n            toPrimitive: d(\"\", NativeSymbol && NativeSymbol.toPrimitive || SymbolPolyfill(\"toPrimitive\")),\n            toStringTag: d(\"\", NativeSymbol && NativeSymbol.toStringTag || SymbolPolyfill(\"toStringTag\")),\n            unscopables: d(\"\", NativeSymbol && NativeSymbol.unscopables || SymbolPolyfill(\"unscopables\"))\n        }), defineProperties(HiddenSymbol.prototype, {\n            constructor: d(SymbolPolyfill),\n            toString: d(\"\", function() {\n                return this.__name__;\n            })\n        }), defineProperties(SymbolPolyfill.prototype, {\n            toString: d(function() {\n                return \"Symbol (\" + validateSymbol(this).__description__ + \")\";\n            }),\n            valueOf: d(function() {\n                return validateSymbol(this);\n            })\n        }), defineProperty(SymbolPolyfill.prototype, SymbolPolyfill.toPrimitive, d(\"\", function() {\n            return validateSymbol(this);\n        })), defineProperty(SymbolPolyfill.prototype, SymbolPolyfill.toStringTag, d(\"c\", \"Symbol\")), \n        defineProperty(HiddenSymbol.prototype, SymbolPolyfill.toStringTag, d(\"c\", SymbolPolyfill.prototype[SymbolPolyfill.toStringTag])), \n        defineProperty(HiddenSymbol.prototype, SymbolPolyfill.toPrimitive, d(\"c\", SymbolPolyfill.prototype[SymbolPolyfill.toPrimitive]));\n    }, function(module, exports, __webpack_require__) {\n        \"use strict\";\n        var d, assign = __webpack_require__(12), normalizeOpts = __webpack_require__(19), isCallable = __webpack_require__(20), contains = __webpack_require__(21);\n        d = module.exports = function(dscr, value) {\n            var c, e, w, options, desc;\n            return arguments.length < 2 || \"string\" != typeof dscr ? (options = value, value = dscr, \n            dscr = null) : options = arguments[2], null == dscr ? (c = w = !0, e = !1) : (c = contains.call(dscr, \"c\"), \n            e = contains.call(dscr, \"e\"), w = contains.call(dscr, \"w\")), desc = {\n                value: value,\n                configurable: c,\n                enumerable: e,\n                writable: w\n            }, options ? assign(normalizeOpts(options), desc) : desc;\n        }, d.gs = function(dscr, get, set) {\n            var c, e, options, desc;\n            return \"string\" != typeof dscr ? (options = set, set = get, get = dscr, dscr = null) : options = arguments[3], \n            null == get ? get = void 0 : isCallable(get) ? null == set ? set = void 0 : isCallable(set) || (options = set, \n            set = void 0) : (options = get, get = set = void 0), null == dscr ? (c = !0, e = !1) : (c = contains.call(dscr, \"c\"), \n            e = contains.call(dscr, \"e\")), desc = {\n                get: get,\n                set: set,\n                configurable: c,\n                enumerable: e\n            }, options ? assign(normalizeOpts(options), desc) : desc;\n        };\n    }, function(module, exports, __webpack_require__) {\n        \"use strict\";\n        module.exports = __webpack_require__(13)() ? Object.assign : __webpack_require__(14);\n    }, function(module, exports) {\n        \"use strict\";\n        module.exports = function() {\n            var obj, assign = Object.assign;\n            return \"function\" == typeof assign && (obj = {\n                foo: \"raz\"\n            }, assign(obj, {\n                bar: \"dwa\"\n            }, {\n                trzy: \"trzy\"\n            }), obj.foo + obj.bar + obj.trzy === \"razdwatrzy\");\n        };\n    }, function(module, exports, __webpack_require__) {\n        \"use strict\";\n        var keys = __webpack_require__(15), value = __webpack_require__(18), max = Math.max;\n        module.exports = function(dest, src) {\n            var error, i, assign, l = max(arguments.length, 2);\n            for (dest = Object(value(dest)), assign = function(key) {\n                try {\n                    dest[key] = src[key];\n                } catch (e) {\n                    error || (error = e);\n                }\n            }, i = 1; i < l; ++i) src = arguments[i], keys(src).forEach(assign);\n            if (void 0 !== error) throw error;\n            return dest;\n        };\n    }, function(module, exports, __webpack_require__) {\n        \"use strict\";\n        module.exports = __webpack_require__(16)() ? Object.keys : __webpack_require__(17);\n    }, function(module, exports) {\n        \"use strict\";\n        module.exports = function() {\n            try {\n                return Object.keys(\"primitive\"), !0;\n            } catch (e) {\n                return !1;\n            }\n        };\n    }, function(module, exports) {\n        \"use strict\";\n        var keys = Object.keys;\n        module.exports = function(object) {\n            return keys(null == object ? object : Object(object));\n        };\n    }, function(module, exports) {\n        \"use strict\";\n        module.exports = function(value) {\n            if (null == value) throw new TypeError(\"Cannot use null or undefined\");\n            return value;\n        };\n    }, function(module, exports) {\n        \"use strict\";\n        var forEach = Array.prototype.forEach, create = Object.create, process = function(src, obj) {\n            var key;\n            for (key in src) obj[key] = src[key];\n        };\n        module.exports = function(options) {\n            var result = create(null);\n            return forEach.call(arguments, function(options) {\n                null != options && process(Object(options), result);\n            }), result;\n        };\n    }, function(module, exports) {\n        \"use strict\";\n        module.exports = function(obj) {\n            return \"function\" == typeof obj;\n        };\n    }, function(module, exports, __webpack_require__) {\n        \"use strict\";\n        module.exports = __webpack_require__(22)() ? String.prototype.contains : __webpack_require__(23);\n    }, function(module, exports) {\n        \"use strict\";\n        var str = \"razdwatrzy\";\n        module.exports = function() {\n            return \"function\" == typeof str.contains && (str.contains(\"dwa\") === !0 && str.contains(\"foo\") === !1);\n        };\n    }, function(module, exports) {\n        \"use strict\";\n        var indexOf = String.prototype.indexOf;\n        module.exports = function(searchString) {\n            return indexOf.call(this, searchString, arguments[1]) > -1;\n        };\n    }, function(module, exports, __webpack_require__) {\n        \"use strict\";\n        var isSymbol = __webpack_require__(25);\n        module.exports = function(value) {\n            if (!isSymbol(value)) throw new TypeError(value + \" is not a symbol\");\n            return value;\n        };\n    }, function(module, exports) {\n        \"use strict\";\n        module.exports = function(x) {\n            return x && (\"symbol\" == typeof x || \"Symbol\" === x[\"@@toStringTag\"]) || !1;\n        };\n    }, function(module, exports, __webpack_require__) {\n        \"use strict\";\n        function hydrate(data, cleaned) {\n            cleaned.forEach(function(path) {\n                var last = path.pop(), obj = path.reduce(function(obj_, attr) {\n                    return obj_ ? obj_[attr] : null;\n                }, data);\n                if (obj && obj[last]) {\n                    var replace = {};\n                    replace[consts.name] = obj[last].name, replace[consts.type] = obj[last].type, replace[consts.meta] = obj[last].meta, \n                    replace[consts.inspected] = !1, obj[last] = replace;\n                }\n            });\n        }\n        var consts = __webpack_require__(7);\n        module.exports = hydrate;\n    }, function(module, exports) {\n        \"use strict\";\n        function getPropType(data) {\n            if (!data) return null;\n            var type = \"undefined\" == typeof data ? \"undefined\" : _typeof(data);\n            if (\"object\" === type) {\n                if (data._reactFragment) return \"react_fragment\";\n                if (Array.isArray(data)) return \"array\";\n                if (ArrayBuffer.isView(data)) return data instanceof DataView ? \"data_view\" : \"typed_array\";\n                if (data instanceof ArrayBuffer) return \"array_buffer\";\n                if (\"function\" === data[Symbol.iterator]) return \"iterator\";\n                if (\"[object Date]\" === Object.prototype.toString.call(data)) return \"date\";\n            }\n            return type;\n        }\n        function createDehydrated(type, data, cleaned, path) {\n            var meta = {};\n            return \"array\" !== type && \"typed_array\" !== type || (meta.length = data.length), \n            \"iterator\" !== type && \"typed_array\" !== type || (meta.readOnly = !0), cleaned.push(path), \n            {\n                type: type,\n                meta: meta,\n                name: data.constructor && \"Object\" !== data.constructor.name ? data.constructor.name : \"\"\n            };\n        }\n        function dehydrate(data, cleaned) {\n            var path = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : [], level = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 0, type = getPropType(data);\n            switch (type) {\n              case \"function\":\n                return cleaned.push(path), {\n                    name: data.name,\n                    type: \"function\"\n                };\n\n              case \"string\":\n                return data.length <= 500 ? data : data.slice(0, 500) + \"...\";\n\n              case \"symbol\":\n                return cleaned.push(path), {\n                    type: \"symbol\",\n                    name: data.toString()\n                };\n\n              case \"react_fragment\":\n                return \"A React Fragment\";\n\n              case \"array_buffer\":\n              case \"data_view\":\n                return cleaned.push(path), {\n                    type: type,\n                    name: \"data_view\" === type ? \"DataView\" : \"ArrayBuffer\",\n                    meta: {\n                        length: data.byteLength,\n                        uninspectable: !0\n                    }\n                };\n\n              case \"array\":\n                return level > 2 ? createDehydrated(type, data, cleaned, path) : data.map(function(item, i) {\n                    return dehydrate(item, cleaned, path.concat([ i ]), level + 1);\n                });\n\n              case \"typed_array\":\n              case \"iterator\":\n                return createDehydrated(type, data, cleaned, path);\n\n              case \"date\":\n                return cleaned.push(path), {\n                    name: data.toString(),\n                    type: \"date\",\n                    meta: {\n                        uninspectable: !0\n                    }\n                };\n\n              case \"object\":\n                if (level > 2 || data.constructor && \"function\" == typeof data.constructor && \"Object\" !== data.constructor.name) return createDehydrated(type, data, cleaned, path);\n                var res = {};\n                for (var name in data) res[name] = dehydrate(data[name], cleaned, path.concat([ name ]), level + 1);\n                return res;\n\n              default:\n                return data;\n            }\n        }\n        var _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function(obj) {\n            return typeof obj;\n        } : function(obj) {\n            return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n        };\n        module.exports = dehydrate;\n    }, function(module, exports, __webpack_require__) {\n        \"use strict\";\n        var performanceNow, performance = __webpack_require__(29);\n        performanceNow = performance.now ? function() {\n            return performance.now();\n        } : function() {\n            return Date.now();\n        }, module.exports = performanceNow;\n    }, function(module, exports, __webpack_require__) {\n        \"use strict\";\n        var performance, ExecutionEnvironment = __webpack_require__(30);\n        ExecutionEnvironment.canUseDOM && (performance = window.performance || window.msPerformance || window.webkitPerformance), \n        module.exports = performance || {};\n    }, function(module, exports) {\n        \"use strict\";\n        var canUseDOM = !(\"undefined\" == typeof window || !window.document || !window.document.createElement), ExecutionEnvironment = {\n            canUseDOM: canUseDOM,\n            canUseWorkers: \"undefined\" != typeof Worker,\n            canUseEventListeners: canUseDOM && !(!window.addEventListener && !window.attachEvent),\n            canUseViewport: canUseDOM && !!window.screen,\n            isInWorker: !canUseDOM\n        };\n        module.exports = ExecutionEnvironment;\n    }, function(module, exports) {\n        \"use strict\";\n        function installGlobalHook(window) {\n            if (!window.__REACT_DEVTOOLS_GLOBAL_HOOK__) {\n                var hook = {\n                    _renderers: {},\n                    helpers: {},\n                    inject: function(renderer) {\n                        if (\"number\" == typeof renderer.version && renderer.version > 1) return null;\n                        var id = Math.random().toString(16).slice(2);\n                        return hook._renderers[id] = renderer, hook.emit(\"renderer\", {\n                            id: id,\n                            renderer: renderer\n                        }), id;\n                    },\n                    _listeners: {},\n                    sub: function(evt, fn) {\n                        return hook.on(evt, fn), function() {\n                            return hook.off(evt, fn);\n                        };\n                    },\n                    on: function(evt, fn) {\n                        hook._listeners[evt] || (hook._listeners[evt] = []), hook._listeners[evt].push(fn);\n                    },\n                    off: function(evt, fn) {\n                        if (hook._listeners[evt]) {\n                            var ix = hook._listeners[evt].indexOf(fn);\n                            ix !== -1 && hook._listeners[evt].splice(ix, 1), hook._listeners[evt].length || (hook._listeners[evt] = null);\n                        }\n                    },\n                    emit: function(evt, data) {\n                        hook._listeners[evt] && hook._listeners[evt].map(function(fn) {\n                            return fn(data);\n                        });\n                    },\n                    supportsFiber: !0,\n                    _fiberRoots: {},\n                    getFiberRoots: function(rendererID) {\n                        var roots = hook._fiberRoots;\n                        return roots[rendererID] || (roots[rendererID] = new Set()), roots[rendererID];\n                    },\n                    onCommitFiberUnmount: function(rendererID, fiber) {\n                        hook.helpers[rendererID] && hook.helpers[rendererID].handleCommitFiberUnmount(fiber);\n                    },\n                    onCommitFiberRoot: function(rendererID, root) {\n                        var mountedRoots = hook.getFiberRoots(rendererID), current = root.current, isKnownRoot = mountedRoots.has(root), isUnmounting = null == current.memoizedState || null == current.memoizedState.element;\n                        isKnownRoot || isUnmounting ? isKnownRoot && isUnmounting && mountedRoots[\"delete\"](root) : mountedRoots.add(root), \n                        hook.helpers[rendererID] && hook.helpers[rendererID].handleCommitFiberRoot(root);\n                    }\n                };\n                Object.defineProperty(window, \"__REACT_DEVTOOLS_GLOBAL_HOOK__\", {\n                    value: hook\n                });\n            }\n        }\n        module.exports = installGlobalHook;\n    }, function(module, exports) {\n        \"use strict\";\n        function installRelayHook(window) {\n            function decorate(obj, attr, fn) {\n                var old = obj[attr];\n                obj[attr] = function() {\n                    var res = old.apply(this, arguments);\n                    return fn.apply(this, arguments), res;\n                };\n            }\n            function emit(name, data) {\n                _eventQueue.push({\n                    name: name,\n                    data: data\n                }), _listener && _listener(name, data);\n            }\n            function setRequestListener(listener) {\n                if (_listener) throw new Error(\"Relay Devtools: Called only call setRequestListener once.\");\n                return _listener = listener, _eventQueue.forEach(function(_ref) {\n                    var name = _ref.name, data = _ref.data;\n                    listener(name, data);\n                }), function() {\n                    _listener = null;\n                };\n            }\n            function recordRequest(type, start, request, requestNumber) {\n                var id = Math.random().toString(16).substr(2);\n                request.then(function(response) {\n                    emit(\"relay:success\", {\n                        id: id,\n                        end: performanceNow(),\n                        response: response.response\n                    });\n                }, function(error) {\n                    emit(\"relay:failure\", {\n                        id: id,\n                        end: performanceNow(),\n                        error: error\n                    });\n                });\n                for (var textChunks = [], text = request.getQueryString(); text.length > 0; ) textChunks.push(text.substr(0, TEXT_CHUNK_LENGTH)), \n                text = text.substr(TEXT_CHUNK_LENGTH);\n                return {\n                    id: id,\n                    name: request.getDebugName(),\n                    requestNumber: requestNumber,\n                    start: start,\n                    text: textChunks,\n                    type: type,\n                    variables: request.getVariables()\n                };\n            }\n            function instrumentRelayRequests(relayInternals) {\n                var NetworkLayer = relayInternals.NetworkLayer;\n                decorate(NetworkLayer, \"sendMutation\", function(mutation) {\n                    requestNumber++, emit(\"relay:pending\", [ recordRequest(\"mutation\", performanceNow(), mutation, requestNumber) ]);\n                }), decorate(NetworkLayer, \"sendQueries\", function(queries) {\n                    requestNumber++;\n                    var start = performanceNow();\n                    emit(\"relay:pending\", queries.map(function(query) {\n                        return recordRequest(\"query\", start, query, requestNumber);\n                    }));\n                });\n                var instrumented = {};\n                for (var key in relayInternals) relayInternals.hasOwnProperty(key) && (instrumented[key] = relayInternals[key]);\n                return instrumented.setRequestListener = setRequestListener, instrumented;\n            }\n            var performanceNow, performance = window.performance;\n            performanceNow = performance && \"function\" == typeof performance.now ? function() {\n                return performance.now();\n            } : function() {\n                return Date.now();\n            };\n            var TEXT_CHUNK_LENGTH = 500, hook = window.__REACT_DEVTOOLS_GLOBAL_HOOK__;\n            if (hook) {\n                var _eventQueue = [], _listener = null, requestNumber = 0, _relayInternals = null;\n                Object.defineProperty(hook, \"_relayInternals\", {\n                    configurable: !0,\n                    set: function(relayInternals) {\n                        _relayInternals = instrumentRelayRequests(relayInternals);\n                    },\n                    get: function() {\n                        return _relayInternals;\n                    }\n                });\n            }\n        }\n        module.exports = installRelayHook;\n    }, function(module, exports, __webpack_require__) {\n        \"use strict\";\n        var setupBackend = __webpack_require__(34);\n        module.exports = function(hook, agent) {\n            var subs = [ hook.sub(\"renderer-attached\", function(_ref) {\n                var id = _ref.id, helpers = (_ref.renderer, _ref.helpers);\n                agent.setReactInternals(id, helpers), helpers.walkTree(agent.onMounted.bind(agent, id), agent.addRoot.bind(agent, id));\n            }), hook.sub(\"root\", function(_ref2) {\n                var renderer = _ref2.renderer, internalInstance = _ref2.internalInstance;\n                return agent.addRoot(renderer, internalInstance);\n            }), hook.sub(\"mount\", function(_ref3) {\n                var renderer = _ref3.renderer, internalInstance = _ref3.internalInstance, data = _ref3.data;\n                return agent.onMounted(renderer, internalInstance, data);\n            }), hook.sub(\"update\", function(_ref4) {\n                var internalInstance = (_ref4.renderer, _ref4.internalInstance), data = _ref4.data;\n                return agent.onUpdated(internalInstance, data);\n            }), hook.sub(\"unmount\", function(_ref5) {\n                var internalInstance = (_ref5.renderer, _ref5.internalInstance);\n                return agent.onUnmounted(internalInstance);\n            }) ], success = setupBackend(hook);\n            success && (hook.emit(\"react-devtools\", agent), hook.reactDevtoolsAgent = agent, \n            agent.on(\"shutdown\", function() {\n                subs.forEach(function(fn) {\n                    return fn();\n                }), hook.reactDevtoolsAgent = null;\n            }));\n        };\n    }, function(module, exports, __webpack_require__) {\n        \"use strict\";\n        var attachRenderer = __webpack_require__(35);\n        module.exports = function(hook) {\n            var oldReact = window.React && window.React.__internals;\n            oldReact && 0 === Object.keys(hook._renderers).length && hook.inject(oldReact);\n            for (var rid in hook._renderers) hook.helpers[rid] = attachRenderer(hook, rid, hook._renderers[rid]), \n            hook.emit(\"renderer-attached\", {\n                id: rid,\n                renderer: hook._renderers[rid],\n                helpers: hook.helpers[rid]\n            });\n            hook.on(\"renderer\", function(_ref) {\n                var id = _ref.id, renderer = _ref.renderer;\n                hook.helpers[id] = attachRenderer(hook, id, renderer), hook.emit(\"renderer-attached\", {\n                    id: id,\n                    renderer: renderer,\n                    helpers: hook.helpers[id]\n                });\n            });\n            var shutdown = function shutdown() {\n                for (var id in hook.helpers) hook.helpers[id].cleanup();\n                hook.off(\"shutdown\", shutdown);\n            };\n            return hook.on(\"shutdown\", shutdown), !0;\n        };\n    }, function(module, exports, __webpack_require__) {\n        \"use strict\";\n        function attachRenderer(hook, rid, renderer) {\n            var rootNodeIDMap = new Map(), extras = {}, isPre013 = !renderer.Reconciler;\n            if (\"function\" == typeof renderer.findFiberByHostInstance) return attachRendererFiber(hook, rid, renderer);\n            renderer.Mount.findNodeHandle && renderer.Mount.nativeTagToRootNodeID ? (extras.getNativeFromReactElement = function(component) {\n                return renderer.Mount.findNodeHandle(component);\n            }, extras.getReactElementFromNative = function(nativeTag) {\n                var id = renderer.Mount.nativeTagToRootNodeID(nativeTag);\n                return rootNodeIDMap.get(id);\n            }) : renderer.ComponentTree ? (extras.getNativeFromReactElement = function(component) {\n                return renderer.ComponentTree.getNodeFromInstance(component);\n            }, extras.getReactElementFromNative = function(node) {\n                return renderer.ComponentTree.getClosestInstanceFromNode(node);\n            }) : renderer.Mount.getID && renderer.Mount.getNode ? (extras.getNativeFromReactElement = function(component) {\n                try {\n                    return renderer.Mount.getNode(component._rootNodeID);\n                } catch (e) {\n                    return;\n                }\n            }, extras.getReactElementFromNative = function(node) {\n                for (var id = renderer.Mount.getID(node); node && node.parentNode && !id; ) node = node.parentNode, \n                id = renderer.Mount.getID(node);\n                return rootNodeIDMap.get(id);\n            }) : console.warn(\"Unknown react version (does not have getID), probably an unshimmed React Native\");\n            var oldMethods, oldRenderComponent, oldRenderRoot;\n            return renderer.Mount._renderNewRootComponent ? oldRenderRoot = decorateResult(renderer.Mount, \"_renderNewRootComponent\", function(internalInstance) {\n                hook.emit(\"root\", {\n                    renderer: rid,\n                    internalInstance: internalInstance\n                });\n            }) : renderer.Mount.renderComponent && (oldRenderComponent = decorateResult(renderer.Mount, \"renderComponent\", function(internalInstance) {\n                hook.emit(\"root\", {\n                    renderer: rid,\n                    internalInstance: internalInstance._reactInternalInstance\n                });\n            })), renderer.Component ? (console.error(\"You are using a version of React with limited support in this version of the devtools.\\nPlease upgrade to use at least 0.13, or you can downgrade to use the old version of the devtools:\\ninstructions here https://github.com/facebook/react-devtools/tree/devtools-next#how-do-i-use-this-for-react--013\"), \n            oldMethods = decorateMany(renderer.Component.Mixin, {\n                mountComponent: function() {\n                    var _this = this;\n                    rootNodeIDMap.set(this._rootNodeID, this), setTimeout(function() {\n                        hook.emit(\"mount\", {\n                            internalInstance: _this,\n                            data: getData012(_this),\n                            renderer: rid\n                        });\n                    }, 0);\n                },\n                updateComponent: function() {\n                    var _this2 = this;\n                    setTimeout(function() {\n                        hook.emit(\"update\", {\n                            internalInstance: _this2,\n                            data: getData012(_this2),\n                            renderer: rid\n                        });\n                    }, 0);\n                },\n                unmountComponent: function() {\n                    hook.emit(\"unmount\", {\n                        internalInstance: this,\n                        renderer: rid\n                    }), rootNodeIDMap[\"delete\"](this._rootNodeID, this);\n                }\n            })) : renderer.Reconciler && (oldMethods = decorateMany(renderer.Reconciler, {\n                mountComponent: function(internalInstance, rootID, transaction, context) {\n                    var data = getData(internalInstance);\n                    rootNodeIDMap.set(internalInstance._rootNodeID, internalInstance), hook.emit(\"mount\", {\n                        internalInstance: internalInstance,\n                        data: data,\n                        renderer: rid\n                    });\n                },\n                performUpdateIfNecessary: function(internalInstance, nextChild, transaction, context) {\n                    hook.emit(\"update\", {\n                        internalInstance: internalInstance,\n                        data: getData(internalInstance),\n                        renderer: rid\n                    });\n                },\n                receiveComponent: function(internalInstance, nextChild, transaction, context) {\n                    hook.emit(\"update\", {\n                        internalInstance: internalInstance,\n                        data: getData(internalInstance),\n                        renderer: rid\n                    });\n                },\n                unmountComponent: function(internalInstance) {\n                    hook.emit(\"unmount\", {\n                        internalInstance: internalInstance,\n                        renderer: rid\n                    }), rootNodeIDMap[\"delete\"](internalInstance._rootNodeID, internalInstance);\n                }\n            })), extras.walkTree = function(visit, visitRoot) {\n                var onMount = function(component, data) {\n                    rootNodeIDMap.set(component._rootNodeID, component), visit(component, data);\n                };\n                walkRoots(renderer.Mount._instancesByReactRootID || renderer.Mount._instancesByContainerID, onMount, visitRoot, isPre013);\n            }, extras.cleanup = function() {\n                oldMethods && (renderer.Component ? restoreMany(renderer.Component.Mixin, oldMethods) : restoreMany(renderer.Reconciler, oldMethods)), \n                oldRenderRoot && (renderer.Mount._renderNewRootComponent = oldRenderRoot), oldRenderComponent && (renderer.Mount.renderComponent = oldRenderComponent), \n                oldMethods = null, oldRenderRoot = null, oldRenderComponent = null;\n            }, extras;\n        }\n        function walkRoots(roots, onMount, onRoot, isPre013) {\n            for (var name in roots) walkNode(roots[name], onMount, isPre013), onRoot(roots[name]);\n        }\n        function walkNode(internalInstance, onMount, isPre013) {\n            var data = isPre013 ? getData012(internalInstance) : getData(internalInstance);\n            data.children && Array.isArray(data.children) && data.children.forEach(function(child) {\n                return walkNode(child, onMount, isPre013);\n            }), onMount(internalInstance, data);\n        }\n        function decorateResult(obj, attr, fn) {\n            var old = obj[attr];\n            return obj[attr] = function(instance) {\n                var res = old.apply(this, arguments);\n                return fn(res), res;\n            }, old;\n        }\n        function decorate(obj, attr, fn) {\n            var old = obj[attr];\n            return obj[attr] = function(instance) {\n                var res = old.apply(this, arguments);\n                return fn.apply(this, arguments), res;\n            }, old;\n        }\n        function decorateMany(source, fns) {\n            var olds = {};\n            for (var name in fns) olds[name] = decorate(source, name, fns[name]);\n            return olds;\n        }\n        function restoreMany(source, olds) {\n            for (var name in olds) source[name] = olds[name];\n        }\n        var getData = __webpack_require__(36), getData012 = __webpack_require__(39), attachRendererFiber = __webpack_require__(40);\n        module.exports = attachRenderer;\n    }, function(module, exports, __webpack_require__) {\n        \"use strict\";\n        function getData(internalInstance) {\n            var children = null, props = null, state = null, context = null, updater = null, name = null, type = null, key = null, ref = null, source = null, text = null, publicInstance = null, nodeType = \"Native\";\n            if (\"object\" !== (\"undefined\" == typeof internalInstance ? \"undefined\" : _typeof(internalInstance)) ? (nodeType = \"Text\", \n            text = internalInstance + \"\") : null === internalInstance._currentElement || internalInstance._currentElement === !1 ? nodeType = \"Empty\" : internalInstance._renderedComponent ? (nodeType = \"NativeWrapper\", \n            children = [ internalInstance._renderedComponent ], props = internalInstance._instance.props, \n            state = internalInstance._instance.state, context = internalInstance._instance.context, \n            context && 0 === Object.keys(context).length && (context = null)) : internalInstance._renderedChildren ? children = childrenList(internalInstance._renderedChildren) : internalInstance._currentElement && internalInstance._currentElement.props && (children = internalInstance._currentElement.props.children), \n            !props && internalInstance._currentElement && internalInstance._currentElement.props && (props = internalInstance._currentElement.props), \n            null != internalInstance._currentElement && (type = internalInstance._currentElement.type, \n            internalInstance._currentElement.key && (key = String(internalInstance._currentElement.key)), \n            source = internalInstance._currentElement._source, ref = internalInstance._currentElement.ref, \n            \"string\" == typeof type ? (name = type, \"function\" == typeof internalInstance.getPublicInstance && (publicInstance = internalInstance.getPublicInstance())) : \"function\" == typeof type ? (nodeType = \"Composite\", \n            name = getDisplayName(type), internalInstance._renderedComponent && (internalInstance._currentElement.props === internalInstance._renderedComponent._currentElement || internalInstance._currentElement.type.isReactTopLevelWrapper) && (nodeType = \"Wrapper\"), \n            null === name && (name = \"No display name\")) : \"string\" == typeof internalInstance._stringText ? (nodeType = \"Text\", \n            text = internalInstance._stringText) : name = getDisplayName(type)), internalInstance._instance) {\n                var inst = internalInstance._instance;\n                updater = {\n                    setState: inst.setState && inst.setState.bind(inst),\n                    forceUpdate: inst.forceUpdate && inst.forceUpdate.bind(inst),\n                    setInProps: inst.forceUpdate && setInProps.bind(null, internalInstance),\n                    setInState: inst.forceUpdate && setInState.bind(null, inst),\n                    setInContext: inst.forceUpdate && setInContext.bind(null, inst)\n                }, publicInstance = inst, inst._renderedChildren && (children = childrenList(inst._renderedChildren));\n            }\n            return {\n                nodeType: nodeType,\n                type: type,\n                key: key,\n                ref: ref,\n                source: source,\n                name: name,\n                props: props,\n                state: state,\n                context: context,\n                children: children,\n                text: text,\n                updater: updater,\n                publicInstance: publicInstance\n            };\n        }\n        function setInProps(internalInst, path, value) {\n            var element = internalInst._currentElement;\n            internalInst._currentElement = _extends({}, element, {\n                props: copyWithSet(element.props, path, value)\n            }), internalInst._instance.forceUpdate();\n        }\n        function setInState(inst, path, value) {\n            setIn(inst.state, path, value), inst.forceUpdate();\n        }\n        function setInContext(inst, path, value) {\n            setIn(inst.context, path, value), inst.forceUpdate();\n        }\n        function setIn(obj, path, value) {\n            var last = path.pop(), parent = path.reduce(function(obj_, attr) {\n                return obj_ ? obj_[attr] : null;\n            }, obj);\n            parent && (parent[last] = value);\n        }\n        function childrenList(children) {\n            var res = [];\n            for (var name in children) res.push(children[name]);\n            return res;\n        }\n        var _extends = Object.assign || function(target) {\n            for (var i = 1; i < arguments.length; i++) {\n                var source = arguments[i];\n                for (var key in source) Object.prototype.hasOwnProperty.call(source, key) && (target[key] = source[key]);\n            }\n            return target;\n        }, _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function(obj) {\n            return typeof obj;\n        } : function(obj) {\n            return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n        }, copyWithSet = __webpack_require__(37), getDisplayName = __webpack_require__(38);\n        module.exports = getData;\n    }, function(module, exports) {\n        \"use strict\";\n        function copyWithSetImpl(obj, path, idx, value) {\n            if (idx >= path.length) return value;\n            var key = path[idx], updated = Array.isArray(obj) ? obj.slice() : _extends({}, obj);\n            return updated[key] = copyWithSetImpl(obj[key], path, idx + 1, value), updated;\n        }\n        function copyWithSet(obj, path, value) {\n            return copyWithSetImpl(obj, path, 0, value);\n        }\n        var _extends = Object.assign || function(target) {\n            for (var i = 1; i < arguments.length; i++) {\n                var source = arguments[i];\n                for (var key in source) Object.prototype.hasOwnProperty.call(source, key) && (target[key] = source[key]);\n            }\n            return target;\n        };\n        module.exports = copyWithSet;\n    }, function(module, exports) {\n        \"use strict\";\n        function getDisplayName(type) {\n            if (cachedDisplayNames.has(type)) return cachedDisplayNames.get(type);\n            var displayName = type.displayName || type.name || \"Unknown\", match = displayName.match(FB_MODULE_RE);\n            if (match) {\n                var componentName = match[1], moduleName = match[2];\n                componentName && moduleName && (moduleName === componentName || moduleName.startsWith(componentName + \".\")) && (displayName = componentName);\n            }\n            return cachedDisplayNames.set(type, displayName), displayName;\n        }\n        var FB_MODULE_RE = /^(.*) \\[from (.*)\\]$/, cachedDisplayNames = new WeakMap();\n        module.exports = getDisplayName;\n    }, function(module, exports, __webpack_require__) {\n        \"use strict\";\n        function getData012(internalInstance) {\n            var children = null, props = internalInstance.props, state = internalInstance.state, context = internalInstance.context, updater = null, name = null, type = null, key = null, ref = null, text = null, publicInstance = null, nodeType = \"Native\";\n            return internalInstance._renderedComponent ? (nodeType = \"Wrapper\", children = [ internalInstance._renderedComponent ], \n            context && 0 === Object.keys(context).length && (context = null)) : internalInstance._renderedChildren ? (name = internalInstance.constructor.displayName, \n            children = childrenList(internalInstance._renderedChildren)) : \"string\" == typeof props.children && (name = internalInstance.constructor.displayName, \n            children = props.children, nodeType = \"Native\"), !props && internalInstance._currentElement && internalInstance._currentElement.props && (props = internalInstance._currentElement.props), \n            internalInstance._currentElement && (type = internalInstance._currentElement.type, \n            internalInstance._currentElement.key && (key = String(internalInstance._currentElement.key)), \n            ref = internalInstance._currentElement.ref, \"string\" == typeof type ? name = type : (nodeType = \"Composite\", \n            name = type.displayName, name || (name = \"No display name\"))), name || (name = internalInstance.constructor.displayName || \"No display name\", \n            nodeType = \"Composite\"), \"string\" == typeof props && (nodeType = \"Text\", text = props, \n            props = null, name = null), internalInstance.forceUpdate && (updater = {\n                setState: internalInstance.setState.bind(internalInstance),\n                forceUpdate: internalInstance.forceUpdate.bind(internalInstance),\n                setInProps: internalInstance.forceUpdate && setInProps.bind(null, internalInstance),\n                setInState: internalInstance.forceUpdate && setInState.bind(null, internalInstance),\n                setInContext: internalInstance.forceUpdate && setInContext.bind(null, internalInstance)\n            }, publicInstance = internalInstance), {\n                nodeType: nodeType,\n                type: type,\n                key: key,\n                ref: ref,\n                source: null,\n                name: name,\n                props: props,\n                state: state,\n                context: context,\n                children: children,\n                text: text,\n                updater: updater,\n                publicInstance: publicInstance\n            };\n        }\n        function setInProps(inst, path, value) {\n            inst.props = copyWithSet(inst.props, path, value), inst.forceUpdate();\n        }\n        function setInState(inst, path, value) {\n            setIn(inst.state, path, value), inst.forceUpdate();\n        }\n        function setInContext(inst, path, value) {\n            setIn(inst.context, path, value), inst.forceUpdate();\n        }\n        function setIn(obj, path, value) {\n            var last = path.pop(), parent = path.reduce(function(obj_, attr) {\n                return obj_ ? obj_[attr] : null;\n            }, obj);\n            parent && (parent[last] = value);\n        }\n        function childrenList(children) {\n            var res = [];\n            for (var name in children) res.push(children[name]);\n            return res;\n        }\n        var copyWithSet = __webpack_require__(37);\n        module.exports = getData012;\n    }, function(module, exports, __webpack_require__) {\n        \"use strict\";\n        function attachRendererFiber(hook, rid, renderer) {\n            function getOpaqueNode(fiber) {\n                if (opaqueNodes.has(fiber)) return fiber;\n                var alternate = fiber.alternate;\n                return null != alternate && opaqueNodes.has(alternate) ? alternate : (opaqueNodes.add(fiber), \n                fiber);\n            }\n            function hasDataChanged(prevFiber, nextFiber) {\n                if (prevFiber.tag === ClassComponent) {\n                    if (prevFiber.stateNode.context !== nextFiber.stateNode.context) return !0;\n                    if (null != nextFiber.updateQueue && nextFiber.updateQueue.hasForceUpdate) return !0;\n                }\n                return prevFiber.memoizedProps !== nextFiber.memoizedProps || prevFiber.memoizedState !== nextFiber.memoizedState || prevFiber.ref !== nextFiber.ref || prevFiber._debugSource !== nextFiber._debugSource;\n            }\n            function flushPendingEvents() {\n                var events = pendingEvents;\n                pendingEvents = [];\n                for (var i = 0; i < events.length; i++) {\n                    var event = events[i];\n                    hook.emit(event.type, event);\n                }\n            }\n            function enqueueMount(fiber) {\n                pendingEvents.push({\n                    internalInstance: getOpaqueNode(fiber),\n                    data: getDataFiber(fiber, getOpaqueNode),\n                    renderer: rid,\n                    type: \"mount\"\n                });\n                var isRoot = fiber.tag === HostRoot;\n                isRoot && pendingEvents.push({\n                    internalInstance: getOpaqueNode(fiber),\n                    renderer: rid,\n                    type: \"root\"\n                });\n            }\n            function enqueueUpdateIfNecessary(fiber, hasChildOrderChanged) {\n                (hasChildOrderChanged || hasDataChanged(fiber.alternate, fiber)) && pendingEvents.push({\n                    internalInstance: getOpaqueNode(fiber),\n                    data: getDataFiber(fiber, getOpaqueNode),\n                    renderer: rid,\n                    type: \"update\"\n                });\n            }\n            function enqueueUnmount(fiber) {\n                var isRoot = fiber.tag === HostRoot, opaqueNode = getOpaqueNode(fiber), event = {\n                    internalInstance: opaqueNode,\n                    renderer: rid,\n                    type: \"unmount\"\n                };\n                isRoot ? pendingEvents.push(event) : pendingEvents.unshift(event), opaqueNodes[\"delete\"](opaqueNode);\n            }\n            function mountFiber(fiber) {\n                var node = fiber;\n                outer: for (;;) if (node.child) node.child[\"return\"] = node, node = node.child; else {\n                    if (enqueueMount(node), node == fiber) return;\n                    if (!node.sibling) {\n                        for (;node[\"return\"]; ) {\n                            if (node = node[\"return\"], enqueueMount(node), node == fiber) return;\n                            if (node.sibling) {\n                                node.sibling[\"return\"] = node[\"return\"], node = node.sibling;\n                                continue outer;\n                            }\n                        }\n                        return;\n                    }\n                    node.sibling[\"return\"] = node[\"return\"], node = node.sibling;\n                }\n            }\n            function updateFiber(nextFiber, prevFiber) {\n                var hasChildOrderChanged = !1;\n                if (nextFiber.child !== prevFiber.child) {\n                    for (var nextChild = nextFiber.child, prevChildAtSameIndex = prevFiber.child; nextChild; ) {\n                        if (nextChild.alternate) {\n                            var prevChild = nextChild.alternate;\n                            updateFiber(nextChild, prevChild), hasChildOrderChanged || prevChild === prevChildAtSameIndex || (hasChildOrderChanged = !0);\n                        } else mountFiber(nextChild), hasChildOrderChanged || (hasChildOrderChanged = !0);\n                        nextChild = nextChild.sibling, hasChildOrderChanged || null == prevChildAtSameIndex || (prevChildAtSameIndex = prevChildAtSameIndex.sibling);\n                    }\n                    hasChildOrderChanged || null == prevChildAtSameIndex || (hasChildOrderChanged = !0);\n                }\n                enqueueUpdateIfNecessary(nextFiber, hasChildOrderChanged);\n            }\n            function walkTree() {\n                hook.getFiberRoots(rid).forEach(function(root) {\n                    mountFiber(root.current);\n                }), flushPendingEvents();\n            }\n            function cleanup() {}\n            function handleCommitFiberUnmount(fiber) {\n                enqueueUnmount(fiber);\n            }\n            function handleCommitFiberRoot(root) {\n                var current = root.current, alternate = current.alternate;\n                if (alternate) {\n                    var wasMounted = null != alternate.memoizedState && null != alternate.memoizedState.element, isMounted = null != current.memoizedState && null != current.memoizedState.element;\n                    !wasMounted && isMounted ? mountFiber(current) : wasMounted && isMounted ? updateFiber(current, alternate) : wasMounted && !isMounted && enqueueUnmount(current);\n                } else mountFiber(current);\n                flushPendingEvents();\n            }\n            function getNativeFromReactElement(fiber) {\n                try {\n                    var opaqueNode = fiber, hostInstance = renderer.findHostInstanceByFiber(opaqueNode);\n                    return hostInstance;\n                } catch (err) {\n                    return null;\n                }\n            }\n            function getReactElementFromNative(hostInstance) {\n                var fiber = renderer.findFiberByHostInstance(hostInstance);\n                if (null != fiber) {\n                    var opaqueNode = getOpaqueNode(fiber);\n                    return opaqueNode;\n                }\n                return null;\n            }\n            var opaqueNodes = new Set(), pendingEvents = [];\n            return {\n                getNativeFromReactElement: getNativeFromReactElement,\n                getReactElementFromNative: getReactElementFromNative,\n                handleCommitFiberRoot: handleCommitFiberRoot,\n                handleCommitFiberUnmount: handleCommitFiberUnmount,\n                cleanup: cleanup,\n                walkTree: walkTree\n            };\n        }\n        var getDataFiber = __webpack_require__(41), _require = __webpack_require__(42), ClassComponent = _require.ClassComponent, HostRoot = _require.HostRoot;\n        module.exports = attachRendererFiber;\n    }, function(module, exports, __webpack_require__) {\n        \"use strict\";\n        function getDataFiber(fiber, getOpaqueNode) {\n            var type = fiber.type, key = fiber.key, ref = fiber.ref, source = fiber._debugSource, publicInstance = null, props = null, state = null, children = null, context = null, updater = null, nodeType = null, name = null, text = null;\n            switch (fiber.tag) {\n              case FunctionalComponent:\n              case ClassComponent:\n                nodeType = \"Composite\", name = getDisplayName(fiber.type), publicInstance = fiber.stateNode, \n                props = fiber.memoizedProps, state = fiber.memoizedState, null != publicInstance && (context = publicInstance.context, \n                context && 0 === Object.keys(context).length && (context = null));\n                var inst = publicInstance;\n                inst && (updater = {\n                    setState: inst.setState && inst.setState.bind(inst),\n                    forceUpdate: inst.forceUpdate && inst.forceUpdate.bind(inst),\n                    setInProps: inst.forceUpdate && setInProps.bind(null, fiber),\n                    setInState: inst.forceUpdate && setInState.bind(null, inst),\n                    setInContext: inst.forceUpdate && setInContext.bind(null, inst)\n                }), children = [];\n                break;\n\n              case HostRoot:\n                nodeType = \"Wrapper\", children = [];\n                break;\n\n              case HostPortal:\n                nodeType = \"Portal\", name = \"ReactPortal\", props = {\n                    target: fiber.stateNode.containerInfo\n                }, children = [];\n                break;\n\n              case HostComponent:\n                nodeType = \"Native\", name = fiber.type, publicInstance = fiber.stateNode, props = fiber.memoizedProps, \n                children = \"string\" == typeof props.children || \"number\" == typeof props.children ? props.children.toString() : [];\n                break;\n\n              case HostText:\n                nodeType = \"Text\", text = fiber.memoizedProps;\n                break;\n\n              case Fragment:\n                nodeType = \"Wrapper\", children = [];\n                break;\n\n              default:\n                nodeType = \"Native\", props = fiber.memoizedProps, name = \"TODO_NOT_IMPLEMENTED_YET\", \n                children = [];\n            }\n            if (Array.isArray(children)) for (var child = fiber.child; child; ) children.push(getOpaqueNode(child)), \n            child = child.sibling;\n            return {\n                nodeType: nodeType,\n                type: type,\n                key: key,\n                ref: ref,\n                source: source,\n                name: name,\n                props: props,\n                state: state,\n                context: context,\n                children: children,\n                text: text,\n                updater: updater,\n                publicInstance: publicInstance\n            };\n        }\n        function setInProps(fiber, path, value) {\n            fiber.pendingProps = copyWithSet(fiber.memoizedProps, path, value), fiber.stateNode.forceUpdate();\n        }\n        function setInState(inst, path, value) {\n            setIn(inst.state, path, value), inst.forceUpdate();\n        }\n        function setInContext(inst, path, value) {\n            setIn(inst.context, path, value), inst.forceUpdate();\n        }\n        function setIn(obj, path, value) {\n            var last = path.pop(), parent = path.reduce(function(obj_, attr) {\n                return obj_ ? obj_[attr] : null;\n            }, obj);\n            parent && (parent[last] = value);\n        }\n        var copyWithSet = __webpack_require__(37), getDisplayName = __webpack_require__(38), _require = __webpack_require__(42), FunctionalComponent = _require.FunctionalComponent, ClassComponent = _require.ClassComponent, HostRoot = _require.HostRoot, HostPortal = _require.HostPortal, HostComponent = _require.HostComponent, HostText = _require.HostText, Fragment = _require.Fragment;\n        module.exports = getDataFiber;\n    }, function(module, exports) {\n        \"use strict\";\n        module.exports = {\n            IndeterminateComponent: 0,\n            FunctionalComponent: 1,\n            ClassComponent: 2,\n            HostRoot: 3,\n            HostPortal: 4,\n            HostComponent: 5,\n            HostText: 6,\n            CoroutineComponent: 7,\n            CoroutineHandlerPhase: 8,\n            YieldComponent: 9,\n            Fragment: 10\n        };\n    }, function(module, exports, __webpack_require__) {\n        \"use strict\";\n        function _defineProperty(obj, key, value) {\n            return key in obj ? Object.defineProperty(obj, key, {\n                value: value,\n                enumerable: !0,\n                configurable: !0,\n                writable: !0\n            }) : obj[key] = value, obj;\n        }\n        function measureStyle(agent, bridge, resolveRNStyle, id) {\n            var node = agent.elementData.get(id);\n            if (!node || !node.props) return void bridge.send(\"rn-style:measure\", {});\n            var style = resolveRNStyle(node.props.style), instance = node.publicInstance;\n            return instance && instance.measure ? void instance.measure(function(x, y, width, height, left, top) {\n                var margin = style && resolveBoxStyle(\"margin\", style) || blank, padding = style && resolveBoxStyle(\"padding\", style) || blank;\n                bridge.send(\"rn-style:measure\", {\n                    style: style,\n                    measuredLayout: {\n                        x: x,\n                        y: y,\n                        width: width,\n                        height: height,\n                        left: left,\n                        top: top,\n                        margin: margin,\n                        padding: padding\n                    }\n                });\n            }) : void bridge.send(\"rn-style:measure\", {\n                style: style\n            });\n        }\n        function shallowClone(obj) {\n            var nobj = {};\n            for (var n in obj) nobj[n] = obj[n];\n            return nobj;\n        }\n        function renameStyle(agent, id, oldName, newName, val) {\n            var data = agent.elementData.get(id), newStyle = _defineProperty({}, newName, val);\n            if (!data || !data.updater || !data.updater.setInProps) {\n                var el = agent.internalInstancesById.get(id);\n                return void (el && el.setNativeProps ? el.setNativeProps({\n                    style: newStyle\n                }) : console.error(\"Unable to set style for this element... (no forceUpdate or setNativeProps)\"));\n            }\n            var customStyle, style = data && data.props && data.props.style;\n            Array.isArray(style) ? \"object\" !== _typeof(style[style.length - 1]) || Array.isArray(style[style.length - 1]) ? (style = style.concat([ newStyle ]), \n            data.updater.setInProps([ \"style\" ], style)) : (customStyle = shallowClone(style[style.length - 1]), \n            delete customStyle[oldName], customStyle[newName] = val, data.updater.setInProps([ \"style\", style.length - 1 ], customStyle)) : \"object\" === (\"undefined\" == typeof style ? \"undefined\" : _typeof(style)) ? (customStyle = shallowClone(style), \n            delete customStyle[oldName], customStyle[newName] = val, data.updater.setInProps([ \"style\" ], customStyle)) : (style = [ style, newStyle ], \n            data.updater.setInProps([ \"style\" ], style)), agent.emit(\"hideHighlight\");\n        }\n        function setStyle(agent, id, attr, val) {\n            var data = agent.elementData.get(id), newStyle = _defineProperty({}, attr, val);\n            if (!data || !data.updater || !data.updater.setInProps) {\n                var el = agent.internalInstancesById.get(id);\n                return void (el && el.setNativeProps ? el.setNativeProps({\n                    style: newStyle\n                }) : console.error(\"Unable to set style for this element... (no forceUpdate or setNativeProps)\"));\n            }\n            var style = data.props && data.props.style;\n            Array.isArray(style) ? \"object\" !== _typeof(style[style.length - 1]) || Array.isArray(style[style.length - 1]) ? (style = style.concat([ newStyle ]), \n            data.updater.setInProps([ \"style\" ], style)) : data.updater.setInProps([ \"style\", style.length - 1, attr ], val) : (style = [ style, newStyle ], \n            data.updater.setInProps([ \"style\" ], style)), agent.emit(\"hideHighlight\");\n        }\n        var _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function(obj) {\n            return typeof obj;\n        } : function(obj) {\n            return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n        }, resolveBoxStyle = __webpack_require__(44);\n        module.exports = function(bridge, agent, resolveRNStyle) {\n            bridge.onCall(\"rn-style:get\", function(id) {\n                var node = agent.elementData.get(id);\n                return node && node.props ? resolveRNStyle(node.props.style) : null;\n            }), bridge.on(\"rn-style:measure\", function(id) {\n                measureStyle(agent, bridge, resolveRNStyle, id);\n            }), bridge.on(\"rn-style:rename\", function(_ref) {\n                var id = _ref.id, oldName = _ref.oldName, newName = _ref.newName, val = _ref.val;\n                renameStyle(agent, id, oldName, newName, val), setTimeout(function() {\n                    return measureStyle(agent, bridge, resolveRNStyle, id);\n                });\n            }), bridge.on(\"rn-style:set\", function(_ref2) {\n                var id = _ref2.id, attr = _ref2.attr, val = _ref2.val;\n                setStyle(agent, id, attr, val), setTimeout(function() {\n                    return measureStyle(agent, bridge, resolveRNStyle, id);\n                });\n            });\n        };\n        var blank = {\n            top: 0,\n            left: 0,\n            right: 0,\n            bottom: 0\n        };\n    }, function(module, exports) {\n        \"use strict\";\n        function resolveBoxStyle(prefix, style) {\n            var res = {}, subs = [ \"top\", \"left\", \"bottom\", \"right\" ], set = !1;\n            return subs.forEach(function(sub) {\n                res[sub] = style[prefix] || 0;\n            }), style[prefix] && (set = !0), style[prefix + \"Vertical\"] && (res.top = res.bottom = style[prefix + \"Vertical\"], \n            set = !0), style[prefix + \"Horizontal\"] && (res.left = res.right = style[prefix + \"Horizontal\"], \n            set = !0), subs.forEach(function(sub) {\n                var val = style[prefix + capFirst(sub)];\n                val && (res[sub] = val, set = !0);\n            }), set ? res : null;\n        }\n        function capFirst(text) {\n            return text[0].toUpperCase() + text.slice(1);\n        }\n        module.exports = resolveBoxStyle;\n    }, function(module, exports) {\n        \"use strict\";\n        function decorate(obj, attr, fn) {\n            var old = obj[attr];\n            return obj[attr] = function() {\n                var res = old.apply(this, arguments);\n                return fn.apply(this, arguments), res;\n            }, function() {\n                obj[attr] = old;\n            };\n        }\n        var subscriptionEnabled = !1;\n        module.exports = function(bridge, agent, hook) {\n            function sendStoreData() {\n                subscriptionEnabled && bridge.send(\"relay:store\", {\n                    id: \"relay:store\",\n                    nodes: DefaultStoreData.getNodeData()\n                });\n            }\n            var shouldEnable = !!hook._relayInternals;\n            if (bridge.onCall(\"relay:check\", function() {\n                return shouldEnable;\n            }), shouldEnable) {\n                var _hook$_relayInternals = hook._relayInternals, DefaultStoreData = _hook$_relayInternals.DefaultStoreData, setRequestListener = _hook$_relayInternals.setRequestListener;\n                bridge.onCall(\"relay:store:enable\", function() {\n                    subscriptionEnabled = !0, sendStoreData();\n                }), bridge.onCall(\"relay:store:disable\", function() {\n                    subscriptionEnabled = !1;\n                }), sendStoreData(), decorate(DefaultStoreData, \"handleUpdatePayload\", sendStoreData), \n                decorate(DefaultStoreData, \"handleQueryPayload\", sendStoreData);\n                var removeListener = setRequestListener(function(event, data) {\n                    bridge.send(event, data);\n                });\n                hook.on(\"shutdown\", removeListener);\n            }\n        };\n    }, function(module, exports, __webpack_require__) {\n        \"use strict\";\n        var Highlighter = __webpack_require__(47);\n        module.exports = function(agent) {\n            var hl = new Highlighter(window, function(node) {\n                agent.selectFromDOMNode(node);\n            });\n            agent.on(\"highlight\", function(data) {\n                return hl.highlight(data.node, data.name);\n            }), agent.on(\"highlightMany\", function(nodes) {\n                return hl.highlightMany(nodes);\n            }), agent.on(\"hideHighlight\", function() {\n                return hl.hideHighlight();\n            }), agent.on(\"refreshMultiOverlay\", function() {\n                return hl.refreshMultiOverlay();\n            }), agent.on(\"startInspecting\", function() {\n                return hl.startInspecting();\n            }), agent.on(\"stopInspecting\", function() {\n                return hl.stopInspecting();\n            }), agent.on(\"shutdown\", function() {\n                hl.remove();\n            });\n        };\n    }, function(module, exports, __webpack_require__) {\n        \"use strict\";\n        function _classCallCheck(instance, Constructor) {\n            if (!(instance instanceof Constructor)) throw new TypeError(\"Cannot call a class as a function\");\n        }\n        function captureSubscription(obj, evt, cb) {\n            return obj.addEventListener(evt, cb, !0), function() {\n                return obj.removeEventListener(evt, cb, !0);\n            };\n        }\n        function makeMagnifier() {\n            var button = window.document.createElement(\"button\");\n            return button.innerHTML = \"&#128269;\", button.style.backgroundColor = \"transparent\", \n            button.style.border = \"none\", button.style.outline = \"none\", button.style.cursor = \"pointer\", \n            button.style.position = \"fixed\", button.style.bottom = \"10px\", button.style.right = \"10px\", \n            button.style.fontSize = \"30px\", button.style.zIndex = 1e7, button;\n        }\n        var _createClass = function() {\n            function defineProperties(target, props) {\n                for (var i = 0; i < props.length; i++) {\n                    var descriptor = props[i];\n                    descriptor.enumerable = descriptor.enumerable || !1, descriptor.configurable = !0, \n                    \"value\" in descriptor && (descriptor.writable = !0), Object.defineProperty(target, descriptor.key, descriptor);\n                }\n            }\n            return function(Constructor, protoProps, staticProps) {\n                return protoProps && defineProperties(Constructor.prototype, protoProps), staticProps && defineProperties(Constructor, staticProps), \n                Constructor;\n            };\n        }(), Overlay = __webpack_require__(48), MultiOverlay = __webpack_require__(49), Highlighter = function() {\n            function Highlighter(win, onSelect) {\n                _classCallCheck(this, Highlighter), this._win = win, this._onSelect = onSelect, \n                this._overlay = null, this._multiOverlay = null, this._subs = [];\n            }\n            return _createClass(Highlighter, [ {\n                key: \"startInspecting\",\n                value: function() {\n                    this._inspecting = !0, this._subs = [ captureSubscription(this._win, \"mouseover\", this.onHover.bind(this)), captureSubscription(this._win, \"mousedown\", this.onMouseDown.bind(this)), captureSubscription(this._win, \"click\", this.onClick.bind(this)) ];\n                }\n            }, {\n                key: \"stopInspecting\",\n                value: function() {\n                    this._subs.forEach(function(unsub) {\n                        return unsub();\n                    }), this.hideHighlight();\n                }\n            }, {\n                key: \"remove\",\n                value: function() {\n                    this.stopInspecting(), this._button && this._button.parentNode && this._button.parentNode.removeChild(this._button);\n                }\n            }, {\n                key: \"highlight\",\n                value: function(node, name) {\n                    this.removeMultiOverlay(), node.nodeType !== Node.COMMENT_NODE && (this._overlay || (this._overlay = new Overlay(this._win)), \n                    this._overlay.inspect(node, name));\n                }\n            }, {\n                key: \"highlightMany\",\n                value: function(nodes) {\n                    this.removeOverlay(), this._multiOverlay || (this._multiOverlay = new MultiOverlay(this._win)), \n                    this._multiOverlay.highlightMany(nodes);\n                }\n            }, {\n                key: \"hideHighlight\",\n                value: function() {\n                    this._inspecting = !1, this.removeOverlay(), this.removeMultiOverlay();\n                }\n            }, {\n                key: \"refreshMultiOverlay\",\n                value: function() {\n                    this._multiOverlay && this._multiOverlay.refresh();\n                }\n            }, {\n                key: \"removeOverlay\",\n                value: function() {\n                    this._overlay && (this._overlay.remove(), this._overlay = null);\n                }\n            }, {\n                key: \"removeMultiOverlay\",\n                value: function() {\n                    this._multiOverlay && (this._multiOverlay.remove(), this._multiOverlay = null);\n                }\n            }, {\n                key: \"onMouseDown\",\n                value: function(evt) {\n                    this._inspecting && (evt.preventDefault(), evt.stopPropagation(), evt.cancelBubble = !0, \n                    this._onSelect(evt.target));\n                }\n            }, {\n                key: \"onClick\",\n                value: function(evt) {\n                    this._inspecting && (this._subs.forEach(function(unsub) {\n                        return unsub();\n                    }), evt.preventDefault(), evt.stopPropagation(), evt.cancelBubble = !0, this.hideHighlight());\n                }\n            }, {\n                key: \"onHover\",\n                value: function(evt) {\n                    this._inspecting && (evt.preventDefault(), evt.stopPropagation(), evt.cancelBubble = !0, \n                    this.highlight(evt.target));\n                }\n            }, {\n                key: \"injectButton\",\n                value: function() {\n                    this._button = makeMagnifier(), this._button.onclick = this.startInspecting.bind(this), \n                    this._win.document.body.appendChild(this._button);\n                }\n            } ]), Highlighter;\n        }();\n        module.exports = Highlighter;\n    }, function(module, exports, __webpack_require__) {\n        \"use strict\";\n        function _classCallCheck(instance, Constructor) {\n            if (!(instance instanceof Constructor)) throw new TypeError(\"Cannot call a class as a function\");\n        }\n        function findTipPos(dims, win) {\n            var top, tipHeight = 20, margin = 5;\n            return top = dims.top + dims.height + tipHeight <= win.innerHeight ? dims.top + dims.height < 0 ? margin : dims.top + dims.height + margin : dims.top - tipHeight <= win.innerHeight ? dims.top - tipHeight - margin < margin ? margin : dims.top - tipHeight - margin : win.innerHeight - tipHeight - margin, \n            top += \"px\", dims.left < 0 ? {\n                top: top,\n                left: margin\n            } : dims.left + 200 > win.innerWidth ? {\n                top: top,\n                right: margin\n            } : {\n                top: top,\n                left: dims.left + margin + \"px\"\n            };\n        }\n        function getElementDimensions(domElement) {\n            var calculatedStyle = window.getComputedStyle(domElement);\n            return {\n                borderLeft: +calculatedStyle.borderLeftWidth.match(/[0-9]*/)[0],\n                borderRight: +calculatedStyle.borderRightWidth.match(/[0-9]*/)[0],\n                borderTop: +calculatedStyle.borderTopWidth.match(/[0-9]*/)[0],\n                borderBottom: +calculatedStyle.borderBottomWidth.match(/[0-9]*/)[0],\n                marginLeft: +calculatedStyle.marginLeft.match(/[0-9]*/)[0],\n                marginRight: +calculatedStyle.marginRight.match(/[0-9]*/)[0],\n                marginTop: +calculatedStyle.marginTop.match(/[0-9]*/)[0],\n                marginBottom: +calculatedStyle.marginBottom.match(/[0-9]*/)[0],\n                paddingLeft: +calculatedStyle.paddingLeft.match(/[0-9]*/)[0],\n                paddingRight: +calculatedStyle.paddingRight.match(/[0-9]*/)[0],\n                paddingTop: +calculatedStyle.paddingTop.match(/[0-9]*/)[0],\n                paddingBottom: +calculatedStyle.paddingBottom.match(/[0-9]*/)[0]\n            };\n        }\n        function getOwnerWindow(node) {\n            return node.ownerDocument ? node.ownerDocument.defaultView : null;\n        }\n        function getOwnerIframe(node) {\n            var nodeWindow = getOwnerWindow(node);\n            return nodeWindow ? nodeWindow.frameElement : null;\n        }\n        function getBoundingClientRectWithBorderOffset(node) {\n            var dimensions = getElementDimensions(node);\n            return mergeRectOffsets([ node.getBoundingClientRect(), {\n                top: dimensions.borderTop,\n                left: dimensions.borderLeft,\n                bottom: dimensions.borderBottom,\n                right: dimensions.borderRight,\n                width: 0,\n                height: 0\n            } ]);\n        }\n        function mergeRectOffsets(rects) {\n            return rects.reduce(function(previousRect, rect) {\n                return null == previousRect ? rect : {\n                    top: previousRect.top + rect.top,\n                    left: previousRect.left + rect.left,\n                    width: previousRect.width,\n                    height: previousRect.height,\n                    bottom: previousRect.bottom + rect.bottom,\n                    right: previousRect.right + rect.right\n                };\n            });\n        }\n        function getNestedBoundingClientRect(node, boundaryWindow) {\n            var ownerIframe = getOwnerIframe(node);\n            if (ownerIframe && ownerIframe !== boundaryWindow) {\n                for (var rects = [ node.getBoundingClientRect() ], currentIframe = ownerIframe, onlyOneMore = !1; currentIframe; ) {\n                    var rect = getBoundingClientRectWithBorderOffset(currentIframe);\n                    if (rects.push(rect), currentIframe = getOwnerIframe(currentIframe), onlyOneMore) break;\n                    currentIframe && getOwnerWindow(currentIframe) === boundaryWindow && (onlyOneMore = !0);\n                }\n                return mergeRectOffsets(rects);\n            }\n            return node.getBoundingClientRect();\n        }\n        function boxWrap(dims, what, node) {\n            assign(node.style, {\n                borderTopWidth: dims[what + \"Top\"] + \"px\",\n                borderLeftWidth: dims[what + \"Left\"] + \"px\",\n                borderRightWidth: dims[what + \"Right\"] + \"px\",\n                borderBottomWidth: dims[what + \"Bottom\"] + \"px\",\n                borderStyle: \"solid\"\n            });\n        }\n        var _createClass = function() {\n            function defineProperties(target, props) {\n                for (var i = 0; i < props.length; i++) {\n                    var descriptor = props[i];\n                    descriptor.enumerable = descriptor.enumerable || !1, descriptor.configurable = !0, \n                    \"value\" in descriptor && (descriptor.writable = !0), Object.defineProperty(target, descriptor.key, descriptor);\n                }\n            }\n            return function(Constructor, protoProps, staticProps) {\n                return protoProps && defineProperties(Constructor.prototype, protoProps), staticProps && defineProperties(Constructor, staticProps), \n                Constructor;\n            };\n        }(), assign = __webpack_require__(3), Overlay = function() {\n            function Overlay(window) {\n                _classCallCheck(this, Overlay);\n                var doc = window.document;\n                this.win = window, this.container = doc.createElement(\"div\"), this.node = doc.createElement(\"div\"), \n                this.border = doc.createElement(\"div\"), this.padding = doc.createElement(\"div\"), \n                this.content = doc.createElement(\"div\"), this.border.style.borderColor = overlayStyles.border, \n                this.padding.style.borderColor = overlayStyles.padding, this.content.style.backgroundColor = overlayStyles.background, \n                assign(this.node.style, {\n                    borderColor: overlayStyles.margin,\n                    pointerEvents: \"none\",\n                    position: \"fixed\"\n                }), this.tip = doc.createElement(\"div\"), assign(this.tip.style, {\n                    border: \"1px solid #aaa\",\n                    backgroundColor: \"rgb(255, 255, 178)\",\n                    fontFamily: \"sans-serif\",\n                    color: \"orange\",\n                    padding: \"3px 5px\",\n                    position: \"fixed\",\n                    fontSize: \"10px\"\n                }), this.nameSpan = doc.createElement(\"span\"), this.tip.appendChild(this.nameSpan), \n                assign(this.nameSpan.style, {\n                    color: \"rgb(136, 18, 128)\",\n                    marginRight: \"5px\"\n                }), this.dimSpan = doc.createElement(\"span\"), this.tip.appendChild(this.dimSpan), \n                assign(this.dimSpan.style, {\n                    color: \"#888\"\n                }), this.container.style.zIndex = 1e7, this.node.style.zIndex = 1e7, this.tip.style.zIndex = 1e7, \n                this.container.appendChild(this.node), this.container.appendChild(this.tip), this.node.appendChild(this.border), \n                this.border.appendChild(this.padding), this.padding.appendChild(this.content), doc.body.appendChild(this.container);\n            }\n            return _createClass(Overlay, [ {\n                key: \"remove\",\n                value: function() {\n                    this.container.parentNode && this.container.parentNode.removeChild(this.container);\n                }\n            }, {\n                key: \"inspect\",\n                value: function(node, name) {\n                    if (node.nodeType === Node.ELEMENT_NODE) {\n                        var box = getNestedBoundingClientRect(node, this.win), dims = getElementDimensions(node);\n                        boxWrap(dims, \"margin\", this.node), boxWrap(dims, \"border\", this.border), boxWrap(dims, \"padding\", this.padding), \n                        assign(this.content.style, {\n                            height: box.height - dims.borderTop - dims.borderBottom - dims.paddingTop - dims.paddingBottom + \"px\",\n                            width: box.width - dims.borderLeft - dims.borderRight - dims.paddingLeft - dims.paddingRight + \"px\"\n                        }), assign(this.node.style, {\n                            top: box.top - dims.marginTop + \"px\",\n                            left: box.left - dims.marginLeft + \"px\"\n                        }), this.nameSpan.textContent = name || node.nodeName.toLowerCase(), this.dimSpan.textContent = box.width + \"px  \" + box.height + \"px\";\n                        var tipPos = findTipPos({\n                            top: box.top - dims.marginTop,\n                            left: box.left - dims.marginLeft,\n                            height: box.height + dims.marginTop + dims.marginBottom,\n                            width: box.width + dims.marginLeft + dims.marginRight\n                        }, this.win);\n                        assign(this.tip.style, tipPos);\n                    }\n                }\n            } ]), Overlay;\n        }(), overlayStyles = {\n            background: \"rgba(120, 170, 210, 0.7)\",\n            padding: \"rgba(77, 200, 0, 0.3)\",\n            margin: \"rgba(255, 155, 0, 0.3)\",\n            border: \"rgba(255, 200, 50, 0.3)\"\n        };\n        module.exports = Overlay;\n    }, function(module, exports, __webpack_require__) {\n        \"use strict\";\n        function _classCallCheck(instance, Constructor) {\n            if (!(instance instanceof Constructor)) throw new TypeError(\"Cannot call a class as a function\");\n        }\n        var _createClass = function() {\n            function defineProperties(target, props) {\n                for (var i = 0; i < props.length; i++) {\n                    var descriptor = props[i];\n                    descriptor.enumerable = descriptor.enumerable || !1, descriptor.configurable = !0, \n                    \"value\" in descriptor && (descriptor.writable = !0), Object.defineProperty(target, descriptor.key, descriptor);\n                }\n            }\n            return function(Constructor, protoProps, staticProps) {\n                return protoProps && defineProperties(Constructor.prototype, protoProps), staticProps && defineProperties(Constructor, staticProps), \n                Constructor;\n            };\n        }(), assign = __webpack_require__(3), MultiOverlay = function() {\n            function MultiOverlay(window) {\n                _classCallCheck(this, MultiOverlay), this.win = window;\n                var doc = window.document;\n                this.container = doc.createElement(\"div\"), doc.body.appendChild(this.container), \n                this._currentNodes = null;\n            }\n            return _createClass(MultiOverlay, [ {\n                key: \"highlightMany\",\n                value: function(nodes) {\n                    var _this = this;\n                    this._currentNodes = nodes, this.container.innerHTML = \"\", nodes.forEach(function(node) {\n                        var div = _this.win.document.createElement(\"div\");\n                        if (\"function\" == typeof node.getBoundingClientRect) {\n                            var box = node.getBoundingClientRect();\n                            box.bottom < 0 || box.top > window.innerHeight || (assign(div.style, {\n                                top: box.top + \"px\",\n                                left: box.left + \"px\",\n                                width: box.width + \"px\",\n                                height: box.height + \"px\",\n                                border: \"2px dotted rgba(200, 100, 100, .8)\",\n                                boxSizing: \"border-box\",\n                                backgroundColor: \"rgba(200, 100, 100, .2)\",\n                                position: \"fixed\",\n                                zIndex: 1e7,\n                                pointerEvents: \"none\"\n                            }), _this.container.appendChild(div));\n                        }\n                    });\n                }\n            }, {\n                key: \"refresh\",\n                value: function() {\n                    this._currentNodes && this.highlightMany(this._currentNodes);\n                }\n            }, {\n                key: \"remove\",\n                value: function() {\n                    this.container.parentNode && (this.container.parentNode.removeChild(this.container), \n                    this._currentNodes = null);\n                }\n            } ]), MultiOverlay;\n        }();\n        module.exports = MultiOverlay;\n    } ]);\n});\n//# sourceMappingURL=backend.js.map","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule flattenStyle\n * @flow\n */\n'use strict';\n\nvar ReactNativePropRegistry = require('ReactNativePropRegistry');\nvar invariant = require('fbjs/lib/invariant');\n\nimport type { StyleObj } from 'StyleSheetTypes';\n\nfunction getStyle(style) {\n  if (typeof style === 'number') {\n    return ReactNativePropRegistry.getByID(style);\n  }\n  return style;\n}\n\nfunction flattenStyle(style: ?StyleObj): ?Object {\n  if (!style) {\n    return undefined;\n  }\n  invariant(style !== true, 'style may be false but not true');\n\n  if (!Array.isArray(style)) {\n    return getStyle(style);\n  }\n\n  var result = {};\n  for (var i = 0, styleLength = style.length; i < styleLength; ++i) {\n    var computedStyle = flattenStyle(style[i]);\n    if (computedStyle) {\n      for (var key in computedStyle) {\n        result[key] = computedStyle[key];\n      }\n    }\n  }\n  return result;\n}\n\nmodule.exports = flattenStyle;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule ReactNativePropRegistry\n * @flow\n */\n'use strict';\n\nvar objects = {};\nvar uniqueID = 1;\nvar emptyObject = {};\n\nclass ReactNativePropRegistry {\n  static register(object: Object): number {\n    var id = ++uniqueID;\n    if (__DEV__) {\n      Object.freeze(object);\n    }\n    objects[id] = object;\n    return id;\n  }\n\n  static getByID(id: number): Object {\n    if (!id) {\n      // Used in the style={[condition && id]} pattern,\n      // we want it to be a no-op when the value is false or null\n      return emptyObject;\n    }\n\n    var object = objects[id];\n    if (!object) {\n      console.warn('Invalid style with id `' + id + '`. Skipping ...');\n      return emptyObject;\n    }\n    return object;\n  }\n}\n\nmodule.exports = ReactNativePropRegistry;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * Utility class to provide the component owner hierarchy to native code for\n * debugging purposes.\n *\n * @providesModule RCTDebugComponentOwnership\n * @flow\n */\n\n'use strict';\n\nvar BatchedBridge = require('BatchedBridge');\n\nvar RCTDebugComponentOwnership = {\n  /**\n   * Asynchronously returns the owner hierarchy as an array of strings. Request id is\n   * passed along to the native module so that the native module can identify the\n   * particular call instance.\n   *\n   * Example returned owner hierarchy: ['RootView', 'Dialog', 'TitleView', 'Text']\n   */\n  getOwnerHierarchy: function(requestID: number, tag: number) {\n    // Consider cleaning up these unused modules in a separate diff.\n    throw new Error(\n      'This seems to be unused. Will disable until it is needed again.'\n    );\n  },\n};\n\nBatchedBridge.registerCallableModule(\n  'RCTDebugComponentOwnership',\n  RCTDebugComponentOwnership\n);\n\nmodule.exports = RCTDebugComponentOwnership;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule JSInspector\n * @flow\n */\n'use strict';\n\nimport type EventSender from 'InspectorAgent';\n\ninterface Agent {\n  constructor(eventSender: EventSender): void\n}\n\n// Flow doesn't support static declarations in interface\ntype AgentClass = Class<Agent> & { DOMAIN: string };\n\ndeclare function __registerInspectorAgent(type: AgentClass): void;\ndeclare function __inspectorTimestamp(): number;\n\nconst JSInspector = {\n  registerAgent(type: AgentClass) {\n    if (global.__registerInspectorAgent) {\n      global.__registerInspectorAgent(type);\n    }\n  },\n  getTimestamp(): number {\n    return global.__inspectorTimestamp();\n  },\n};\n\nmodule.exports = JSInspector;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule NetworkAgent\n * @flow\n */\n'use strict';\n\nconst InspectorAgent = require('InspectorAgent');\nconst JSInspector = require('JSInspector');\nconst Map = require('Map');\nconst XMLHttpRequest = require('XMLHttpRequest');\n\nimport type EventSender from 'InspectorAgent';\n\ntype RequestId = string;\n\ntype LoaderId = string;\ntype FrameId = string;\ntype Timestamp = number;\n\ntype Headers = Object;\n\n// We don't currently care about this\ntype ResourceTiming = null;\n\ntype ResourceType =\n  'Document' |\n  'Stylesheet' |\n  'Image' |\n  'Media' |\n  'Font' |\n  'Script' |\n  'TextTrack' |\n  'XHR' |\n  'Fetch' |\n  'EventSource' |\n  'WebSocket' |\n  'Manifest' |\n  'Other';\n\ntype SecurityState =\n  'unknown' |\n  'neutral' |\n  'insecure' |\n  'warning' |\n  'secure' |\n  'info';\ntype BlockedReason =\n  'csp' |\n  'mixed-content' |\n  'origin' |\n  'inspector' |\n  'subresource-filter' |\n  'other';\n\ntype StackTrace = null;\n\ntype Initiator = {\n  type: 'script' | 'other',\n  stackTrace?: StackTrace,\n  url?: string,\n  lineNumber?: number\n}\n\ntype ResourcePriority = 'VeryLow' | 'Low' | 'Medium' | 'High' | 'VeryHigh';\n\ntype Request = {\n  url: string,\n  method: string,\n  headers: Headers,\n  postData?: string,\n  mixedContentType?: 'blockable' | 'optionally-blockable' | 'none',\n  initialPriority: ResourcePriority,\n};\n\ntype Response = {\n  url: string,\n  status: number,\n  statusText: string,\n  headers: Headers,\n  headersText?: string,\n  mimeType: string,\n  requestHeaders?: Headers,\n  requestHeadersText?: string,\n  connectionReused: boolean,\n  connectionId: number,\n  fromDiskCache?: boolean,\n  encodedDataLength: number,\n  timing?: ResourceTiming,\n  securityState: SecurityState,\n};\n\ntype RequestWillBeSentEvent = {\n  requestId: RequestId,\n  frameId: FrameId,\n  loaderId: LoaderId,\n  documentURL: string,\n  request: Request,\n  timestamp: Timestamp,\n  initiator: Initiator,\n  redirectResponse?: Response,\n  // This is supposed to be optional but the inspector crashes without it,\n  // see https://bugs.chromium.org/p/chromium/issues/detail?id=653138\n  type: ResourceType,\n};\n\ntype ResponseReceivedEvent = {\n  requestId: RequestId,\n  frameId: FrameId,\n  loaderId: LoaderId,\n  timestamp: Timestamp,\n  type: ResourceType,\n  response: Response,\n};\n\ntype DataReceived = {\n  requestId: RequestId,\n  timestamp: Timestamp,\n  dataLength: number,\n  encodedDataLength: number,\n};\n\ntype LoadingFinishedEvent = {\n  requestId: RequestId,\n  timestamp: Timestamp,\n  encodedDataLength: number,\n};\n\ntype LoadingFailedEvent = {\n  requestId: RequestId,\n  timestamp: Timestamp,\n  type: ResourceType,\n  errorText: string,\n  canceled?: boolean,\n  blockedReason?: BlockedReason,\n};\n\nclass Interceptor {\n  _agent: NetworkAgent;\n  _requests: Map<string, string>;\n\n  constructor(agent: NetworkAgent) {\n    this._agent = agent;\n    this._requests = new Map();\n  }\n\n  getData(requestId: string): ?string {\n    return this._requests.get(requestId);\n  }\n\n  requestSent(\n    id: number,\n    url: string,\n    method: string,\n    headers: Object) {\n    const requestId = String(id);\n    this._requests.set(requestId, '');\n\n    const request: Request = {\n      url,\n      method,\n      headers,\n      initialPriority: 'Medium',\n    };\n    const event: RequestWillBeSentEvent = {\n      requestId,\n      documentURL: '',\n      frameId: '1',\n      loaderId: '1',\n      request,\n      timestamp: JSInspector.getTimestamp(),\n      initiator: {\n        // TODO(blom): Get stack trace\n        // If type is 'script' the inspector will try to execute\n        // `stack.callFrames[0]`\n        type: 'other',\n      },\n      type: 'Other',\n    };\n    this._agent.sendEvent('requestWillBeSent', event);\n  }\n\n  responseReceived(\n    id: number,\n    url: string,\n    status: number,\n    headers: Object) {\n    const requestId = String(id);\n    const response: Response = {\n      url,\n      status,\n      statusText: String(status),\n      headers,\n      // TODO(blom) refined headers, can we get this?\n      requestHeaders: {},\n      mimeType: this._getMimeType(headers),\n      connectionReused: false,\n      connectionId: -1,\n      encodedDataLength: 0,\n      securityState: 'unknown',\n    };\n\n    const event: ResponseReceivedEvent = {\n      requestId,\n      frameId: '1',\n      loaderId: '1',\n      timestamp: JSInspector.getTimestamp(),\n      type: 'Other',\n      response,\n    };\n    this._agent.sendEvent('responseReceived', event);\n  }\n\n  dataReceived(\n    id: number,\n    data: string) {\n    const requestId = String(id);\n    const existingData = this._requests.get(requestId) || '';\n    this._requests.set(requestId, existingData.concat(data));\n    const event: DataReceived = {\n      requestId,\n      timestamp: JSInspector.getTimestamp(),\n      dataLength: data.length,\n      encodedDataLength: data.length,\n    };\n    this._agent.sendEvent('dataReceived', event);\n  }\n\n  loadingFinished(\n    id: number,\n    encodedDataLength: number) {\n    const event: LoadingFinishedEvent = {\n      requestId: String(id),\n      timestamp: JSInspector.getTimestamp(),\n      encodedDataLength: encodedDataLength,\n    };\n    this._agent.sendEvent('loadingFinished', event);\n  }\n\n  loadingFailed(\n      id: number,\n      error: string) {\n    const event: LoadingFailedEvent = {\n      requestId: String(id),\n      timestamp: JSInspector.getTimestamp(),\n      type: 'Other',\n      errorText: error,\n    };\n    this._agent.sendEvent('loadingFailed', event);\n  }\n\n  _getMimeType(headers: Object): string {\n    const contentType = headers['Content-Type'] || '';\n    return contentType.split(';')[0];\n  }\n}\n\ntype EnableArgs = {\n  maxResourceBufferSize?: number,\n  maxTotalBufferSize?: number\n};\n\nclass NetworkAgent extends InspectorAgent {\n  static DOMAIN = 'Network';\n\n  _sendEvent: EventSender;\n  _interceptor: ?Interceptor;\n\n  enable({ maxResourceBufferSize, maxTotalBufferSize }: EnableArgs) {\n    this._interceptor = new Interceptor(this);\n    XMLHttpRequest.setInterceptor(this._interceptor);\n  }\n\n  disable() {\n    XMLHttpRequest.setInterceptor(null);\n    this._interceptor = null;\n  }\n\n  getResponseBody({requestId}: {requestId: RequestId})\n      : {body: ?string, base64Encoded: boolean} {\n    return {body: this.interceptor().getData(requestId), base64Encoded: false};\n  }\n\n  interceptor(): Interceptor {\n    if (this._interceptor) {\n      return this._interceptor;\n    } else {\n      throw Error('_interceptor can not be null');\n    }\n\n  }\n}\n\nmodule.exports = NetworkAgent;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule InspectorAgent\n * @flow\n */\n'use strict';\n\nexport type EventSender = (name: string, params: Object) => void;\n\nclass InspectorAgent {\n  _eventSender: EventSender;\n\n  constructor(eventSender: EventSender) {\n    this._eventSender = eventSender;\n  }\n\n  sendEvent(name: string, params: Object) {\n    this._eventSender(name, params);\n  }\n}\n\nmodule.exports = InspectorAgent;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule RCTNativeAppEventEmitter\n * @flow\n */\n'use strict';\n\nconst BatchedBridge = require('BatchedBridge');\nconst RCTDeviceEventEmitter = require('RCTDeviceEventEmitter');\n\n/**\n * Deprecated - subclass NativeEventEmitter to create granular event modules instead of\n * adding all event listeners directly to RCTNativeAppEventEmitter.\n */\nconst RCTNativeAppEventEmitter = RCTDeviceEventEmitter;\n\nBatchedBridge.registerCallableModule(\n  'RCTNativeAppEventEmitter',\n  RCTNativeAppEventEmitter\n);\n\nmodule.exports = RCTNativeAppEventEmitter;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule PerformanceLogger\n */\n'use strict';\n\nconst BatchedBridge = require('BatchedBridge');\nconst performanceNow = global.nativePerformanceNow || require('fbjs/lib/performanceNow');\nconst Systrace = require('Systrace');\n\nvar timespans = {};\nvar extras = {};\nvar cookies = {};\n\nconst PRINT_TO_CONSOLE = false;\n\n/**\n * This is meant to collect and log performance data in production, which means\n * it needs to have minimal overhead.\n */\nvar PerformanceLogger = {\n  addTimespan(key, lengthInMs, description) {\n    if (timespans[key]) {\n      if (__DEV__) {\n        console.log(\n          'PerformanceLogger: Attempting to add a timespan that already exists ',\n          key\n        );\n      }\n      return;\n    }\n\n    timespans[key] = {\n      description: description,\n      totalTime: lengthInMs,\n    };\n  },\n\n  startTimespan(key, description) {\n    if (timespans[key]) {\n      if (__DEV__) {\n        console.log(\n          'PerformanceLogger: Attempting to start a timespan that already exists ',\n          key,\n        );\n      }\n      return;\n    }\n\n    timespans[key] = {\n      description: description,\n      startTime: performanceNow(),\n    };\n    cookies[key] = Systrace.beginAsyncEvent(key);\n    if (__DEV__ && PRINT_TO_CONSOLE) {\n      console.log('PerformanceLogger.js', 'start: ' + key);\n    }\n  },\n\n  stopTimespan(key) {\n    if (!timespans[key] || !timespans[key].startTime) {\n      if (__DEV__) {\n        console.log(\n          'PerformanceLogger: Attempting to end a timespan that has not started ',\n          key,\n        );\n      }\n      return;\n    }\n    if (timespans[key].endTime) {\n      if (__DEV__) {\n        console.log(\n          'PerformanceLogger: Attempting to end a timespan that has already ended ',\n          key\n        );\n      }\n      return;\n    }\n\n    if (__DEV__ && PRINT_TO_CONSOLE) {\n      console.log('PerformanceLogger.js', 'end: ' + key);\n    }\n    Systrace.endAsyncEvent(key, cookies[key]);\n    delete cookies[key];\n    timespans[key].endTime = performanceNow();\n    timespans[key].totalTime =\n      timespans[key].endTime - timespans[key].startTime;\n  },\n\n  clear() {\n    timespans = {};\n    extras = {};\n  },\n\n  clearExceptTimespans(keys) {\n    timespans = Object.keys(timespans).reduce(function(previous, key) {\n      if (keys.indexOf(key) !== -1) {\n        previous[key] = timespans[key];\n      }\n      return previous;\n    }, {});\n    extras = {};\n  },\n\n  getTimespans() {\n    return timespans;\n  },\n\n  hasTimespan(key) {\n    return !!timespans[key];\n  },\n\n  logTimespans() {\n    for (var key in timespans) {\n      if (timespans[key].totalTime) {\n        console.log(key + ': ' + timespans[key].totalTime + 'ms');\n      }\n    }\n  },\n\n  addTimespans(newTimespans, labels) {\n    for (var i = 0, l = newTimespans.length; i < l; i += 2) {\n      var label = labels[i / 2];\n      PerformanceLogger.addTimespan(\n        label,\n        (newTimespans[i + 1] - newTimespans[i]),\n        label\n      );\n    }\n  },\n\n  setExtra(key, value) {\n    if (extras[key]) {\n      if (__DEV__) {\n        console.log(\n          'PerformanceLogger: Attempting to set an extra that already exists ',\n          key\n        );\n      }\n      return;\n    }\n    extras[key] = value;\n  },\n\n  getExtras() {\n    return extras;\n  }\n};\n\nBatchedBridge.registerCallableModule(\n  'PerformanceLogger',\n  PerformanceLogger\n);\n\nmodule.exports = PerformanceLogger;\n","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule EventPluginHub\n */\n\n'use strict';\n\nvar EventPluginRegistry = require('EventPluginRegistry');\nvar EventPluginUtils = require('EventPluginUtils');\nvar ReactErrorUtils = require('ReactErrorUtils');\n\nvar accumulateInto = require('accumulateInto');\nvar forEachAccumulated = require('forEachAccumulated');\nvar invariant = require('fbjs/lib/invariant');\n\n/**\n * Internal queue of events that have accumulated their dispatches and are\n * waiting to have their dispatches executed.\n */\nvar eventQueue = null;\n\n/**\n * Dispatches an event and releases it back into the pool, unless persistent.\n *\n * @param {?object} event Synthetic event to be dispatched.\n * @param {boolean} simulated If the event is simulated (changes exn behavior)\n * @private\n */\nvar executeDispatchesAndRelease = function(event, simulated) {\n  if (event) {\n    EventPluginUtils.executeDispatchesInOrder(event, simulated);\n\n    if (!event.isPersistent()) {\n      event.constructor.release(event);\n    }\n  }\n};\nvar executeDispatchesAndReleaseSimulated = function(e) {\n  return executeDispatchesAndRelease(e, true);\n};\nvar executeDispatchesAndReleaseTopLevel = function(e) {\n  return executeDispatchesAndRelease(e, false);\n};\n\nfunction isInteractive(tag) {\n  return (\n    tag === 'button' || tag === 'input' ||\n    tag === 'select' || tag === 'textarea'\n  );\n}\n\nfunction shouldPreventMouseEvent(name, type, props) {\n  switch (name) {\n    case 'onClick':\n    case 'onClickCapture':\n    case 'onDoubleClick':\n    case 'onDoubleClickCapture':\n    case 'onMouseDown':\n    case 'onMouseDownCapture':\n    case 'onMouseMove':\n    case 'onMouseMoveCapture':\n    case 'onMouseUp':\n    case 'onMouseUpCapture':\n      return !!(props.disabled && isInteractive(type));\n    default:\n      return false;\n  }\n}\n\n/**\n * This is a unified interface for event plugins to be installed and configured.\n *\n * Event plugins can implement the following properties:\n *\n *   `extractEvents` {function(string, DOMEventTarget, string, object): *}\n *     Required. When a top-level event is fired, this method is expected to\n *     extract synthetic events that will in turn be queued and dispatched.\n *\n *   `eventTypes` {object}\n *     Optional, plugins that fire events must publish a mapping of registration\n *     names that are used to register listeners. Values of this mapping must\n *     be objects that contain `registrationName` or `phasedRegistrationNames`.\n *\n *   `executeDispatch` {function(object, function, string)}\n *     Optional, allows plugins to override how an event gets dispatched. By\n *     default, the listener is simply invoked.\n *\n * Each plugin that is injected into `EventsPluginHub` is immediately operable.\n *\n * @public\n */\nvar EventPluginHub = {\n\n  /**\n   * Methods for injecting dependencies.\n   */\n  injection: {\n\n    /**\n     * @param {array} InjectedEventPluginOrder\n     * @public\n     */\n    injectEventPluginOrder: EventPluginRegistry.injectEventPluginOrder,\n\n    /**\n     * @param {object} injectedNamesToPlugins Map from names to plugin modules.\n     */\n    injectEventPluginsByName: EventPluginRegistry.injectEventPluginsByName,\n\n  },\n\n  /**\n   * @param {object} inst The instance, which is the source of events.\n   * @param {string} registrationName Name of listener (e.g. `onClick`).\n   * @return {?function} The stored callback.\n   */\n  getListener: function(inst, registrationName) {\n    var listener;\n\n    // TODO: shouldPreventMouseEvent is DOM-specific and definitely should not\n    // live here; needs to be moved to a better place soon\n    if (typeof inst.tag === 'number') {\n      const props = EventPluginUtils.getFiberCurrentPropsFromNode(\n        inst.stateNode\n      );\n      if (!props) {\n        // Work in progress.\n        return null;\n      }\n      listener = props[registrationName];\n      if (shouldPreventMouseEvent(registrationName, inst.type, props)) {\n        return null;\n      }\n    } else {\n      if (typeof inst._currentElement === 'string') {\n        // Text node, let it bubble through.\n        return null;\n      }\n      if (!inst._rootNodeID) {\n        // If the instance is already unmounted, we have no listeners.\n        return null;\n      }\n      const props = inst._currentElement.props;\n      listener = props[registrationName];\n      if (shouldPreventMouseEvent(registrationName, inst._currentElement.type, props)) {\n        return null;\n      }\n    }\n\n    invariant(\n      !listener || typeof listener === 'function',\n      'Expected %s listener to be a function, instead got type %s',\n      registrationName,\n      typeof listener\n    );\n    return listener;\n  },\n\n  /**\n   * Allows registered plugins an opportunity to extract events from top-level\n   * native browser events.\n   *\n   * @return {*} An accumulation of synthetic events.\n   * @internal\n   */\n  extractEvents: function(\n      topLevelType,\n      targetInst,\n      nativeEvent,\n      nativeEventTarget) {\n    var events;\n    var plugins = EventPluginRegistry.plugins;\n    for (var i = 0; i < plugins.length; i++) {\n      // Not every plugin in the ordering may be loaded at runtime.\n      var possiblePlugin = plugins[i];\n      if (possiblePlugin) {\n        var extractedEvents = possiblePlugin.extractEvents(\n          topLevelType,\n          targetInst,\n          nativeEvent,\n          nativeEventTarget\n        );\n        if (extractedEvents) {\n          events = accumulateInto(events, extractedEvents);\n        }\n      }\n    }\n    return events;\n  },\n\n  /**\n   * Enqueues a synthetic event that should be dispatched when\n   * `processEventQueue` is invoked.\n   *\n   * @param {*} events An accumulation of synthetic events.\n   * @internal\n   */\n  enqueueEvents: function(events) {\n    if (events) {\n      eventQueue = accumulateInto(eventQueue, events);\n    }\n  },\n\n  /**\n   * Dispatches all synthetic events on the event queue.\n   *\n   * @internal\n   */\n  processEventQueue: function(simulated) {\n    // Set `eventQueue` to null before processing it so that we can tell if more\n    // events get enqueued while processing.\n    var processingEventQueue = eventQueue;\n    eventQueue = null;\n    if (simulated) {\n      forEachAccumulated(\n        processingEventQueue,\n        executeDispatchesAndReleaseSimulated\n      );\n    } else {\n      forEachAccumulated(\n        processingEventQueue,\n        executeDispatchesAndReleaseTopLevel\n      );\n    }\n    invariant(\n      !eventQueue,\n      'processEventQueue(): Additional events were enqueued while processing ' +\n      'an event queue. Support for this has not yet been implemented.'\n    );\n    // This would be a good time to rethrow if any of the event handlers threw.\n    ReactErrorUtils.rethrowCaughtError();\n  },\n\n};\n\nmodule.exports = EventPluginHub;\n","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule EventPluginRegistry\n * @flow\n */\n\n'use strict';\n\nimport type {\n  DispatchConfig,\n  ReactSyntheticEvent,\n} from 'ReactSyntheticEventType';\n\nimport type {\n  AnyNativeEvent,\n  PluginName,\n  PluginModule,\n} from 'PluginModuleType';\n\ntype NamesToPlugins = {[key: PluginName]: PluginModule<AnyNativeEvent>};\n\ntype EventPluginOrder = null | Array<PluginName>;\n\nvar invariant = require('fbjs/lib/invariant');\n\n/**\n * Injectable ordering of event plugins.\n */\nvar eventPluginOrder: EventPluginOrder = null;\n\n/**\n * Injectable mapping from names to event plugin modules.\n */\nvar namesToPlugins: NamesToPlugins = {};\n\n/**\n * Recomputes the plugin list using the injected plugins and plugin ordering.\n *\n * @private\n */\nfunction recomputePluginOrdering(): void {\n  if (!eventPluginOrder) {\n    // Wait until an `eventPluginOrder` is injected.\n    return;\n  }\n  for (var pluginName in namesToPlugins) {\n    var pluginModule = namesToPlugins[pluginName];\n    var pluginIndex = eventPluginOrder.indexOf(pluginName);\n    invariant(\n      pluginIndex > -1,\n      'EventPluginRegistry: Cannot inject event plugins that do not exist in ' +\n      'the plugin ordering, `%s`.',\n      pluginName,\n    );\n    if (EventPluginRegistry.plugins[pluginIndex]) {\n      continue;\n    }\n    invariant(\n      pluginModule.extractEvents,\n      'EventPluginRegistry: Event plugins must implement an `extractEvents` ' +\n      'method, but `%s` does not.',\n      pluginName,\n    );\n    EventPluginRegistry.plugins[pluginIndex] = pluginModule;\n    var publishedEvents = pluginModule.eventTypes;\n    for (var eventName in publishedEvents) {\n      invariant(\n        publishEventForPlugin(\n          publishedEvents[eventName],\n          pluginModule,\n          eventName,\n        ),\n        'EventPluginRegistry: Failed to publish event `%s` for plugin `%s`.',\n        eventName,\n        pluginName,\n      );\n    }\n  }\n}\n\n/**\n * Publishes an event so that it can be dispatched by the supplied plugin.\n *\n * @param {object} dispatchConfig Dispatch configuration for the event.\n * @param {object} PluginModule Plugin publishing the event.\n * @return {boolean} True if the event was successfully published.\n * @private\n */\nfunction publishEventForPlugin(\n  dispatchConfig: DispatchConfig,\n  pluginModule: PluginModule<AnyNativeEvent>,\n  eventName: string,\n): boolean {\n  invariant(\n    !EventPluginRegistry.eventNameDispatchConfigs.hasOwnProperty(eventName),\n    'EventPluginHub: More than one plugin attempted to publish the same ' +\n    'event name, `%s`.',\n    eventName,\n  );\n  EventPluginRegistry.eventNameDispatchConfigs[eventName] = dispatchConfig;\n\n  var phasedRegistrationNames = dispatchConfig.phasedRegistrationNames;\n  if (phasedRegistrationNames) {\n    for (var phaseName in phasedRegistrationNames) {\n      if (phasedRegistrationNames.hasOwnProperty(phaseName)) {\n        var phasedRegistrationName = phasedRegistrationNames[phaseName];\n        publishRegistrationName(\n          phasedRegistrationName,\n          pluginModule,\n          eventName,\n        );\n      }\n    }\n    return true;\n  } else if (dispatchConfig.registrationName) {\n    publishRegistrationName(\n      dispatchConfig.registrationName,\n      pluginModule,\n      eventName,\n    );\n    return true;\n  }\n  return false;\n}\n\n/**\n * Publishes a registration name that is used to identify dispatched events.\n *\n * @param {string} registrationName Registration name to add.\n * @param {object} PluginModule Plugin publishing the event.\n * @private\n */\nfunction publishRegistrationName(\n  registrationName: string,\n  pluginModule: PluginModule<AnyNativeEvent>,\n  eventName: string,\n): void {\n  invariant(\n    !EventPluginRegistry.registrationNameModules[registrationName],\n    'EventPluginHub: More than one plugin attempted to publish the same ' +\n    'registration name, `%s`.',\n    registrationName,\n  );\n  EventPluginRegistry.registrationNameModules[registrationName] = pluginModule;\n  EventPluginRegistry.registrationNameDependencies[registrationName] =\n    pluginModule.eventTypes[eventName].dependencies;\n\n  if (__DEV__) {\n    var lowerCasedName = registrationName.toLowerCase();\n    EventPluginRegistry.possibleRegistrationNames[lowerCasedName] =\n      registrationName;\n\n\n    if (registrationName === 'onDoubleClick') {\n      EventPluginRegistry.possibleRegistrationNames.ondblclick = registrationName;\n    }\n  }\n}\n\n/**\n * Registers plugins so that they can extract and dispatch events.\n *\n * @see {EventPluginHub}\n */\nvar EventPluginRegistry = {\n\n  /**\n   * Ordered list of injected plugins.\n   */\n  plugins: [],\n\n  /**\n   * Mapping from event name to dispatch config\n   */\n  eventNameDispatchConfigs: {},\n\n  /**\n   * Mapping from registration name to plugin module\n   */\n  registrationNameModules: {},\n\n  /**\n   * Mapping from registration name to event name\n   */\n  registrationNameDependencies: {},\n\n  /**\n   * Mapping from lowercase registration names to the properly cased version,\n   * used to warn in the case of missing event handlers. Available\n   * only in __DEV__.\n   * @type {Object}\n   */\n  possibleRegistrationNames: __DEV__ ? {} : (null: any),\n  // Trust the developer to only use possibleRegistrationNames in __DEV__\n\n  /**\n   * Injects an ordering of plugins (by plugin name). This allows the ordering\n   * to be decoupled from injection of the actual plugins so that ordering is\n   * always deterministic regardless of packaging, on-the-fly injection, etc.\n   *\n   * @param {array} InjectedEventPluginOrder\n   * @internal\n   * @see {EventPluginHub.injection.injectEventPluginOrder}\n   */\n  injectEventPluginOrder: function(\n    injectedEventPluginOrder: EventPluginOrder,\n  ): void {\n    invariant(\n      !eventPluginOrder,\n      'EventPluginRegistry: Cannot inject event plugin ordering more than ' +\n      'once. You are likely trying to load more than one copy of React.',\n    );\n    // Clone the ordering so it cannot be dynamically mutated.\n    eventPluginOrder = Array.prototype.slice.call(injectedEventPluginOrder);\n    recomputePluginOrdering();\n  },\n\n  /**\n   * Injects plugins to be used by `EventPluginHub`. The plugin names must be\n   * in the ordering injected by `injectEventPluginOrder`.\n   *\n   * Plugins can be injected as part of page initialization or on-the-fly.\n   *\n   * @param {object} injectedNamesToPlugins Map from names to plugin modules.\n   * @internal\n   * @see {EventPluginHub.injection.injectEventPluginsByName}\n   */\n  injectEventPluginsByName: function(\n    injectedNamesToPlugins: NamesToPlugins\n  ): void {\n    var isOrderingDirty = false;\n    for (var pluginName in injectedNamesToPlugins) {\n      if (!injectedNamesToPlugins.hasOwnProperty(pluginName)) {\n        continue;\n      }\n      var pluginModule = injectedNamesToPlugins[pluginName];\n      if (!namesToPlugins.hasOwnProperty(pluginName) ||\n          namesToPlugins[pluginName] !== pluginModule) {\n        invariant(\n          !namesToPlugins[pluginName],\n          'EventPluginRegistry: Cannot inject two different event plugins ' +\n          'using the same name, `%s`.',\n          pluginName,\n        );\n        namesToPlugins[pluginName] = pluginModule;\n        isOrderingDirty = true;\n      }\n    }\n    if (isOrderingDirty) {\n      recomputePluginOrdering();\n    }\n  },\n\n  /**\n   * Looks up the plugin for the supplied event.\n   *\n   * @param {object} event A synthetic event.\n   * @return {?object} The plugin that created the supplied event.\n   * @internal\n   */\n  getPluginModuleForEvent: function(\n    event: ReactSyntheticEvent,\n  ): null | PluginModule<AnyNativeEvent> {\n    var dispatchConfig = event.dispatchConfig;\n    if (dispatchConfig.registrationName) {\n      return EventPluginRegistry.registrationNameModules[\n        dispatchConfig.registrationName\n      ] || null;\n    }\n    if (dispatchConfig.phasedRegistrationNames !== undefined) {\n      // pulling phasedRegistrationNames out of dispatchConfig helps Flow see\n      // that it is not undefined.\n      var {phasedRegistrationNames} = dispatchConfig;\n      for (var phase in phasedRegistrationNames) {\n        if (!phasedRegistrationNames.hasOwnProperty(phase)) {\n          continue;\n        }\n        var pluginModule = EventPluginRegistry.registrationNameModules[\n          phasedRegistrationNames[phase]\n        ];\n        if (pluginModule) {\n          return pluginModule;\n        }\n      }\n    }\n    return null;\n  },\n\n  /**\n   * Exposed for unit testing.\n   * @private\n   */\n  _resetEventPlugins: function(): void {\n    eventPluginOrder = null;\n    for (var pluginName in namesToPlugins) {\n      if (namesToPlugins.hasOwnProperty(pluginName)) {\n        delete namesToPlugins[pluginName];\n      }\n    }\n    EventPluginRegistry.plugins.length = 0;\n\n    var eventNameDispatchConfigs = EventPluginRegistry.eventNameDispatchConfigs;\n    for (var eventName in eventNameDispatchConfigs) {\n      if (eventNameDispatchConfigs.hasOwnProperty(eventName)) {\n        delete eventNameDispatchConfigs[eventName];\n      }\n    }\n\n    var registrationNameModules = EventPluginRegistry.registrationNameModules;\n    for (var registrationName in registrationNameModules) {\n      if (registrationNameModules.hasOwnProperty(registrationName)) {\n        delete registrationNameModules[registrationName];\n      }\n    }\n\n    if (__DEV__) {\n      var possibleRegistrationNames =\n        EventPluginRegistry.possibleRegistrationNames;\n      for (var lowerCasedName in possibleRegistrationNames) {\n        if (possibleRegistrationNames.hasOwnProperty(lowerCasedName)) {\n          delete possibleRegistrationNames[lowerCasedName];\n        }\n      }\n    }\n  },\n\n};\n\nmodule.exports = EventPluginRegistry;\n","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule EventPluginUtils\n */\n\n'use strict';\n\nvar ReactErrorUtils = require('ReactErrorUtils');\n\nvar invariant = require('fbjs/lib/invariant');\nvar warning = require('fbjs/lib/warning');\n\n/**\n * Injected dependencies:\n */\n\n/**\n * - `ComponentTree`: [required] Module that can convert between React instances\n *   and actual node references.\n */\nvar ComponentTree;\nvar injection = {\n  injectComponentTree: function(Injected) {\n    ComponentTree = Injected;\n    if (__DEV__) {\n      warning(\n        Injected &&\n        Injected.getNodeFromInstance &&\n        Injected.getInstanceFromNode,\n        'EventPluginUtils.injection.injectComponentTree(...): Injected ' +\n        'module is missing getNodeFromInstance or getInstanceFromNode.'\n      );\n    }\n  },\n};\n\nfunction isEndish(topLevelType) {\n  return topLevelType === 'topMouseUp' ||\n         topLevelType === 'topTouchEnd' ||\n         topLevelType === 'topTouchCancel';\n}\n\nfunction isMoveish(topLevelType) {\n  return topLevelType === 'topMouseMove' ||\n         topLevelType === 'topTouchMove';\n}\nfunction isStartish(topLevelType) {\n  return topLevelType === 'topMouseDown' ||\n         topLevelType === 'topTouchStart';\n}\n\n\nvar validateEventDispatches;\nif (__DEV__) {\n  validateEventDispatches = function(event) {\n    var dispatchListeners = event._dispatchListeners;\n    var dispatchInstances = event._dispatchInstances;\n\n    var listenersIsArr = Array.isArray(dispatchListeners);\n    var listenersLen = listenersIsArr ?\n      dispatchListeners.length :\n      dispatchListeners ? 1 : 0;\n\n    var instancesIsArr = Array.isArray(dispatchInstances);\n    var instancesLen = instancesIsArr ?\n      dispatchInstances.length :\n      dispatchInstances ? 1 : 0;\n\n    warning(\n      instancesIsArr === listenersIsArr && instancesLen === listenersLen,\n      'EventPluginUtils: Invalid `event`.'\n    );\n  };\n}\n\n/**\n * Dispatch the event to the listener.\n * @param {SyntheticEvent} event SyntheticEvent to handle\n * @param {boolean} simulated If the event is simulated (changes exn behavior)\n * @param {function} listener Application-level callback\n * @param {*} inst Internal component instance\n */\nfunction executeDispatch(event, simulated, listener, inst) {\n  var type = event.type || 'unknown-event';\n  event.currentTarget = EventPluginUtils.getNodeFromInstance(inst);\n  if (simulated) {\n    ReactErrorUtils.invokeGuardedCallbackWithCatch(\n      type,\n      listener,\n      event\n    );\n  } else {\n    ReactErrorUtils.invokeGuardedCallback(type, listener, event);\n  }\n  event.currentTarget = null;\n}\n\n/**\n * Standard/simple iteration through an event's collected dispatches.\n */\nfunction executeDispatchesInOrder(event, simulated) {\n  var dispatchListeners = event._dispatchListeners;\n  var dispatchInstances = event._dispatchInstances;\n  if (__DEV__) {\n    validateEventDispatches(event);\n  }\n  if (Array.isArray(dispatchListeners)) {\n    for (var i = 0; i < dispatchListeners.length; i++) {\n      if (event.isPropagationStopped()) {\n        break;\n      }\n      // Listeners and Instances are two parallel arrays that are always in sync.\n      executeDispatch(\n        event,\n        simulated,\n        dispatchListeners[i],\n        dispatchInstances[i]\n      );\n    }\n  } else if (dispatchListeners) {\n    executeDispatch(event, simulated, dispatchListeners, dispatchInstances);\n  }\n  event._dispatchListeners = null;\n  event._dispatchInstances = null;\n}\n\n/**\n * Standard/simple iteration through an event's collected dispatches, but stops\n * at the first dispatch execution returning true, and returns that id.\n *\n * @return {?string} id of the first dispatch execution who's listener returns\n * true, or null if no listener returned true.\n */\nfunction executeDispatchesInOrderStopAtTrueImpl(event) {\n  var dispatchListeners = event._dispatchListeners;\n  var dispatchInstances = event._dispatchInstances;\n  if (__DEV__) {\n    validateEventDispatches(event);\n  }\n  if (Array.isArray(dispatchListeners)) {\n    for (var i = 0; i < dispatchListeners.length; i++) {\n      if (event.isPropagationStopped()) {\n        break;\n      }\n      // Listeners and Instances are two parallel arrays that are always in sync.\n      if (dispatchListeners[i](event, dispatchInstances[i])) {\n        return dispatchInstances[i];\n      }\n    }\n  } else if (dispatchListeners) {\n    if (dispatchListeners(event, dispatchInstances)) {\n      return dispatchInstances;\n    }\n  }\n  return null;\n}\n\n/**\n * @see executeDispatchesInOrderStopAtTrueImpl\n */\nfunction executeDispatchesInOrderStopAtTrue(event) {\n  var ret = executeDispatchesInOrderStopAtTrueImpl(event);\n  event._dispatchInstances = null;\n  event._dispatchListeners = null;\n  return ret;\n}\n\n/**\n * Execution of a \"direct\" dispatch - there must be at most one dispatch\n * accumulated on the event or it is considered an error. It doesn't really make\n * sense for an event with multiple dispatches (bubbled) to keep track of the\n * return values at each dispatch execution, but it does tend to make sense when\n * dealing with \"direct\" dispatches.\n *\n * @return {*} The return value of executing the single dispatch.\n */\nfunction executeDirectDispatch(event) {\n  if (__DEV__) {\n    validateEventDispatches(event);\n  }\n  var dispatchListener = event._dispatchListeners;\n  var dispatchInstance = event._dispatchInstances;\n  invariant(\n    !Array.isArray(dispatchListener),\n    'executeDirectDispatch(...): Invalid `event`.'\n  );\n  event.currentTarget = dispatchListener ? EventPluginUtils.getNodeFromInstance(dispatchInstance) : null;\n  var res = dispatchListener ? dispatchListener(event) : null;\n  event.currentTarget = null;\n  event._dispatchListeners = null;\n  event._dispatchInstances = null;\n  return res;\n}\n\n/**\n * @param {SyntheticEvent} event\n * @return {boolean} True iff number of dispatches accumulated is greater than 0.\n */\nfunction hasDispatches(event) {\n  return !!event._dispatchListeners;\n}\n\n/**\n * General utilities that are useful in creating custom Event Plugins.\n */\nvar EventPluginUtils = {\n  isEndish: isEndish,\n  isMoveish: isMoveish,\n  isStartish: isStartish,\n\n  executeDirectDispatch: executeDirectDispatch,\n  executeDispatchesInOrder: executeDispatchesInOrder,\n  executeDispatchesInOrderStopAtTrue: executeDispatchesInOrderStopAtTrue,\n  hasDispatches: hasDispatches,\n\n  getFiberCurrentPropsFromNode: function(node) {\n    return ComponentTree.getFiberCurrentPropsFromNode(node);\n  },\n  getInstanceFromNode: function(node) {\n    return ComponentTree.getInstanceFromNode(node);\n  },\n  getNodeFromInstance: function(node) {\n    return ComponentTree.getNodeFromInstance(node);\n  },\n\n  injection: injection,\n};\n\nmodule.exports = EventPluginUtils;\n","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule ReactErrorUtils\n * @flow\n */\n\n'use strict';\n\nvar caughtError = null;\n\n/**\n * Call a function while guarding against errors that happens within it.\n *\n * @param {String} name of the guard to use for logging or debugging\n * @param {Function} func The function to invoke\n * @param {*} a Argument\n */\nfunction invokeGuardedCallback<A>(\n  name: string,\n  func: (a: A) => void,\n  a: A,\n): void {\n  try {\n    func(a);\n  } catch (x) {\n    if (caughtError === null) {\n      caughtError = x;\n    }\n  }\n}\n\nvar ReactErrorUtils = {\n  invokeGuardedCallback: invokeGuardedCallback,\n\n  /**\n   * Invoked by ReactTestUtils.Simulate so that any errors thrown by the event\n   * handler are sure to be rethrown by rethrowCaughtError.\n   */\n  invokeGuardedCallbackWithCatch: invokeGuardedCallback,\n\n  /**\n   * During execution of guarded functions we will capture the first error which\n   * we will rethrow to be handled by the top level error handler.\n   */\n  rethrowCaughtError: function() {\n    if (caughtError) {\n      var error = caughtError;\n      caughtError = null;\n      throw error;\n    }\n  },\n};\n\nif (__DEV__) {\n  /**\n   * To help development we can get better devtools integration by simulating a\n   * real browser event.\n   */\n  if (typeof window !== 'undefined' &&\n      typeof window.dispatchEvent === 'function' &&\n      typeof document !== 'undefined' &&\n      typeof document.createEvent === 'function') {\n    var fakeNode = document.createElement('react');\n    ReactErrorUtils.invokeGuardedCallback = function<A>(\n      name: string,\n      func: (a: A) => void,\n      a: A,\n    ): void {\n      var boundFunc = function() {\n        func(a);\n      };\n      var evtType = `react-${name}`;\n      fakeNode.addEventListener(evtType, boundFunc, false);\n      var evt = document.createEvent('Event');\n      evt.initEvent(evtType, false, false);\n      fakeNode.dispatchEvent(evt);\n      fakeNode.removeEventListener(evtType, boundFunc, false);\n    };\n  }\n}\n\nmodule.exports = ReactErrorUtils;\n","/**\n * Copyright 2014-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule accumulateInto\n * @flow\n */\n\n'use strict';\n\nvar invariant = require('fbjs/lib/invariant');\n\n/**\n * Accumulates items that must not be null or undefined into the first one. This\n * is used to conserve memory by avoiding array allocations, and thus sacrifices\n * API cleanness. Since `current` can be null before being passed in and not\n * null after this function, make sure to assign it back to `current`:\n *\n * `a = accumulateInto(a, b);`\n *\n * This API should be sparingly used. Try `accumulate` for something cleaner.\n *\n * @return {*|array<*>} An accumulation of items.\n */\n\nfunction accumulateInto<T>(current: ?(T | Array<T>), next: T | Array<T>): T | Array<T> {\n  invariant(\n    next != null,\n    'accumulateInto(...): Accumulated items must not be null or undefined.'\n  );\n\n  if (current == null) {\n    return next;\n  }\n\n  // Both are not empty. Warning: Never call x.concat(y) when you are not\n  // certain that x is an Array (x could be a string with concat method).\n  if (Array.isArray(current)) {\n    if (Array.isArray(next)) {\n      current.push.apply(current, next);\n      return current;\n    }\n    current.push(next);\n    return current;\n  }\n\n  if (Array.isArray(next)) {\n    // A bit too dangerous to mutate `next`.\n    return [current].concat(next);\n  }\n\n  return [current, next];\n}\n\nmodule.exports = accumulateInto;\n","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule forEachAccumulated\n * @flow\n */\n\n'use strict';\n\n/**\n * @param {array} arr an \"accumulation\" of items which is either an Array or\n * a single item. Useful when paired with the `accumulate` module. This is a\n * simple utility that allows us to reason about a collection of items, but\n * handling the case when there is exactly one item (and we do not need to\n * allocate an array).\n * @param {function} cb Callback invoked with each element or a collection.\n * @param {?} [scope] Scope used as `this` in a callback.\n */\nfunction forEachAccumulated<T>(\n  arr: ?(T | Array<T>),\n  cb: ((elem: T) => void),\n  scope: ?any,\n) {\n  if (Array.isArray(arr)) {\n    arr.forEach(cb, scope);\n  } else if (arr) {\n    cb.call(scope, arr);\n  }\n}\n\nmodule.exports = forEachAccumulated;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule RCTEventEmitter\n * @flow\n */\n'use strict';\n\nconst BatchedBridge = require('BatchedBridge');\n\nconst RCTEventEmitter = {\n  register(eventEmitter: any) {\n    BatchedBridge.registerCallableModule(\n      'RCTEventEmitter',\n      eventEmitter\n    );\n  }\n};\n\nmodule.exports = RCTEventEmitter;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule ReactNativeBridgeEventPlugin\n * @flow\n */\n'use strict';\n\nvar EventPropagators = require('EventPropagators');\nvar SyntheticEvent = require('SyntheticEvent');\nvar UIManager = require('UIManager');\n\nvar warning = require('fbjs/lib/warning');\n\nvar customBubblingEventTypes = UIManager.customBubblingEventTypes;\nvar customDirectEventTypes = UIManager.customDirectEventTypes;\n\nvar allTypesByEventName = {};\n\nfor (var bubblingTypeName in customBubblingEventTypes) {\n  allTypesByEventName[bubblingTypeName] = customBubblingEventTypes[bubblingTypeName];\n}\n\nfor (var directTypeName in customDirectEventTypes) {\n  warning(\n    !customBubblingEventTypes[directTypeName],\n    'Event cannot be both direct and bubbling: %s',\n    directTypeName\n  );\n  allTypesByEventName[directTypeName] = customDirectEventTypes[directTypeName];\n}\n\nvar ReactNativeBridgeEventPlugin = {\n\n  eventTypes: { ...customBubblingEventTypes, ...customDirectEventTypes },\n\n  /**\n   * @see {EventPluginHub.extractEvents}\n   */\n  extractEvents: function(\n    topLevelType: string,\n    targetInst: Object,\n    nativeEvent: Event,\n    nativeEventTarget: Object\n  ): ?Object {\n    var bubbleDispatchConfig = customBubblingEventTypes[topLevelType];\n    var directDispatchConfig = customDirectEventTypes[topLevelType];\n    var event = SyntheticEvent.getPooled(\n      bubbleDispatchConfig || directDispatchConfig,\n      targetInst,\n      nativeEvent,\n      nativeEventTarget\n    );\n    if (bubbleDispatchConfig) {\n      EventPropagators.accumulateTwoPhaseDispatches(event);\n    } else if (directDispatchConfig) {\n      EventPropagators.accumulateDirectDispatches(event);\n    } else {\n      return null;\n    }\n    return event;\n  },\n};\n\nmodule.exports = ReactNativeBridgeEventPlugin;\n","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule EventPropagators\n */\n\n'use strict';\n\nvar EventPluginHub = require('EventPluginHub');\nvar ReactTreeTraversal = require('ReactTreeTraversal');\n\nvar accumulateInto = require('accumulateInto');\nvar forEachAccumulated = require('forEachAccumulated');\nvar warning = require('fbjs/lib/warning');\n\nimport type { PropagationPhases } from 'EventConstants';\n\nvar getListener = EventPluginHub.getListener;\n\n/**\n * Some event types have a notion of different registration names for different\n * \"phases\" of propagation. This finds listeners by a given phase.\n */\nfunction listenerAtPhase(inst, event, propagationPhase: PropagationPhases) {\n  var registrationName =\n    event.dispatchConfig.phasedRegistrationNames[propagationPhase];\n  return getListener(inst, registrationName);\n}\n\n/**\n * Tags a `SyntheticEvent` with dispatched listeners. Creating this function\n * here, allows us to not have to bind or create functions for each event.\n * Mutating the event's members allows us to not have to create a wrapping\n * \"dispatch\" object that pairs the event with the listener.\n */\nfunction accumulateDirectionalDispatches(inst, phase, event) {\n  if (__DEV__) {\n    warning(\n      inst,\n      'Dispatching inst must not be null'\n    );\n  }\n  var listener = listenerAtPhase(inst, event, phase);\n  if (listener) {\n    event._dispatchListeners =\n      accumulateInto(event._dispatchListeners, listener);\n    event._dispatchInstances = accumulateInto(event._dispatchInstances, inst);\n  }\n}\n\n/**\n * Collect dispatches (must be entirely collected before dispatching - see unit\n * tests). Lazily allocate the array to conserve memory.  We must loop through\n * each event and perform the traversal for each one. We cannot perform a\n * single traversal for the entire collection of events because each event may\n * have a different target.\n */\nfunction accumulateTwoPhaseDispatchesSingle(event) {\n  if (event && event.dispatchConfig.phasedRegistrationNames) {\n    ReactTreeTraversal.traverseTwoPhase(\n      event._targetInst,\n      accumulateDirectionalDispatches,\n      event\n    );\n  }\n}\n\n/**\n * Same as `accumulateTwoPhaseDispatchesSingle`, but skips over the targetID.\n */\nfunction accumulateTwoPhaseDispatchesSingleSkipTarget(event) {\n  if (event && event.dispatchConfig.phasedRegistrationNames) {\n    var targetInst = event._targetInst;\n    var parentInst =\n      targetInst ? ReactTreeTraversal.getParentInstance(targetInst) : null;\n    ReactTreeTraversal.traverseTwoPhase(\n      parentInst,\n      accumulateDirectionalDispatches,\n      event\n    );\n  }\n}\n\n\n/**\n * Accumulates without regard to direction, does not look for phased\n * registration names. Same as `accumulateDirectDispatchesSingle` but without\n * requiring that the `dispatchMarker` be the same as the dispatched ID.\n */\nfunction accumulateDispatches(inst, ignoredDirection, event) {\n  if (event && event.dispatchConfig.registrationName) {\n    var registrationName = event.dispatchConfig.registrationName;\n    var listener = getListener(inst, registrationName);\n    if (listener) {\n      event._dispatchListeners =\n        accumulateInto(event._dispatchListeners, listener);\n      event._dispatchInstances = accumulateInto(event._dispatchInstances, inst);\n    }\n  }\n}\n\n/**\n * Accumulates dispatches on an `SyntheticEvent`, but only for the\n * `dispatchMarker`.\n * @param {SyntheticEvent} event\n */\nfunction accumulateDirectDispatchesSingle(event) {\n  if (event && event.dispatchConfig.registrationName) {\n    accumulateDispatches(event._targetInst, null, event);\n  }\n}\n\nfunction accumulateTwoPhaseDispatches(events) {\n  forEachAccumulated(events, accumulateTwoPhaseDispatchesSingle);\n}\n\nfunction accumulateTwoPhaseDispatchesSkipTarget(events) {\n  forEachAccumulated(events, accumulateTwoPhaseDispatchesSingleSkipTarget);\n}\n\nfunction accumulateEnterLeaveDispatches(leave, enter, from, to) {\n  ReactTreeTraversal.traverseEnterLeave(\n    from,\n    to,\n    accumulateDispatches,\n    leave,\n    enter\n  );\n}\n\n\nfunction accumulateDirectDispatches(events) {\n  forEachAccumulated(events, accumulateDirectDispatchesSingle);\n}\n\n\n\n/**\n * A small set of propagation patterns, each of which will accept a small amount\n * of information, and generate a set of \"dispatch ready event objects\" - which\n * are sets of events that have already been annotated with a set of dispatched\n * listener functions/ids. The API is designed this way to discourage these\n * propagation strategies from actually executing the dispatches, since we\n * always want to collect the entire set of dispatches before executing even a\n * single one.\n *\n * @constructor EventPropagators\n */\nvar EventPropagators = {\n  accumulateTwoPhaseDispatches: accumulateTwoPhaseDispatches,\n  accumulateTwoPhaseDispatchesSkipTarget: accumulateTwoPhaseDispatchesSkipTarget,\n  accumulateDirectDispatches: accumulateDirectDispatches,\n  accumulateEnterLeaveDispatches: accumulateEnterLeaveDispatches,\n};\n\nmodule.exports = EventPropagators;\n","/**\n * Copyright 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule ReactTreeTraversal\n */\n\n'use strict';\n\nvar { HostComponent } = require('ReactTypeOfWork');\n\nfunction getParent(inst) {\n  if (inst._hostParent !== undefined) {\n    return inst._hostParent;\n  }\n  if (typeof inst.tag === 'number') {\n    do {\n      inst = inst.return;\n      // TODO: If this is a HostRoot we might want to bail out.\n      // That is depending on if we want nested subtrees (layers) to bubble\n      // events to their parent. We could also go through parentNode on the\n      // host node but that wouldn't work for React Native and doesn't let us\n      // do the portal feature.\n    } while (inst && inst.tag !== HostComponent);\n    if (inst) {\n      return inst;\n    }\n  }\n  return null;\n}\n\n/**\n * Return the lowest common ancestor of A and B, or null if they are in\n * different trees.\n */\nfunction getLowestCommonAncestor(instA, instB) {\n  var depthA = 0;\n  for (var tempA = instA; tempA; tempA = getParent(tempA)) {\n    depthA++;\n  }\n  var depthB = 0;\n  for (var tempB = instB; tempB; tempB = getParent(tempB)) {\n    depthB++;\n  }\n\n  // If A is deeper, crawl up.\n  while (depthA - depthB > 0) {\n    instA = getParent(instA);\n    depthA--;\n  }\n\n  // If B is deeper, crawl up.\n  while (depthB - depthA > 0) {\n    instB = getParent(instB);\n    depthB--;\n  }\n\n  // Walk in lockstep until we find a match.\n  var depth = depthA;\n  while (depth--) {\n    if (instA === instB || instA === instB.alternate) {\n      return instA;\n    }\n    instA = getParent(instA);\n    instB = getParent(instB);\n  }\n  return null;\n}\n\n/**\n * Return if A is an ancestor of B.\n */\nfunction isAncestor(instA, instB) {\n  while (instB) {\n    if (instA === instB || instA === instB.alternate) {\n      return true;\n    }\n    instB = getParent(instB);\n  }\n  return false;\n}\n\n/**\n * Return the parent instance of the passed-in instance.\n */\nfunction getParentInstance(inst) {\n  return getParent(inst);\n}\n\n/**\n * Simulates the traversal of a two-phase, capture/bubble event dispatch.\n */\nfunction traverseTwoPhase(inst, fn, arg) {\n  var path = [];\n  while (inst) {\n    path.push(inst);\n    inst = getParent(inst);\n  }\n  var i;\n  for (i = path.length; i-- > 0;) {\n    fn(path[i], 'captured', arg);\n  }\n  for (i = 0; i < path.length; i++) {\n    fn(path[i], 'bubbled', arg);\n  }\n}\n\n/**\n * Traverses the ID hierarchy and invokes the supplied `cb` on any IDs that\n * should would receive a `mouseEnter` or `mouseLeave` event.\n *\n * Does not invoke the callback on the nearest common ancestor because nothing\n * \"entered\" or \"left\" that element.\n */\nfunction traverseEnterLeave(from, to, fn, argFrom, argTo) {\n  var common = from && to ? getLowestCommonAncestor(from, to) : null;\n  var pathFrom = [];\n  while (from && from !== common) {\n    pathFrom.push(from);\n    from = getParent(from);\n  }\n  var pathTo = [];\n  while (to && to !== common) {\n    pathTo.push(to);\n    to = getParent(to);\n  }\n  var i;\n  for (i = 0; i < pathFrom.length; i++) {\n    fn(pathFrom[i], 'bubbled', argFrom);\n  }\n  for (i = pathTo.length; i-- > 0;) {\n    fn(pathTo[i], 'captured', argTo);\n  }\n}\n\nmodule.exports = {\n  isAncestor: isAncestor,\n  getLowestCommonAncestor: getLowestCommonAncestor,\n  getParentInstance: getParentInstance,\n  traverseTwoPhase: traverseTwoPhase,\n  traverseEnterLeave: traverseEnterLeave,\n};\n","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule ReactTypeOfWork\n * @flow\n */\n\n'use strict';\n\nexport type TypeOfWork = 0 | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 | 10;\n\nmodule.exports = {\n  IndeterminateComponent: 0, // Before we know whether it is functional or class\n  FunctionalComponent: 1,\n  ClassComponent: 2,\n  HostRoot: 3, // Root of a host tree. Could be nested inside another node.\n  HostPortal: 4, // A subtree. Could be an entry point to a different renderer.\n  HostComponent: 5,\n  HostText: 6,\n  CoroutineComponent: 7,\n  CoroutineHandlerPhase: 8,\n  YieldComponent: 9,\n  Fragment: 10,\n};\n","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule SyntheticEvent\n */\n\n'use strict';\n\nvar PooledClass = require('PooledClass');\n\nvar emptyFunction = require('fbjs/lib/emptyFunction');\nvar warning = require('fbjs/lib/warning');\n\nvar didWarnForAddedNewProperty = false;\nvar isProxySupported = typeof Proxy === 'function';\n\nvar shouldBeReleasedProperties = [\n  'dispatchConfig',\n  '_targetInst',\n  'nativeEvent',\n  'isDefaultPrevented',\n  'isPropagationStopped',\n  '_dispatchListeners',\n  '_dispatchInstances',\n];\n\n/**\n * @interface Event\n * @see http://www.w3.org/TR/DOM-Level-3-Events/\n */\nvar EventInterface = {\n  type: null,\n  target: null,\n  // currentTarget is set when dispatching; no use in copying it here\n  currentTarget: emptyFunction.thatReturnsNull,\n  eventPhase: null,\n  bubbles: null,\n  cancelable: null,\n  timeStamp: function(event) {\n    return event.timeStamp || Date.now();\n  },\n  defaultPrevented: null,\n  isTrusted: null,\n};\n\n/**\n * Synthetic events are dispatched by event plugins, typically in response to a\n * top-level event delegation handler.\n *\n * These systems should generally use pooling to reduce the frequency of garbage\n * collection. The system should check `isPersistent` to determine whether the\n * event should be released into the pool after being dispatched. Users that\n * need a persisted event should invoke `persist`.\n *\n * Synthetic events (and subclasses) implement the DOM Level 3 Events API by\n * normalizing browser quirks. Subclasses do not necessarily have to implement a\n * DOM interface; custom application-specific events can also subclass this.\n *\n * @param {object} dispatchConfig Configuration used to dispatch this event.\n * @param {*} targetInst Marker identifying the event target.\n * @param {object} nativeEvent Native browser event.\n * @param {DOMEventTarget} nativeEventTarget Target node.\n */\nfunction SyntheticEvent(dispatchConfig, targetInst, nativeEvent, nativeEventTarget) {\n  if (__DEV__) {\n    // these have a getter/setter for warnings\n    delete this.nativeEvent;\n    delete this.preventDefault;\n    delete this.stopPropagation;\n  }\n\n  this.dispatchConfig = dispatchConfig;\n  this._targetInst = targetInst;\n  this.nativeEvent = nativeEvent;\n\n  var Interface = this.constructor.Interface;\n  for (var propName in Interface) {\n    if (!Interface.hasOwnProperty(propName)) {\n      continue;\n    }\n    if (__DEV__) {\n      delete this[propName]; // this has a getter/setter for warnings\n    }\n    var normalize = Interface[propName];\n    if (normalize) {\n      this[propName] = normalize(nativeEvent);\n    } else {\n      if (propName === 'target') {\n        this.target = nativeEventTarget;\n      } else {\n        this[propName] = nativeEvent[propName];\n      }\n    }\n  }\n\n  var defaultPrevented = nativeEvent.defaultPrevented != null ?\n    nativeEvent.defaultPrevented :\n    nativeEvent.returnValue === false;\n  if (defaultPrevented) {\n    this.isDefaultPrevented = emptyFunction.thatReturnsTrue;\n  } else {\n    this.isDefaultPrevented = emptyFunction.thatReturnsFalse;\n  }\n  this.isPropagationStopped = emptyFunction.thatReturnsFalse;\n  return this;\n}\n\nObject.assign(SyntheticEvent.prototype, {\n\n  preventDefault: function() {\n    this.defaultPrevented = true;\n    var event = this.nativeEvent;\n    if (!event) {\n      return;\n    }\n\n    if (event.preventDefault) {\n      event.preventDefault();\n    } else if (typeof event.returnValue !== 'unknown') { // eslint-disable-line valid-typeof\n      event.returnValue = false;\n    }\n    this.isDefaultPrevented = emptyFunction.thatReturnsTrue;\n  },\n\n  stopPropagation: function() {\n    var event = this.nativeEvent;\n    if (!event) {\n      return;\n    }\n\n    if (event.stopPropagation) {\n      event.stopPropagation();\n    } else if (typeof event.cancelBubble !== 'unknown') { // eslint-disable-line valid-typeof\n      // The ChangeEventPlugin registers a \"propertychange\" event for\n      // IE. This event does not support bubbling or cancelling, and\n      // any references to cancelBubble throw \"Member not found\".  A\n      // typeof check of \"unknown\" circumvents this issue (and is also\n      // IE specific).\n      event.cancelBubble = true;\n    }\n\n    this.isPropagationStopped = emptyFunction.thatReturnsTrue;\n  },\n\n  /**\n   * We release all dispatched `SyntheticEvent`s after each event loop, adding\n   * them back into the pool. This allows a way to hold onto a reference that\n   * won't be added back into the pool.\n   */\n  persist: function() {\n    this.isPersistent = emptyFunction.thatReturnsTrue;\n  },\n\n  /**\n   * Checks if this event should be released back into the pool.\n   *\n   * @return {boolean} True if this should not be released, false otherwise.\n   */\n  isPersistent: emptyFunction.thatReturnsFalse,\n\n  /**\n   * `PooledClass` looks for `destructor` on each instance it releases.\n   */\n  destructor: function() {\n    var Interface = this.constructor.Interface;\n    for (var propName in Interface) {\n      if (__DEV__) {\n        Object.defineProperty(this, propName, getPooledWarningPropertyDefinition(propName, Interface[propName]));\n      } else {\n        this[propName] = null;\n      }\n    }\n    for (var i = 0; i < shouldBeReleasedProperties.length; i++) {\n      this[shouldBeReleasedProperties[i]] = null;\n    }\n    if (__DEV__) {\n      Object.defineProperty(\n        this,\n        'nativeEvent',\n        getPooledWarningPropertyDefinition('nativeEvent', null)\n      );\n      Object.defineProperty(\n        this,\n        'preventDefault',\n        getPooledWarningPropertyDefinition('preventDefault', emptyFunction)\n      );\n      Object.defineProperty(\n        this,\n        'stopPropagation',\n        getPooledWarningPropertyDefinition('stopPropagation', emptyFunction)\n      );\n    }\n  },\n\n});\n\nSyntheticEvent.Interface = EventInterface;\n\nif (__DEV__) {\n  if (isProxySupported) {\n    /*eslint-disable no-func-assign */\n    SyntheticEvent = new Proxy(SyntheticEvent, {\n      construct: function(target, args) {\n        return this.apply(target, Object.create(target.prototype), args);\n      },\n      apply: function(constructor, that, args) {\n        return new Proxy(constructor.apply(that, args), {\n          set: function(target, prop, value) {\n            if (prop !== 'isPersistent' &&\n                !target.constructor.Interface.hasOwnProperty(prop) &&\n                shouldBeReleasedProperties.indexOf(prop) === -1) {\n              warning(\n                didWarnForAddedNewProperty || target.isPersistent(),\n                'This synthetic event is reused for performance reasons. If you\\'re ' +\n                'seeing this, you\\'re adding a new property in the synthetic event object. ' +\n                'The property is never released. See ' +\n                'https://fb.me/react-event-pooling for more information.'\n              );\n              didWarnForAddedNewProperty = true;\n            }\n            target[prop] = value;\n            return true;\n          },\n        });\n      },\n    });\n    /*eslint-enable no-func-assign */\n  }\n}\n/**\n * Helper to reduce boilerplate when creating subclasses.\n *\n * @param {function} Class\n * @param {?object} Interface\n */\nSyntheticEvent.augmentClass = function(Class, Interface) {\n  var Super = this;\n\n  var E = function() {};\n  E.prototype = Super.prototype;\n  var prototype = new E();\n\n  Object.assign(prototype, Class.prototype);\n  Class.prototype = prototype;\n  Class.prototype.constructor = Class;\n\n  Class.Interface = Object.assign({}, Super.Interface, Interface);\n  Class.augmentClass = Super.augmentClass;\n\n  PooledClass.addPoolingTo(Class, PooledClass.fourArgumentPooler);\n};\n\nPooledClass.addPoolingTo(SyntheticEvent, PooledClass.fourArgumentPooler);\n\nmodule.exports = SyntheticEvent;\n\n/**\n  * Helper to nullify syntheticEvent instance properties when destructing\n  *\n  * @param {object} SyntheticEvent\n  * @param {String} propName\n  * @return {object} defineProperty object\n  */\nfunction getPooledWarningPropertyDefinition(propName, getVal) {\n  var isFunction = typeof getVal === 'function';\n  return {\n    configurable: true,\n    set: set,\n    get: get,\n  };\n\n  function set(val) {\n    var action = isFunction ? 'setting the method' : 'setting the property';\n    warn(action, 'This is effectively a no-op');\n    return val;\n  }\n\n  function get() {\n    var action = isFunction ? 'accessing the method' : 'accessing the property';\n    var result = isFunction ? 'This is a no-op function' : 'This is set to null';\n    warn(action, result);\n    return getVal;\n  }\n\n  function warn(action, result) {\n    var warningCondition = false;\n    warning(\n      warningCondition,\n      'This synthetic event is reused for performance reasons. If you\\'re seeing this, ' +\n      'you\\'re %s `%s` on a released/nullified synthetic event. %s. ' +\n      'If you must keep the original synthetic event around, use event.persist(). ' +\n      'See https://fb.me/react-event-pooling for more information.',\n      action,\n      propName,\n      result\n    );\n  }\n}\n","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule PooledClass\n * @flow\n */\n\n'use strict';\n\nvar invariant = require('fbjs/lib/invariant');\n\n/**\n * Static poolers. Several custom versions for each potential number of\n * arguments. A completely generic pooler is easy to implement, but would\n * require accessing the `arguments` object. In each of these, `this` refers to\n * the Class itself, not an instance. If any others are needed, simply add them\n * here, or in their own files.\n */\nvar oneArgumentPooler = function(copyFieldsFrom) {\n  var Klass = this;\n  if (Klass.instancePool.length) {\n    var instance = Klass.instancePool.pop();\n    Klass.call(instance, copyFieldsFrom);\n    return instance;\n  } else {\n    return new Klass(copyFieldsFrom);\n  }\n};\n\nvar twoArgumentPooler = function(a1, a2) {\n  var Klass = this;\n  if (Klass.instancePool.length) {\n    var instance = Klass.instancePool.pop();\n    Klass.call(instance, a1, a2);\n    return instance;\n  } else {\n    return new Klass(a1, a2);\n  }\n};\n\nvar threeArgumentPooler = function(a1, a2, a3) {\n  var Klass = this;\n  if (Klass.instancePool.length) {\n    var instance = Klass.instancePool.pop();\n    Klass.call(instance, a1, a2, a3);\n    return instance;\n  } else {\n    return new Klass(a1, a2, a3);\n  }\n};\n\nvar fourArgumentPooler = function(a1, a2, a3, a4) {\n  var Klass = this;\n  if (Klass.instancePool.length) {\n    var instance = Klass.instancePool.pop();\n    Klass.call(instance, a1, a2, a3, a4);\n    return instance;\n  } else {\n    return new Klass(a1, a2, a3, a4);\n  }\n};\n\nvar standardReleaser = function(instance) {\n  var Klass = this;\n  invariant(\n    instance instanceof Klass,\n    'Trying to release an instance into a pool of a different type.'\n  );\n  instance.destructor();\n  if (Klass.instancePool.length < Klass.poolSize) {\n    Klass.instancePool.push(instance);\n  }\n};\n\nvar DEFAULT_POOL_SIZE = 10;\nvar DEFAULT_POOLER = oneArgumentPooler;\n\ntype Pooler = any;\n\n/**\n * Augments `CopyConstructor` to be a poolable class, augmenting only the class\n * itself (statically) not adding any prototypical fields. Any CopyConstructor\n * you give this may have a `poolSize` property, and will look for a\n * prototypical `destructor` on instances.\n *\n * @param {Function} CopyConstructor Constructor that can be used to reset.\n * @param {Function} pooler Customizable pooler.\n */\nvar addPoolingTo = function<T>(\n  CopyConstructor: Class<T>,\n  pooler: Pooler,\n): Class<T> & {\n  getPooled(/* arguments of the constructor */): T,\n  release(): void,\n} {\n  // Casting as any so that flow ignores the actual implementation and trusts\n  // it to match the type we declared\n  var NewKlass = (CopyConstructor: any);\n  NewKlass.instancePool = [];\n  NewKlass.getPooled = pooler || DEFAULT_POOLER;\n  if (!NewKlass.poolSize) {\n    NewKlass.poolSize = DEFAULT_POOL_SIZE;\n  }\n  NewKlass.release = standardReleaser;\n  return NewKlass;\n};\n\nvar PooledClass = {\n  addPoolingTo: addPoolingTo,\n  oneArgumentPooler: (oneArgumentPooler: Pooler),\n  twoArgumentPooler: (twoArgumentPooler: Pooler),\n  threeArgumentPooler: (threeArgumentPooler: Pooler),\n  fourArgumentPooler: (fourArgumentPooler: Pooler),\n};\n\nmodule.exports = PooledClass;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule ReactNativeEventEmitter\n * @flow\n */\n'use strict';\n\nvar EventPluginHub = require('EventPluginHub');\nvar EventPluginRegistry = require('EventPluginRegistry');\nvar ReactEventEmitterMixin = require('ReactEventEmitterMixin');\nvar ReactNativeComponentTree = require('ReactNativeComponentTree');\nvar ReactNativeTagHandles = require('ReactNativeTagHandles');\nvar ReactGenericBatching = require('ReactGenericBatching');\n\nvar warning = require('fbjs/lib/warning');\n\n/**\n * Version of `ReactBrowserEventEmitter` that works on the receiving side of a\n * serialized worker boundary.\n */\n\n// Shared default empty native event - conserve memory.\nvar EMPTY_NATIVE_EVENT = {};\n\n/**\n * Selects a subsequence of `Touch`es, without destroying `touches`.\n *\n * @param {Array<Touch>} touches Deserialized touch objects.\n * @param {Array<number>} indices Indices by which to pull subsequence.\n * @return {Array<Touch>} Subsequence of touch objects.\n */\nvar touchSubsequence = function(touches, indices) {\n  var ret = [];\n  for (var i = 0; i < indices.length; i++) {\n    ret.push(touches[indices[i]]);\n  }\n  return ret;\n};\n\n/**\n * TODO: Pool all of this.\n *\n * Destroys `touches` by removing touch objects at indices `indices`. This is\n * to maintain compatibility with W3C touch \"end\" events, where the active\n * touches don't include the set that has just been \"ended\".\n *\n * @param {Array<Touch>} touches Deserialized touch objects.\n * @param {Array<number>} indices Indices to remove from `touches`.\n * @return {Array<Touch>} Subsequence of removed touch objects.\n */\nvar removeTouchesAtIndices = function(\n  touches: Array<Object>,\n  indices: Array<number>\n): Array<Object> {\n  var rippedOut = [];\n  // use an unsafe downcast to alias to nullable elements,\n  // so we can delete and then compact.\n  var temp: Array<?Object> = (touches: Array<any>);\n  for (var i = 0; i < indices.length; i++) {\n    var index = indices[i];\n    rippedOut.push(touches[index]);\n    temp[index] = null;\n  }\n  var fillAt = 0;\n  for (var j = 0; j < temp.length; j++) {\n    var cur = temp[j];\n    if (cur !== null) {\n      temp[fillAt++] = cur;\n    }\n  }\n  temp.length = fillAt;\n  return rippedOut;\n};\n\nvar ReactNativeEventEmitter = {\n\n  ...ReactEventEmitterMixin,\n\n  registrationNames: EventPluginRegistry.registrationNameModules,\n\n  getListener: EventPluginHub.getListener,\n\n  /**\n   * Internal version of `receiveEvent` in terms of normalized (non-tag)\n   * `rootNodeID`.\n   *\n   * @see receiveEvent.\n   *\n   * @param {rootNodeID} rootNodeID React root node ID that event occurred on.\n   * @param {TopLevelType} topLevelType Top level type of event.\n   * @param {object} nativeEventParam Object passed from native.\n   */\n  _receiveRootNodeIDEvent: function(\n    rootNodeID: number,\n    topLevelType: string,\n    nativeEventParam: Object\n  ) {\n    var nativeEvent = nativeEventParam || EMPTY_NATIVE_EVENT;\n    var inst = ReactNativeComponentTree.getInstanceFromNode(rootNodeID);\n    if (!inst) {\n      // If the original instance is already gone, we don't have to dispatch\n      // any events.\n      return;\n    }\n    ReactGenericBatching.batchedUpdates(function() {\n      ReactNativeEventEmitter.handleTopLevel(\n        topLevelType,\n        inst,\n        nativeEvent,\n        nativeEvent.target\n      );\n    });\n    // React Native doesn't use ReactControlledComponent but if it did, here's\n    // where it would do it.\n  },\n\n  /**\n   * Publicly exposed method on module for native objc to invoke when a top\n   * level event is extracted.\n   * @param {rootNodeID} rootNodeID React root node ID that event occurred on.\n   * @param {TopLevelType} topLevelType Top level type of event.\n   * @param {object} nativeEventParam Object passed from native.\n   */\n  receiveEvent: function(\n    tag: number,\n    topLevelType: string,\n    nativeEventParam: Object\n  ) {\n    var rootNodeID = tag;\n    ReactNativeEventEmitter._receiveRootNodeIDEvent(\n      rootNodeID,\n      topLevelType,\n      nativeEventParam\n    );\n  },\n\n  /**\n   * Simple multi-wrapper around `receiveEvent` that is intended to receive an\n   * efficient representation of `Touch` objects, and other information that\n   * can be used to construct W3C compliant `Event` and `Touch` lists.\n   *\n   * This may create dispatch behavior that differs than web touch handling. We\n   * loop through each of the changed touches and receive it as a single event.\n   * So two `touchStart`/`touchMove`s that occur simultaneously are received as\n   * two separate touch event dispatches - when they arguably should be one.\n   *\n   * This implementation reuses the `Touch` objects themselves as the `Event`s\n   * since we dispatch an event for each touch (though that might not be spec\n   * compliant). The main purpose of reusing them is to save allocations.\n   *\n   * TODO: Dispatch multiple changed touches in one event. The bubble path\n   * could be the first common ancestor of all the `changedTouches`.\n   *\n   * One difference between this behavior and W3C spec: cancelled touches will\n   * not appear in `.touches`, or in any future `.touches`, though they may\n   * still be \"actively touching the surface\".\n   *\n   * Web desktop polyfills only need to construct a fake touch event with\n   * identifier 0, also abandoning traditional click handlers.\n   */\n  receiveTouches: function(\n    eventTopLevelType: string,\n    touches: Array<Object>,\n    changedIndices: Array<number>\n  ) {\n    var changedTouches =\n      eventTopLevelType === 'topTouchEnd' ||\n      eventTopLevelType === 'topTouchCancel' ?\n      removeTouchesAtIndices(touches, changedIndices) :\n      touchSubsequence(touches, changedIndices);\n\n    for (var jj = 0; jj < changedTouches.length; jj++) {\n      var touch = changedTouches[jj];\n      // Touch objects can fulfill the role of `DOM` `Event` objects if we set\n      // the `changedTouches`/`touches`. This saves allocations.\n      touch.changedTouches = changedTouches;\n      touch.touches = touches;\n      var nativeEvent = touch;\n      var rootNodeID = null;\n      var target = nativeEvent.target;\n      if (target !== null && target !== undefined) {\n        if (target < ReactNativeTagHandles.tagsStartAt) {\n          if (__DEV__) {\n            warning(\n              false,\n              'A view is reporting that a touch occurred on tag zero.'\n            );\n          }\n        } else {\n          rootNodeID = target;\n        }\n      }\n      ReactNativeEventEmitter._receiveRootNodeIDEvent(\n        rootNodeID,\n        eventTopLevelType,\n        nativeEvent\n      );\n    }\n  },\n};\n\nmodule.exports = ReactNativeEventEmitter;\n","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule ReactEventEmitterMixin\n */\n\n'use strict';\n\nvar EventPluginHub = require('EventPluginHub');\n\nfunction runEventQueueInBatch(events) {\n  EventPluginHub.enqueueEvents(events);\n  EventPluginHub.processEventQueue(false);\n}\n\nvar ReactEventEmitterMixin = {\n\n  /**\n   * Streams a fired top-level event to `EventPluginHub` where plugins have the\n   * opportunity to create `ReactEvent`s to be dispatched.\n   */\n  handleTopLevel: function(\n      topLevelType,\n      targetInst,\n      nativeEvent,\n      nativeEventTarget) {\n    var events = EventPluginHub.extractEvents(\n      topLevelType,\n      targetInst,\n      nativeEvent,\n      nativeEventTarget\n    );\n    runEventQueueInBatch(events);\n  },\n};\n\nmodule.exports = ReactEventEmitterMixin;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule ReactNativeTagHandles\n * @flow\n */\n'use strict';\n\nvar invariant = require('fbjs/lib/invariant');\n\n/**\n * Keeps track of allocating and associating native \"tags\" which are numeric,\n * unique view IDs. All the native tags are negative numbers, to avoid\n * collisions, but in the JS we keep track of them as positive integers to store\n * them effectively in Arrays. So we must refer to them as \"inverses\" of the\n * native tags (that are * normally negative).\n *\n * It *must* be the case that every `rootNodeID` always maps to the exact same\n * `tag` forever. The easiest way to accomplish this is to never delete\n * anything from this table.\n * Why: Because `dangerouslyReplaceNodeWithMarkupByID` relies on being able to\n * unmount a component with a `rootNodeID`, then mount a new one in its place,\n */\nvar INITIAL_TAG_COUNT = 1;\nvar ReactNativeTagHandles = {\n  tagsStartAt: INITIAL_TAG_COUNT,\n  tagCount: INITIAL_TAG_COUNT,\n\n  allocateTag: function(): number {\n    // Skip over root IDs as those are reserved for native\n    while (this.reactTagIsNativeTopRootID(ReactNativeTagHandles.tagCount)) {\n      ReactNativeTagHandles.tagCount++;\n    }\n    var tag = ReactNativeTagHandles.tagCount;\n    ReactNativeTagHandles.tagCount++;\n    return tag;\n  },\n\n  assertRootTag: function(tag: number): void {\n    invariant(\n      this.reactTagIsNativeTopRootID(tag),\n      'Expect a native root tag, instead got %s', tag\n    );\n  },\n\n  reactTagIsNativeTopRootID: function(reactTag: number): boolean {\n    // We reserve all tags that are 1 mod 10 for native root views\n    return reactTag % 10 === 1;\n  },\n};\n\nmodule.exports = ReactNativeTagHandles;\n","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule ReactGenericBatching\n */\n\n'use strict';\n\nvar ReactControlledComponent = require('ReactControlledComponent');\n\n// Used as a way to call batchedUpdates when we don't know if we're in a Fiber\n// or Stack context. Such as when we're dispatching events or if third party\n// libraries need to call batchedUpdates. Eventually, this API will go away when\n// everything is batched by default. We'll then have a similar API to opt-out of\n// scheduled work and instead do synchronous work.\n\n// Defaults\nvar stackBatchedUpdates = function(fn, a, b, c, d, e) {\n  return fn(a, b, c, d, e);\n};\nvar fiberBatchedUpdates = function(fn, bookkeeping) {\n  return fn(bookkeeping);\n};\n\nfunction performFiberBatchedUpdates(fn, bookkeeping) {\n  // If we have Fiber loaded, we need to wrap this in a batching call so that\n  // Fiber can apply its default priority for this call.\n  return fiberBatchedUpdates(fn, bookkeeping);\n}\nfunction batchedUpdates(fn, bookkeeping) {\n  // We first perform work with the stack batching strategy, by passing our\n  // indirection to it.\n  return stackBatchedUpdates(performFiberBatchedUpdates, fn, bookkeeping);\n}\n\nvar isNestingBatched = false;\nfunction batchedUpdatesWithControlledComponents(fn, bookkeeping) {\n  if (isNestingBatched) {\n    // If we are currently inside another batch, we need to wait until it\n    // fully completes before restoring state. Therefore, we add the target to\n    // a queue of work.\n    return batchedUpdates(fn, bookkeeping);\n  }\n  isNestingBatched = true;\n  try {\n    return batchedUpdates(fn, bookkeeping);\n  } finally {\n    // Here we wait until all updates have propagated, which is important\n    // when using controlled components within layers:\n    // https://github.com/facebook/react/issues/1698\n    // Then we restore state of any controlled component.\n    isNestingBatched = false;\n    ReactControlledComponent.restoreStateIfNeeded();\n  }\n}\n\nvar ReactGenericBatchingInjection = {\n  injectStackBatchedUpdates: function(_batchedUpdates) {\n    stackBatchedUpdates = _batchedUpdates;\n  },\n  injectFiberBatchedUpdates: function(_batchedUpdates) {\n    fiberBatchedUpdates = _batchedUpdates;\n  },\n};\n\nvar ReactGenericBatching = {\n  batchedUpdates: batchedUpdatesWithControlledComponents,\n  injection: ReactGenericBatchingInjection,\n};\n\nmodule.exports = ReactGenericBatching;\n","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule ReactControlledComponent\n */\n\n'use strict';\n\nvar EventPluginUtils = require('EventPluginUtils');\n\nvar invariant = require('fbjs/lib/invariant');\n\n// Use to restore controlled state after a change event has fired.\n\nvar fiberHostComponent = null;\n\nvar ReactControlledComponentInjection = {\n  injectFiberControlledHostComponent: function(hostComponentImpl) {\n    // The fiber implementation doesn't use dynamic dispatch so we need to\n    // inject the implementation.\n    fiberHostComponent = hostComponentImpl;\n  },\n};\n\nvar restoreTarget = null;\nvar restoreQueue = null;\n\nfunction restoreStateOfTarget(target) {\n  // We perform this translation at the end of the event loop so that we\n  // always receive the correct fiber here\n  var internalInstance = EventPluginUtils.getInstanceFromNode(target);\n  if (!internalInstance) {\n    // Unmounted\n    return;\n  }\n  if (typeof internalInstance.tag === 'number') {\n    invariant(\n      fiberHostComponent &&\n      typeof fiberHostComponent.restoreControlledState === 'function',\n      'Fiber needs to be injected to handle a fiber target for controlled ' +\n      'events.'\n    );\n    const props = EventPluginUtils.getFiberCurrentPropsFromNode(\n      internalInstance.stateNode\n    );\n    fiberHostComponent.restoreControlledState(\n      internalInstance.stateNode,\n      internalInstance.type,\n      props\n    );\n    return;\n  }\n  invariant(\n    typeof internalInstance.restoreControlledState === 'function',\n    'The internal instance must be a React host component.'\n  );\n  // If it is not a Fiber, we can just use dynamic dispatch.\n  internalInstance.restoreControlledState();\n}\n\nvar ReactControlledComponent = {\n  injection: ReactControlledComponentInjection,\n\n  enqueueStateRestore(target) {\n    if (restoreTarget) {\n      if (restoreQueue) {\n        restoreQueue.push(target);\n      } else {\n        restoreQueue = [target];\n      }\n    } else {\n      restoreTarget = target;\n    }\n  },\n\n  restoreStateIfNeeded() {\n    if (!restoreTarget) {\n      return;\n    }\n    var target = restoreTarget;\n    var queuedTargets = restoreQueue;\n    restoreTarget = null;\n    restoreQueue = null;\n\n    restoreStateOfTarget(target);\n    if (queuedTargets) {\n      for (var i = 0; i < queuedTargets.length; i++) {\n        restoreStateOfTarget(queuedTargets[i]);\n      }\n    }\n  },\n};\n\nmodule.exports = ReactControlledComponent;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule ReactNativeEventPluginOrder\n * @flow\n */\n'use strict';\n\nvar ReactNativeEventPluginOrder = [\n  'ResponderEventPlugin',\n  'ReactNativeBridgeEventPlugin',\n];\n\nmodule.exports = ReactNativeEventPluginOrder;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule ReactNativeGlobalResponderHandler\n */\n'use strict';\n\nvar UIManager = require('UIManager');\n\nvar ReactNativeGlobalResponderHandler = {\n  onChange: function(from, to, blockNativeResponder) {\n    if (to !== null) {\n      // TODO (bvaughn) Clean up once Stack is deprecated\n      var tag = typeof to.tag !== 'number'\n        ? to._rootNodeID\n        : to.stateNode._nativeTag;\n      UIManager.setJSResponder(tag, blockNativeResponder);\n    } else {\n      UIManager.clearJSResponder();\n    }\n  },\n};\n\nmodule.exports = ReactNativeGlobalResponderHandler;\n","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule ResponderEventPlugin\n */\n\n'use strict';\n\nvar EventPluginUtils = require('EventPluginUtils');\nvar EventPropagators = require('EventPropagators');\nvar ReactTreeTraversal = require('ReactTreeTraversal');\nvar ResponderSyntheticEvent = require('ResponderSyntheticEvent');\nvar ResponderTouchHistoryStore = require('ResponderTouchHistoryStore');\n\nvar accumulate = require('accumulate');\n\nvar isStartish = EventPluginUtils.isStartish;\nvar isMoveish = EventPluginUtils.isMoveish;\nvar isEndish = EventPluginUtils.isEndish;\nvar executeDirectDispatch = EventPluginUtils.executeDirectDispatch;\nvar hasDispatches = EventPluginUtils.hasDispatches;\nvar executeDispatchesInOrderStopAtTrue =\n  EventPluginUtils.executeDispatchesInOrderStopAtTrue;\n\n/**\n * Instance of element that should respond to touch/move types of interactions,\n * as indicated explicitly by relevant callbacks.\n */\nvar responderInst = null;\n\n/**\n * Count of current touches. A textInput should become responder iff the\n * selection changes while there is a touch on the screen.\n */\nvar trackedTouchCount = 0;\n\n/**\n * Last reported number of active touches.\n */\nvar previousActiveTouches = 0;\n\nvar changeResponder = function(nextResponderInst, blockHostResponder) {\n  var oldResponderInst = responderInst;\n  responderInst = nextResponderInst;\n  if (ResponderEventPlugin.GlobalResponderHandler !== null) {\n    ResponderEventPlugin.GlobalResponderHandler.onChange(\n      oldResponderInst,\n      nextResponderInst,\n      blockHostResponder\n    );\n  }\n};\n\nvar eventTypes = {\n  /**\n   * On a `touchStart`/`mouseDown`, is it desired that this element become the\n   * responder?\n   */\n  startShouldSetResponder: {\n    phasedRegistrationNames: {\n      bubbled: 'onStartShouldSetResponder',\n      captured: 'onStartShouldSetResponderCapture',\n    },\n  },\n\n  /**\n   * On a `scroll`, is it desired that this element become the responder? This\n   * is usually not needed, but should be used to retroactively infer that a\n   * `touchStart` had occurred during momentum scroll. During a momentum scroll,\n   * a touch start will be immediately followed by a scroll event if the view is\n   * currently scrolling.\n   *\n   * TODO: This shouldn't bubble.\n   */\n  scrollShouldSetResponder: {\n    phasedRegistrationNames: {\n      bubbled: 'onScrollShouldSetResponder',\n      captured: 'onScrollShouldSetResponderCapture',\n    },\n  },\n\n  /**\n   * On text selection change, should this element become the responder? This\n   * is needed for text inputs or other views with native selection, so the\n   * JS view can claim the responder.\n   *\n   * TODO: This shouldn't bubble.\n   */\n  selectionChangeShouldSetResponder: {\n    phasedRegistrationNames: {\n      bubbled: 'onSelectionChangeShouldSetResponder',\n      captured: 'onSelectionChangeShouldSetResponderCapture',\n    },\n  },\n\n  /**\n   * On a `touchMove`/`mouseMove`, is it desired that this element become the\n   * responder?\n   */\n  moveShouldSetResponder: {\n    phasedRegistrationNames: {\n      bubbled: 'onMoveShouldSetResponder',\n      captured: 'onMoveShouldSetResponderCapture',\n    },\n  },\n\n  /**\n   * Direct responder events dispatched directly to responder. Do not bubble.\n   */\n  responderStart: {registrationName: 'onResponderStart'},\n  responderMove: {registrationName: 'onResponderMove'},\n  responderEnd: {registrationName: 'onResponderEnd'},\n  responderRelease: {registrationName: 'onResponderRelease'},\n  responderTerminationRequest: {\n    registrationName: 'onResponderTerminationRequest',\n  },\n  responderGrant: {registrationName: 'onResponderGrant'},\n  responderReject: {registrationName: 'onResponderReject'},\n  responderTerminate: {registrationName: 'onResponderTerminate'},\n};\n\n/**\n *\n * Responder System:\n * ----------------\n *\n * - A global, solitary \"interaction lock\" on a view.\n * - If a node becomes the responder, it should convey visual feedback\n *   immediately to indicate so, either by highlighting or moving accordingly.\n * - To be the responder means, that touches are exclusively important to that\n *   responder view, and no other view.\n * - While touches are still occurring, the responder lock can be transferred to\n *   a new view, but only to increasingly \"higher\" views (meaning ancestors of\n *   the current responder).\n *\n * Responder being granted:\n * ------------------------\n *\n * - Touch starts, moves, and scrolls can cause an ID to become the responder.\n * - We capture/bubble `startShouldSetResponder`/`moveShouldSetResponder` to\n *   the \"appropriate place\".\n * - If nothing is currently the responder, the \"appropriate place\" is the\n *   initiating event's `targetID`.\n * - If something *is* already the responder, the \"appropriate place\" is the\n *   first common ancestor of the event target and the current `responderInst`.\n * - Some negotiation happens: See the timing diagram below.\n * - Scrolled views automatically become responder. The reasoning is that a\n *   platform scroll view that isn't built on top of the responder system has\n *   began scrolling, and the active responder must now be notified that the\n *   interaction is no longer locked to it - the system has taken over.\n *\n * - Responder being released:\n *   As soon as no more touches that *started* inside of descendants of the\n *   *current* responderInst, an `onResponderRelease` event is dispatched to the\n *   current responder, and the responder lock is released.\n *\n * TODO:\n * - on \"end\", a callback hook for `onResponderEndShouldRemainResponder` that\n *   determines if the responder lock should remain.\n * - If a view shouldn't \"remain\" the responder, any active touches should by\n *   default be considered \"dead\" and do not influence future negotiations or\n *   bubble paths. It should be as if those touches do not exist.\n * -- For multitouch: Usually a translate-z will choose to \"remain\" responder\n *  after one out of many touches ended. For translate-y, usually the view\n *  doesn't wish to \"remain\" responder after one of many touches end.\n * - Consider building this on top of a `stopPropagation` model similar to\n *   `W3C` events.\n * - Ensure that `onResponderTerminate` is called on touch cancels, whether or\n *   not `onResponderTerminationRequest` returns `true` or `false`.\n *\n */\n\n/*                                             Negotiation Performed\n                                             +-----------------------+\n                                            /                         \\\nProcess low level events to    +     Current Responder      +   wantsResponderID\ndetermine who to perform negot-|   (if any exists at all)   |\niation/transition              | Otherwise just pass through|\n-------------------------------+----------------------------+------------------+\nBubble to find first ID        |                            |\nto return true:wantsResponderID|                            |\n                               |                            |\n     +-------------+           |                            |\n     | onTouchStart|           |                            |\n     +------+------+     none  |                            |\n            |            return|                            |\n+-----------v-------------+true| +------------------------+ |\n|onStartShouldSetResponder|----->|onResponderStart (cur)  |<-----------+\n+-----------+-------------+    | +------------------------+ |          |\n            |                  |                            | +--------+-------+\n            | returned true for|       false:REJECT +-------->|onResponderReject\n            | wantsResponderID |                    |       | +----------------+\n            | (now attempt     | +------------------+-----+ |\n            |  handoff)        | |   onResponder          | |\n            +------------------->|      TerminationRequest| |\n                               | +------------------+-----+ |\n                               |                    |       | +----------------+\n                               |         true:GRANT +-------->|onResponderGrant|\n                               |                            | +--------+-------+\n                               | +------------------------+ |          |\n                               | |   onResponderTerminate |<-----------+\n                               | +------------------+-----+ |\n                               |                    |       | +----------------+\n                               |                    +-------->|onResponderStart|\n                               |                            | +----------------+\nBubble to find first ID        |                            |\nto return true:wantsResponderID|                            |\n                               |                            |\n     +-------------+           |                            |\n     | onTouchMove |           |                            |\n     +------+------+     none  |                            |\n            |            return|                            |\n+-----------v-------------+true| +------------------------+ |\n|onMoveShouldSetResponder |----->|onResponderMove (cur)   |<-----------+\n+-----------+-------------+    | +------------------------+ |          |\n            |                  |                            | +--------+-------+\n            | returned true for|       false:REJECT +-------->|onResponderRejec|\n            | wantsResponderID |                    |       | +----------------+\n            | (now attempt     | +------------------+-----+ |\n            |  handoff)        | |   onResponder          | |\n            +------------------->|      TerminationRequest| |\n                               | +------------------+-----+ |\n                               |                    |       | +----------------+\n                               |         true:GRANT +-------->|onResponderGrant|\n                               |                            | +--------+-------+\n                               | +------------------------+ |          |\n                               | |   onResponderTerminate |<-----------+\n                               | +------------------+-----+ |\n                               |                    |       | +----------------+\n                               |                    +-------->|onResponderMove |\n                               |                            | +----------------+\n                               |                            |\n                               |                            |\n      Some active touch started|                            |\n      inside current responder | +------------------------+ |\n      +------------------------->|      onResponderEnd    | |\n      |                        | +------------------------+ |\n  +---+---------+              |                            |\n  | onTouchEnd  |              |                            |\n  +---+---------+              |                            |\n      |                        | +------------------------+ |\n      +------------------------->|     onResponderEnd     | |\n      No active touches started| +-----------+------------+ |\n      inside current responder |             |              |\n                               |             v              |\n                               | +------------------------+ |\n                               | |    onResponderRelease  | |\n                               | +------------------------+ |\n                               |                            |\n                               +                            + */\n\n\n\n/**\n * A note about event ordering in the `EventPluginHub`.\n *\n * Suppose plugins are injected in the following order:\n *\n * `[R, S, C]`\n *\n * To help illustrate the example, assume `S` is `SimpleEventPlugin` (for\n * `onClick` etc) and `R` is `ResponderEventPlugin`.\n *\n * \"Deferred-Dispatched Events\":\n *\n * - The current event plugin system will traverse the list of injected plugins,\n *   in order, and extract events by collecting the plugin's return value of\n *   `extractEvents()`.\n * - These events that are returned from `extractEvents` are \"deferred\n *   dispatched events\".\n * - When returned from `extractEvents`, deferred-dispatched events contain an\n *   \"accumulation\" of deferred dispatches.\n * - These deferred dispatches are accumulated/collected before they are\n *   returned, but processed at a later time by the `EventPluginHub` (hence the\n *   name deferred).\n *\n * In the process of returning their deferred-dispatched events, event plugins\n * themselves can dispatch events on-demand without returning them from\n * `extractEvents`. Plugins might want to do this, so that they can use event\n * dispatching as a tool that helps them decide which events should be extracted\n * in the first place.\n *\n * \"On-Demand-Dispatched Events\":\n *\n * - On-demand-dispatched events are not returned from `extractEvents`.\n * - On-demand-dispatched events are dispatched during the process of returning\n *   the deferred-dispatched events.\n * - They should not have side effects.\n * - They should be avoided, and/or eventually be replaced with another\n *   abstraction that allows event plugins to perform multiple \"rounds\" of event\n *   extraction.\n *\n * Therefore, the sequence of event dispatches becomes:\n *\n * - `R`s on-demand events (if any)   (dispatched by `R` on-demand)\n * - `S`s on-demand events (if any)   (dispatched by `S` on-demand)\n * - `C`s on-demand events (if any)   (dispatched by `C` on-demand)\n * - `R`s extracted events (if any)   (dispatched by `EventPluginHub`)\n * - `S`s extracted events (if any)   (dispatched by `EventPluginHub`)\n * - `C`s extracted events (if any)   (dispatched by `EventPluginHub`)\n *\n * In the case of `ResponderEventPlugin`: If the `startShouldSetResponder`\n * on-demand dispatch returns `true` (and some other details are satisfied) the\n * `onResponderGrant` deferred dispatched event is returned from\n * `extractEvents`. The sequence of dispatch executions in this case\n * will appear as follows:\n *\n * - `startShouldSetResponder` (`ResponderEventPlugin` dispatches on-demand)\n * - `touchStartCapture`       (`EventPluginHub` dispatches as usual)\n * - `touchStart`              (`EventPluginHub` dispatches as usual)\n * - `responderGrant/Reject`   (`EventPluginHub` dispatches as usual)\n */\n\nfunction setResponderAndExtractTransfer(\n  topLevelType,\n  targetInst,\n  nativeEvent,\n  nativeEventTarget\n) {\n  var shouldSetEventType =\n    isStartish(topLevelType) ? eventTypes.startShouldSetResponder :\n    isMoveish(topLevelType) ? eventTypes.moveShouldSetResponder :\n    topLevelType === 'topSelectionChange' ?\n      eventTypes.selectionChangeShouldSetResponder :\n    eventTypes.scrollShouldSetResponder;\n\n  // TODO: stop one short of the current responder.\n  var bubbleShouldSetFrom = !responderInst ?\n    targetInst :\n    ReactTreeTraversal.getLowestCommonAncestor(responderInst, targetInst);\n\n  // When capturing/bubbling the \"shouldSet\" event, we want to skip the target\n  // (deepest ID) if it happens to be the current responder. The reasoning:\n  // It's strange to get an `onMoveShouldSetResponder` when you're *already*\n  // the responder.\n  var skipOverBubbleShouldSetFrom = bubbleShouldSetFrom === responderInst;\n  var shouldSetEvent = ResponderSyntheticEvent.getPooled(\n    shouldSetEventType,\n    bubbleShouldSetFrom,\n    nativeEvent,\n    nativeEventTarget\n  );\n  shouldSetEvent.touchHistory = ResponderTouchHistoryStore.touchHistory;\n  if (skipOverBubbleShouldSetFrom) {\n    EventPropagators.accumulateTwoPhaseDispatchesSkipTarget(shouldSetEvent);\n  } else {\n    EventPropagators.accumulateTwoPhaseDispatches(shouldSetEvent);\n  }\n  var wantsResponderInst = executeDispatchesInOrderStopAtTrue(shouldSetEvent);\n  if (!shouldSetEvent.isPersistent()) {\n    shouldSetEvent.constructor.release(shouldSetEvent);\n  }\n\n  if (!wantsResponderInst || wantsResponderInst === responderInst) {\n    return null;\n  }\n  var extracted;\n  var grantEvent = ResponderSyntheticEvent.getPooled(\n    eventTypes.responderGrant,\n    wantsResponderInst,\n    nativeEvent,\n    nativeEventTarget\n  );\n  grantEvent.touchHistory = ResponderTouchHistoryStore.touchHistory;\n\n  EventPropagators.accumulateDirectDispatches(grantEvent);\n  var blockHostResponder = executeDirectDispatch(grantEvent) === true;\n  if (responderInst) {\n\n    var terminationRequestEvent = ResponderSyntheticEvent.getPooled(\n      eventTypes.responderTerminationRequest,\n      responderInst,\n      nativeEvent,\n      nativeEventTarget\n    );\n    terminationRequestEvent.touchHistory = ResponderTouchHistoryStore.touchHistory;\n    EventPropagators.accumulateDirectDispatches(terminationRequestEvent);\n    var shouldSwitch = !hasDispatches(terminationRequestEvent) ||\n      executeDirectDispatch(terminationRequestEvent);\n    if (!terminationRequestEvent.isPersistent()) {\n      terminationRequestEvent.constructor.release(terminationRequestEvent);\n    }\n\n    if (shouldSwitch) {\n      var terminateEvent = ResponderSyntheticEvent.getPooled(\n        eventTypes.responderTerminate,\n        responderInst,\n        nativeEvent,\n        nativeEventTarget\n      );\n      terminateEvent.touchHistory = ResponderTouchHistoryStore.touchHistory;\n      EventPropagators.accumulateDirectDispatches(terminateEvent);\n      extracted = accumulate(extracted, [grantEvent, terminateEvent]);\n      changeResponder(wantsResponderInst, blockHostResponder);\n    } else {\n      var rejectEvent = ResponderSyntheticEvent.getPooled(\n        eventTypes.responderReject,\n        wantsResponderInst,\n        nativeEvent,\n        nativeEventTarget\n      );\n      rejectEvent.touchHistory = ResponderTouchHistoryStore.touchHistory;\n      EventPropagators.accumulateDirectDispatches(rejectEvent);\n      extracted = accumulate(extracted, rejectEvent);\n    }\n  } else {\n    extracted = accumulate(extracted, grantEvent);\n    changeResponder(wantsResponderInst, blockHostResponder);\n  }\n  return extracted;\n}\n\n/**\n * A transfer is a negotiation between a currently set responder and the next\n * element to claim responder status. Any start event could trigger a transfer\n * of responderInst. Any move event could trigger a transfer.\n *\n * @param {string} topLevelType Record from `EventConstants`.\n * @return {boolean} True if a transfer of responder could possibly occur.\n */\nfunction canTriggerTransfer(topLevelType, topLevelInst, nativeEvent) {\n  return topLevelInst && (\n    // responderIgnoreScroll: We are trying to migrate away from specifically\n    // tracking native scroll events here and responderIgnoreScroll indicates we\n    // will send topTouchCancel to handle canceling touch events instead\n    (topLevelType === 'topScroll' &&\n      !nativeEvent.responderIgnoreScroll) ||\n    (trackedTouchCount > 0 &&\n      topLevelType === 'topSelectionChange') ||\n    isStartish(topLevelType) ||\n    isMoveish(topLevelType)\n  );\n}\n\n/**\n * Returns whether or not this touch end event makes it such that there are no\n * longer any touches that started inside of the current `responderInst`.\n *\n * @param {NativeEvent} nativeEvent Native touch end event.\n * @return {boolean} Whether or not this touch end event ends the responder.\n */\nfunction noResponderTouches(nativeEvent) {\n  var touches = nativeEvent.touches;\n  if (!touches || touches.length === 0) {\n    return true;\n  }\n  for (var i = 0; i < touches.length; i++) {\n    var activeTouch = touches[i];\n    var target = activeTouch.target;\n    if (target !== null && target !== undefined && target !== 0) {\n      // Is the original touch location inside of the current responder?\n      var targetInst = EventPluginUtils.getInstanceFromNode(target);\n      if (ReactTreeTraversal.isAncestor(responderInst, targetInst)) {\n        return false;\n      }\n    }\n  }\n  return true;\n}\n\n\nvar ResponderEventPlugin = {\n\n  /* For unit testing only */\n  _getResponder: function() {\n    return responderInst;\n  },\n\n  eventTypes: eventTypes,\n\n  /**\n   * We must be resilient to `targetInst` being `null` on `touchMove` or\n   * `touchEnd`. On certain platforms, this means that a native scroll has\n   * assumed control and the original touch targets are destroyed.\n   */\n  extractEvents: function(\n    topLevelType,\n    targetInst,\n    nativeEvent,\n    nativeEventTarget\n  ) {\n    if (isStartish(topLevelType)) {\n      trackedTouchCount += 1;\n    } else if (isEndish(topLevelType)) {\n      if (trackedTouchCount >= 0) {\n        trackedTouchCount -= 1;\n      } else {\n        console.error(\n          'Ended a touch event which was not counted in `trackedTouchCount`.'\n        );\n        return null;\n      }\n    }\n\n    ResponderTouchHistoryStore.recordTouchTrack(topLevelType, nativeEvent);\n\n    var extracted = canTriggerTransfer(topLevelType, targetInst, nativeEvent) ?\n      setResponderAndExtractTransfer(\n        topLevelType,\n        targetInst,\n        nativeEvent,\n        nativeEventTarget) :\n      null;\n    // Responder may or may not have transferred on a new touch start/move.\n    // Regardless, whoever is the responder after any potential transfer, we\n    // direct all touch start/move/ends to them in the form of\n    // `onResponderMove/Start/End`. These will be called for *every* additional\n    // finger that move/start/end, dispatched directly to whoever is the\n    // current responder at that moment, until the responder is \"released\".\n    //\n    // These multiple individual change touch events are are always bookended\n    // by `onResponderGrant`, and one of\n    // (`onResponderRelease/onResponderTerminate`).\n    var isResponderTouchStart = responderInst && isStartish(topLevelType);\n    var isResponderTouchMove = responderInst && isMoveish(topLevelType);\n    var isResponderTouchEnd = responderInst && isEndish(topLevelType);\n    var incrementalTouch =\n      isResponderTouchStart ? eventTypes.responderStart :\n      isResponderTouchMove ? eventTypes.responderMove :\n      isResponderTouchEnd ? eventTypes.responderEnd :\n      null;\n\n    if (incrementalTouch) {\n      var gesture =\n        ResponderSyntheticEvent.getPooled(\n          incrementalTouch,\n          responderInst,\n          nativeEvent,\n          nativeEventTarget\n        );\n      gesture.touchHistory = ResponderTouchHistoryStore.touchHistory;\n      EventPropagators.accumulateDirectDispatches(gesture);\n      extracted = accumulate(extracted, gesture);\n    }\n\n    var isResponderTerminate =\n      responderInst &&\n      topLevelType === 'topTouchCancel';\n    var isResponderRelease =\n      responderInst &&\n      !isResponderTerminate &&\n      isEndish(topLevelType) &&\n      noResponderTouches(nativeEvent);\n    var finalTouch =\n      isResponderTerminate ? eventTypes.responderTerminate :\n      isResponderRelease ? eventTypes.responderRelease :\n      null;\n    if (finalTouch) {\n      var finalEvent = ResponderSyntheticEvent.getPooled(\n        finalTouch, responderInst, nativeEvent, nativeEventTarget\n      );\n      finalEvent.touchHistory = ResponderTouchHistoryStore.touchHistory;\n      EventPropagators.accumulateDirectDispatches(finalEvent);\n      extracted = accumulate(extracted, finalEvent);\n      changeResponder(null);\n    }\n\n    var numberActiveTouches =\n      ResponderTouchHistoryStore.touchHistory.numberActiveTouches;\n    if (ResponderEventPlugin.GlobalInteractionHandler &&\n      numberActiveTouches !== previousActiveTouches) {\n      ResponderEventPlugin.GlobalInteractionHandler.onChange(\n        numberActiveTouches\n      );\n    }\n    previousActiveTouches = numberActiveTouches;\n\n    return extracted;\n  },\n\n  GlobalResponderHandler: null,\n  GlobalInteractionHandler: null,\n\n  injection: {\n    /**\n     * @param {{onChange: (ReactID, ReactID) => void} GlobalResponderHandler\n     * Object that handles any change in responder. Use this to inject\n     * integration with an existing touch handling system etc.\n     */\n    injectGlobalResponderHandler: function(GlobalResponderHandler) {\n      ResponderEventPlugin.GlobalResponderHandler = GlobalResponderHandler;\n    },\n\n    /**\n     * @param {{onChange: (numberActiveTouches) => void} GlobalInteractionHandler\n     * Object that handles any change in the number of active touches.\n     */\n    injectGlobalInteractionHandler: function(GlobalInteractionHandler) {\n      ResponderEventPlugin.GlobalInteractionHandler = GlobalInteractionHandler;\n    },\n  },\n};\n\nmodule.exports = ResponderEventPlugin;\n","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule ResponderSyntheticEvent\n */\n\n'use strict';\n\nvar SyntheticEvent = require('SyntheticEvent');\n\n/**\n * `touchHistory` isn't actually on the native event, but putting it in the\n * interface will ensure that it is cleaned up when pooled/destroyed. The\n * `ResponderEventPlugin` will populate it appropriately.\n */\nvar ResponderEventInterface = {\n  touchHistory: function(nativeEvent) {\n    return null; // Actually doesn't even look at the native event.\n  },\n};\n\n/**\n * @param {object} dispatchConfig Configuration used to dispatch this event.\n * @param {string} dispatchMarker Marker identifying the event target.\n * @param {object} nativeEvent Native event.\n * @extends {SyntheticEvent}\n */\nfunction ResponderSyntheticEvent(dispatchConfig, dispatchMarker, nativeEvent, nativeEventTarget) {\n  return SyntheticEvent.call(this, dispatchConfig, dispatchMarker, nativeEvent, nativeEventTarget);\n}\n\nSyntheticEvent.augmentClass(ResponderSyntheticEvent, ResponderEventInterface);\n\nmodule.exports = ResponderSyntheticEvent;\n","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule ResponderTouchHistoryStore\n * @flow\n */\n\n'use strict';\n\nconst EventPluginUtils = require('EventPluginUtils');\n\nconst invariant = require('fbjs/lib/invariant');\nconst warning = require('fbjs/lib/warning');\n\nconst {\n  isEndish,\n  isMoveish,\n  isStartish,\n} = EventPluginUtils;\n\n/**\n * Tracks the position and time of each active touch by `touch.identifier`. We\n * should typically only see IDs in the range of 1-20 because IDs get recycled\n * when touches end and start again.\n */\ntype TouchRecord = {\n  touchActive: boolean,\n  startPageX: number,\n  startPageY: number,\n  startTimeStamp: number,\n  currentPageX: number,\n  currentPageY: number,\n  currentTimeStamp: number,\n  previousPageX: number,\n  previousPageY: number,\n  previousTimeStamp: number,\n};\n\nconst MAX_TOUCH_BANK = 20;\nconst touchBank: Array<TouchRecord> = [];\nconst touchHistory = {\n  touchBank,\n  numberActiveTouches: 0,\n  // If there is only one active touch, we remember its location. This prevents\n  // us having to loop through all of the touches all the time in the most\n  // common case.\n  indexOfSingleActiveTouch: -1,\n  mostRecentTimeStamp: 0,\n};\n\ntype Touch = {\n  identifier: ?number,\n  pageX: number,\n  pageY: number,\n  timestamp: number,\n};\ntype TouchEvent = {\n  changedTouches: Array<Touch>,\n  touches: Array<Touch>,\n};\n\nfunction timestampForTouch(touch: Touch): number {\n  // The legacy internal implementation provides \"timeStamp\", which has been\n  // renamed to \"timestamp\". Let both work for now while we iron it out\n  // TODO (evv): rename timeStamp to timestamp in internal code\n  return (touch: any).timeStamp || touch.timestamp;\n}\n\n/**\n * TODO: Instead of making gestures recompute filtered velocity, we could\n * include a built in velocity computation that can be reused globally.\n */\nfunction createTouchRecord(touch: Touch): TouchRecord {\n  return {\n    touchActive: true,\n    startPageX: touch.pageX,\n    startPageY: touch.pageY,\n    startTimeStamp: timestampForTouch(touch),\n    currentPageX: touch.pageX,\n    currentPageY: touch.pageY,\n    currentTimeStamp: timestampForTouch(touch),\n    previousPageX: touch.pageX,\n    previousPageY: touch.pageY,\n    previousTimeStamp: timestampForTouch(touch),\n  };\n}\n\nfunction resetTouchRecord(touchRecord: TouchRecord, touch: Touch): void {\n  touchRecord.touchActive = true;\n  touchRecord.startPageX = touch.pageX;\n  touchRecord.startPageY = touch.pageY;\n  touchRecord.startTimeStamp = timestampForTouch(touch);\n  touchRecord.currentPageX = touch.pageX;\n  touchRecord.currentPageY = touch.pageY;\n  touchRecord.currentTimeStamp = timestampForTouch(touch);\n  touchRecord.previousPageX = touch.pageX;\n  touchRecord.previousPageY = touch.pageY;\n  touchRecord.previousTimeStamp = timestampForTouch(touch);\n}\n\nfunction getTouchIdentifier({identifier}: Touch): number {\n  invariant(identifier != null, 'Touch object is missing identifier.');\n  warning(\n    identifier <= MAX_TOUCH_BANK,\n    'Touch identifier %s is greater than maximum supported %s which causes ' +\n    'performance issues backfilling array locations for all of the indices.',\n    identifier,\n    MAX_TOUCH_BANK\n  );\n  return identifier;\n}\n\nfunction recordTouchStart(touch: Touch): void {\n  const identifier = getTouchIdentifier(touch);\n  const touchRecord = touchBank[identifier];\n  if (touchRecord) {\n    resetTouchRecord(touchRecord, touch);\n  } else {\n    touchBank[identifier] = createTouchRecord(touch);\n  }\n  touchHistory.mostRecentTimeStamp = timestampForTouch(touch);\n}\n\nfunction recordTouchMove(touch: Touch): void {\n  const touchRecord = touchBank[getTouchIdentifier(touch)];\n  if (touchRecord) {\n    touchRecord.touchActive = true;\n    touchRecord.previousPageX = touchRecord.currentPageX;\n    touchRecord.previousPageY = touchRecord.currentPageY;\n    touchRecord.previousTimeStamp = touchRecord.currentTimeStamp;\n    touchRecord.currentPageX = touch.pageX;\n    touchRecord.currentPageY = touch.pageY;\n    touchRecord.currentTimeStamp = timestampForTouch(touch);\n    touchHistory.mostRecentTimeStamp = timestampForTouch(touch);\n  } else {\n    console.error(\n      'Cannot record touch move without a touch start.\\n' +\n      'Touch Move: %s\\n',\n      'Touch Bank: %s',\n      printTouch(touch),\n      printTouchBank()\n    );\n  }\n}\n\nfunction recordTouchEnd(touch: Touch): void {\n  const touchRecord = touchBank[getTouchIdentifier(touch)];\n  if (touchRecord) {\n    touchRecord.touchActive = false;\n    touchRecord.previousPageX = touchRecord.currentPageX;\n    touchRecord.previousPageY = touchRecord.currentPageY;\n    touchRecord.previousTimeStamp = touchRecord.currentTimeStamp;\n    touchRecord.currentPageX = touch.pageX;\n    touchRecord.currentPageY = touch.pageY;\n    touchRecord.currentTimeStamp = timestampForTouch(touch);\n    touchHistory.mostRecentTimeStamp = timestampForTouch(touch);\n  } else {\n    console.error(\n      'Cannot record touch end without a touch start.\\n' +\n      'Touch End: %s\\n',\n      'Touch Bank: %s',\n      printTouch(touch),\n      printTouchBank()\n    );\n  }\n}\n\nfunction printTouch(touch: Touch): string {\n  return JSON.stringify({\n    identifier: touch.identifier,\n    pageX: touch.pageX,\n    pageY: touch.pageY,\n    timestamp: timestampForTouch(touch),\n  });\n}\n\nfunction printTouchBank(): string {\n  let printed = JSON.stringify(touchBank.slice(0, MAX_TOUCH_BANK));\n  if (touchBank.length > MAX_TOUCH_BANK) {\n    printed += ' (original size: ' + touchBank.length + ')';\n  }\n  return printed;\n}\n\nconst ResponderTouchHistoryStore = {\n  recordTouchTrack(topLevelType: string, nativeEvent: TouchEvent): void {\n    if (isMoveish(topLevelType)) {\n      nativeEvent.changedTouches.forEach(recordTouchMove);\n    } else if (isStartish(topLevelType)) {\n      nativeEvent.changedTouches.forEach(recordTouchStart);\n      touchHistory.numberActiveTouches = nativeEvent.touches.length;\n      if (touchHistory.numberActiveTouches === 1) {\n        touchHistory.indexOfSingleActiveTouch =\n          nativeEvent.touches[0].identifier;\n      }\n    } else if (isEndish(topLevelType)) {\n      nativeEvent.changedTouches.forEach(recordTouchEnd);\n      touchHistory.numberActiveTouches = nativeEvent.touches.length;\n      if (touchHistory.numberActiveTouches === 1) {\n        for (let i = 0; i < touchBank.length; i++) {\n          const touchTrackToCheck = touchBank[i];\n          if (touchTrackToCheck != null && touchTrackToCheck.touchActive) {\n            touchHistory.indexOfSingleActiveTouch = i;\n            break;\n          }\n        }\n        if (__DEV__) {\n          const activeRecord = touchBank[touchHistory.indexOfSingleActiveTouch];\n          warning(\n            activeRecord != null &&\n            activeRecord.touchActive,\n            'Cannot find single active touch.'\n          );\n        }\n      }\n    }\n  },\n\n  touchHistory,\n};\n\n\nmodule.exports = ResponderTouchHistoryStore;\n","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule accumulate\n * @flow\n */\n\n'use strict';\n\nvar invariant = require('fbjs/lib/invariant');\n\n/**\n * Accumulates items that must not be null or undefined.\n *\n * This is used to conserve memory by avoiding array allocations.\n *\n * @return {*|array<*>} An accumulation of items.\n */\nfunction accumulate<T>(current: ?(T | Array<T>), next: T | Array<T>): T | Array<T> {\n  invariant(\n    next != null,\n    'accumulate(...): Accumulated items must be not be null or undefined.'\n  );\n\n  if (current == null) {\n    return next;\n  }\n\n  // Both are not empty. Warning: Never call x.concat(y) when you are not\n  // certain that x is an Array (x could be a string with concat method).\n  if (Array.isArray(current)) {\n    return current.concat(next);\n  }\n\n  if (Array.isArray(next)) {\n    return [current].concat(next);\n  }\n\n  return [current, next];\n}\n\nmodule.exports = accumulate;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule ReactNativeStackInjection\n * @flow\n */\n'use strict';\n\n/**\n * Make sure essential globals are available and are patched correctly. Please don't remove this\n * line. Bundles created by react-packager `require` it before executing any application code. This\n * ensures it exists in the dependency graph and can be `require`d.\n * TODO: require this in packager, not in React #10932517\n */\nrequire('InitializeCore');\n\nvar React = require('React');\nvar ReactComponentEnvironment = require('ReactComponentEnvironment');\nvar ReactDefaultBatchingStrategy = require('ReactDefaultBatchingStrategy');\nvar ReactEmptyComponent = require('ReactEmptyComponent');\nvar ReactGenericBatching = require('ReactGenericBatching');\nvar ReactHostComponent = require('ReactHostComponent');\nvar ReactNativeComponentEnvironment = require('ReactNativeComponentEnvironment');\nvar ReactNativeTextComponent = require('ReactNativeTextComponent');\nvar ReactSimpleEmptyComponent = require('ReactSimpleEmptyComponent');\nvar ReactUpdates = require('ReactUpdates');\n\nvar findNodeHandle = require('findNodeHandle');\nvar invariant = require('fbjs/lib/invariant');\n\nfunction inject() {\n  ReactGenericBatching.injection.injectStackBatchedUpdates(\n    ReactUpdates.batchedUpdates\n  );\n\n  ReactUpdates.injection.injectReconcileTransaction(\n    ReactNativeComponentEnvironment.ReactReconcileTransaction\n  );\n\n  ReactUpdates.injection.injectBatchingStrategy(\n    ReactDefaultBatchingStrategy\n  );\n\n  ReactComponentEnvironment.injection.injectEnvironment(\n    ReactNativeComponentEnvironment\n  );\n\n  var EmptyComponent = (instantiate) => {\n    // Can't import View at the top because it depends on React to make its composite\n    var View = require('View');\n    return new ReactSimpleEmptyComponent(\n      React.createElement(View, {\n        collapsable: true,\n        style: { position: 'absolute' },\n      }),\n      instantiate\n    );\n  };\n\n  findNodeHandle.injection.injectFindNode(\n    (instance) => instance.getHostNode()\n  );\n  findNodeHandle.injection.injectFindRootNodeID(\n    (instance) => instance._rootNodeID\n  );\n\n  ReactEmptyComponent.injection.injectEmptyComponentFactory(EmptyComponent);\n\n  ReactHostComponent.injection.injectTextComponentClass(\n    ReactNativeTextComponent\n  );\n  ReactHostComponent.injection.injectGenericComponentClass(function(tag) {\n    // Show a nicer error message for non-function tags\n    var info = '';\n    if (typeof tag === 'string' && /^[a-z]/.test(tag)) {\n      info += ' Each component name should start with an uppercase letter.';\n    }\n    invariant(false, 'Expected a component class, got %s.%s', tag, info);\n  });\n}\n\nmodule.exports = {\n  inject: inject,\n};\n","/**\n * Copyright (c) 2016-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule React\n */\n\n'use strict';\n\nmodule.exports = require('react/lib/React');\n","/**\n * Copyright 2014-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule ReactComponentEnvironment\n * @flow\n */\n\n'use strict';\n\nvar invariant = require('fbjs/lib/invariant');\n\ntype ReplaceNodeWithMarkup = (node: HTMLElement, markup: string) => void;\ntype ProcessChildrenUpdates = (instance: mixed, updates: mixed) => void;\n\ntype Environment = {\n  replaceNodeWithMarkup: ReplaceNodeWithMarkup,\n  processChildrenUpdates: ProcessChildrenUpdates,\n};\n\nvar injected = false;\n\nvar ReactComponentEnvironment = {\n\n  /**\n   * Optionally injectable hook for swapping out mount images in the middle of\n   * the tree.\n   */\n  replaceNodeWithMarkup: (null: ?ReplaceNodeWithMarkup),\n\n  /**\n   * Optionally injectable hook for processing a queue of child updates. Will\n   * later move into MultiChildComponents.\n   */\n  processChildrenUpdates: (null: ?ReplaceNodeWithMarkup),\n\n  injection: {\n    injectEnvironment: function(environment: Environment) {\n      invariant(\n        !injected,\n        'ReactCompositeComponent: injectEnvironment() can only be called once.'\n      );\n      ReactComponentEnvironment.replaceNodeWithMarkup =\n        environment.replaceNodeWithMarkup;\n      ReactComponentEnvironment.processChildrenUpdates =\n        environment.processChildrenUpdates;\n      injected = true;\n    },\n  },\n\n};\n\nmodule.exports = ReactComponentEnvironment;\n","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule ReactDefaultBatchingStrategy\n */\n\n'use strict';\n\nvar ReactUpdates = require('ReactUpdates');\nvar Transaction = require('Transaction');\n\nvar emptyFunction = require('fbjs/lib/emptyFunction');\n\nvar RESET_BATCHED_UPDATES = {\n  initialize: emptyFunction,\n  close: function() {\n    ReactDefaultBatchingStrategy.isBatchingUpdates = false;\n  },\n};\n\nvar FLUSH_BATCHED_UPDATES = {\n  initialize: emptyFunction,\n  close: ReactUpdates.flushBatchedUpdates.bind(ReactUpdates),\n};\n\nvar TRANSACTION_WRAPPERS = [FLUSH_BATCHED_UPDATES, RESET_BATCHED_UPDATES];\n\nfunction ReactDefaultBatchingStrategyTransaction() {\n  this.reinitializeTransaction();\n}\n\nObject.assign(\n  ReactDefaultBatchingStrategyTransaction.prototype,\n  Transaction,\n  {\n    getTransactionWrappers: function() {\n      return TRANSACTION_WRAPPERS;\n    },\n  }\n);\n\nvar transaction = new ReactDefaultBatchingStrategyTransaction();\n\nvar ReactDefaultBatchingStrategy = {\n  isBatchingUpdates: false,\n\n  /**\n   * Call the provided function in a context within which calls to `setState`\n   * and friends are batched such that components aren't updated unnecessarily.\n   */\n  batchedUpdates: function(callback, a, b, c, d, e) {\n    var alreadyBatchingUpdates = ReactDefaultBatchingStrategy.isBatchingUpdates;\n\n    ReactDefaultBatchingStrategy.isBatchingUpdates = true;\n\n    // The code is written this way to avoid extra allocations\n    if (alreadyBatchingUpdates) {\n      return callback(a, b, c, d, e);\n    } else {\n      return transaction.perform(callback, null, a, b, c, d, e);\n    }\n  },\n};\n\nmodule.exports = ReactDefaultBatchingStrategy;\n","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule ReactUpdates\n */\n\n'use strict';\n\nvar PooledClass = require('PooledClass');\nvar ReactFeatureFlags = require('ReactFeatureFlags');\nvar ReactReconciler = require('ReactReconciler');\nvar Transaction = require('Transaction');\n\nvar invariant = require('fbjs/lib/invariant');\n\nvar dirtyComponents = [];\nvar updateBatchNumber = 0;\n\nvar batchingStrategy = null;\n\nfunction ensureInjected() {\n  invariant(\n    ReactUpdates.ReactReconcileTransaction && batchingStrategy,\n    'ReactUpdates: must inject a reconcile transaction class and batching ' +\n    'strategy'\n  );\n}\n\nvar NESTED_UPDATES = {\n  initialize: function() {\n    this.dirtyComponentsLength = dirtyComponents.length;\n  },\n  close: function() {\n    if (this.dirtyComponentsLength !== dirtyComponents.length) {\n      // Additional updates were enqueued by componentDidUpdate handlers or\n      // similar; before our own UPDATE_QUEUEING wrapper closes, we want to run\n      // these new updates so that if A's componentDidUpdate calls setState on\n      // B, B will update before the callback A's updater provided when calling\n      // setState.\n      dirtyComponents.splice(0, this.dirtyComponentsLength);\n      flushBatchedUpdates();\n    } else {\n      dirtyComponents.length = 0;\n    }\n  },\n};\n\nvar TRANSACTION_WRAPPERS = [NESTED_UPDATES];\n\nfunction ReactUpdatesFlushTransaction() {\n  this.reinitializeTransaction();\n  this.dirtyComponentsLength = null;\n  this.reconcileTransaction = ReactUpdates.ReactReconcileTransaction.getPooled(\n    /* useCreateElement */ true\n  );\n}\n\nObject.assign(\n  ReactUpdatesFlushTransaction.prototype,\n  Transaction,\n  {\n    getTransactionWrappers: function() {\n      return TRANSACTION_WRAPPERS;\n    },\n\n    destructor: function() {\n      this.dirtyComponentsLength = null;\n      ReactUpdates.ReactReconcileTransaction.release(this.reconcileTransaction);\n      this.reconcileTransaction = null;\n    },\n\n    perform: function(method, scope, a) {\n      // Essentially calls `this.reconcileTransaction.perform(method, scope, a)`\n      // with this transaction's wrappers around it.\n      return Transaction.perform.call(\n        this,\n        this.reconcileTransaction.perform,\n        this.reconcileTransaction,\n        method,\n        scope,\n        a\n      );\n    },\n  }\n);\n\nPooledClass.addPoolingTo(ReactUpdatesFlushTransaction);\n\nfunction batchedUpdates(callback, a, b, c, d, e) {\n  ensureInjected();\n  return batchingStrategy.batchedUpdates(callback, a, b, c, d, e);\n}\n\n/**\n * Array comparator for ReactComponents by mount ordering.\n *\n * @param {ReactComponent} c1 first component you're comparing\n * @param {ReactComponent} c2 second component you're comparing\n * @return {number} Return value usable by Array.prototype.sort().\n */\nfunction mountOrderComparator(c1, c2) {\n  return c1._mountOrder - c2._mountOrder;\n}\n\nfunction runBatchedUpdates(transaction) {\n  var len = transaction.dirtyComponentsLength;\n  invariant(\n    len === dirtyComponents.length,\n    'Expected flush transaction\\'s stored dirty-components length (%s) to ' +\n    'match dirty-components array length (%s).',\n    len,\n    dirtyComponents.length\n  );\n\n  // Since reconciling a component higher in the owner hierarchy usually (not\n  // always -- see shouldComponentUpdate()) will reconcile children, reconcile\n  // them before their children by sorting the array.\n  dirtyComponents.sort(mountOrderComparator);\n\n  // Any updates enqueued while reconciling must be performed after this entire\n  // batch. Otherwise, if dirtyComponents is [A, B] where A has children B and\n  // C, B could update twice in a single batch if C's render enqueues an update\n  // to B (since B would have already updated, we should skip it, and the only\n  // way we can know to do so is by checking the batch counter).\n  updateBatchNumber++;\n\n  for (var i = 0; i < len; i++) {\n    // If a component is unmounted before pending changes apply, it will still\n    // be here, but we assume that it has cleared its _pendingCallbacks and\n    // that performUpdateIfNecessary is a noop.\n    var component = dirtyComponents[i];\n\n    var markerName;\n    if (ReactFeatureFlags.logTopLevelRenders) {\n      var namedComponent = component;\n      // Duck type TopLevelWrapper. This is probably always true.\n      if (component._currentElement.type.isReactTopLevelWrapper) {\n        namedComponent = component._renderedComponent;\n      }\n      markerName = 'React update: ' + namedComponent.getName();\n      console.time(markerName);\n    }\n\n    ReactReconciler.performUpdateIfNecessary(\n      component,\n      transaction.reconcileTransaction,\n      updateBatchNumber\n    );\n\n    if (markerName) {\n      console.timeEnd(markerName);\n    }\n  }\n}\n\nvar flushBatchedUpdates = function() {\n  // ReactUpdatesFlushTransaction's wrappers will clear the dirtyComponents\n  // array and perform any updates enqueued by mount-ready handlers (i.e.,\n  // componentDidUpdate) but we need to check here too in order to catch\n  // updates enqueued by setState callbacks.\n  while (dirtyComponents.length) {\n    var transaction = ReactUpdatesFlushTransaction.getPooled();\n    transaction.perform(runBatchedUpdates, null, transaction);\n    ReactUpdatesFlushTransaction.release(transaction);\n  }\n};\n\n/**\n * Mark a component as needing a rerender, adding an optional callback to a\n * list of functions which will be executed once the rerender occurs.\n */\nfunction enqueueUpdate(component) {\n  ensureInjected();\n\n  // Various parts of our code (such as ReactCompositeComponent's\n  // _renderValidatedComponent) assume that calls to render aren't nested;\n  // verify that that's the case. (This is called by each top-level update\n  // function, like setState, forceUpdate, etc.; creation and\n  // destruction of top-level components is guarded in ReactMount.)\n\n  if (!batchingStrategy.isBatchingUpdates) {\n    batchingStrategy.batchedUpdates(enqueueUpdate, component);\n    return;\n  }\n\n  dirtyComponents.push(component);\n  if (component._updateBatchNumber == null) {\n    component._updateBatchNumber = updateBatchNumber + 1;\n  }\n}\n\nvar ReactUpdatesInjection = {\n  injectReconcileTransaction: function(ReconcileTransaction) {\n    invariant(\n      ReconcileTransaction,\n      'ReactUpdates: must provide a reconcile transaction class'\n    );\n    ReactUpdates.ReactReconcileTransaction = ReconcileTransaction;\n  },\n\n  injectBatchingStrategy: function(_batchingStrategy) {\n    invariant(\n      _batchingStrategy,\n      'ReactUpdates: must provide a batching strategy'\n    );\n    invariant(\n      typeof _batchingStrategy.batchedUpdates === 'function',\n      'ReactUpdates: must provide a batchedUpdates() function'\n    );\n    invariant(\n      typeof _batchingStrategy.isBatchingUpdates === 'boolean',\n      'ReactUpdates: must provide an isBatchingUpdates boolean attribute'\n    );\n    batchingStrategy = _batchingStrategy;\n  },\n\n  getBatchingStrategy: function() {\n    return batchingStrategy;\n  },\n};\n\nvar ReactUpdates = {\n  /**\n   * React references `ReactReconcileTransaction` using this property in order\n   * to allow dependency injection.\n   *\n   * @internal\n   */\n  ReactReconcileTransaction: null,\n\n  batchedUpdates: batchedUpdates,\n  enqueueUpdate: enqueueUpdate,\n  flushBatchedUpdates: flushBatchedUpdates,\n  injection: ReactUpdatesInjection,\n};\n\nmodule.exports = ReactUpdates;\n","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule ReactFeatureFlags\n * @flow\n */\n\n'use strict';\n\nvar ReactFeatureFlags = {\n  // When true, call console.time() before and .timeEnd() after each top-level\n  // render (both initial renders and updates). Useful when looking at prod-mode\n  // timeline profiles in Chrome, for example.\n  logTopLevelRenders: false,\n  prepareNewChildrenBeforeUnmountInStack: true,\n  disableNewFiberFeatures: false,\n};\n\nmodule.exports = ReactFeatureFlags;\n","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule ReactReconciler\n */\n\n'use strict';\n\nvar ReactRef = require('ReactRef');\nvar ReactInstrumentation = require('ReactInstrumentation');\n\nvar warning = require('fbjs/lib/warning');\n\n/**\n * Helper to call ReactRef.attachRefs with this composite component, split out\n * to avoid allocations in the transaction mount-ready queue.\n */\nfunction attachRefs() {\n  ReactRef.attachRefs(this, this._currentElement);\n}\n\nvar ReactReconciler = {\n\n  /**\n   * Initializes the component, renders markup, and registers event listeners.\n   *\n   * @param {ReactComponent} internalInstance\n   * @param {ReactReconcileTransaction|ReactServerRenderingTransaction} transaction\n   * @param {?object} the containing host component instance\n   * @param {?object} info about the host container\n   * @return {?string} Rendered markup to be inserted into the DOM.\n   * @final\n   * @internal\n   */\n  mountComponent: function(\n    internalInstance,\n    transaction,\n    hostParent,\n    hostContainerInfo,\n    context,\n    parentDebugID // 0 in production and for roots\n  ) {\n    if (__DEV__) {\n      if (internalInstance._debugID !== 0) {\n        ReactInstrumentation.debugTool.onBeforeMountComponent(\n          internalInstance._debugID,\n          internalInstance._currentElement,\n          parentDebugID\n        );\n      }\n    }\n    var markup = internalInstance.mountComponent(\n      transaction,\n      hostParent,\n      hostContainerInfo,\n      context,\n      parentDebugID\n    );\n    if (internalInstance._currentElement &&\n        internalInstance._currentElement.ref != null) {\n      transaction.getReactMountReady().enqueue(attachRefs, internalInstance);\n    }\n    if (__DEV__) {\n      if (internalInstance._debugID !== 0) {\n        ReactInstrumentation.debugTool.onMountComponent(\n          internalInstance._debugID\n        );\n      }\n    }\n    return markup;\n  },\n\n  /**\n   * Returns a value that can be passed to\n   * ReactComponentEnvironment.replaceNodeWithMarkup.\n   */\n  getHostNode: function(internalInstance) {\n    return internalInstance.getHostNode();\n  },\n\n  /**\n   * Releases any resources allocated by `mountComponent`.\n   *\n   * @final\n   * @internal\n   */\n  unmountComponent: function(internalInstance, safely, skipLifecycle) {\n    if (__DEV__) {\n      if (internalInstance._debugID !== 0) {\n        ReactInstrumentation.debugTool.onBeforeUnmountComponent(\n          internalInstance._debugID\n        );\n      }\n    }\n    ReactRef.detachRefs(internalInstance, internalInstance._currentElement);\n    internalInstance.unmountComponent(safely, skipLifecycle);\n    if (__DEV__) {\n      if (internalInstance._debugID !== 0) {\n        ReactInstrumentation.debugTool.onUnmountComponent(\n          internalInstance._debugID\n        );\n      }\n    }\n  },\n\n  /**\n   * Update a component using a new element.\n   *\n   * @param {ReactComponent} internalInstance\n   * @param {ReactElement} nextElement\n   * @param {ReactReconcileTransaction} transaction\n   * @param {object} context\n   * @internal\n   */\n  receiveComponent: function(\n    internalInstance, nextElement, transaction, context\n  ) {\n    var prevElement = internalInstance._currentElement;\n\n    if (nextElement === prevElement &&\n        context === internalInstance._context\n      ) {\n      // Since elements are immutable after the owner is rendered,\n      // we can do a cheap identity compare here to determine if this is a\n      // superfluous reconcile. It's possible for state to be mutable but such\n      // change should trigger an update of the owner which would recreate\n      // the element. We explicitly check for the existence of an owner since\n      // it's possible for an element created outside a composite to be\n      // deeply mutated and reused.\n\n      // TODO: Bailing out early is just a perf optimization right?\n      // TODO: Removing the return statement should affect correctness?\n      return;\n    }\n\n    if (__DEV__) {\n      if (internalInstance._debugID !== 0) {\n        ReactInstrumentation.debugTool.onBeforeUpdateComponent(\n          internalInstance._debugID,\n          nextElement\n        );\n      }\n    }\n\n    var refsChanged = ReactRef.shouldUpdateRefs(\n      prevElement,\n      nextElement\n    );\n\n    if (refsChanged) {\n      ReactRef.detachRefs(internalInstance, prevElement);\n    }\n\n    internalInstance.receiveComponent(nextElement, transaction, context);\n\n    if (refsChanged &&\n        internalInstance._currentElement &&\n        internalInstance._currentElement.ref != null) {\n      transaction.getReactMountReady().enqueue(attachRefs, internalInstance);\n    }\n\n    if (__DEV__) {\n      if (internalInstance._debugID !== 0) {\n        ReactInstrumentation.debugTool.onUpdateComponent(\n          internalInstance._debugID\n        );\n      }\n    }\n  },\n\n  /**\n   * Flush any dirty changes in a component.\n   *\n   * @param {ReactComponent} internalInstance\n   * @param {ReactReconcileTransaction} transaction\n   * @internal\n   */\n  performUpdateIfNecessary: function(\n    internalInstance,\n    transaction,\n    updateBatchNumber\n  ) {\n    if (internalInstance._updateBatchNumber !== updateBatchNumber) {\n      // The component's enqueued batch number should always be the current\n      // batch or the following one.\n      warning(\n        internalInstance._updateBatchNumber == null ||\n        internalInstance._updateBatchNumber === updateBatchNumber + 1,\n        'performUpdateIfNecessary: Unexpected batch number (current %s, ' +\n        'pending %s)',\n        updateBatchNumber,\n        internalInstance._updateBatchNumber\n      );\n      return;\n    }\n    if (__DEV__) {\n      if (internalInstance._debugID !== 0) {\n        ReactInstrumentation.debugTool.onBeforeUpdateComponent(\n          internalInstance._debugID,\n          internalInstance._currentElement\n        );\n      }\n    }\n    internalInstance.performUpdateIfNecessary(transaction);\n    if (__DEV__) {\n      if (internalInstance._debugID !== 0) {\n        ReactInstrumentation.debugTool.onUpdateComponent(\n          internalInstance._debugID\n        );\n      }\n    }\n  },\n\n};\n\nmodule.exports = ReactReconciler;\n","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule ReactRef\n * @flow\n */\n\n'use strict';\n\nvar ReactOwner = require('ReactOwner');\n\nimport type { ReactInstance } from 'ReactInstanceType';\nimport type { ReactElement } from 'ReactElementType';\n\nvar ReactRef = {};\n\nif (__DEV__) {\n  var ReactCompositeComponentTypes = require('ReactCompositeComponentTypes');\n  var ReactComponentTreeHook = require('react/lib/ReactComponentTreeHook');\n  var warning = require('fbjs/lib/warning');\n\n  var warnedAboutStatelessRefs = {};\n}\n\nfunction attachRef(ref, component, owner) {\n  if (__DEV__) {\n    if (component._compositeType === ReactCompositeComponentTypes.StatelessFunctional) {\n      let info = '';\n      let ownerName;\n      if (owner) {\n        if (typeof owner.getName === 'function') {\n          ownerName = owner.getName();\n        }\n        if (ownerName) {\n          info += '\\n\\nCheck the render method of `' + ownerName + '`.';\n        }\n      }\n\n      let warningKey = ownerName || component._debugID;\n      let element = component._currentElement;\n      if (element && element._source) {\n        warningKey = element._source.fileName + ':' + element._source.lineNumber;\n      }\n      if (!warnedAboutStatelessRefs[warningKey]) {\n        warnedAboutStatelessRefs[warningKey] = true;\n        warning(\n          false,\n          'Stateless function components cannot be given refs. ' +\n          'Attempts to access this ref will fail.%s%s',\n          info,\n          ReactComponentTreeHook.getStackAddendumByID(component._debugID)\n        );\n      }\n    }\n  }\n\n  if (typeof ref === 'function') {\n    ref(component.getPublicInstance());\n  } else {\n    // Legacy ref\n    ReactOwner.addComponentAsRefTo(\n      component,\n      ref,\n      owner,\n    );\n  }\n}\n\nfunction detachRef(ref, component, owner) {\n  if (typeof ref === 'function') {\n    ref(null);\n  } else {\n    // Legacy ref\n    ReactOwner.removeComponentAsRefFrom(component, ref, owner);\n  }\n}\n\nReactRef.attachRefs = function(\n  instance: ReactInstance,\n  element: ReactElement | string | number | null | false,\n): void {\n  if (element === null || typeof element !== 'object') {\n    return;\n  }\n  var ref = element.ref;\n  if (ref != null) {\n    attachRef(ref, instance, element._owner);\n  }\n};\n\nReactRef.shouldUpdateRefs = function(\n  prevElement: ReactElement | string | number | null | false,\n  nextElement: ReactElement | string | number | null | false,\n): boolean {\n  // If either the owner or a `ref` has changed, make sure the newest owner\n  // has stored a reference to `this`, and the previous owner (if different)\n  // has forgotten the reference to `this`. We use the element instead\n  // of the public this.props because the post processing cannot determine\n  // a ref. The ref conceptually lives on the element.\n\n  // TODO: Should this even be possible? The owner cannot change because\n  // it's forbidden by shouldUpdateReactComponent. The ref can change\n  // if you swap the keys of but not the refs. Reconsider where this check\n  // is made. It probably belongs where the key checking and\n  // instantiateReactComponent is done.\n\n  var prevRef = null;\n  var prevOwner = null;\n  if (prevElement !== null && typeof prevElement === 'object') {\n    prevRef = prevElement.ref;\n    prevOwner = prevElement._owner;\n  }\n\n  var nextRef = null;\n  var nextOwner = null;\n  if (nextElement !== null && typeof nextElement === 'object') {\n    nextRef = nextElement.ref;\n    nextOwner = nextElement._owner;\n  }\n\n  return (\n    prevRef !== nextRef ||\n    // If owner changes but we have an unchanged function ref, don't update refs\n    (typeof nextRef === 'string' && nextOwner !== prevOwner)\n  );\n};\n\nReactRef.detachRefs = function(\n  instance: ReactInstance,\n  element: ReactElement | string | number | null | false,\n): void {\n  if (element === null || typeof element !== 'object') {\n    return;\n  }\n  var ref = element.ref;\n  if (ref != null) {\n    detachRef(ref, instance, element._owner);\n  }\n};\n\nmodule.exports = ReactRef;\n","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule ReactOwner\n * @flow\n */\n\n'use strict';\n\nvar { ClassComponent } = require('ReactTypeOfWork');\n\nvar emptyObject = require('fbjs/lib/emptyObject');\nvar invariant = require('fbjs/lib/invariant');\n\nimport type { Fiber } from 'ReactFiber';\nimport type { ReactInstance } from 'ReactInstanceType';\n\n/**\n * @param {?object} object\n * @return {boolean} True if `object` is a valid owner.\n * @final\n */\nfunction isValidOwner(object: any): boolean {\n  return !!(\n    object &&\n    typeof object.attachRef === 'function' &&\n    typeof object.detachRef === 'function'\n  );\n}\n\n/**\n * ReactOwners are capable of storing references to owned components.\n *\n * All components are capable of //being// referenced by owner components, but\n * only ReactOwner components are capable of //referencing// owned components.\n * The named reference is known as a \"ref\".\n *\n * Refs are available when mounted and updated during reconciliation.\n *\n *   var MyComponent = React.createClass({\n *     render: function() {\n *       return (\n *         <div onClick={this.handleClick}>\n *           <CustomComponent ref=\"custom\" />\n *         </div>\n *       );\n *     },\n *     handleClick: function() {\n *       this.refs.custom.handleClick();\n *     },\n *     componentDidMount: function() {\n *       this.refs.custom.initialize();\n *     }\n *   });\n *\n * Refs should rarely be used. When refs are used, they should only be done to\n * control data that is not handled by React's data flow.\n *\n * @class ReactOwner\n */\nvar ReactOwner = {\n  /**\n   * Adds a component by ref to an owner component.\n   *\n   * @param {ReactComponent} component Component to reference.\n   * @param {string} ref Name by which to refer to the component.\n   * @param {ReactOwner} owner Component on which to record the ref.\n   * @final\n   * @internal\n   */\n  addComponentAsRefTo: function(\n    component: ReactInstance,\n    ref: string,\n    owner: ReactInstance | Fiber,\n  ): void {\n    if (owner && (owner : any).tag === ClassComponent) {\n      const inst = (owner : any).stateNode;\n      const refs = inst.refs === emptyObject ? (inst.refs = {}) : inst.refs;\n      refs[ref] = component.getPublicInstance();\n    } else {\n      invariant(\n        isValidOwner(owner),\n        'addComponentAsRefTo(...): Only a ReactOwner can have refs. You might ' +\n        'be adding a ref to a component that was not created inside a component\\'s ' +\n        '`render` method, or you have multiple copies of React loaded ' +\n        '(details: https://fb.me/react-refs-must-have-owner).'\n      );\n      (owner : any).attachRef(ref, component);\n    }\n  },\n\n  /**\n   * Removes a component by ref from an owner component.\n   *\n   * @param {ReactComponent} component Component to dereference.\n   * @param {string} ref Name of the ref to remove.\n   * @param {ReactOwner} owner Component on which the ref is recorded.\n   * @final\n   * @internal\n   */\n  removeComponentAsRefFrom: function(\n    component: ReactInstance,\n    ref: string,\n    owner: ReactInstance | Fiber,\n  ): void {\n    if (owner && (owner : any).tag === ClassComponent) {\n      const inst = (owner : any).stateNode;\n      if (inst && inst.refs[ref] === component.getPublicInstance()) {\n        delete inst.refs[ref];\n      }\n    } else {\n      invariant(\n        isValidOwner(owner),\n        'removeComponentAsRefFrom(...): Only a ReactOwner can have refs. You might ' +\n        'be removing a ref to a component that was not created inside a component\\'s ' +\n        '`render` method, or you have multiple copies of React loaded ' +\n        '(details: https://fb.me/react-refs-must-have-owner).'\n      );\n      var ownerPublicInstance = (owner : any).getPublicInstance();\n      // Check that `component`'s owner is still alive and that `component` is still the current ref\n      // because we do not want to detach the ref if another component stole it.\n      if (ownerPublicInstance && ownerPublicInstance.refs[ref] === component.getPublicInstance()) {\n        (owner : any).detachRef(ref);\n      }\n    }\n  },\n\n};\n\nmodule.exports = ReactOwner;\n","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule ReactCompositeComponentTypes\n * @flow\n */\n\nexport type CompositeComponentTypes = 0 | 1 | 2;\n\nmodule.exports = {\n  ImpureClass: 0,\n  PureClass: 1,\n  StatelessFunctional: 2,\n};\n","/**\n * Copyright 2016-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule ReactInstrumentation\n * @flow\n */\n\n'use strict';\n\n// Trust the developer to only use ReactInstrumentation with a __DEV__ check\nvar debugTool = ((null: any): typeof ReactDebugTool);\n\nif (__DEV__) {\n  var ReactDebugTool = require('ReactDebugTool');\n  debugTool = ReactDebugTool;\n}\n\nmodule.exports = {debugTool};\n","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule Transaction\n * @flow\n */\n\n'use strict';\n\nvar invariant = require('fbjs/lib/invariant');\n\nvar OBSERVED_ERROR = {};\n\n/**\n * `Transaction` creates a black box that is able to wrap any method such that\n * certain invariants are maintained before and after the method is invoked\n * (Even if an exception is thrown while invoking the wrapped method). Whoever\n * instantiates a transaction can provide enforcers of the invariants at\n * creation time. The `Transaction` class itself will supply one additional\n * automatic invariant for you - the invariant that any transaction instance\n * should not be run while it is already being run. You would typically create a\n * single instance of a `Transaction` for reuse multiple times, that potentially\n * is used to wrap several different methods. Wrappers are extremely simple -\n * they only require implementing two methods.\n *\n * <pre>\n *                       wrappers (injected at creation time)\n *                                      +        +\n *                                      |        |\n *                    +-----------------|--------|--------------+\n *                    |                 v        |              |\n *                    |      +---------------+   |              |\n *                    |   +--|    wrapper1   |---|----+         |\n *                    |   |  +---------------+   v    |         |\n *                    |   |          +-------------+  |         |\n *                    |   |     +----|   wrapper2  |--------+   |\n *                    |   |     |    +-------------+  |     |   |\n *                    |   |     |                     |     |   |\n *                    |   v     v                     v     v   | wrapper\n *                    | +---+ +---+   +---------+   +---+ +---+ | invariants\n * perform(anyMethod) | |   | |   |   |         |   |   | |   | | maintained\n * +----------------->|-|---|-|---|-->|anyMethod|---|---|-|---|-|-------->\n *                    | |   | |   |   |         |   |   | |   | |\n *                    | |   | |   |   |         |   |   | |   | |\n *                    | |   | |   |   |         |   |   | |   | |\n *                    | +---+ +---+   +---------+   +---+ +---+ |\n *                    |  initialize                    close    |\n *                    +-----------------------------------------+\n * </pre>\n *\n * Use cases:\n * - Preserving the input selection ranges before/after reconciliation.\n *   Restoring selection even in the event of an unexpected error.\n * - Deactivating events while rearranging the DOM, preventing blurs/focuses,\n *   while guaranteeing that afterwards, the event system is reactivated.\n * - Flushing a queue of collected DOM mutations to the main UI thread after a\n *   reconciliation takes place in a worker thread.\n * - Invoking any collected `componentDidUpdate` callbacks after rendering new\n *   content.\n * - (Future use case): Wrapping particular flushes of the `ReactWorker` queue\n *   to preserve the `scrollTop` (an automatic scroll aware DOM).\n * - (Future use case): Layout calculations before and after DOM updates.\n *\n * Transactional plugin API:\n * - A module that has an `initialize` method that returns any precomputation.\n * - and a `close` method that accepts the precomputation. `close` is invoked\n *   when the wrapped process is completed, or has failed.\n *\n * @param {Array<TransactionalWrapper>} transactionWrapper Wrapper modules\n * that implement `initialize` and `close`.\n * @return {Transaction} Single transaction for reuse in thread.\n *\n * @class Transaction\n */\nvar TransactionImpl = {\n  /**\n   * Sets up this instance so that it is prepared for collecting metrics. Does\n   * so such that this setup method may be used on an instance that is already\n   * initialized, in a way that does not consume additional memory upon reuse.\n   * That can be useful if you decide to make your subclass of this mixin a\n   * \"PooledClass\".\n   */\n  reinitializeTransaction: function(): void {\n    this.transactionWrappers = this.getTransactionWrappers();\n    if (this.wrapperInitData) {\n      this.wrapperInitData.length = 0;\n    } else {\n      this.wrapperInitData = [];\n    }\n    this._isInTransaction = false;\n  },\n\n  _isInTransaction: false,\n\n  /**\n   * @abstract\n   * @return {Array<TransactionWrapper>} Array of transaction wrappers.\n   */\n  getTransactionWrappers: null,\n\n  isInTransaction: function(): boolean {\n    return !!this._isInTransaction;\n  },\n\n  /**\n   * Executes the function within a safety window. Use this for the top level\n   * methods that result in large amounts of computation/mutations that would\n   * need to be safety checked. The optional arguments helps prevent the need\n   * to bind in many cases.\n   *\n   * @param {function} method Member of scope to call.\n   * @param {Object} scope Scope to invoke from.\n   * @param {Object?=} a Argument to pass to the method.\n   * @param {Object?=} b Argument to pass to the method.\n   * @param {Object?=} c Argument to pass to the method.\n   * @param {Object?=} d Argument to pass to the method.\n   * @param {Object?=} e Argument to pass to the method.\n   * @param {Object?=} f Argument to pass to the method.\n   *\n   * @return {*} Return value from `method`.\n   */\n  perform: function<\n    A, B, C, D, E, F, G,\n    T: (a: A, b: B, c: C, d: D, e: E, f: F) => G // eslint-disable-line space-before-function-paren\n  >(\n    method: T, scope: any,\n    a: A, b: B, c: C, d: D, e: E, f: F,\n  ): G {\n    invariant(\n      !this.isInTransaction(),\n      'Transaction.perform(...): Cannot initialize a transaction when there ' +\n      'is already an outstanding transaction.'\n    );\n    var errorThrown;\n    var ret;\n    try {\n      this._isInTransaction = true;\n      // Catching errors makes debugging more difficult, so we start with\n      // errorThrown set to true before setting it to false after calling\n      // close -- if it's still set to true in the finally block, it means\n      // one of these calls threw.\n      errorThrown = true;\n      this.initializeAll(0);\n      ret = method.call(scope, a, b, c, d, e, f);\n      errorThrown = false;\n    } finally {\n      try {\n        if (errorThrown) {\n          // If `method` throws, prefer to show that stack trace over any thrown\n          // by invoking `closeAll`.\n          try {\n            this.closeAll(0);\n          } catch (err) {\n          }\n        } else {\n          // Since `method` didn't throw, we don't want to silence the exception\n          // here.\n          this.closeAll(0);\n        }\n      } finally {\n        this._isInTransaction = false;\n      }\n    }\n    return ret;\n  },\n\n  initializeAll: function(startIndex: number): void {\n    var transactionWrappers = this.transactionWrappers;\n    for (var i = startIndex; i < transactionWrappers.length; i++) {\n      var wrapper = transactionWrappers[i];\n      try {\n        // Catching errors makes debugging more difficult, so we start with the\n        // OBSERVED_ERROR state before overwriting it with the real return value\n        // of initialize -- if it's still set to OBSERVED_ERROR in the finally\n        // block, it means wrapper.initialize threw.\n        this.wrapperInitData[i] = OBSERVED_ERROR;\n        this.wrapperInitData[i] = wrapper.initialize ?\n          wrapper.initialize.call(this) :\n          null;\n      } finally {\n        if (this.wrapperInitData[i] === OBSERVED_ERROR) {\n          // The initializer for wrapper i threw an error; initialize the\n          // remaining wrappers but silence any exceptions from them to ensure\n          // that the first error is the one to bubble up.\n          try {\n            this.initializeAll(i + 1);\n          } catch (err) {\n          }\n        }\n      }\n    }\n  },\n\n  /**\n   * Invokes each of `this.transactionWrappers.close[i]` functions, passing into\n   * them the respective return values of `this.transactionWrappers.init[i]`\n   * (`close`rs that correspond to initializers that failed will not be\n   * invoked).\n   */\n  closeAll: function(startIndex: number): void {\n    invariant(\n      this.isInTransaction(),\n      'Transaction.closeAll(): Cannot close transaction when none are open.'\n    );\n    var transactionWrappers = this.transactionWrappers;\n    for (var i = startIndex; i < transactionWrappers.length; i++) {\n      var wrapper = transactionWrappers[i];\n      var initData = this.wrapperInitData[i];\n      var errorThrown;\n      try {\n        // Catching errors makes debugging more difficult, so we start with\n        // errorThrown set to true before setting it to false after calling\n        // close -- if it's still set to true in the finally block, it means\n        // wrapper.close threw.\n        errorThrown = true;\n        if (initData !== OBSERVED_ERROR && wrapper.close) {\n          wrapper.close.call(this, initData);\n        }\n        errorThrown = false;\n      } finally {\n        if (errorThrown) {\n          // The closer for wrapper i threw an error; close the remaining\n          // wrappers but silence any exceptions from them to ensure that the\n          // first error is the one to bubble up.\n          try {\n            this.closeAll(i + 1);\n          } catch (e) {\n          }\n        }\n      }\n    }\n    this.wrapperInitData.length = 0;\n  },\n};\n\nexport type Transaction = typeof TransactionImpl;\n\nmodule.exports = TransactionImpl;\n","/**\n * Copyright 2014-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule ReactEmptyComponent\n */\n\n'use strict';\n\nvar emptyComponentFactory;\n\nvar ReactEmptyComponentInjection = {\n  injectEmptyComponentFactory: function(factory) {\n    emptyComponentFactory = factory;\n  },\n};\n\nvar ReactEmptyComponent = {\n  create: function(instantiate) {\n    return emptyComponentFactory(instantiate);\n  },\n};\n\nReactEmptyComponent.injection = ReactEmptyComponentInjection;\n\nmodule.exports = ReactEmptyComponent;\n","/**\n * Copyright 2014-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule ReactHostComponent\n */\n\n'use strict';\n\nvar invariant = require('fbjs/lib/invariant');\n\nvar genericComponentClass = null;\nvar textComponentClass = null;\n\nvar ReactHostComponentInjection = {\n  // This accepts a class that receives the tag string. This is a catch all\n  // that can render any kind of tag.\n  injectGenericComponentClass: function(componentClass) {\n    genericComponentClass = componentClass;\n  },\n  // This accepts a text component class that takes the text string to be\n  // rendered as props.\n  injectTextComponentClass: function(componentClass) {\n    textComponentClass = componentClass;\n  },\n};\n\n/**\n * Get a host internal component class for a specific tag.\n *\n * @param {ReactElement} element The element to create.\n * @return {function} The internal class constructor function.\n */\nfunction createInternalComponent(element) {\n  invariant(\n    genericComponentClass,\n    'There is no registered component for the tag %s',\n    element.type\n  );\n  return new genericComponentClass(element);\n}\n\n/**\n * @param {ReactText} text\n * @return {ReactComponent}\n */\nfunction createInstanceForText(text) {\n  return new textComponentClass(text);\n}\n\n/**\n * @param {ReactComponent} component\n * @return {boolean}\n */\nfunction isTextComponent(component) {\n  return component instanceof textComponentClass;\n}\n\nvar ReactHostComponent = {\n  createInternalComponent: createInternalComponent,\n  createInstanceForText: createInstanceForText,\n  isTextComponent: isTextComponent,\n  injection: ReactHostComponentInjection,\n};\n\nmodule.exports = ReactHostComponent;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule ReactNativeComponentEnvironment\n * @flow\n */\n'use strict';\n\nvar ReactNativeDOMIDOperations = require('ReactNativeDOMIDOperations');\nvar ReactNativeReconcileTransaction = require('ReactNativeReconcileTransaction');\n\nvar ReactNativeComponentEnvironment = {\n\n  processChildrenUpdates: ReactNativeDOMIDOperations.dangerouslyProcessChildrenUpdates,\n\n  replaceNodeWithMarkup: ReactNativeDOMIDOperations.dangerouslyReplaceNodeWithMarkupByID,\n\n  /**\n   * @param {DOMElement} Element to clear.\n   */\n  clearNode: function(/*containerView*/) {\n\n  },\n\n  ReactReconcileTransaction: ReactNativeReconcileTransaction,\n};\n\nmodule.exports = ReactNativeComponentEnvironment;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule ReactNativeDOMIDOperations\n */\n'use strict';\n\nvar ReactNativeComponentTree = require('ReactNativeComponentTree');\nvar UIManager = require('UIManager');\n\n/**\n * Updates a component's children by processing a series of updates.\n * For each of the update/create commands, the `fromIndex` refers to the index\n * that the item existed at *before* any of the updates are applied, and the\n * `toIndex` refers to the index after *all* of the updates are applied\n * (including deletes/moves). TODO: refactor so this can be shared with\n * DOMChildrenOperations.\n *\n * @param {ReactNativeBaseComponent} updates List of update configurations.\n * @param {array<string>} markup List of markup strings - in the case of React\n * IOS, the ids of new components assumed to be already created.\n */\nvar dangerouslyProcessChildrenUpdates = function(inst, childrenUpdates) {\n  if (!childrenUpdates.length) {\n    return;\n  }\n\n  var containerTag = ReactNativeComponentTree.getNodeFromInstance(inst);\n\n  var moveFromIndices;\n  var moveToIndices;\n  var addChildTags;\n  var addAtIndices;\n  var removeAtIndices;\n\n  for (var i = 0; i < childrenUpdates.length; i++) {\n    var update = childrenUpdates[i];\n    if (update.type === 'MOVE_EXISTING') {\n      (moveFromIndices || (moveFromIndices = [])).push(update.fromIndex);\n      (moveToIndices || (moveToIndices = [])).push(update.toIndex);\n    } else if (update.type === 'REMOVE_NODE') {\n      (removeAtIndices || (removeAtIndices = [])).push(update.fromIndex);\n    } else if (update.type === 'INSERT_MARKUP') {\n      var mountImage = update.content;\n      var tag = mountImage;\n      (addAtIndices || (addAtIndices = [])).push(update.toIndex);\n      (addChildTags || (addChildTags = [])).push(tag);\n    }\n  }\n\n  UIManager.manageChildren(\n    containerTag,\n    moveFromIndices,\n    moveToIndices,\n    addChildTags,\n    addAtIndices,\n    removeAtIndices\n  );\n};\n\n/**\n * Operations used to process updates to DOM nodes. This is made injectable via\n * `ReactComponent.DOMIDOperations`.\n */\nvar ReactNativeDOMIDOperations = {\n  dangerouslyProcessChildrenUpdates,\n\n  /**\n   * Replaces a view that exists in the document with markup.\n   *\n   * @param {string} id ID of child to be replaced.\n   * @param {string} markup Mount image to replace child with id.\n   */\n  dangerouslyReplaceNodeWithMarkupByID: function(id, mountImage) {\n    var oldTag = id;\n    UIManager.replaceExistingNonRootView(oldTag, mountImage);\n  },\n};\n\nmodule.exports = ReactNativeDOMIDOperations;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule ReactNativeReconcileTransaction\n * @flow\n */\n'use strict';\n\nvar CallbackQueue = require('CallbackQueue');\nvar PooledClass = require('PooledClass');\nvar Transaction = require('Transaction');\nvar ReactInstrumentation = require('ReactInstrumentation');\nvar ReactUpdateQueue = require('ReactUpdateQueue');\n\n/**\n * Provides a `CallbackQueue` queue for collecting `onDOMReady` callbacks during\n * the performing of the transaction.\n */\nvar ON_DOM_READY_QUEUEING = {\n  /**\n   * Initializes the internal `onDOMReady` queue.\n   */\n  initialize: function() {\n    this.reactMountReady.reset();\n  },\n\n  /**\n   * After DOM is flushed, invoke all registered `onDOMReady` callbacks.\n   */\n  close: function() {\n    this.reactMountReady.notifyAll();\n  },\n};\n\n/**\n * Executed within the scope of the `Transaction` instance. Consider these as\n * being member methods, but with an implied ordering while being isolated from\n * each other.\n */\nvar TRANSACTION_WRAPPERS = [ON_DOM_READY_QUEUEING];\n\nif (__DEV__) {\n  TRANSACTION_WRAPPERS.push({\n    initialize: ReactInstrumentation.debugTool.onBeginFlush,\n    close: ReactInstrumentation.debugTool.onEndFlush,\n  });\n}\n\n/**\n * Currently:\n * - The order that these are listed in the transaction is critical:\n * - Suppresses events.\n * - Restores selection range.\n *\n * Future:\n * - Restore document/overflow scroll positions that were unintentionally\n *   modified via DOM insertions above the top viewport boundary.\n * - Implement/integrate with customized constraint based layout system and keep\n *   track of which dimensions must be remeasured.\n *\n * @class ReactNativeReconcileTransaction\n */\nfunction ReactNativeReconcileTransaction() {\n  this.reinitializeTransaction();\n  this.reactMountReady = CallbackQueue.getPooled(null);\n}\n\nvar Mixin = {\n  /**\n   * @see Transaction\n   * @abstract\n   * @final\n   * @return {array<object>} List of operation wrap procedures.\n   *   TODO: convert to array<TransactionWrapper>\n   */\n  getTransactionWrappers: function() {\n    return TRANSACTION_WRAPPERS;\n  },\n\n  /**\n   * @return {object} The queue to collect `onDOMReady` callbacks with.\n   *   TODO: convert to ReactMountReady\n   */\n  getReactMountReady: function() {\n    return this.reactMountReady;\n  },\n\n  /**\n   * @return {object} The queue to collect React async events.\n   */\n  getUpdateQueue: function() {\n    return ReactUpdateQueue;\n  },\n\n  /**\n   * Save current transaction state -- if the return value from this method is\n   * passed to `rollback`, the transaction will be reset to that state.\n   */\n  checkpoint: function() {\n    // reactMountReady is the our only stateful wrapper\n    return this.reactMountReady.checkpoint();\n  },\n\n  rollback: function(checkpoint) {\n    this.reactMountReady.rollback(checkpoint);\n  },\n\n  /**\n   * `PooledClass` looks for this, and will invoke this before allowing this\n   * instance to be reused.\n   */\n  destructor: function() {\n    CallbackQueue.release(this.reactMountReady);\n    this.reactMountReady = null;\n  },\n};\n\nObject.assign(\n  ReactNativeReconcileTransaction.prototype,\n  Transaction,\n  ReactNativeReconcileTransaction,\n  Mixin\n);\n\nPooledClass.addPoolingTo(ReactNativeReconcileTransaction);\n\nmodule.exports = ReactNativeReconcileTransaction;\n","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule CallbackQueue\n * @flow\n */\n\n'use strict';\n\nvar PooledClass = require('PooledClass');\n\nvar invariant = require('fbjs/lib/invariant');\nvar validateCallback = require('validateCallback');\n\n/**\n * A specialized pseudo-event module to help keep track of components waiting to\n * be notified when their DOM representations are available for use.\n *\n * This implements `PooledClass`, so you should never need to instantiate this.\n * Instead, use `CallbackQueue.getPooled()`.\n *\n * @class CallbackQueue\n * @implements PooledClass\n * @internal\n */\nclass CallbackQueue<T> {\n  _callbacks: ?Array<() => void>;\n  _contexts: ?Array<T>;\n  _arg: ?mixed;\n\n  constructor(arg) {\n    this._callbacks = null;\n    this._contexts = null;\n    this._arg = arg;\n  }\n\n  /**\n   * Enqueues a callback to be invoked when `notifyAll` is invoked.\n   *\n   * @param {function} callback Invoked when `notifyAll` is invoked.\n   * @param {?object} context Context to call `callback` with.\n   * @internal\n   */\n  enqueue(callback: () => void, context: T) {\n    this._callbacks = this._callbacks || [];\n    this._callbacks.push(callback);\n    this._contexts = this._contexts || [];\n    this._contexts.push(context);\n  }\n\n  /**\n   * Invokes all enqueued callbacks and clears the queue. This is invoked after\n   * the DOM representation of a component has been created or updated.\n   *\n   * @internal\n   */\n  notifyAll() {\n    var callbacks = this._callbacks;\n    var contexts = this._contexts;\n    var arg = this._arg;\n    if (callbacks && contexts) {\n      invariant(\n        callbacks.length === contexts.length,\n        'Mismatched list of contexts in callback queue'\n      );\n      this._callbacks = null;\n      this._contexts = null;\n      for (var i = 0; i < callbacks.length; i++) {\n        validateCallback(callbacks[i]);\n        callbacks[i].call(contexts[i], arg);\n      }\n      callbacks.length = 0;\n      contexts.length = 0;\n    }\n  }\n\n  checkpoint() {\n    return this._callbacks ? this._callbacks.length : 0;\n  }\n\n  rollback(len: number) {\n    if (this._callbacks && this._contexts) {\n      this._callbacks.length = len;\n      this._contexts.length = len;\n    }\n  }\n\n  /**\n   * Resets the internal queue.\n   *\n   * @internal\n   */\n  reset() {\n    this._callbacks = null;\n    this._contexts = null;\n  }\n\n  /**\n   * `PooledClass` looks for this.\n   */\n  destructor() {\n    this.reset();\n  }\n}\n\nmodule.exports = PooledClass.addPoolingTo(CallbackQueue);\n","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule validateCallback\n * @flow\n */\n\n'use strict';\n\nconst invariant = require('fbjs/lib/invariant');\n\nfunction validateCallback(callback: ?Function) {\n  invariant(\n    !callback || typeof callback === 'function',\n    'Invalid argument passed as callback. Expected a function. Instead ' +\n    'received: %s',\n    String(callback)\n  );\n}\n\nmodule.exports = validateCallback;\n","/**\n * Copyright 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule ReactUpdateQueue\n */\n\n'use strict';\n\nvar ReactCurrentOwner = require('react/lib/ReactCurrentOwner');\nvar ReactInstanceMap = require('ReactInstanceMap');\nvar ReactInstrumentation = require('ReactInstrumentation');\nvar ReactUpdates = require('ReactUpdates');\n\nif (__DEV__) {\n  var warning = require('fbjs/lib/warning');\n  var warnOnInvalidCallback = function(callback : mixed, callerName : string) {\n    warning(\n      callback === null || typeof callback === 'function',\n      '%s(...): Expected the last optional `callback` argument to be a ' +\n      'function. Instead received: %s.',\n      callerName,\n      String(callback)\n    );\n  };\n}\n\nfunction enqueueUpdate(internalInstance) {\n  ReactUpdates.enqueueUpdate(internalInstance);\n}\n\nfunction getInternalInstanceReadyForUpdate(publicInstance, callerName) {\n  var internalInstance = ReactInstanceMap.get(publicInstance);\n  if (!internalInstance) {\n    if (__DEV__) {\n      var ctor = publicInstance.constructor;\n      warning(\n        false,\n        'Can only update a mounted or mounting component. This usually means ' +\n        'you called setState, replaceState, or forceUpdate on an unmounted ' +\n        'component. This is a no-op.\\n\\nPlease check the code for the ' +\n        '%s component.',\n        ctor && (ctor.displayName || ctor.name) || 'ReactClass'\n      );\n    }\n    return null;\n  }\n\n  if (__DEV__) {\n    warning(\n      ReactCurrentOwner.current == null,\n      'Cannot update during an existing state transition (such as within ' +\n      '`render` or another component\\'s constructor). Render methods should ' +\n      'be a pure function of props and state; constructor side-effects are ' +\n      'an anti-pattern, but can be moved to `componentWillMount`.',\n    );\n  }\n\n  return internalInstance;\n}\n\n/**\n * ReactUpdateQueue allows for state updates to be scheduled into a later\n * reconciliation step.\n */\nvar ReactUpdateQueue = {\n\n  /**\n   * Checks whether or not this composite component is mounted.\n   * @param {ReactClass} publicInstance The instance we want to test.\n   * @return {boolean} True if mounted, false otherwise.\n   * @protected\n   * @final\n   */\n  isMounted: function(publicInstance) {\n    if (__DEV__) {\n      var owner = ReactCurrentOwner.current;\n      if (owner !== null) {\n        warning(\n          owner._warnedAboutRefsInRender,\n          '%s is accessing isMounted inside its render() function. ' +\n          'render() should be a pure function of props and state. It should ' +\n          'never access something that requires stale data from the previous ' +\n          'render, such as refs. Move this logic to componentDidMount and ' +\n          'componentDidUpdate instead.',\n          owner.getName() || 'A component'\n        );\n        owner._warnedAboutRefsInRender = true;\n      }\n    }\n    var internalInstance = ReactInstanceMap.get(publicInstance);\n    if (internalInstance) {\n      // During componentWillMount and render this will still be null but after\n      // that will always render to something. At least for now. So we can use\n      // this hack.\n      return !!internalInstance._renderedComponent;\n    } else {\n      return false;\n    }\n  },\n\n  enqueueCallbackInternal: function(internalInstance, callback) {\n    if (internalInstance._pendingCallbacks) {\n      internalInstance._pendingCallbacks.push(callback);\n    } else {\n      internalInstance._pendingCallbacks = [callback];\n    }\n    enqueueUpdate(internalInstance);\n  },\n\n  /**\n   * Forces an update. This should only be invoked when it is known with\n   * certainty that we are **not** in a DOM transaction.\n   *\n   * You may want to call this when you know that some deeper aspect of the\n   * component's state has changed but `setState` was not called.\n   *\n   * This will not invoke `shouldComponentUpdate`, but it will invoke\n   * `componentWillUpdate` and `componentDidUpdate`.\n   *\n   * @param {ReactClass} publicInstance The instance that should rerender.\n   * @param {?function} callback Called after component is updated.\n   * @param {?string} Name of the calling function in the public API.\n   * @internal\n   */\n  enqueueForceUpdate: function(publicInstance, callback, callerName) {\n    var internalInstance = getInternalInstanceReadyForUpdate(publicInstance);\n\n    if (!internalInstance) {\n      return;\n    }\n\n    if (callback) {\n      callback = callback === undefined ? null : callback;\n      if (__DEV__) {\n        warnOnInvalidCallback(callback, callerName);\n      }\n      if (internalInstance._pendingCallbacks) {\n        internalInstance._pendingCallbacks.push(callback);\n      } else {\n        internalInstance._pendingCallbacks = [callback];\n      }\n    }\n\n    internalInstance._pendingForceUpdate = true;\n\n    enqueueUpdate(internalInstance);\n  },\n\n  /**\n   * Replaces all of the state. Always use this or `setState` to mutate state.\n   * You should treat `this.state` as immutable.\n   *\n   * There is no guarantee that `this.state` will be immediately updated, so\n   * accessing `this.state` after calling this method may return the old value.\n   *\n   * @param {ReactClass} publicInstance The instance that should rerender.\n   * @param {object} completeState Next state.\n   * @param {?function} callback Called after state is updated.\n   * @param {?string} Name of the calling function in the public API.\n   * @internal\n   */\n  enqueueReplaceState: function(publicInstance, completeState, callback, callerName) {\n    var internalInstance = getInternalInstanceReadyForUpdate(publicInstance);\n\n    if (!internalInstance) {\n      return;\n    }\n\n    internalInstance._pendingStateQueue = [completeState];\n    internalInstance._pendingReplaceState = true;\n\n    if (callback) {\n      callback = callback === undefined ? null : callback;\n      if (__DEV__) {\n        warnOnInvalidCallback(callback, callerName);\n      }\n      if (internalInstance._pendingCallbacks) {\n        internalInstance._pendingCallbacks.push(callback);\n      } else {\n        internalInstance._pendingCallbacks = [callback];\n      }\n    }\n\n    enqueueUpdate(internalInstance);\n  },\n\n  /**\n   * Sets a subset of the state. This only exists because _pendingState is\n   * internal. This provides a merging strategy that is not available to deep\n   * properties which is confusing. TODO: Expose pendingState or don't use it\n   * during the merge.\n   *\n   * @param {ReactClass} publicInstance The instance that should rerender.\n   * @param {object} partialState Next partial state to be merged with state.\n   * @param {?function} callback Called after state is updated.\n   * @param {?string} Name of the calling function in the public API.\n   * @internal\n   */\n  enqueueSetState: function(publicInstance, partialState, callback, callerName) {\n    if (__DEV__) {\n      ReactInstrumentation.debugTool.onSetState();\n      warning(\n        partialState != null,\n        'setState(...): You passed an undefined or null state object; ' +\n        'instead, use forceUpdate().'\n      );\n    }\n\n    var internalInstance = getInternalInstanceReadyForUpdate(publicInstance);\n\n    if (!internalInstance) {\n      return;\n    }\n\n    var queue =\n      internalInstance._pendingStateQueue ||\n      (internalInstance._pendingStateQueue = []);\n    queue.push(partialState);\n\n    if (callback) {\n      callback = callback === undefined ? null : callback;\n      if (__DEV__) {\n        warnOnInvalidCallback(callback, callerName);\n      }\n      if (internalInstance._pendingCallbacks) {\n        internalInstance._pendingCallbacks.push(callback);\n      } else {\n        internalInstance._pendingCallbacks = [callback];\n      }\n    }\n\n    enqueueUpdate(internalInstance);\n  },\n\n  enqueueElementInternal: function(internalInstance, nextElement, nextContext) {\n    internalInstance._pendingElement = nextElement;\n    // TODO: introduce _pendingContext instead of setting it directly.\n    internalInstance._context = nextContext;\n    enqueueUpdate(internalInstance);\n  },\n\n};\n\nmodule.exports = ReactUpdateQueue;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule ReactNativeTextComponent\n */\n\n'use strict';\n\nvar ReactNativeComponentTree = require('ReactNativeComponentTree');\nvar ReactNativeTagHandles = require('ReactNativeTagHandles');\nvar UIManager = require('UIManager');\n\nvar invariant = require('fbjs/lib/invariant');\n\nvar ReactNativeTextComponent = function(text) {\n  // This is really a ReactText (ReactNode), not a ReactElement\n  this._currentElement = text;\n  this._stringText = '' + text;\n  this._hostParent = null;\n  this._rootNodeID = 0;\n};\n\nObject.assign(ReactNativeTextComponent.prototype, {\n\n  mountComponent: function(transaction, hostParent, hostContainerInfo, context) {\n    // TODO: hostParent should have this context already. Stop abusing context.\n    invariant(\n      context.isInAParentText,\n      'RawText \"%s\" must be wrapped in an explicit <Text> component.',\n      this._stringText\n    );\n    this._hostParent = hostParent;\n    var tag = ReactNativeTagHandles.allocateTag();\n    this._rootNodeID = tag;\n    var nativeTopRootTag = hostContainerInfo._tag;\n    UIManager.createView(\n      tag,\n      'RCTRawText',\n      nativeTopRootTag,\n      {text: this._stringText}\n    );\n\n    ReactNativeComponentTree.precacheNode(this, tag);\n\n    return tag;\n  },\n\n  getHostNode: function() {\n    return this._rootNodeID;\n  },\n\n  receiveComponent: function(nextText, transaction, context) {\n    if (nextText !== this._currentElement) {\n      this._currentElement = nextText;\n      var nextStringText = '' + nextText;\n      if (nextStringText !== this._stringText) {\n        this._stringText = nextStringText;\n        UIManager.updateView(\n          this._rootNodeID,\n          'RCTRawText',\n          {text: this._stringText}\n        );\n      }\n    }\n  },\n\n  unmountComponent: function() {\n    ReactNativeComponentTree.uncacheNode(this);\n    this._currentElement = null;\n    this._stringText = null;\n    this._rootNodeID = 0;\n  },\n\n});\n\nmodule.exports = ReactNativeTextComponent;\n","/**\n * Copyright 2014-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule ReactSimpleEmptyComponent\n */\n\n'use strict';\n\nvar ReactReconciler = require('ReactReconciler');\n\n\nvar ReactSimpleEmptyComponent = function(placeholderElement, instantiate) {\n  this._currentElement = null;\n  this._renderedComponent = instantiate(placeholderElement);\n};\nObject.assign(ReactSimpleEmptyComponent.prototype, {\n  mountComponent: function(\n    transaction,\n    hostParent,\n    hostContainerInfo,\n    context,\n    parentDebugID // 0 in production and for roots\n  ) {\n    return ReactReconciler.mountComponent(\n      this._renderedComponent,\n      transaction,\n      hostParent,\n      hostContainerInfo,\n      context,\n      parentDebugID\n    );\n  },\n  receiveComponent: function() {\n  },\n  getHostNode: function() {\n    return ReactReconciler.getHostNode(this._renderedComponent);\n  },\n  unmountComponent: function(safely, skipLifecycle) {\n    ReactReconciler.unmountComponent(\n      this._renderedComponent,\n      safely,\n      skipLifecycle\n    );\n    this._renderedComponent = null;\n  },\n});\n\nmodule.exports = ReactSimpleEmptyComponent;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule View\n * @flow\n */\n'use strict';\n\nconst EdgeInsetsPropType = require('EdgeInsetsPropType');\nconst NativeMethodsMixin = require('NativeMethodsMixin');\nconst NativeModules = require('NativeModules');\nconst Platform = require('Platform');\nconst React = require('React');\nconst ReactNativeStyleAttributes = require('ReactNativeStyleAttributes');\nconst ReactNativeViewAttributes = require('ReactNativeViewAttributes');\nconst StyleSheetPropType = require('StyleSheetPropType');\nconst ViewStylePropTypes = require('ViewStylePropTypes');\n\nconst invariant = require('fbjs/lib/invariant');\n\nconst {\n  AccessibilityComponentTypes,\n  AccessibilityTraits,\n} = require('ViewAccessibility');\n\nvar TVViewPropTypes = {};\nif (Platform.isTVOS) {\n  TVViewPropTypes = require('TVViewPropTypes');\n}\n\nconst requireNativeComponent = require('requireNativeComponent');\n\nconst PropTypes = React.PropTypes;\n\nconst stylePropType = StyleSheetPropType(ViewStylePropTypes);\n\nconst forceTouchAvailable = (NativeModules.PlatformConstants &&\n  NativeModules.PlatformConstants.forceTouchAvailable) || false;\n\nconst statics = {\n  AccessibilityTraits,\n  AccessibilityComponentType: AccessibilityComponentTypes,\n  /**\n   * Is 3D Touch / Force Touch available (i.e. will touch events include `force`)\n   * @platform ios\n   */\n  forceTouchAvailable,\n};\n\n/**\n * The most fundamental component for building a UI, `View` is a container that supports layout with\n * [flexbox](docs/flexbox.html), [style](docs/style.html),\n * [some touch handling](docs/handling-touches.html), and\n * [accessibility](docs/accessibility.html) controls. `View` maps directly to the\n * native view equivalent on whatever platform React Native is running on, whether that is a\n * `UIView`, `<div>`, `android.view`, etc.\n *\n * `View` is designed to be nested inside other views and can have 0 to many children of any type.\n *\n * This example creates a `View` that wraps two colored boxes and a text component in a row with\n * padding.\n *\n * ```javascript\n * class ViewColoredBoxesWithText extends Component {\n *   render() {\n *     return (\n *       <View style={{flexDirection: 'row', height: 100, padding: 20}}>\n *         <View style={{backgroundColor: 'blue', flex: 0.3}} />\n *         <View style={{backgroundColor: 'red', flex: 0.5}} />\n *         <Text>Hello World!</Text>\n *       </View>\n *     );\n *   }\n * }\n * ```\n *\n * > `View`s are designed to be used with [`StyleSheet`](docs/style.html) for clarity\n * > and performance, although inline styles are also supported.\n *\n * ### Synthetic Touch Events\n *\n * For `View` responder props (e.g., `onResponderMove`), the synthetic touch event passed to them\n * are of the following form:\n *\n * - `nativeEvent`\n *   - `changedTouches` - Array of all touch events that have changed since the last event.\n *   - `identifier` - The ID of the touch.\n *   - `locationX` - The X position of the touch, relative to the element.\n *   - `locationY` - The Y position of the touch, relative to the element.\n *   - `pageX` - The X position of the touch, relative to the root element.\n *   - `pageY` - The Y position of the touch, relative to the root element.\n *   - `target` - The node id of the element receiving the touch event.\n *   - `timestamp` - A time identifier for the touch, useful for velocity calculation.\n *   - `touches` - Array of all current touches on the screen.\n */\nconst View = React.createClass({\n  // TODO: We should probably expose the mixins, viewConfig, and statics publicly. For example,\n  // one of the props is of type AccessibilityComponentType. That is defined as a const[] above,\n  // but it is not rendered by the docs, since `statics` below is not rendered. So its Possible\n  // values had to be hardcoded.\n  mixins: [NativeMethodsMixin],\n\n  /**\n   * `NativeMethodsMixin` will look for this when invoking `setNativeProps`. We\n   * make `this` look like an actual native component class.\n   */\n  viewConfig: {\n    uiViewClassName: 'RCTView',\n    validAttributes: ReactNativeViewAttributes.RCTView\n  },\n\n  statics: {\n    ...statics,\n  },\n\n  propTypes: {\n    ...TVViewPropTypes,\n\n    /**\n     * When `true`, indicates that the view is an accessibility element. By default,\n     * all the touchable elements are accessible.\n     */\n    accessible: PropTypes.bool,\n\n    /**\n     * Overrides the text that's read by the screen reader when the user interacts\n     * with the element. By default, the label is constructed by traversing all the\n     * children and accumulating all the `Text` nodes separated by space.\n     */\n    accessibilityLabel: PropTypes.node,\n\n    /**\n     * Indicates to accessibility services to treat UI component like a\n     * native one. Works for Android only.\n     *\n     * Possible values are one of:\n     *\n     * - `'none'`\n     * - `'button'`\n     * - `'radiobutton_checked'`\n     * - `'radiobutton_unchecked'`\n     *\n     * @platform android\n     */\n    accessibilityComponentType: PropTypes.oneOf(AccessibilityComponentTypes),\n\n    /**\n     * Indicates to accessibility services whether the user should be notified\n     * when this view changes. Works for Android API >= 19 only.\n     * Possible values:\n     *\n     * - `'none'` - Accessibility services should not announce changes to this view.\n     * - `'polite'`- Accessibility services should announce changes to this view.\n     * - `'assertive'` - Accessibility services should interrupt ongoing speech to immediately announce changes to this view.\n     *\n     * See the [Android `View` docs](http://developer.android.com/reference/android/view/View.html#attr_android:accessibilityLiveRegion)\n     * for reference.\n     *\n     * @platform android\n     */\n    accessibilityLiveRegion: PropTypes.oneOf([\n      'none',\n      'polite',\n      'assertive',\n    ]),\n\n    /**\n     * Controls how view is important for accessibility which is if it\n     * fires accessibility events and if it is reported to accessibility services\n     * that query the screen. Works for Android only.\n     *\n     * Possible values:\n     *\n     *  - `'auto'` - The system determines whether the view is important for accessibility -\n     *    default (recommended).\n     *  - `'yes'` - The view is important for accessibility.\n     *  - `'no'` - The view is not important for accessibility.\n     *  - `'no-hide-descendants'` - The view is not important for accessibility,\n     *    nor are any of its descendant views.\n     *\n     * See the [Android `importantForAccessibility` docs](http://developer.android.com/reference/android/R.attr.html#importantForAccessibility)\n     * for reference.\n     *\n     * @platform android\n     */\n    importantForAccessibility: PropTypes.oneOf([\n      'auto',\n      'yes',\n      'no',\n      'no-hide-descendants',\n    ]),\n\n    /**\n     * Provides additional traits to screen reader. By default no traits are\n     * provided unless specified otherwise in element.\n     *\n     * You can provide one trait or an array of many traits.\n     *\n     * Possible values for `AccessibilityTraits` are:\n     *\n     * - `'none'` - The element has no traits.\n     * - `'button'` - The element should be treated as a button.\n     * - `'link'` - The element should be treated as a link.\n     * - `'header'` - The element is a header that divides content into sections.\n     * - `'search'` - The element should be treated as a search field.\n     * - `'image'` - The element should be treated as an image.\n     * - `'selected'` - The element is selected.\n     * - `'plays'` - The element plays sound.\n     * - `'key'` - The element should be treated like a keyboard key.\n     * - `'text'` - The element should be treated as text.\n     * - `'summary'` - The element provides app summary information.\n     * - `'disabled'` - The element is disabled.\n     * - `'frequentUpdates'` - The element frequently changes its value.\n     * - `'startsMedia'` - The element starts a media session.\n     * - `'adjustable'` - The element allows adjustment over a range of values.\n     * - `'allowsDirectInteraction'` - The element allows direct touch interaction for VoiceOver users.\n     * - `'pageTurn'` - Informs VoiceOver that it should scroll to the next page when it finishes reading the contents of the element.\n     *\n     * See the [Accessibility guide](docs/accessibility.html#accessibilitytraits-ios)\n     * for more information.\n     *\n     * @platform ios\n     */\n    accessibilityTraits: PropTypes.oneOfType([\n      PropTypes.oneOf(AccessibilityTraits),\n      PropTypes.arrayOf(PropTypes.oneOf(AccessibilityTraits)),\n    ]),\n\n    /**\n     * A value indicating whether VoiceOver should ignore the elements\n     * within views that are siblings of the receiver.\n     * Default is `false`.\n     *\n     * See the [Accessibility guide](docs/accessibility.html#accessibilitytraits-ios)\n     * for more information.\n     *\n     * @platform ios\n     */\n    accessibilityViewIsModal: PropTypes.bool,\n\n    /**\n     * When `accessible` is true, the system will try to invoke this function\n     * when the user performs accessibility tap gesture.\n     */\n    onAccessibilityTap: PropTypes.func,\n\n    /**\n     * When `accessible` is `true`, the system will invoke this function when the\n     * user performs the magic tap gesture.\n     */\n    onMagicTap: PropTypes.func,\n\n    /**\n     * Used to locate this view in end-to-end tests.\n     *\n     * > This disables the 'layout-only view removal' optimization for this view!\n     */\n    testID: PropTypes.string,\n\n    /**\n     * For most touch interactions, you'll simply want to wrap your component in\n     * `TouchableHighlight` or `TouchableOpacity`. Check out `Touchable.js`,\n     * `ScrollResponder.js` and `ResponderEventPlugin.js` for more discussion.\n     */\n\n    /**\n     * The View is now responding for touch events. This is the time to highlight and show the user\n     * what is happening.\n     *\n     * `View.props.onResponderGrant: (event) => {}`, where `event` is a synthetic touch event as\n     * described above.\n     */\n    onResponderGrant: PropTypes.func,\n\n    /**\n     * The user is moving their finger.\n     *\n     * `View.props.onResponderMove: (event) => {}`, where `event` is a synthetic touch event as\n     * described above.\n     */\n    onResponderMove: PropTypes.func,\n\n    /**\n     * Another responder is already active and will not release it to that `View` asking to be\n     * the responder.\n     *\n     * `View.props.onResponderReject: (event) => {}`, where `event` is a synthetic touch event as\n     * described above.\n     */\n    onResponderReject: PropTypes.func,\n\n    /**\n     * Fired at the end of the touch.\n     *\n     * `View.props.onResponderRelease: (event) => {}`, where `event` is a synthetic touch event as\n     * described above.\n     */\n    onResponderRelease: PropTypes.func,\n\n    /**\n     * The responder has been taken from the `View`. Might be taken by other views after a call to\n     * `onResponderTerminationRequest`, or might be taken by the OS without asking (e.g., happens\n     * with control center/ notification center on iOS)\n     *\n     * `View.props.onResponderTerminate: (event) => {}`, where `event` is a synthetic touch event as\n     * described above.\n     */\n    onResponderTerminate: PropTypes.func,\n\n    /**\n     * Some other `View` wants to become responder and is asking this `View` to release its\n     * responder. Returning `true` allows its release.\n     *\n     * `View.props.onResponderTerminationRequest: (event) => {}`, where `event` is a synthetic touch\n     * event as described above.\n     */\n    onResponderTerminationRequest: PropTypes.func,\n\n    /**\n     * Does this view want to become responder on the start of a touch?\n     *\n     * `View.props.onStartShouldSetResponder: (event) => [true | false]`, where `event` is a\n     * synthetic touch event as described above.\n     */\n    onStartShouldSetResponder: PropTypes.func,\n\n    /**\n     * If a parent `View` wants to prevent a child `View` from becoming responder on a touch start,\n     * it should have this handler which returns `true`.\n     *\n     * `View.props.onStartShouldSetResponderCapture: (event) => [true | false]`, where `event` is a\n     * synthetic touch event as described above.\n     */\n    onStartShouldSetResponderCapture: PropTypes.func,\n\n    /**\n     * Does this view want to \"claim\" touch responsiveness? This is called for every touch move on\n     * the `View` when it is not the responder.\n     *\n     * `View.props.onMoveShouldSetResponder: (event) => [true | false]`, where `event` is a\n     * synthetic touch event as described above.\n     */\n    onMoveShouldSetResponder: PropTypes.func,\n\n    /**\n    * If a parent `View` wants to prevent a child `View` from becoming responder on a move,\n    * it should have this handler which returns `true`.\n    *\n    * `View.props.onMoveShouldSetResponderCapture: (event) => [true | false]`, where `event` is a\n    * synthetic touch event as described above.\n     */\n    onMoveShouldSetResponderCapture: PropTypes.func,\n\n    /**\n     * This defines how far a touch event can start away from the view.\n     * Typical interface guidelines recommend touch targets that are at least\n     * 30 - 40 points/density-independent pixels.\n     *\n     * For example, if a touchable view has a height of 20 the touchable height can be extended to\n     * 40 with `hitSlop={{top: 10, bottom: 10, left: 0, right: 0}}`\n     *\n     * > The touch area never extends past the parent view bounds and the Z-index\n     * > of sibling views always takes precedence if a touch hits two overlapping\n     * > views.\n     */\n    hitSlop: EdgeInsetsPropType,\n\n    /**\n     * Invoked on mount and layout changes with:\n     *\n     * `{nativeEvent: { layout: {x, y, width, height}}}`\n     *\n     * This event is fired immediately once the layout has been calculated, but\n     * the new layout may not yet be reflected on the screen at the time the\n     * event is received, especially if a layout animation is in progress.\n     */\n    onLayout: PropTypes.func,\n\n    /**\n     * Controls whether the `View` can be the target of touch events.\n     *\n     *   - `'auto'`: The View can be the target of touch events.\n     *   - `'none'`: The View is never the target of touch events.\n     *   - `'box-none'`: The View is never the target of touch events but it's\n     *     subviews can be. It behaves like if the view had the following classes\n     *     in CSS:\n     * ```\n     * .box-none {\n     *      pointer-events: none;\n     * }\n     * .box-none * {\n     *      pointer-events: all;\n     * }\n     * ```\n     *   - `'box-only'`: The view can be the target of touch events but it's\n     *     subviews cannot be. It behaves like if the view had the following classes\n     *     in CSS:\n     * ```\n     * .box-only {\n     *      pointer-events: all;\n     * }\n     * .box-only * {\n     *      pointer-events: none;\n     * }\n     * ```\n     * > Since `pointerEvents` does not affect layout/appearance, and we are\n     * > already deviating from the spec by adding additional modes, we opt to not\n     * > include `pointerEvents` on `style`. On some platforms, we would need to\n     * > implement it as a `className` anyways. Using `style` or not is an\n     * > implementation detail of the platform.\n     */\n    pointerEvents: PropTypes.oneOf([\n      'box-none',\n      'none',\n      'box-only',\n      'auto',\n    ]),\n    style: stylePropType,\n\n    /**\n     * This is a special performance property exposed by `RCTView` and is useful\n     * for scrolling content when there are many subviews, most of which are\n     * offscreen. For this property to be effective, it must be applied to a\n     * view that contains many subviews that extend outside its bound. The\n     * subviews must also have `overflow: hidden`, as should the containing view\n     * (or one of its superviews).\n     */\n    removeClippedSubviews: PropTypes.bool,\n\n    /**\n     * Whether this `View` should render itself (and all of its children) into a\n     * single hardware texture on the GPU.\n     *\n     * On Android, this is useful for animations and interactions that only\n     * modify opacity, rotation, translation, and/or scale: in those cases, the\n     * view doesn't have to be redrawn and display lists don't need to be\n     * re-executed. The texture can just be re-used and re-composited with\n     * different parameters. The downside is that this can use up limited video\n     * memory, so this prop should be set back to false at the end of the\n     * interaction/animation.\n     *\n     * @platform android\n     */\n    renderToHardwareTextureAndroid: PropTypes.bool,\n\n    /**\n     * Whether this `View` should be rendered as a bitmap before compositing.\n     *\n     * On iOS, this is useful for animations and interactions that do not\n     * modify this component's dimensions nor its children; for example, when\n     * translating the position of a static view, rasterization allows the\n     * renderer to reuse a cached bitmap of a static view and quickly composite\n     * it during each frame.\n     *\n     * Rasterization incurs an off-screen drawing pass and the bitmap consumes\n     * memory. Test and measure when using this property.\n     *\n     * @platform ios\n     */\n    shouldRasterizeIOS: PropTypes.bool,\n\n    /**\n     * Views that are only used to layout their children or otherwise don't draw\n     * anything may be automatically removed from the native hierarchy as an\n     * optimization. Set this property to `false` to disable this optimization and\n     * ensure that this `View` exists in the native view hierarchy.\n     *\n     * @platform android\n     */\n    collapsable: PropTypes.bool,\n\n    /**\n     * Whether this `View` needs to rendered offscreen and composited with an alpha\n     * in order to preserve 100% correct colors and blending behavior. The default\n     * (`false`) falls back to drawing the component and its children with an alpha\n     * applied to the paint used to draw each element instead of rendering the full\n     * component offscreen and compositing it back with an alpha value. This default\n     * may be noticeable and undesired in the case where the `View` you are setting\n     * an opacity on has multiple overlapping elements (e.g. multiple overlapping\n     * `View`s, or text and a background).\n     *\n     * Rendering offscreen to preserve correct alpha behavior is extremely\n     * expensive and hard to debug for non-native developers, which is why it is\n     * not turned on by default. If you do need to enable this property for an\n     * animation, consider combining it with renderToHardwareTextureAndroid if the\n     * view **contents** are static (i.e. it doesn't need to be redrawn each frame).\n     * If that property is enabled, this View will be rendered off-screen once,\n     * saved in a hardware texture, and then composited onto the screen with an alpha\n     * each frame without having to switch rendering targets on the GPU.\n     *\n     * @platform android\n     */\n    needsOffscreenAlphaCompositing: PropTypes.bool,\n  },\n\n  contextTypes: {\n    isInAParentText: React.PropTypes.bool,\n  },\n\n  render: function() {\n    invariant(\n      !(this.context.isInAParentText && Platform.OS === 'android'),\n      'Nesting of <View> within <Text> is not supported on Android.');\n\n    // WARNING: This method will not be used in production mode as in that mode we\n    // replace wrapper component View with generated native wrapper RCTView. Avoid\n    // adding functionality this component that you'd want to be available in both\n    // dev and prod modes.\n    return <RCTView {...this.props} />;\n  },\n});\n\nconst RCTView = requireNativeComponent('RCTView', View, {\n  nativeOnly: {\n    nativeBackgroundAndroid: true,\n    nativeForegroundAndroid: true,\n  }\n});\n\nif (__DEV__) {\n  const UIManager = require('UIManager');\n  const viewConfig = UIManager.viewConfigs && UIManager.viewConfigs.RCTView || {};\n  for (const prop in viewConfig.nativeProps) {\n    const viewAny: any = View; // Appease flow\n    if (!viewAny.propTypes[prop] && !ReactNativeStyleAttributes[prop]) {\n      throw new Error(\n        'View is missing propType for native prop `' + prop + '`'\n      );\n    }\n  }\n}\n\nlet ViewToExport = RCTView;\nif (__DEV__) {\n  ViewToExport = View;\n} else {\n  Object.assign(RCTView, statics);\n}\n\nmodule.exports = ViewToExport;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule EdgeInsetsPropType\n * @flow\n */\n'use strict';\n\nvar {PropTypes} = require('React');\n\nvar createStrictShapeTypeChecker = require('createStrictShapeTypeChecker');\n\nvar EdgeInsetsPropType = createStrictShapeTypeChecker({\n  top: PropTypes.number,\n  left: PropTypes.number,\n  bottom: PropTypes.number,\n  right: PropTypes.number,\n});\n\nmodule.exports = EdgeInsetsPropType;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule createStrictShapeTypeChecker\n * @flow\n */\n'use strict';\n\nvar invariant = require('fbjs/lib/invariant');\nvar merge = require('merge');\n\nfunction createStrictShapeTypeChecker(\n  shapeTypes: {[key: string]: ReactPropsCheckType}\n): ReactPropsChainableTypeChecker {\n  function checkType(isRequired, props, propName, componentName, location?, ...rest) {\n    if (!props[propName]) {\n      if (isRequired) {\n        invariant(\n          false,\n          `Required object \\`${propName}\\` was not specified in ` +\n          `\\`${componentName}\\`.`\n        );\n      }\n      return;\n    }\n    var propValue = props[propName];\n    var propType = typeof propValue;\n    var locationName = location || '(unknown)';\n    if (propType !== 'object') {\n      invariant(\n        false,\n        `Invalid ${locationName} \\`${propName}\\` of type \\`${propType}\\` ` +\n          `supplied to \\`${componentName}\\`, expected \\`object\\`.`\n      );\n    }\n    // We need to check all keys in case some are required but missing from\n    // props.\n    var allKeys = merge(props[propName], shapeTypes);\n    for (var key in allKeys) {\n      var checker = shapeTypes[key];\n      if (!checker) {\n        invariant(\n          false,\n          `Invalid props.${propName} key \\`${key}\\` supplied to \\`${componentName}\\`.` +\n            `\\nBad object: ` + JSON.stringify(props[propName], null, '  ') +\n            `\\nValid keys: ` + JSON.stringify(Object.keys(shapeTypes), null, '  ')\n        );\n      }\n      var error = checker(propValue, key, componentName, location, ...rest);\n      if (error) {\n        invariant(\n          false,\n          error.message +\n            `\\nBad object: ` + JSON.stringify(props[propName], null, '  ')\n        );\n      }\n    }\n  }\n  function chainedCheckType(\n    props: {[key: string]: any},\n    propName: string,\n    componentName: string,\n    location?: string,\n    ...rest\n  ): ?Error {\n    return checkType(false, props, propName, componentName, location, ...rest);\n  }\n  chainedCheckType.isRequired = checkType.bind(null, true);\n  return chainedCheckType;\n}\n\nmodule.exports = createStrictShapeTypeChecker;\n","/**\n * @generated SignedSource<<0e3063b19e14ed191102b1dffe45551f>>\n *\n * !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n * !! This file is a check-in of a static_upstream project!      !!\n * !!                                                            !!\n * !! You should not modify this file directly. Instead:         !!\n * !! 1) Use `fjs use-upstream` to temporarily replace this with !!\n * !!    the latest version from upstream.                       !!\n * !! 2) Make your changes, test them, etc.                      !!\n * !! 3) Use `fjs push-upstream` to copy your changes back to    !!\n * !!    static_upstream.                                        !!\n * !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n *\n * Copyright 2013-2014 Facebook, Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * @providesModule merge\n */\n\n\"use strict\";\n\nvar mergeInto = require('mergeInto');\n\n/**\n * Shallow merges two structures into a return value, without mutating either.\n *\n * @param {?object} one Optional object with properties to merge from.\n * @param {?object} two Optional object with properties to merge from.\n * @return {object} The shallow extension of one by two.\n */\nvar merge = function(one, two) {\n  var result = {};\n  mergeInto(result, one);\n  mergeInto(result, two);\n  return result;\n};\n\nmodule.exports = merge;\n","/**\n * @generated SignedSource<<d3caa35be27b17ea4dd4c76bef72d1ab>>\n *\n * !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n * !! This file is a check-in of a static_upstream project!      !!\n * !!                                                            !!\n * !! You should not modify this file directly. Instead:         !!\n * !! 1) Use `fjs use-upstream` to temporarily replace this with !!\n * !!    the latest version from upstream.                       !!\n * !! 2) Make your changes, test them, etc.                      !!\n * !! 3) Use `fjs push-upstream` to copy your changes back to    !!\n * !!    static_upstream.                                        !!\n * !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n *\n * Copyright 2013-2014 Facebook, Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * @providesModule mergeInto\n * @typechecks static-only\n */\n\n\"use strict\";\n\nvar mergeHelpers = require('mergeHelpers');\n\nvar checkMergeObjectArg = mergeHelpers.checkMergeObjectArg;\nvar checkMergeIntoObjectArg = mergeHelpers.checkMergeIntoObjectArg;\n\n/**\n * Shallow merges two structures by mutating the first parameter.\n *\n * @param {object|function} one Object to be merged into.\n * @param {?object} two Optional object with properties to merge from.\n */\nfunction mergeInto(one, two) {\n  checkMergeIntoObjectArg(one);\n  if (two != null) {\n    checkMergeObjectArg(two);\n    for (var key in two) {\n      if (!two.hasOwnProperty(key)) {\n        continue;\n      }\n      one[key] = two[key];\n    }\n  }\n}\n\nmodule.exports = mergeInto;\n","/**\n * @generated SignedSource<<b68d78236d45828b3f7f7fcc740782a9>>\n *\n * !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n * !! This file is a check-in of a static_upstream project!      !!\n * !!                                                            !!\n * !! You should not modify this file directly. Instead:         !!\n * !! 1) Use `fjs use-upstream` to temporarily replace this with !!\n * !!    the latest version from upstream.                       !!\n * !! 2) Make your changes, test them, etc.                      !!\n * !! 3) Use `fjs push-upstream` to copy your changes back to    !!\n * !!    static_upstream.                                        !!\n * !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n *\n * Copyright 2013-2014 Facebook, Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * @providesModule mergeHelpers\n *\n * requiresPolyfills: Array.isArray\n */\n\n\"use strict\";\n\nvar invariant = require('fbjs/lib/invariant');\nvar keyMirror = require('fbjs/lib/keyMirror');\n\n/**\n * Maximum number of levels to traverse. Will catch circular structures.\n * @const\n */\nvar MAX_MERGE_DEPTH = 36;\n\n/**\n * We won't worry about edge cases like new String('x') or new Boolean(true).\n * Functions are considered terminals, and arrays are not.\n * @param {*} o The item/object/value to test.\n * @return {boolean} true iff the argument is a terminal.\n */\nvar isTerminal = function(o) {\n  return typeof o !== 'object' || o === null;\n};\n\nvar mergeHelpers = {\n\n  MAX_MERGE_DEPTH: MAX_MERGE_DEPTH,\n\n  isTerminal: isTerminal,\n\n  /**\n   * Converts null/undefined values into empty object.\n   *\n   * @param {?Object=} arg Argument to be normalized (nullable optional)\n   * @return {!Object}\n   */\n  normalizeMergeArg: function(arg) {\n    return arg === undefined || arg === null ? {} : arg;\n  },\n\n  /**\n   * If merging Arrays, a merge strategy *must* be supplied. If not, it is\n   * likely the caller's fault. If this function is ever called with anything\n   * but `one` and `two` being `Array`s, it is the fault of the merge utilities.\n   *\n   * @param {*} one Array to merge into.\n   * @param {*} two Array to merge from.\n   */\n  checkMergeArrayArgs: function(one, two) {\n    invariant(\n      Array.isArray(one) && Array.isArray(two),\n      'Tried to merge arrays, instead got %s and %s.',\n      one,\n      two\n    );\n  },\n\n  /**\n   * @param {*} one Object to merge into.\n   * @param {*} two Object to merge from.\n   */\n  checkMergeObjectArgs: function(one, two) {\n    mergeHelpers.checkMergeObjectArg(one);\n    mergeHelpers.checkMergeObjectArg(two);\n  },\n\n  /**\n   * @param {*} arg\n   */\n  checkMergeObjectArg: function(arg) {\n    invariant(\n      !isTerminal(arg) && !Array.isArray(arg),\n      'Tried to merge an object, instead got %s.',\n      arg\n    );\n  },\n\n  /**\n   * @param {*} arg\n   */\n  checkMergeIntoObjectArg: function(arg) {\n    invariant(\n      (!isTerminal(arg) || typeof arg === 'function') && !Array.isArray(arg),\n      'Tried to merge into an object, instead got %s.',\n      arg\n    );\n  },\n\n  /**\n   * Checks that a merge was not given a circular object or an object that had\n   * too great of depth.\n   *\n   * @param {number} Level of recursion to validate against maximum.\n   */\n  checkMergeLevel: function(level) {\n    invariant(\n      level < MAX_MERGE_DEPTH,\n      'Maximum deep merge depth exceeded. You may be attempting to merge ' +\n      'circular structures in an unsupported way.'\n    );\n  },\n\n  /**\n   * Checks that the supplied merge strategy is valid.\n   *\n   * @param {string} Array merge strategy.\n   */\n  checkArrayStrategy: function(strategy) {\n    invariant(\n      strategy === undefined || strategy in mergeHelpers.ArrayStrategies,\n      'You must provide an array strategy to deep merge functions to ' +\n      'instruct the deep merge how to resolve merging two arrays.'\n    );\n  },\n\n  /**\n   * Set of possible behaviors of merge algorithms when encountering two Arrays\n   * that must be merged together.\n   * - `clobber`: The left `Array` is ignored.\n   * - `indexByIndex`: The result is achieved by recursively deep merging at\n   *   each index. (not yet supported.)\n   */\n  ArrayStrategies: keyMirror({\n    Clobber: true,\n    IndexByIndex: true\n  })\n\n};\n\nmodule.exports = mergeHelpers;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @typechecks static-only\n */\n\n'use strict';\n\nvar invariant = require('./invariant');\n\n/**\n * Constructs an enumeration with keys equal to their value.\n *\n * For example:\n *\n *   var COLORS = keyMirror({blue: null, red: null});\n *   var myColor = COLORS.blue;\n *   var isColorValid = !!COLORS[myColor];\n *\n * The last line could not be performed if the values of the generated enum were\n * not equal to their keys.\n *\n *   Input:  {key1: val1, key2: val2}\n *   Output: {key1: key1, key2: key2}\n *\n * @param {object} obj\n * @return {object}\n */\nvar keyMirror = function keyMirror(obj) {\n  var ret = {};\n  var key;\n  !(obj instanceof Object && !Array.isArray(obj)) ? process.env.NODE_ENV !== 'production' ? invariant(false, 'keyMirror(...): Argument must be an object.') : invariant(false) : void 0;\n  for (key in obj) {\n    if (!obj.hasOwnProperty(key)) {\n      continue;\n    }\n    ret[key] = key;\n  }\n  return ret;\n};\n\nmodule.exports = keyMirror;","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule ReactNativeStyleAttributes\n * @flow\n */\n\n'use strict';\n\nvar ImageStylePropTypes = require('ImageStylePropTypes');\nvar TextStylePropTypes = require('TextStylePropTypes');\nvar ViewStylePropTypes = require('ViewStylePropTypes');\n\nvar keyMirror = require('fbjs/lib/keyMirror');\nvar processColor = require('processColor');\nvar processTransform = require('processTransform');\nvar sizesDiffer = require('sizesDiffer');\n\nvar ReactNativeStyleAttributes = {\n  ...keyMirror(ViewStylePropTypes),\n  ...keyMirror(TextStylePropTypes),\n  ...keyMirror(ImageStylePropTypes),\n};\n\nReactNativeStyleAttributes.transform = { process: processTransform };\nReactNativeStyleAttributes.shadowOffset = { diff: sizesDiffer };\n\nvar colorAttributes = { process: processColor };\nReactNativeStyleAttributes.backgroundColor = colorAttributes;\nReactNativeStyleAttributes.borderBottomColor = colorAttributes;\nReactNativeStyleAttributes.borderColor = colorAttributes;\nReactNativeStyleAttributes.borderLeftColor = colorAttributes;\nReactNativeStyleAttributes.borderRightColor = colorAttributes;\nReactNativeStyleAttributes.borderTopColor = colorAttributes;\nReactNativeStyleAttributes.color = colorAttributes;\nReactNativeStyleAttributes.shadowColor = colorAttributes;\nReactNativeStyleAttributes.textDecorationColor = colorAttributes;\nReactNativeStyleAttributes.tintColor = colorAttributes;\nReactNativeStyleAttributes.textShadowColor = colorAttributes;\nReactNativeStyleAttributes.overlayColor = colorAttributes;\n\nmodule.exports = ReactNativeStyleAttributes;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule ImageStylePropTypes\n * @flow\n */\n'use strict';\n\nvar ImageResizeMode = require('ImageResizeMode');\nvar LayoutPropTypes = require('LayoutPropTypes');\nvar ColorPropType = require('ColorPropType');\nvar ShadowPropTypesIOS = require('ShadowPropTypesIOS');\nvar TransformPropTypes = require('TransformPropTypes');\n\nvar ReactPropTypes = require('React').PropTypes;\n\nvar ImageStylePropTypes = {\n  ...LayoutPropTypes,\n  ...ShadowPropTypesIOS,\n  ...TransformPropTypes,\n  resizeMode: ReactPropTypes.oneOf(Object.keys(ImageResizeMode)),\n  backfaceVisibility: ReactPropTypes.oneOf(['visible', 'hidden']),\n  backgroundColor: ColorPropType,\n  borderColor: ColorPropType,\n  borderWidth: ReactPropTypes.number,\n  borderRadius: ReactPropTypes.number,\n  overflow: ReactPropTypes.oneOf(['visible', 'hidden']),\n\n  /**\n   * Changes the color of all the non-transparent pixels to the tintColor.\n   */\n  tintColor: ColorPropType,\n  opacity: ReactPropTypes.number,\n  /**\n   * When the image has rounded corners, specifying an overlayColor will\n   * cause the remaining space in the corners to be filled with a solid color.\n   * This is useful in cases which are not supported by the Android\n   * implementation of rounded corners:\n   *   - Certain resize modes, such as 'contain'\n   *   - Animated GIFs\n   *\n   * A typical way to use this prop is with images displayed on a solid\n   * background and setting the `overlayColor` to the same color\n   * as the background.\n   *\n   * For details of how this works under the hood, see\n   * http://frescolib.org/docs/rounded-corners-and-circles.html\n   *\n   * @platform android\n  */\n  overlayColor: ReactPropTypes.string,\n\n  // Android-Specific styles\n  borderTopLeftRadius: ReactPropTypes.number,\n  borderTopRightRadius: ReactPropTypes.number,\n  borderBottomLeftRadius: ReactPropTypes.number,\n  borderBottomRightRadius: ReactPropTypes.number,\n};\n\nmodule.exports = ImageStylePropTypes;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule ImageResizeMode\n * @flow\n */\n'use strict';\n\nvar keyMirror = require('fbjs/lib/keyMirror');\n\n/**\n * ImageResizeMode - Enum for different image resizing modes, set via\n * `resizeMode` style property on `<Image>` components.\n */\nvar ImageResizeMode = keyMirror({\n  /**\n   * contain - The image will be resized such that it will be completely\n   * visible, contained within the frame of the View.\n   */\n  contain: null,\n  /**\n   * cover - The image will be resized such that the entire area of the view\n   * is covered by the image, potentially clipping parts of the image.\n   */\n  cover: null,\n  /**\n   * stretch - The image will be stretched to fill the entire frame of the\n   * view without clipping. This may change the aspect ratio of the image,\n   * distorting it.\n   */\n  stretch: null,\n  /**\n  * center - The image will be scaled down such that it is completely visible,\n  * if bigger than the area of the view.\n  * The image will not be scaled up.\n  */\n  center: null,\n\n  /**\n   * repeat - The image will be repeated to cover the frame of the View. The\n   * image will keep it's size and aspect ratio.\n   */\n  repeat: null,\n});\n\nmodule.exports = ImageResizeMode;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule LayoutPropTypes\n * @flow\n */\n'use strict';\n\nvar ReactPropTypes = require('React').PropTypes;\n\n/**\n * React Native's layout system is based on Flexbox and is powered both\n * on iOS and Android by an open source project called `Yoga`:\n * https://github.com/facebook/yoga\n *\n * The implementation in Yoga is slightly different from what the\n * Flexbox spec defines - for example, we chose more sensible default\n * values. Since our layout docs are generated from the comments in this\n * file, please keep a brief comment describing each prop type.\n *\n * These properties are a subset of our styles that are consumed by the layout\n * algorithm and affect the positioning and sizing of views.\n */\nvar LayoutPropTypes = {\n  /** `display` sets the display type of this component.\n   *\n   *  It works similarly to `display` in CSS, but only support 'flex' and 'none'.\n   *  'flex' is the default.\n   */\n  display: ReactPropTypes.string,\n\n  /** `width` sets the width of this component.\n   *\n   *  It works similarly to `width` in CSS, but in React Native you\n   *  must use points or percentages. Ems and other units are not supported.\n   *  See https://developer.mozilla.org/en-US/docs/Web/CSS/width for more details.\n   */\n  width: ReactPropTypes.oneOfType([\n    ReactPropTypes.number,\n    ReactPropTypes.string,\n  ]),\n\n  /** `height` sets the height of this component.\n   *\n   *  It works similarly to `height` in CSS, but in React Native you\n   *  must use points or percentages. Ems and other units are not supported.\n   *  See https://developer.mozilla.org/en-US/docs/Web/CSS/height for more details.\n   */\n  height: ReactPropTypes.oneOfType([\n    ReactPropTypes.number,\n    ReactPropTypes.string,\n  ]),\n\n  /** `top` is the number of logical pixels to offset the top edge of\n   *  this component.\n   *\n   *  It works similarly to `top` in CSS, but in React Native you\n   *  must use points or percentages. Ems and other units are not supported.\n   *\n   *  See https://developer.mozilla.org/en-US/docs/Web/CSS/top\n   *  for more details of how `top` affects layout.\n   */\n  top: ReactPropTypes.oneOfType([\n    ReactPropTypes.number,\n    ReactPropTypes.string,\n  ]),\n\n  /** `left` is the number of logical pixels to offset the left edge of\n   *  this component.\n   *\n   *  It works similarly to `left` in CSS, but in React Native you\n   *  must use points or percentages. Ems and other units are not supported.\n   *\n   *  See https://developer.mozilla.org/en-US/docs/Web/CSS/left\n   *  for more details of how `left` affects layout.\n   */\n  left: ReactPropTypes.oneOfType([\n    ReactPropTypes.number,\n    ReactPropTypes.string,\n  ]),\n\n  /** `right` is the number of logical pixels to offset the right edge of\n   *  this component.\n   *\n   *  It works similarly to `right` in CSS, but in React Native you\n   *  must use points or percentages. Ems and other units are not supported.\n   *\n   *  See https://developer.mozilla.org/en-US/docs/Web/CSS/right\n   *  for more details of how `right` affects layout.\n   */\n  right: ReactPropTypes.oneOfType([\n    ReactPropTypes.number,\n    ReactPropTypes.string,\n  ]),\n\n  /** `bottom` is the number of logical pixels to offset the bottom edge of\n   *  this component.\n   *\n   *  It works similarly to `bottom` in CSS, but in React Native you\n   *  must use points or percentages. Ems and other units are not supported.\n   *\n   *  See https://developer.mozilla.org/en-US/docs/Web/CSS/bottom\n   *  for more details of how `bottom` affects layout.\n   */\n  bottom: ReactPropTypes.oneOfType([\n    ReactPropTypes.number,\n    ReactPropTypes.string,\n  ]),\n\n  /** `minWidth` is the minimum width for this component, in logical pixels.\n   *\n   *  It works similarly to `min-width` in CSS, but in React Native you\n   *  must use points or percentages. Ems and other units are not supported.\n   *\n   *  See https://developer.mozilla.org/en-US/docs/Web/CSS/min-width\n   *  for more details.\n   */\n  minWidth: ReactPropTypes.oneOfType([\n    ReactPropTypes.number,\n    ReactPropTypes.string,\n  ]),\n\n  /** `maxWidth` is the maximum width for this component, in logical pixels.\n   *\n   *  It works similarly to `max-width` in CSS, but in React Native you\n   *  must use points or percentages. Ems and other units are not supported.\n   *\n   *  See https://developer.mozilla.org/en-US/docs/Web/CSS/max-width\n   *  for more details.\n   */\n  maxWidth: ReactPropTypes.oneOfType([\n    ReactPropTypes.number,\n    ReactPropTypes.string,\n  ]),\n\n  /** `minHeight` is the minimum height for this component, in logical pixels.\n   *\n   *  It works similarly to `min-height` in CSS, but in React Native you\n   *  must use points or percentages. Ems and other units are not supported.\n   *\n   *  See https://developer.mozilla.org/en-US/docs/Web/CSS/min-height\n   *  for more details.\n   */\n  minHeight: ReactPropTypes.oneOfType([\n    ReactPropTypes.number,\n    ReactPropTypes.string,\n  ]),\n\n  /** `maxHeight` is the maximum height for this component, in logical pixels.\n   *\n   *  It works similarly to `max-height` in CSS, but in React Native you\n   *  must use points or percentages. Ems and other units are not supported.\n   *\n   *  See https://developer.mozilla.org/en-US/docs/Web/CSS/max-height\n   *  for more details.\n   */\n  maxHeight: ReactPropTypes.oneOfType([\n    ReactPropTypes.number,\n    ReactPropTypes.string,\n  ]),\n\n  /** Setting `margin` has the same effect as setting each of\n   *  `marginTop`, `marginLeft`, `marginBottom`, and `marginRight`.\n   *  See https://developer.mozilla.org/en-US/docs/Web/CSS/margin\n   *  for more details.\n   */\n  margin: ReactPropTypes.oneOfType([\n    ReactPropTypes.number,\n    ReactPropTypes.string,\n  ]),\n\n  /** Setting `marginVertical` has the same effect as setting both\n   *  `marginTop` and `marginBottom`.\n   */\n  marginVertical: ReactPropTypes.oneOfType([\n    ReactPropTypes.number,\n    ReactPropTypes.string,\n  ]),\n\n  /** Setting `marginHorizontal` has the same effect as setting\n   *  both `marginLeft` and `marginRight`.\n   */\n  marginHorizontal: ReactPropTypes.oneOfType([\n    ReactPropTypes.number,\n    ReactPropTypes.string,\n  ]),\n\n  /** `marginTop` works like `margin-top` in CSS.\n   *  See https://developer.mozilla.org/en-US/docs/Web/CSS/margin-top\n   *  for more details.\n   */\n  marginTop: ReactPropTypes.oneOfType([\n    ReactPropTypes.number,\n    ReactPropTypes.string,\n  ]),\n\n  /** `marginBottom` works like `margin-bottom` in CSS.\n   *  See https://developer.mozilla.org/en-US/docs/Web/CSS/margin-bottom\n   *  for more details.\n   */\n  marginBottom: ReactPropTypes.oneOfType([\n    ReactPropTypes.number,\n    ReactPropTypes.string,\n  ]),\n\n  /** `marginLeft` works like `margin-left` in CSS.\n   *  See https://developer.mozilla.org/en-US/docs/Web/CSS/margin-left\n   *  for more details.\n   */\n  marginLeft: ReactPropTypes.oneOfType([\n    ReactPropTypes.number,\n    ReactPropTypes.string,\n  ]),\n\n  /** `marginRight` works like `margin-right` in CSS.\n   *  See https://developer.mozilla.org/en-US/docs/Web/CSS/margin-right\n   *  for more details.\n   */\n  marginRight: ReactPropTypes.oneOfType([\n    ReactPropTypes.number,\n    ReactPropTypes.string,\n  ]),\n\n  /** Setting `padding` has the same effect as setting each of\n   *  `paddingTop`, `paddingBottom`, `paddingLeft`, and `paddingRight`.\n   *  See https://developer.mozilla.org/en-US/docs/Web/CSS/padding\n   *  for more details.\n   */\n  padding: ReactPropTypes.oneOfType([\n    ReactPropTypes.number,\n    ReactPropTypes.string,\n  ]),\n\n  /** Setting `paddingVertical` is like setting both of\n   *  `paddingTop` and `paddingBottom`.\n   */\n  paddingVertical: ReactPropTypes.oneOfType([\n    ReactPropTypes.number,\n    ReactPropTypes.string,\n  ]),\n\n  /** Setting `paddingHorizontal` is like setting both of\n   *  `paddingLeft` and `paddingRight`.\n   */\n  paddingHorizontal: ReactPropTypes.oneOfType([\n    ReactPropTypes.number,\n    ReactPropTypes.string,\n  ]),\n\n  /** `paddingTop` works like `padding-top` in CSS.\n   * See https://developer.mozilla.org/en-US/docs/Web/CSS/padding-top\n   * for more details.\n   */\n  paddingTop: ReactPropTypes.oneOfType([\n    ReactPropTypes.number,\n    ReactPropTypes.string,\n  ]),\n\n  /** `paddingBottom` works like `padding-bottom` in CSS.\n   * See https://developer.mozilla.org/en-US/docs/Web/CSS/padding-bottom\n   * for more details.\n   */\n  paddingBottom: ReactPropTypes.oneOfType([\n    ReactPropTypes.number,\n    ReactPropTypes.string,\n  ]),\n\n  /** `paddingLeft` works like `padding-left` in CSS.\n   * See https://developer.mozilla.org/en-US/docs/Web/CSS/padding-left\n   * for more details.\n   */\n  paddingLeft: ReactPropTypes.oneOfType([\n    ReactPropTypes.number,\n    ReactPropTypes.string,\n  ]),\n\n  /** `paddingRight` works like `padding-right` in CSS.\n   * See https://developer.mozilla.org/en-US/docs/Web/CSS/padding-right\n   * for more details.\n   */\n  paddingRight: ReactPropTypes.oneOfType([\n    ReactPropTypes.number,\n    ReactPropTypes.string,\n  ]),\n\n  /** `borderWidth` works like `border-width` in CSS.\n   * See https://developer.mozilla.org/en-US/docs/Web/CSS/border-width\n   * for more details.\n   */\n  borderWidth: ReactPropTypes.number,\n\n  /** `borderTopWidth` works like `border-top-width` in CSS.\n   * See https://developer.mozilla.org/en-US/docs/Web/CSS/border-top-width\n   * for more details.\n   */\n  borderTopWidth: ReactPropTypes.number,\n\n  /** `borderRightWidth` works like `border-right-width` in CSS.\n   * See https://developer.mozilla.org/en-US/docs/Web/CSS/border-right-width\n   * for more details.\n   */\n  borderRightWidth: ReactPropTypes.number,\n\n  /** `borderBottomWidth` works like `border-bottom-width` in CSS.\n   * See https://developer.mozilla.org/en-US/docs/Web/CSS/border-bottom-width\n   * for more details.\n   */\n  borderBottomWidth: ReactPropTypes.number,\n\n  /** `borderLeftWidth` works like `border-left-width` in CSS.\n   * See https://developer.mozilla.org/en-US/docs/Web/CSS/border-left-width\n   * for more details.\n   */\n  borderLeftWidth: ReactPropTypes.number,\n\n  /** `position` in React Native is similar to regular CSS, but\n   *  everything is set to `relative` by default, so `absolute`\n   *  positioning is always just relative to the parent.\n   *\n   *  If you want to position a child using specific numbers of logical\n   *  pixels relative to its parent, set the child to have `absolute`\n   *  position.\n   *\n   *  If you want to position a child relative to something\n   *  that is not its parent, just don't use styles for that. Use the\n   *  component tree.\n   *\n   *  See https://github.com/facebook/yoga\n   *  for more details on how `position` differs between React Native\n   *  and CSS.\n   */\n  position: ReactPropTypes.oneOf([\n    'absolute',\n    'relative'\n  ]),\n\n  /** `flexDirection` controls which directions children of a container go.\n   *  `row` goes left to right, `column` goes top to bottom, and you may\n   *  be able to guess what the other two do. It works like `flex-direction`\n   *  in CSS, except the default is `column`.\n   *  See https://developer.mozilla.org/en-US/docs/Web/CSS/flex-direction\n   *  for more details.\n   */\n  flexDirection: ReactPropTypes.oneOf([\n    'row',\n    'row-reverse',\n    'column',\n    'column-reverse'\n  ]),\n\n  /** `flexWrap` controls whether children can wrap around after they\n   *  hit the end of a flex container.\n   *  It works like `flex-wrap` in CSS (default: nowrap).\n   *  See https://developer.mozilla.org/en-US/docs/Web/CSS/flex-wrap\n   *  for more details.\n   */\n  flexWrap: ReactPropTypes.oneOf([\n    'wrap',\n    'nowrap'\n  ]),\n\n  /** `justifyContent` aligns children in the main direction.\n   *  For example, if children are flowing vertically, `justifyContent`\n   *  controls how they align vertically.\n   *  It works like `justify-content` in CSS (default: flex-start).\n   *  See https://developer.mozilla.org/en-US/docs/Web/CSS/justify-content\n   *  for more details.\n   */\n  justifyContent: ReactPropTypes.oneOf([\n    'flex-start',\n    'flex-end',\n    'center',\n    'space-between',\n    'space-around'\n  ]),\n\n  /** `alignItems` aligns children in the cross direction.\n   *  For example, if children are flowing vertically, `alignItems`\n   *  controls how they align horizontally.\n   *  It works like `align-items` in CSS (default: stretch).\n   *  See https://developer.mozilla.org/en-US/docs/Web/CSS/align-items\n   *  for more details.\n   */\n  alignItems: ReactPropTypes.oneOf([\n    'flex-start',\n    'flex-end',\n    'center',\n    'stretch',\n    'baseline'\n  ]),\n\n  /** `alignSelf` controls how a child aligns in the cross direction,\n   *  overriding the `alignItems` of the parent. It works like `align-self`\n   *  in CSS (default: auto).\n   *  See https://developer.mozilla.org/en-US/docs/Web/CSS/align-self\n   *  for more details.\n   */\n  alignSelf: ReactPropTypes.oneOf([\n    'auto',\n    'flex-start',\n    'flex-end',\n    'center',\n    'stretch',\n    'baseline'\n  ]),\n\n  /** `alignContent` controls how a rows align in the cross direction,\n   *  overriding the `alignContent` of the parent.\n   *  See https://developer.mozilla.org/en-US/docs/Web/CSS/align-content\n   *  for more details.\n   */\n  alignContent: ReactPropTypes.oneOf([\n    'flex-start',\n    'flex-end',\n    'center',\n    'stretch',\n    'space-between',\n    'space-around'\n  ]),\n\n  /** `overflow` controls how a children are measured and displayed.\n   *  `overflow: hidden` causes views to be clipped while `overflow: scroll`\n   *  causes views to be measured independently of their parents main axis.`\n   *  It works like `overflow` in CSS (default: visible).\n   *  See https://developer.mozilla.org/en/docs/Web/CSS/overflow\n   *  for more details.\n   */\n  overflow: ReactPropTypes.oneOf([\n    'visible',\n    'hidden',\n    'scroll',\n  ]),\n\n  /** In React Native `flex` does not work the same way that it does in CSS.\n   *  `flex` is a number rather than a string, and it works\n   *  according to the `Yoga` library\n   *  at https://github.com/facebook/yoga\n   *\n   *  When `flex` is a positive number, it makes the component flexible\n   *  and it will be sized proportional to its flex value. So a\n   *  component with `flex` set to 2 will take twice the space as a\n   *  component with `flex` set to 1.\n   *\n   *  When `flex` is 0, the component is sized according to `width`\n   *  and `height` and it is inflexible.\n   *\n   *  When `flex` is -1, the component is normally sized according\n   *  `width` and `height`. However, if there's not enough space,\n   *  the component will shrink to its `minWidth` and `minHeight`.\n   *\n   * flexGrow, flexShrink, and flexBasis work the same as in CSS.\n   */\n  flex: ReactPropTypes.number,\n  flexGrow: ReactPropTypes.number,\n  flexShrink: ReactPropTypes.number,\n  flexBasis: ReactPropTypes.oneOfType([\n    ReactPropTypes.number,\n    ReactPropTypes.string,\n  ]),\n\n  /**\n   * Aspect ratio control the size of the undefined dimension of a node. Aspect ratio is a\n   * non-standard property only available in react native and not CSS.\n   *\n   * - On a node with a set width/height aspect ratio control the size of the unset dimension\n   * - On a node with a set flex basis aspect ratio controls the size of the node in the cross axis\n   *   if unset\n   * - On a node with a measure function aspect ratio works as though the measure function measures\n   *   the flex basis\n   * - On a node with flex grow/shrink aspect ratio controls the size of the node in the cross axis\n   *   if unset\n   * - Aspect ratio takes min/max dimensions into account\n   */\n  aspectRatio: ReactPropTypes.number,\n\n  /** `zIndex` controls which components display on top of others.\n   *  Normally, you don't use `zIndex`. Components render according to\n   *  their order in the document tree, so later components draw over\n   *  earlier ones. `zIndex` may be useful if you have animations or custom\n   *  modal interfaces where you don't want this behavior.\n   *\n   *  It works like the CSS `z-index` property - components with a larger\n   *  `zIndex` will render on top. Think of the z-direction like it's\n   *  pointing from the phone into your eyeball.\n   *  See https://developer.mozilla.org/en-US/docs/Web/CSS/z-index for\n   *  more details.\n   */\n  zIndex: ReactPropTypes.number,\n\n  /** `direction` specifies the directional flow of the user interface.\n   *  The default is `inherit`, except for root node which will have\n   *  value based on the current locale.\n   *  See https://facebook.github.io/yoga/docs/rtl/\n   *  for more details.\n   *  @platform ios\n   */\n  direction: ReactPropTypes.oneOf([\n    'inherit',\n    'ltr',\n    'rtl',\n  ]),\n};\n\nmodule.exports = LayoutPropTypes;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule ShadowPropTypesIOS\n * @flow\n */\n'use strict';\n\nvar ColorPropType = require('ColorPropType');\nvar ReactPropTypes = require('React').PropTypes;\n\nvar ShadowPropTypesIOS = {\n  /**\n   * Sets the drop shadow color\n   * @platform ios\n   */\n  shadowColor: ColorPropType,\n  /**\n   * Sets the drop shadow offset\n   * @platform ios\n   */\n  shadowOffset: ReactPropTypes.shape(\n    {width: ReactPropTypes.number, height: ReactPropTypes.number}\n  ),\n  /**\n   * Sets the drop shadow opacity (multiplied by the color's alpha component)\n   * @platform ios\n   */\n  shadowOpacity: ReactPropTypes.number,\n  /**\n   * Sets the drop shadow blur radius\n   * @platform ios\n   */\n  shadowRadius: ReactPropTypes.number,\n};\n\nmodule.exports = ShadowPropTypesIOS;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule TransformPropTypes\n * @flow\n */\n'use strict';\n\nvar deprecatedPropType = require('deprecatedPropType');\n\nvar ReactPropTypes = require('React').PropTypes;\n\nvar TransformMatrixPropType = function(\n  props : Object,\n  propName : string,\n  componentName : string\n) : ?Error {\n  if (props[propName]) {\n    return new Error(\n      'The transformMatrix style property is deprecated. ' +\n      'Use `transform: [{ matrix: ... }]` instead.'\n    );\n  }\n};\n\nvar DecomposedMatrixPropType = function(\n  props : Object,\n  propName : string,\n  componentName : string\n) : ?Error {\n  if (props[propName]) {\n    return new Error(\n      'The decomposedMatrix style property is deprecated. ' +\n      'Use `transform: [...]` instead.'\n    );\n  }\n};\n\nvar TransformPropTypes = {\n  transform: ReactPropTypes.arrayOf(\n    ReactPropTypes.oneOfType([\n      ReactPropTypes.shape({perspective: ReactPropTypes.number}),\n      ReactPropTypes.shape({rotate: ReactPropTypes.string}),\n      ReactPropTypes.shape({rotateX: ReactPropTypes.string}),\n      ReactPropTypes.shape({rotateY: ReactPropTypes.string}),\n      ReactPropTypes.shape({rotateZ: ReactPropTypes.string}),\n      ReactPropTypes.shape({scale: ReactPropTypes.number}),\n      ReactPropTypes.shape({scaleX: ReactPropTypes.number}),\n      ReactPropTypes.shape({scaleY: ReactPropTypes.number}),\n      ReactPropTypes.shape({translateX: ReactPropTypes.number}),\n      ReactPropTypes.shape({translateY: ReactPropTypes.number}),\n      ReactPropTypes.shape({skewX: ReactPropTypes.string}),\n      ReactPropTypes.shape({skewY: ReactPropTypes.string})\n    ])\n  ),\n\n  /* Deprecated */\n  transformMatrix: TransformMatrixPropType,\n  decomposedMatrix: DecomposedMatrixPropType,\n\n  /* Deprecated transform props used on Android only */\n  scaleX: deprecatedPropType(ReactPropTypes.number, 'Use the transform prop instead.'),\n  scaleY: deprecatedPropType(ReactPropTypes.number, 'Use the transform prop instead.'),\n  rotation: deprecatedPropType(ReactPropTypes.number, 'Use the transform prop instead.'),\n  translateX: deprecatedPropType(ReactPropTypes.number, 'Use the transform prop instead.'),\n  translateY: deprecatedPropType(ReactPropTypes.number, 'Use the transform prop instead.'),\n};\n\nmodule.exports = TransformPropTypes;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule deprecatedPropType\n * @flow\n */\n'use strict';\n\nconst UIManager = require('UIManager');\n\n/**\n * Adds a deprecation warning when the prop is used.\n */\nfunction deprecatedPropType(\n  propType: ReactPropsCheckType,\n  explanation: string\n): ReactPropsCheckType {\n  return function validate(props, propName, componentName, ...rest) {\n    // Don't warn for native components.\n    if (!UIManager[componentName] && props[propName] !== undefined) {\n      console.warn(`\\`${propName}\\` supplied to \\`${componentName}\\` has been deprecated. ${explanation}`);\n    }\n\n    return propType(\n      props,\n      propName,\n      componentName,\n      ...rest\n    );\n  };\n}\n\nmodule.exports = deprecatedPropType;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule TextStylePropTypes\n * @flow\n */\n'use strict';\n\nconst ReactPropTypes = require('React').PropTypes;\nconst ColorPropType = require('ColorPropType');\nconst ViewStylePropTypes = require('ViewStylePropTypes');\n\nconst TextStylePropTypes = {\n  ...ViewStylePropTypes,\n\n  color: ColorPropType,\n  fontFamily: ReactPropTypes.string,\n  fontSize: ReactPropTypes.number,\n  fontStyle: ReactPropTypes.oneOf(['normal', 'italic']),\n  /**\n   * Specifies font weight. The values 'normal' and 'bold' are supported for\n   * most fonts. Not all fonts have a variant for each of the numeric values,\n   * in that case the closest one is chosen.\n   */\n  fontWeight: ReactPropTypes.oneOf(\n    ['normal' /*default*/, 'bold',\n     '100', '200', '300', '400', '500', '600', '700', '800', '900']\n  ),\n  /**\n   * @platform ios\n   */\n  fontVariant: ReactPropTypes.arrayOf(\n    ReactPropTypes.oneOf([\n      'small-caps',\n      'oldstyle-nums',\n      'lining-nums',\n      'tabular-nums',\n      'proportional-nums',\n    ])\n  ),\n  textShadowOffset: ReactPropTypes.shape(\n    {width: ReactPropTypes.number, height: ReactPropTypes.number}\n  ),\n  textShadowRadius: ReactPropTypes.number,\n  textShadowColor: ColorPropType,\n  /**\n   * @platform ios\n   */\n  letterSpacing: ReactPropTypes.number,\n  lineHeight: ReactPropTypes.number,\n  /**\n   * Specifies text alignment. The value 'justify' is only supported on iOS and\n   * fallbacks to `left` on Android.\n   */\n  textAlign: ReactPropTypes.oneOf(\n    ['auto' /*default*/, 'left', 'right', 'center', 'justify']\n  ),\n  /**\n   * @platform android\n   */\n  textAlignVertical: ReactPropTypes.oneOf(\n    ['auto' /*default*/, 'top', 'bottom', 'center']\n  ),\n  /**\n   * Set to `false` to remove extra font padding intended to make space for certain ascenders / descenders.\n   * With some fonts, this padding can make text look slightly misaligned when centered vertically.\n   * For best results also set `textAlignVertical` to `center`. Default is true.\n   * @platform android\n   */\n  includeFontPadding: ReactPropTypes.bool,\n  textDecorationLine: ReactPropTypes.oneOf(\n    ['none' /*default*/, 'underline', 'line-through', 'underline line-through']\n  ),\n  /**\n   * @platform ios\n   */\n  textDecorationStyle: ReactPropTypes.oneOf(\n    ['solid' /*default*/, 'double', 'dotted','dashed']\n  ),\n  /**\n   * @platform ios\n   */\n  textDecorationColor: ColorPropType,\n  /**\n   * @platform ios\n   */\n  writingDirection: ReactPropTypes.oneOf(\n    ['auto' /*default*/, 'ltr', 'rtl']\n  ),\n};\n\nmodule.exports = TextStylePropTypes;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule ViewStylePropTypes\n * @flow\n */\n'use strict';\n\nvar LayoutPropTypes = require('LayoutPropTypes');\nvar ReactPropTypes = require('React').PropTypes;\nvar ColorPropType = require('ColorPropType');\nvar ShadowPropTypesIOS = require('ShadowPropTypesIOS');\nvar TransformPropTypes = require('TransformPropTypes');\n\n/**\n * Warning: Some of these properties may not be supported in all releases.\n */\nvar ViewStylePropTypes = {\n  ...LayoutPropTypes,\n  ...ShadowPropTypesIOS,\n  ...TransformPropTypes,\n  backfaceVisibility: ReactPropTypes.oneOf(['visible', 'hidden']),\n  backgroundColor: ColorPropType,\n  borderColor: ColorPropType,\n  borderTopColor: ColorPropType,\n  borderRightColor: ColorPropType,\n  borderBottomColor: ColorPropType,\n  borderLeftColor: ColorPropType,\n  borderRadius: ReactPropTypes.number,\n  borderTopLeftRadius: ReactPropTypes.number,\n  borderTopRightRadius: ReactPropTypes.number,\n  borderBottomLeftRadius: ReactPropTypes.number,\n  borderBottomRightRadius: ReactPropTypes.number,\n  borderStyle: ReactPropTypes.oneOf(['solid', 'dotted', 'dashed']),\n  borderWidth: ReactPropTypes.number,\n  borderTopWidth: ReactPropTypes.number,\n  borderRightWidth: ReactPropTypes.number,\n  borderBottomWidth: ReactPropTypes.number,\n  borderLeftWidth: ReactPropTypes.number,\n  opacity: ReactPropTypes.number,\n  /**\n   * (Android-only) Sets the elevation of a view, using Android's underlying\n   * [elevation API](https://developer.android.com/training/material/shadows-clipping.html#Elevation).\n   * This adds a drop shadow to the item and affects z-order for overlapping views.\n   * Only supported on Android 5.0+, has no effect on earlier versions.\n   * @platform android\n   */\n  elevation: ReactPropTypes.number,\n};\n\nmodule.exports = ViewStylePropTypes;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule processColor\n */\n'use strict';\n\nvar Platform = require('Platform');\n\nvar normalizeColor = require('normalizeColor');\n\n/* eslint no-bitwise: 0 */\nfunction processColor(color) {\n  if (color === undefined || color === null) {\n    return color;\n  }\n\n  var int32Color = normalizeColor(color);\n  if (int32Color === null) {\n    return undefined;\n  }\n\n  // Converts 0xrrggbbaa into 0xaarrggbb\n  int32Color = (int32Color << 24 | int32Color >>> 8) >>> 0;\n\n  if (Platform.OS === 'android') {\n    // Android use 32 bit *signed* integer to represent the color\n    // We utilize the fact that bitwise operations in JS also operates on\n    // signed 32 bit integers, so that we can use those to convert from\n    // *unsigned* to *signed* 32bit int that way.\n    int32Color = int32Color | 0x0;\n  }\n  return int32Color;\n}\n\nmodule.exports = processColor;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule processTransform\n * @flow\n */\n'use strict';\n\nvar MatrixMath = require('MatrixMath');\nvar Platform = require('Platform');\n\nvar invariant = require('fbjs/lib/invariant');\nvar stringifySafe = require('stringifySafe');\n\n/**\n * Generate a transform matrix based on the provided transforms, and use that\n * within the style object instead.\n *\n * This allows us to provide an API that is similar to CSS, where transforms may\n * be applied in an arbitrary order, and yet have a universal, singular\n * interface to native code.\n */\nfunction processTransform(transform: Array<Object>): Array<Object> | Array<number> {\n  if (__DEV__) {\n    _validateTransforms(transform);\n  }\n\n  // Android & iOS implementations of transform property accept the list of\n  // transform properties as opposed to a transform Matrix. This is necessary\n  // to control transform property updates completely on the native thread.\n  if (Platform.OS === 'android' || Platform.OS === 'ios') {\n    return transform;\n  }\n\n  var result = MatrixMath.createIdentityMatrix();\n\n  transform.forEach(transformation => {\n    var key = Object.keys(transformation)[0];\n    var value = transformation[key];\n\n    switch (key) {\n      case 'matrix':\n        MatrixMath.multiplyInto(result, result, value);\n        break;\n      case 'perspective':\n        _multiplyTransform(result, MatrixMath.reusePerspectiveCommand, [value]);\n        break;\n      case 'rotateX':\n        _multiplyTransform(result, MatrixMath.reuseRotateXCommand, [_convertToRadians(value)]);\n        break;\n      case 'rotateY':\n        _multiplyTransform(result, MatrixMath.reuseRotateYCommand, [_convertToRadians(value)]);\n        break;\n      case 'rotate':\n      case 'rotateZ':\n        _multiplyTransform(result, MatrixMath.reuseRotateZCommand, [_convertToRadians(value)]);\n        break;\n      case 'scale':\n        _multiplyTransform(result, MatrixMath.reuseScaleCommand, [value]);\n        break;\n      case 'scaleX':\n        _multiplyTransform(result, MatrixMath.reuseScaleXCommand, [value]);\n        break;\n      case 'scaleY':\n        _multiplyTransform(result, MatrixMath.reuseScaleYCommand, [value]);\n        break;\n      case 'translate':\n        _multiplyTransform(result, MatrixMath.reuseTranslate3dCommand, [value[0], value[1], value[2] || 0]);\n        break;\n      case 'translateX':\n        _multiplyTransform(result, MatrixMath.reuseTranslate2dCommand, [value, 0]);\n        break;\n      case 'translateY':\n        _multiplyTransform(result, MatrixMath.reuseTranslate2dCommand, [0, value]);\n        break;\n      case 'skewX':\n        _multiplyTransform(result, MatrixMath.reuseSkewXCommand, [_convertToRadians(value)]);\n        break;\n      case 'skewY':\n        _multiplyTransform(result, MatrixMath.reuseSkewYCommand, [_convertToRadians(value)]);\n        break;\n      default:\n        throw new Error('Invalid transform name: ' + key);\n    }\n  });\n\n  return result;\n}\n\n/**\n * Performs a destructive operation on a transform matrix.\n */\nfunction _multiplyTransform(\n  result: Array<number>,\n  matrixMathFunction: Function,\n  args: Array<number>\n): void {\n  var matrixToApply = MatrixMath.createIdentityMatrix();\n  var argsWithIdentity = [matrixToApply].concat(args);\n  matrixMathFunction.apply(this, argsWithIdentity);\n  MatrixMath.multiplyInto(result, result, matrixToApply);\n}\n\n/**\n * Parses a string like '0.5rad' or '60deg' into radians expressed in a float.\n * Note that validation on the string is done in `_validateTransform()`.\n */\nfunction _convertToRadians(value: string): number {\n  var floatValue = parseFloat(value, 10);\n  return value.indexOf('rad') > -1 ? floatValue : floatValue * Math.PI / 180;\n}\n\nfunction _validateTransforms(transform: Array<Object>): void {\n  transform.forEach(transformation => {\n    var keys = Object.keys(transformation);\n    invariant(\n      keys.length === 1,\n      'You must specify exactly one property per transform object. Passed properties: %s',\n      stringifySafe(transformation),\n    );\n    var key = keys[0];\n    var value = transformation[key];\n    _validateTransform(key, value, transformation);\n  });\n}\n\nfunction _validateTransform(key, value, transformation) {\n  invariant(\n    !value.getValue,\n    'You passed an Animated.Value to a normal component. ' +\n    'You need to wrap that component in an Animated. For example, ' +\n    'replace <View /> by <Animated.View />.'\n  );\n\n  var multivalueTransforms = [\n    'matrix',\n    'translate',\n  ];\n  if (multivalueTransforms.indexOf(key) !== -1) {\n    invariant(\n      Array.isArray(value),\n      'Transform with key of %s must have an array as the value: %s',\n      key,\n      stringifySafe(transformation),\n    );\n  }\n  switch (key) {\n    case 'matrix':\n      invariant(\n        value.length === 9 || value.length === 16,\n        'Matrix transform must have a length of 9 (2d) or 16 (3d). ' +\n          'Provided matrix has a length of %s: %s',\n        value.length,\n        stringifySafe(transformation),\n      );\n      break;\n    case 'translate':\n      invariant(\n        value.length === 2 || value.length === 3,\n        'Transform with key translate must be an array of length 2 or 3, found %s: %s',\n        value.length,\n        stringifySafe(transformation),\n      );\n      break;\n    case 'rotateX':\n    case 'rotateY':\n    case 'rotateZ':\n    case 'rotate':\n    case 'skewX':\n    case 'skewY':\n      invariant(\n        typeof value === 'string',\n        'Transform with key of \"%s\" must be a string: %s',\n        key,\n        stringifySafe(transformation),\n      );\n      invariant(\n        value.indexOf('deg') > -1 || value.indexOf('rad') > -1,\n        'Rotate transform must be expressed in degrees (deg) or radians ' +\n          '(rad): %s',\n        stringifySafe(transformation),\n      );\n      break;\n    case 'perspective':\n      invariant(\n        typeof value === 'number',\n        'Transform with key of \"%s\" must be a number: %s',\n        key,\n        stringifySafe(transformation),\n      );\n      invariant(\n        value !== 0,\n        'Transform with key of \"%s\" cannot be zero: %s',\n        key,\n        stringifySafe(transformation),\n      );\n      break;\n    case 'translateX':\n    case 'translateY':\n    case 'scale':\n    case 'scaleX':\n    case 'scaleY':\n      invariant(\n        typeof value === 'number',\n        'Transform with key of \"%s\" must be a number: %s',\n        key,\n        stringifySafe(transformation),\n      );\n      break;\n    default:\n      invariant(false, 'Invalid transform %s: %s', key, stringifySafe(transformation));\n  }\n}\n\nmodule.exports = processTransform;\n","/**\n * Copyright 2004-present Facebook. All Rights Reserved.\n *\n * @providesModule MatrixMath\n * @noflow\n */\n/* eslint-disable space-infix-ops */\n'use strict';\n\nvar invariant = require('fbjs/lib/invariant');\n\n/**\n * Memory conservative (mutative) matrix math utilities. Uses \"command\"\n * matrices, which are reusable.\n */\nvar MatrixMath = {\n  createIdentityMatrix: function() {\n    return [\n      1,0,0,0,\n      0,1,0,0,\n      0,0,1,0,\n      0,0,0,1\n    ];\n  },\n\n  createCopy: function(m) {\n    return [\n      m[0],  m[1],  m[2],  m[3],\n      m[4],  m[5],  m[6],  m[7],\n      m[8],  m[9],  m[10], m[11],\n      m[12], m[13], m[14], m[15],\n    ];\n  },\n\n  createOrthographic: function(left, right, bottom, top, near, far) {\n    var a = 2 / (right - left);\n    var b = 2 / (top - bottom);\n    var c = -2 / (far - near);\n\n    var tx = -(right + left) / (right - left);\n    var ty = -(top + bottom) / (top - bottom);\n    var tz = -(far + near) / (far - near);\n\n    return [\n        a,  0,  0,  0,\n        0,  b,  0,  0,\n        0,  0,  c,  0,\n        tx, ty, tz, 1\n    ];\n  },\n\n  createFrustum: function(left, right, bottom, top, near, far) {\n    var r_width  = 1 / (right - left);\n    var r_height = 1 / (top - bottom);\n    var r_depth  = 1 / (near - far);\n    var x = 2 * (near * r_width);\n    var y = 2 * (near * r_height);\n    var A = (right + left) * r_width;\n    var B = (top + bottom) * r_height;\n    var C = (far + near) * r_depth;\n    var D = 2 * (far * near * r_depth);\n    return [\n      x, 0, 0, 0,\n      0, y, 0, 0,\n      A, B, C,-1,\n      0, 0, D, 0,\n    ];\n  },\n\n  /**\n   * This create a perspective projection towards negative z\n   * Clipping the z range of [-near, -far]\n   *\n   * @param fovInRadians - field of view in randians\n   */\n  createPerspective: function(fovInRadians, aspect, near, far) {\n    var h = 1 / Math.tan(fovInRadians / 2);\n    var r_depth  = 1 / (near - far);\n    var C = (far + near) * r_depth;\n    var D = 2 * (far * near * r_depth);\n    return [\n      h/aspect, 0, 0, 0,\n      0, h, 0, 0,\n      0, 0, C,-1,\n      0, 0, D, 0,\n    ];\n  },\n\n  createTranslate2d: function(x, y) {\n    var mat = MatrixMath.createIdentityMatrix();\n    MatrixMath.reuseTranslate2dCommand(mat, x, y);\n    return mat;\n  },\n\n  reuseTranslate2dCommand: function(matrixCommand, x, y) {\n    matrixCommand[12] = x;\n    matrixCommand[13] = y;\n  },\n\n  reuseTranslate3dCommand: function(matrixCommand, x, y, z) {\n    matrixCommand[12] = x;\n    matrixCommand[13] = y;\n    matrixCommand[14] = z;\n  },\n\n  createScale: function(factor) {\n    var mat = MatrixMath.createIdentityMatrix();\n    MatrixMath.reuseScaleCommand(mat, factor);\n    return mat;\n  },\n\n  reuseScaleCommand: function(matrixCommand, factor) {\n    matrixCommand[0] = factor;\n    matrixCommand[5] = factor;\n  },\n\n  reuseScale3dCommand: function(matrixCommand, x, y, z) {\n    matrixCommand[0] = x;\n    matrixCommand[5] = y;\n    matrixCommand[10] = z;\n  },\n\n  reusePerspectiveCommand: function(matrixCommand, p) {\n    matrixCommand[11] = -1 / p;\n  },\n\n  reuseScaleXCommand(matrixCommand, factor) {\n    matrixCommand[0] = factor;\n  },\n\n  reuseScaleYCommand(matrixCommand, factor) {\n    matrixCommand[5] = factor;\n  },\n\n  reuseScaleZCommand(matrixCommand, factor) {\n    matrixCommand[10] = factor;\n  },\n\n  reuseRotateXCommand: function(matrixCommand, radians) {\n    matrixCommand[5] = Math.cos(radians);\n    matrixCommand[6] = Math.sin(radians);\n    matrixCommand[9] = -Math.sin(radians);\n    matrixCommand[10] = Math.cos(radians);\n  },\n\n  reuseRotateYCommand: function(matrixCommand, amount) {\n    matrixCommand[0] = Math.cos(amount);\n    matrixCommand[2] = -Math.sin(amount);\n    matrixCommand[8] = Math.sin(amount);\n    matrixCommand[10] = Math.cos(amount);\n  },\n\n  // http://www.w3.org/TR/css3-transforms/#recomposing-to-a-2d-matrix\n  reuseRotateZCommand: function(matrixCommand, radians) {\n    matrixCommand[0] = Math.cos(radians);\n    matrixCommand[1] = Math.sin(radians);\n    matrixCommand[4] = -Math.sin(radians);\n    matrixCommand[5] = Math.cos(radians);\n  },\n\n  createRotateZ: function(radians) {\n    var mat = MatrixMath.createIdentityMatrix();\n    MatrixMath.reuseRotateZCommand(mat, radians);\n    return mat;\n  },\n\n  reuseSkewXCommand: function(matrixCommand, radians) {\n    matrixCommand[4] = Math.tan(radians);\n  },\n\n  reuseSkewYCommand: function(matrixCommand, radians) {\n    matrixCommand[1] = Math.tan(radians);\n  },\n\n  multiplyInto: function(out, a, b) {\n    var a00 = a[0], a01 = a[1], a02 = a[2], a03 = a[3],\n      a10 = a[4], a11 = a[5], a12 = a[6], a13 = a[7],\n      a20 = a[8], a21 = a[9], a22 = a[10], a23 = a[11],\n      a30 = a[12], a31 = a[13], a32 = a[14], a33 = a[15];\n\n    var b0  = b[0], b1 = b[1], b2 = b[2], b3 = b[3];\n    out[0] = b0*a00 + b1*a10 + b2*a20 + b3*a30;\n    out[1] = b0*a01 + b1*a11 + b2*a21 + b3*a31;\n    out[2] = b0*a02 + b1*a12 + b2*a22 + b3*a32;\n    out[3] = b0*a03 + b1*a13 + b2*a23 + b3*a33;\n\n    b0 = b[4]; b1 = b[5]; b2 = b[6]; b3 = b[7];\n    out[4] = b0*a00 + b1*a10 + b2*a20 + b3*a30;\n    out[5] = b0*a01 + b1*a11 + b2*a21 + b3*a31;\n    out[6] = b0*a02 + b1*a12 + b2*a22 + b3*a32;\n    out[7] = b0*a03 + b1*a13 + b2*a23 + b3*a33;\n\n    b0 = b[8]; b1 = b[9]; b2 = b[10]; b3 = b[11];\n    out[8] = b0*a00 + b1*a10 + b2*a20 + b3*a30;\n    out[9] = b0*a01 + b1*a11 + b2*a21 + b3*a31;\n    out[10] = b0*a02 + b1*a12 + b2*a22 + b3*a32;\n    out[11] = b0*a03 + b1*a13 + b2*a23 + b3*a33;\n\n    b0 = b[12]; b1 = b[13]; b2 = b[14]; b3 = b[15];\n    out[12] = b0*a00 + b1*a10 + b2*a20 + b3*a30;\n    out[13] = b0*a01 + b1*a11 + b2*a21 + b3*a31;\n    out[14] = b0*a02 + b1*a12 + b2*a22 + b3*a32;\n    out[15] = b0*a03 + b1*a13 + b2*a23 + b3*a33;\n  },\n\n  determinant(matrix: Array<number>): number {\n    var [\n      m00, m01, m02, m03,\n      m10, m11, m12, m13,\n      m20, m21, m22, m23,\n      m30, m31, m32, m33\n    ] = matrix;\n    return (\n      m03 * m12 * m21 * m30 - m02 * m13 * m21 * m30 -\n      m03 * m11 * m22 * m30 + m01 * m13 * m22 * m30 +\n      m02 * m11 * m23 * m30 - m01 * m12 * m23 * m30 -\n      m03 * m12 * m20 * m31 + m02 * m13 * m20 * m31 +\n      m03 * m10 * m22 * m31 - m00 * m13 * m22 * m31 -\n      m02 * m10 * m23 * m31 + m00 * m12 * m23 * m31 +\n      m03 * m11 * m20 * m32 - m01 * m13 * m20 * m32 -\n      m03 * m10 * m21 * m32 + m00 * m13 * m21 * m32 +\n      m01 * m10 * m23 * m32 - m00 * m11 * m23 * m32 -\n      m02 * m11 * m20 * m33 + m01 * m12 * m20 * m33 +\n      m02 * m10 * m21 * m33 - m00 * m12 * m21 * m33 -\n      m01 * m10 * m22 * m33 + m00 * m11 * m22 * m33\n    );\n  },\n\n  /**\n   * Inverse of a matrix. Multiplying by the inverse is used in matrix math\n   * instead of division.\n   *\n   * Formula from:\n   * http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm\n   */\n  inverse(matrix: Array<number>): Array<number> {\n    var det = MatrixMath.determinant(matrix);\n    if (!det) {\n      return matrix;\n    }\n    var [\n      m00, m01, m02, m03,\n      m10, m11, m12, m13,\n      m20, m21, m22, m23,\n      m30, m31, m32, m33\n    ] = matrix;\n    return [\n      (m12*m23*m31 - m13*m22*m31 + m13*m21*m32 - m11*m23*m32 - m12*m21*m33 + m11*m22*m33) / det,\n      (m03*m22*m31 - m02*m23*m31 - m03*m21*m32 + m01*m23*m32 + m02*m21*m33 - m01*m22*m33) / det,\n      (m02*m13*m31 - m03*m12*m31 + m03*m11*m32 - m01*m13*m32 - m02*m11*m33 + m01*m12*m33) / det,\n      (m03*m12*m21 - m02*m13*m21 - m03*m11*m22 + m01*m13*m22 + m02*m11*m23 - m01*m12*m23) / det,\n      (m13*m22*m30 - m12*m23*m30 - m13*m20*m32 + m10*m23*m32 + m12*m20*m33 - m10*m22*m33) / det,\n      (m02*m23*m30 - m03*m22*m30 + m03*m20*m32 - m00*m23*m32 - m02*m20*m33 + m00*m22*m33) / det,\n      (m03*m12*m30 - m02*m13*m30 - m03*m10*m32 + m00*m13*m32 + m02*m10*m33 - m00*m12*m33) / det,\n      (m02*m13*m20 - m03*m12*m20 + m03*m10*m22 - m00*m13*m22 - m02*m10*m23 + m00*m12*m23) / det,\n      (m11*m23*m30 - m13*m21*m30 + m13*m20*m31 - m10*m23*m31 - m11*m20*m33 + m10*m21*m33) / det,\n      (m03*m21*m30 - m01*m23*m30 - m03*m20*m31 + m00*m23*m31 + m01*m20*m33 - m00*m21*m33) / det,\n      (m01*m13*m30 - m03*m11*m30 + m03*m10*m31 - m00*m13*m31 - m01*m10*m33 + m00*m11*m33) / det,\n      (m03*m11*m20 - m01*m13*m20 - m03*m10*m21 + m00*m13*m21 + m01*m10*m23 - m00*m11*m23) / det,\n      (m12*m21*m30 - m11*m22*m30 - m12*m20*m31 + m10*m22*m31 + m11*m20*m32 - m10*m21*m32) / det,\n      (m01*m22*m30 - m02*m21*m30 + m02*m20*m31 - m00*m22*m31 - m01*m20*m32 + m00*m21*m32) / det,\n      (m02*m11*m30 - m01*m12*m30 - m02*m10*m31 + m00*m12*m31 + m01*m10*m32 - m00*m11*m32) / det,\n      (m01*m12*m20 - m02*m11*m20 + m02*m10*m21 - m00*m12*m21 - m01*m10*m22 + m00*m11*m22) / det\n    ];\n  },\n\n  /**\n   * Turns columns into rows and rows into columns.\n   */\n   transpose(m: Array<number>): Array<number> {\n    return [\n      m[0], m[4], m[8],  m[12],\n      m[1], m[5], m[9],  m[13],\n      m[2], m[6], m[10], m[14],\n      m[3], m[7], m[11], m[15]\n    ];\n  },\n\n  /**\n   * Based on: http://tog.acm.org/resources/GraphicsGems/gemsii/unmatrix.c\n   */\n  multiplyVectorByMatrix(\n    v: Array<number>,\n    m: Array<number>\n  ): Array<number> {\n    var [vx, vy, vz, vw] = v;\n    return [\n      vx * m[0] + vy * m[4] + vz * m[8]  + vw * m[12],\n      vx * m[1] + vy * m[5] + vz * m[9]  + vw * m[13],\n      vx * m[2] + vy * m[6] + vz * m[10] + vw * m[14],\n      vx * m[3] + vy * m[7] + vz * m[11] + vw * m[15]\n    ];\n  },\n\n  /**\n   * From: https://code.google.com/p/webgl-mjs/source/browse/mjs.js\n   */\n  v3Length(a: Array<number>): number {\n    return Math.sqrt(a[0]*a[0] + a[1]*a[1] + a[2]*a[2]);\n  },\n\n  /**\n   * Based on: https://code.google.com/p/webgl-mjs/source/browse/mjs.js\n   */\n   v3Normalize(\n     vector: Array<number>,\n     v3Length: number\n    ): Array<number> {\n    var im = 1 / (v3Length || MatrixMath.v3Length(vector));\n    return [\n      vector[0] * im,\n      vector[1] * im,\n      vector[2] * im\n    ];\n  },\n\n  /**\n   * The dot product of a and b, two 3-element vectors.\n   * From: https://code.google.com/p/webgl-mjs/source/browse/mjs.js\n   */\n  v3Dot(a, b) {\n    return a[0] * b[0] +\n           a[1] * b[1] +\n           a[2] * b[2];\n  },\n\n  /**\n   * From:\n   * http://www.opensource.apple.com/source/WebCore/WebCore-514/platform/graphics/transforms/TransformationMatrix.cpp\n   */\n  v3Combine(\n    a: Array<number>,\n    b: Array<number>,\n    aScale: number,\n    bScale: number\n  ): Array<number> {\n    return [\n      aScale * a[0] + bScale * b[0],\n      aScale * a[1] + bScale * b[1],\n      aScale * a[2] + bScale * b[2]\n    ];\n  },\n\n  /**\n   * From:\n   * http://www.opensource.apple.com/source/WebCore/WebCore-514/platform/graphics/transforms/TransformationMatrix.cpp\n   */\n  v3Cross(a: Array<number>, b: Array<number>): Array<number> {\n    return [\n      a[1] * b[2] - a[2] * b[1],\n      a[2] * b[0] - a[0] * b[2],\n      a[0] * b[1] - a[1] * b[0]\n    ];\n  },\n\n  /**\n   * Based on:\n   * http://www.euclideanspace.com/maths/geometry/rotations/conversions/quaternionToEuler/\n   * and:\n   * http://quat.zachbennett.com/\n   *\n   * Note that this rounds degrees to the thousandth of a degree, due to\n   * floating point errors in the creation of the quaternion.\n   *\n   * Also note that this expects the qw value to be last, not first.\n   *\n   * Also, when researching this, remember that:\n   * yaw   === heading            === z-axis\n   * pitch === elevation/attitude === y-axis\n   * roll  === bank               === x-axis\n   */\n  quaternionToDegreesXYZ(q: Array<number>, matrix, row): Array<number> {\n    var [qx, qy, qz, qw] = q;\n    var qw2 = qw * qw;\n    var qx2 = qx * qx;\n    var qy2 = qy * qy;\n    var qz2 = qz * qz;\n    var test = qx * qy + qz * qw;\n    var unit = qw2 + qx2 + qy2 + qz2;\n    var conv = 180 / Math.PI;\n\n    if (test > 0.49999 * unit) {\n      return [0, 2 * Math.atan2(qx, qw) * conv, 90];\n    }\n    if (test < -0.49999 * unit) {\n      return [0, -2 * Math.atan2(qx, qw) * conv, -90];\n    }\n\n    return [\n      MatrixMath.roundTo3Places(\n        Math.atan2(2*qx*qw-2*qy*qz,1-2*qx2-2*qz2) * conv\n      ),\n      MatrixMath.roundTo3Places(\n        Math.atan2(2*qy*qw-2*qx*qz,1-2*qy2-2*qz2) * conv\n      ),\n      MatrixMath.roundTo3Places(\n        Math.asin(2*qx*qy+2*qz*qw) * conv\n      )\n    ];\n  },\n\n  /**\n   * Based on:\n   * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/round\n   */\n  roundTo3Places(n: number): number {\n    var arr = n.toString().split('e');\n    return Math.round(arr[0] + 'e' + (arr[1] ? (+arr[1] - 3) : 3)) * 0.001;\n  },\n\n  /**\n   * Decompose a matrix into separate transform values, for use on platforms\n   * where applying a precomposed matrix is not possible, and transforms are\n   * applied in an inflexible ordering (e.g. Android).\n   *\n   * Implementation based on\n   * http://www.w3.org/TR/css3-transforms/#decomposing-a-2d-matrix\n   * http://www.w3.org/TR/css3-transforms/#decomposing-a-3d-matrix\n   * which was based on\n   * http://tog.acm.org/resources/GraphicsGems/gemsii/unmatrix.c\n   */\n  decomposeMatrix(transformMatrix: Array<number>): ?Object {\n\n    invariant(\n      transformMatrix.length === 16,\n      'Matrix decomposition needs a list of 3d matrix values, received %s',\n      transformMatrix\n    );\n\n    // output values\n    var perspective = [];\n    var quaternion = [];\n    var scale = [];\n    var skew = [];\n    var translation = [];\n\n    // create normalized, 2d array matrix\n    // and normalized 1d array perspectiveMatrix with redefined 4th column\n    if (!transformMatrix[15]) {\n      return;\n    }\n    var matrix = [];\n    var perspectiveMatrix = [];\n    for (var i = 0; i < 4; i++) {\n      matrix.push([]);\n      for (var j = 0; j < 4; j++) {\n        var value = transformMatrix[(i * 4) + j] / transformMatrix[15];\n        matrix[i].push(value);\n        perspectiveMatrix.push(j === 3 ? 0 : value);\n      }\n    }\n    perspectiveMatrix[15] = 1;\n\n    // test for singularity of upper 3x3 part of the perspective matrix\n    if (!MatrixMath.determinant(perspectiveMatrix)) {\n      return;\n    }\n\n    // isolate perspective\n    if (matrix[0][3] !== 0 || matrix[1][3] !== 0 || matrix[2][3] !== 0) {\n      // rightHandSide is the right hand side of the equation.\n      // rightHandSide is a vector, or point in 3d space relative to the origin.\n      var rightHandSide = [\n        matrix[0][3],\n        matrix[1][3],\n        matrix[2][3],\n        matrix[3][3]\n      ];\n\n      // Solve the equation by inverting perspectiveMatrix and multiplying\n      // rightHandSide by the inverse.\n      var inversePerspectiveMatrix = MatrixMath.inverse(\n        perspectiveMatrix\n      );\n      var transposedInversePerspectiveMatrix = MatrixMath.transpose(\n        inversePerspectiveMatrix\n      );\n      var perspective = MatrixMath.multiplyVectorByMatrix(\n        rightHandSide,\n        transposedInversePerspectiveMatrix\n      );\n    } else {\n      // no perspective\n      perspective[0] = perspective[1] = perspective[2] = 0;\n      perspective[3] = 1;\n    }\n\n    // translation is simple\n    for (var i = 0; i < 3; i++) {\n      translation[i] = matrix[3][i];\n    }\n\n    // Now get scale and shear.\n    // 'row' is a 3 element array of 3 component vectors\n    var row = [];\n    for (i = 0; i < 3; i++) {\n      row[i] = [\n        matrix[i][0],\n        matrix[i][1],\n        matrix[i][2]\n      ];\n    }\n\n    // Compute X scale factor and normalize first row.\n    scale[0] = MatrixMath.v3Length(row[0]);\n    row[0] = MatrixMath.v3Normalize(row[0], scale[0]);\n\n    // Compute XY shear factor and make 2nd row orthogonal to 1st.\n    skew[0] = MatrixMath.v3Dot(row[0], row[1]);\n    row[1] = MatrixMath.v3Combine(row[1], row[0], 1.0, -skew[0]);\n\n    // Compute XY shear factor and make 2nd row orthogonal to 1st.\n    skew[0] = MatrixMath.v3Dot(row[0], row[1]);\n    row[1] = MatrixMath.v3Combine(row[1], row[0], 1.0, -skew[0]);\n\n    // Now, compute Y scale and normalize 2nd row.\n    scale[1] = MatrixMath.v3Length(row[1]);\n    row[1] = MatrixMath.v3Normalize(row[1], scale[1]);\n    skew[0] /= scale[1];\n\n    // Compute XZ and YZ shears, orthogonalize 3rd row\n    skew[1] = MatrixMath.v3Dot(row[0], row[2]);\n    row[2] = MatrixMath.v3Combine(row[2], row[0], 1.0, -skew[1]);\n    skew[2] = MatrixMath.v3Dot(row[1], row[2]);\n    row[2] = MatrixMath.v3Combine(row[2], row[1], 1.0, -skew[2]);\n\n    // Next, get Z scale and normalize 3rd row.\n    scale[2] = MatrixMath.v3Length(row[2]);\n    row[2] = MatrixMath.v3Normalize(row[2], scale[2]);\n    skew[1] /= scale[2];\n    skew[2] /= scale[2];\n\n    // At this point, the matrix (in rows) is orthonormal.\n    // Check for a coordinate system flip.  If the determinant\n    // is -1, then negate the matrix and the scaling factors.\n    var pdum3 = MatrixMath.v3Cross(row[1], row[2]);\n    if (MatrixMath.v3Dot(row[0], pdum3) < 0) {\n      for (i = 0; i < 3; i++) {\n        scale[i] *= -1;\n        row[i][0] *= -1;\n        row[i][1] *= -1;\n        row[i][2] *= -1;\n      }\n    }\n\n    // Now, get the rotations out\n    quaternion[0] =\n      0.5 * Math.sqrt(Math.max(1 + row[0][0] - row[1][1] - row[2][2], 0));\n    quaternion[1] =\n      0.5 * Math.sqrt(Math.max(1 - row[0][0] + row[1][1] - row[2][2], 0));\n    quaternion[2] =\n      0.5 * Math.sqrt(Math.max(1 - row[0][0] - row[1][1] + row[2][2], 0));\n    quaternion[3] =\n      0.5 * Math.sqrt(Math.max(1 + row[0][0] + row[1][1] + row[2][2], 0));\n\n    if (row[2][1] > row[1][2]) {\n      quaternion[0] = -quaternion[0];\n    }\n    if (row[0][2] > row[2][0]) {\n      quaternion[1] = -quaternion[1];\n    }\n    if (row[1][0] > row[0][1]) {\n      quaternion[2] = -quaternion[2];\n    }\n\n    // correct for occasional, weird Euler synonyms for 2d rotation\n    var rotationDegrees;\n    if (\n      quaternion[0] < 0.001 && quaternion[0] >= 0 &&\n      quaternion[1] < 0.001 && quaternion[1] >= 0\n    ) {\n      // this is a 2d rotation on the z-axis\n      rotationDegrees = [0, 0, MatrixMath.roundTo3Places(\n        Math.atan2(row[0][1], row[0][0]) * 180 / Math.PI\n      )];\n    } else {\n      rotationDegrees = MatrixMath.quaternionToDegreesXYZ(quaternion, matrix, row);\n    }\n\n    // expose both base data and convenience names\n    return {\n      rotationDegrees,\n      perspective,\n      quaternion,\n      scale,\n      skew,\n      translation,\n\n      rotate: rotationDegrees[2],\n      rotateX: rotationDegrees[0],\n      rotateY: rotationDegrees[1],\n      scaleX: scale[0],\n      scaleY: scale[1],\n      translateX: translation[0],\n      translateY: translation[1],\n    };\n  },\n\n};\n\nmodule.exports = MatrixMath;\n","/**\n * Copyright 2004-present Facebook. All Rights Reserved.\n *\n * @providesModule sizesDiffer\n */\n'use strict';\n\nvar dummySize = {width: undefined, height: undefined};\n\nvar sizesDiffer = function(one, two) {\n  one = one || dummySize;\n  two = two || dummySize;\n  return one !== two && (\n    one.width !== two.width ||\n    one.height !== two.height\n  );\n};\n\nmodule.exports = sizesDiffer;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule ReactNativeViewAttributes\n * @flow\n */\n'use strict';\n\nvar ReactNativeStyleAttributes = require('ReactNativeStyleAttributes');\n\nvar ReactNativeViewAttributes = {};\n\nReactNativeViewAttributes.UIView = {\n  pointerEvents: true,\n  accessible: true,\n  accessibilityLabel: true,\n  accessibilityComponentType: true,\n  accessibilityLiveRegion: true,\n  accessibilityTraits: true,\n  importantForAccessibility: true,\n  testID: true,\n  renderToHardwareTextureAndroid: true,\n  shouldRasterizeIOS: true,\n  onLayout: true,\n  onAccessibilityTap: true,\n  onMagicTap: true,\n  collapsable: true,\n  needsOffscreenAlphaCompositing: true,\n  style: ReactNativeStyleAttributes,\n};\n\nReactNativeViewAttributes.RCTView = {\n  ...ReactNativeViewAttributes.UIView,\n\n  // This is a special performance property exposed by RCTView and useful for\n  // scrolling content when there are many subviews, most of which are offscreen.\n  // For this property to be effective, it must be applied to a view that contains\n  // many subviews that extend outside its bound. The subviews must also have\n  // overflow: hidden, as should the containing view (or one of its superviews).\n  removeClippedSubviews: true,\n};\n\nmodule.exports = ReactNativeViewAttributes;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule StyleSheetPropType\n * @flow\n */\n'use strict';\n\nvar createStrictShapeTypeChecker = require('createStrictShapeTypeChecker');\nvar flattenStyle = require('flattenStyle');\n\nfunction StyleSheetPropType(\n  shape: {[key: string]: ReactPropsCheckType}\n): ReactPropsCheckType {\n  var shapePropType = createStrictShapeTypeChecker(shape);\n  return function(props, propName, componentName, location?, ...rest) {\n    var newProps = props;\n    if (props[propName]) {\n      // Just make a dummy prop object with only the flattened style\n      newProps = {};\n      newProps[propName] = flattenStyle(props[propName]);\n    }\n    return shapePropType(newProps, propName, componentName, location, ...rest);\n  };\n}\n\nmodule.exports = StyleSheetPropType;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule ViewAccessibility\n * @flow\n */\n'use strict';\n\nexport type AccessibilityTrait =\n  'none' |\n  'button' |\n  'link' |\n  'header' |\n  'search' |\n  'image' |\n  'selected' |\n  'plays' |\n  'key' |\n  'text' |\n  'summary' |\n  'disabled' |\n  'frequentUpdates' |\n  'startsMedia' |\n  'adjustable' |\n  'allowsDirectInteraction' |\n  'pageTurn';\n\nexport type AccessibilityComponentType =\n  'none' |\n  'button' |\n  'radiobutton_checked' |\n  'radiobutton_unchecked';\n\nmodule.exports = {\n  AccessibilityTraits: [\n    'none',\n    'button',\n    'link',\n    'header',\n    'search',\n    'image',\n    'selected',\n    'plays',\n    'key',\n    'text',\n    'summary',\n    'disabled',\n    'frequentUpdates',\n    'startsMedia',\n    'adjustable',\n    'allowsDirectInteraction',\n    'pageTurn',\n  ],\n  AccessibilityComponentTypes: [\n    'none',\n    'button',\n    'radiobutton_checked',\n    'radiobutton_unchecked',\n  ],\n};\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule TVViewPropTypes\n * @flow\n */\n'use strict';\nvar PropTypes = require('React').PropTypes;\n\n/**\n * Additional View properties for Apple TV\n */\nvar TVViewPropTypes = {\n    /**\n     * *(Apple TV only)* When set to true, this view will be focusable\n     * and navigable using the Apple TV remote.\n     *\n     * @platform ios\n     */\n    isTVSelectable: PropTypes.bool,\n\n    /**\n     * *(Apple TV only)* May be set to true to force the Apple TV focus engine to move focus to this view.\n     *\n     * @platform ios\n     */\n    hasTVPreferredFocus: PropTypes.bool,\n\n    /**\n     * *(Apple TV only)* Object with properties to control Apple TV parallax effects.\n     *\n     * enabled: If true, parallax effects are enabled.  Defaults to true.\n     * shiftDistanceX: Defaults to 2.0.\n     * shiftDistanceY: Defaults to 2.0.\n     * tiltAngle: Defaults to 0.05.\n     * magnification: Defaults to 1.0.\n     *\n     * @platform ios\n     */\n    tvParallaxProperties: PropTypes.object,\n\n    /**\n     * *(Apple TV only)* May be used to change the appearance of the Apple TV parallax effect when this view goes in or out of focus.  Defaults to 2.0.\n     *\n     * @platform ios\n     */\n    tvParallaxShiftDistanceX: PropTypes.number,\n\n    /**\n     * *(Apple TV only)* May be used to change the appearance of the Apple TV parallax effect when this view goes in or out of focus.  Defaults to 2.0.\n     *\n     * @platform ios\n     */\n    tvParallaxShiftDistanceY: PropTypes.number,\n\n    /**\n     * *(Apple TV only)* May be used to change the appearance of the Apple TV parallax effect when this view goes in or out of focus.  Defaults to 0.05.\n     *\n     * @platform ios\n     */\n    tvParallaxTiltAngle: PropTypes.number,\n\n    /**\n     * *(Apple TV only)* May be used to change the appearance of the Apple TV parallax effect when this view goes in or out of focus.  Defaults to 1.0.\n     *\n     * @platform ios\n     */\n    tvParallaxMagnification: PropTypes.number,\n\n};\n\nmodule.exports = TVViewPropTypes;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule requireNativeComponent\n * @flow\n */\n'use strict';\n\nconst ReactNativeStyleAttributes = require('ReactNativeStyleAttributes');\nconst UIManager = require('UIManager');\nconst UnimplementedView = require('UnimplementedView');\n\nconst createReactNativeComponentClass = require('createReactNativeComponentClass');\nconst insetsDiffer = require('insetsDiffer');\nconst matricesDiffer = require('matricesDiffer');\nconst pointsDiffer = require('pointsDiffer');\nconst processColor = require('processColor');\nconst resolveAssetSource = require('resolveAssetSource');\nconst sizesDiffer = require('sizesDiffer');\nconst verifyPropTypes = require('verifyPropTypes');\nconst warning = require('fbjs/lib/warning');\n\n/**\n * Used to create React components that directly wrap native component\n * implementations.  Config information is extracted from data exported from the\n * UIManager module.  You should also wrap the native component in a\n * hand-written component with full propTypes definitions and other\n * documentation - pass the hand-written component in as `componentInterface` to\n * verify all the native props are documented via `propTypes`.\n *\n * If some native props shouldn't be exposed in the wrapper interface, you can\n * pass null for `componentInterface` and call `verifyPropTypes` directly\n * with `nativePropsToIgnore`;\n *\n * Common types are lined up with the appropriate prop differs with\n * `TypeToDifferMap`.  Non-scalar types not in the map default to `deepDiffer`.\n */\nimport type { ComponentInterface } from 'verifyPropTypes';\n\nfunction requireNativeComponent(\n  viewName: string,\n  componentInterface?: ?ComponentInterface,\n  extraConfig?: ?{nativeOnly?: Object},\n): Function {\n  const viewConfig = UIManager[viewName];\n  if (!viewConfig || !viewConfig.NativeProps) {\n    warning(false, 'Native component for \"%s\" does not exist', viewName);\n    return UnimplementedView;\n  }\n\n  viewConfig.uiViewClassName = viewName;\n  viewConfig.validAttributes = {};\n  viewConfig.propTypes = componentInterface && componentInterface.propTypes;\n\n  // The ViewConfig doesn't contain any props inherited from the view manager's\n  // superclass, so we manually merge in the RCTView ones. Other inheritance\n  // patterns are currenty not supported.\n  const nativeProps = {\n    ...UIManager.RCTView.NativeProps,\n    ...viewConfig.NativeProps,\n  };\n  for (const key in nativeProps) {\n    let useAttribute = false;\n    const attribute = {};\n\n    const differ = TypeToDifferMap[nativeProps[key]];\n    if (differ) {\n      attribute.diff = differ;\n      useAttribute = true;\n    }\n\n    const processor = TypeToProcessorMap[nativeProps[key]];\n    if (processor) {\n      attribute.process = processor;\n      useAttribute = true;\n    }\n\n    viewConfig.validAttributes[key] = useAttribute ? attribute : true;\n  }\n\n  // Unfortunately, the current set up puts the style properties on the top\n  // level props object. We also need to add the nested form for API\n  // compatibility. This allows these props on both the top level and the\n  // nested style level. TODO: Move these to nested declarations on the\n  // native side.\n  viewConfig.validAttributes.style = ReactNativeStyleAttributes;\n\n  if (__DEV__) {\n    componentInterface && verifyPropTypes(\n      componentInterface,\n      viewConfig,\n      extraConfig && extraConfig.nativeOnly\n    );\n  }\n\n  return createReactNativeComponentClass(viewConfig);\n}\n\nconst TypeToDifferMap = {\n  // iOS Types\n  CATransform3D: matricesDiffer,\n  CGPoint: pointsDiffer,\n  CGSize: sizesDiffer,\n  UIEdgeInsets: insetsDiffer,\n  // Android Types\n  // (not yet implemented)\n};\n\nfunction processColorArray(colors: ?Array<any>): ?Array<?number> {\n  return colors && colors.map(processColor);\n}\n\nconst TypeToProcessorMap = {\n  // iOS Types\n  CGColor: processColor,\n  CGColorArray: processColorArray,\n  UIColor: processColor,\n  UIColorArray: processColorArray,\n  CGImage: resolveAssetSource,\n  UIImage: resolveAssetSource,\n  RCTImageSource: resolveAssetSource,\n  // Android Types\n  Color: processColor,\n  ColorArray: processColorArray,\n};\n\nmodule.exports = requireNativeComponent;\n","/**\n * Common implementation for a simple stubbed view. Simply applies the view's styles to the inner\n * View component and renders its children.\n *\n * @providesModule UnimplementedView\n */\n\n'use strict';\n\nvar React = require('React');\nvar StyleSheet = require('StyleSheet');\n\nclass UnimplementedView extends React.Component {\n  setNativeProps = () => {\n    // Do nothing.\n    // This method is required in order to use this view as a Touchable* child.\n    // See ensureComponentIsNative.js for more info\n  };\n\n  render() {\n    // Workaround require cycle from requireNativeComponent\n    var View = require('View');\n    return (\n      <View style={[styles.unimplementedView, this.props.style]}>\n        {this.props.children}\n      </View>\n    );\n  }\n}\n\nvar styles = StyleSheet.create({\n  unimplementedView: {\n    borderWidth: 1,\n    borderColor: 'red',\n    alignSelf: 'flex-start',\n  }\n});\n\nmodule.exports = UnimplementedView;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule StyleSheet\n * @flow\n */\n'use strict';\n\nvar PixelRatio = require('PixelRatio');\nvar ReactNativePropRegistry = require('ReactNativePropRegistry');\nvar ReactNativeStyleAttributes = require('ReactNativeStyleAttributes');\nvar StyleSheetValidation = require('StyleSheetValidation');\n\nvar flatten = require('flattenStyle');\n\nexport type Styles = {[key: string]: Object};\nexport type StyleSheet<S: Styles> = {[key: $Keys<S>]: number};\n\nvar hairlineWidth = PixelRatio.roundToNearestPixel(0.4);\nif (hairlineWidth === 0) {\n  hairlineWidth = 1 / PixelRatio.get();\n}\n\nconst absoluteFillObject = {\n  position: 'absolute',\n  left: 0,\n  right: 0,\n  top: 0,\n  bottom: 0,\n};\nconst absoluteFill = ReactNativePropRegistry.register(absoluteFillObject); // This also freezes it\n\n/**\n * A StyleSheet is an abstraction similar to CSS StyleSheets\n *\n * Create a new StyleSheet:\n *\n * ```\n * var styles = StyleSheet.create({\n *   container: {\n *     borderRadius: 4,\n *     borderWidth: 0.5,\n *     borderColor: '#d6d7da',\n *   },\n *   title: {\n *     fontSize: 19,\n *     fontWeight: 'bold',\n *   },\n *   activeTitle: {\n *     color: 'red',\n *   },\n * });\n * ```\n *\n * Use a StyleSheet:\n *\n * ```\n * <View style={styles.container}>\n *   <Text style={[styles.title, this.props.isActive && styles.activeTitle]} />\n * </View>\n * ```\n *\n * Code quality:\n *\n *  - By moving styles away from the render function, you're making the code\n *  easier to understand.\n *  - Naming the styles is a good way to add meaning to the low level components\n *  in the render function.\n *\n * Performance:\n *\n *  - Making a stylesheet from a style object makes it possible to refer to it\n * by ID instead of creating a new style object every time.\n *  - It also allows to send the style only once through the bridge. All\n * subsequent uses are going to refer an id (not implemented yet).\n */\nmodule.exports = {\n  /**\n   * This is defined as the width of a thin line on the platform. It can be\n   * used as the thickness of a border or division between two elements.\n   * Example:\n   * ```\n   *   {\n   *     borderBottomColor: '#bbb',\n   *     borderBottomWidth: StyleSheet.hairlineWidth\n   *   }\n   * ```\n   *\n   * This constant will always be a round number of pixels (so a line defined\n   * by it look crisp) and will try to match the standard width of a thin line\n   * on the underlying platform. However, you should not rely on it being a\n   * constant size, because on different platforms and screen densities its\n   * value may be calculated differently.\n   *\n   * A line with hairline width may not be visible if your simulator is downscaled.\n   */\n  hairlineWidth,\n\n  /**\n   * A very common pattern is to create overlays with position absolute and zero positioning,\n   * so `absoluteFill` can be used for convenience and to reduce duplication of these repeated\n   * styles.\n   */\n  absoluteFill,\n\n  /**\n   * Sometimes you may want `absoluteFill` but with a couple tweaks - `absoluteFillObject` can be\n   * used to create a customized entry in a `StyleSheet`, e.g.:\n   *\n   *   const styles = StyleSheet.create({\n   *     wrapper: {\n   *       ...StyleSheet.absoluteFillObject,\n   *       top: 10,\n   *       backgroundColor: 'transparent',\n   *     },\n   *   });\n   */\n  absoluteFillObject,\n\n  /**\n   * Flattens an array of style objects, into one aggregated style object.\n   * Alternatively, this method can be used to lookup IDs, returned by\n   * StyleSheet.register.\n   *\n   * > **NOTE**: Exercise caution as abusing this can tax you in terms of\n   * > optimizations.\n   * >\n   * > IDs enable optimizations through the bridge and memory in general. Refering\n   * > to style objects directly will deprive you of these optimizations.\n   *\n   * Example:\n   * ```\n   * var styles = StyleSheet.create({\n   *   listItem: {\n   *     flex: 1,\n   *     fontSize: 16,\n   *     color: 'white'\n   *   },\n   *   selectedListItem: {\n   *     color: 'green'\n   *   }\n   * });\n   *\n   * StyleSheet.flatten([styles.listItem, styles.selectedListItem])\n   * // returns { flex: 1, fontSize: 16, color: 'green' }\n   * ```\n   * Alternative use:\n   * ```\n   * StyleSheet.flatten(styles.listItem);\n   * // return { flex: 1, fontSize: 16, color: 'white' }\n   * // Simply styles.listItem would return its ID (number)\n   * ```\n   * This method internally uses `StyleSheetRegistry.getStyleByID(style)`\n   * to resolve style objects represented by IDs. Thus, an array of style\n   * objects (instances of StyleSheet.create), are individually resolved to,\n   * their respective objects, merged as one and then returned. This also explains\n   * the alternative use.\n   */\n  flatten,\n\n  /**\n   * WARNING: EXPERIMENTAL. Breaking changes will probably happen a lot and will\n   * not be reliably announced. The whole thing might be deleted, who knows? Use\n   * at your own risk.\n   *\n   * Sets a function to use to pre-process a style property value. This is used\n   * internally to process color and transform values. You should not use this\n   * unless you really know what you are doing and have exhausted other options.\n   */\n  setStyleAttributePreprocessor(property: string, process: (nextProp: mixed) => mixed) {\n    let value;\n\n    if (typeof ReactNativeStyleAttributes[property] === 'string') {\n      value = {};\n    } else if (typeof ReactNativeStyleAttributes[property] === 'object') {\n      value = ReactNativeStyleAttributes[property];\n    } else {\n      console.error(`${property} is not a valid style attribute`);\n      return;\n    }\n\n    if (__DEV__ && typeof value.process === 'function') {\n      console.warn(`Overwriting ${property} style attribute preprocessor`);\n    }\n\n    ReactNativeStyleAttributes[property] = { ...value, process };\n  },\n\n  /**\n   * Creates a StyleSheet style reference from the given object.\n   */\n  create<S: Styles>(obj: S): StyleSheet<S> {\n    const result: StyleSheet<S> = {};\n    for (var key in obj) {\n      StyleSheetValidation.validateStyle(key, obj);\n      result[key] = ReactNativePropRegistry.register(obj[key]);\n    }\n    return result;\n  },\n};\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule PixelRatio\n * @flow\n */\n'use strict';\n\nvar Dimensions = require('Dimensions');\n\n/**\n * PixelRatio class gives access to the device pixel density.\n *\n * ### Fetching a correctly sized image\n *\n * You should get a higher resolution image if you are on a high pixel density\n * device. A good rule of thumb is to multiply the size of the image you display\n * by the pixel ratio.\n *\n * ```\n * var image = getImage({\n *   width: PixelRatio.getPixelSizeForLayoutSize(200),\n *   height: PixelRatio.getPixelSizeForLayoutSize(100),\n * });\n * <Image source={image} style={{width: 200, height: 100}} />\n * ```\n */\nclass PixelRatio {\n  /**\n   * Returns the device pixel density. Some examples:\n   *\n   *   - PixelRatio.get() === 1\n   *     - mdpi Android devices (160 dpi)\n   *   - PixelRatio.get() === 1.5\n   *     - hdpi Android devices (240 dpi)\n   *   - PixelRatio.get() === 2\n   *     - iPhone 4, 4S\n   *     - iPhone 5, 5c, 5s\n   *     - iPhone 6\n   *     - xhdpi Android devices (320 dpi)\n   *   - PixelRatio.get() === 3\n   *     - iPhone 6 plus\n   *     - xxhdpi Android devices (480 dpi)\n   *   - PixelRatio.get() === 3.5\n   *     - Nexus 6\n   */\n  static get(): number {\n    return Dimensions.get('window').scale;\n  }\n\n  /**\n   * Returns the scaling factor for font sizes. This is the ratio that is used to calculate the\n   * absolute font size, so any elements that heavily depend on that should use this to do\n   * calculations.\n   *\n   * If a font scale is not set, this returns the device pixel ratio.\n   *\n   * Currently this is only implemented on Android and reflects the user preference set in\n   * Settings > Display > Font size, on iOS it will always return the default pixel ratio.\n   * @platform android\n   */\n  static getFontScale(): number {\n    return Dimensions.get('window').fontScale || PixelRatio.get();\n  }\n\n  /**\n   * Converts a layout size (dp) to pixel size (px).\n   *\n   * Guaranteed to return an integer number.\n   */\n  static getPixelSizeForLayoutSize(layoutSize: number): number {\n    return Math.round(layoutSize * PixelRatio.get());\n  }\n\n  /**\n   * Rounds a layout size (dp) to the nearest layout size that corresponds to\n   * an integer number of pixels. For example, on a device with a PixelRatio\n   * of 3, `PixelRatio.roundToNearestPixel(8.4) = 8.33`, which corresponds to\n   * exactly (8.33 * 3) = 25 pixels.\n   */\n  static roundToNearestPixel(layoutSize: number): number {\n    var ratio = PixelRatio.get();\n    return Math.round(layoutSize * ratio) / ratio;\n  }\n\n  // No-op for iOS, but used on the web. Should not be documented.\n  static startDetecting() {}\n}\n\nmodule.exports = PixelRatio;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule Dimensions\n * @flow\n */\n'use strict';\n\nvar EventEmitter = require('EventEmitter');\nvar Platform = require('Platform');\nvar UIManager = require('UIManager');\nvar RCTDeviceEventEmitter = require('RCTDeviceEventEmitter');\n\nvar invariant = require('fbjs/lib/invariant');\n\nvar eventEmitter = new EventEmitter();\nvar dimensionsInitialized = false;\nvar dimensions = {};\nclass Dimensions {\n  /**\n   * This should only be called from native code by sending the\n   * didUpdateDimensions event.\n   *\n   * @param {object} dims Simple string-keyed object of dimensions to set\n   */\n  static set(dims: {[key:string]: any}): void {\n    // We calculate the window dimensions in JS so that we don't encounter loss of\n    // precision in transferring the dimensions (which could be non-integers) over\n    // the bridge.\n    if (dims && dims.windowPhysicalPixels) {\n      // parse/stringify => Clone hack\n      dims = JSON.parse(JSON.stringify(dims));\n\n      var windowPhysicalPixels = dims.windowPhysicalPixels;\n      dims.window = {\n        width: windowPhysicalPixels.width / windowPhysicalPixels.scale,\n        height: windowPhysicalPixels.height / windowPhysicalPixels.scale,\n        scale: windowPhysicalPixels.scale,\n        fontScale: windowPhysicalPixels.fontScale,\n      };\n      if (Platform.OS === 'android') {\n        // Screen and window dimensions are different on android\n        var screenPhysicalPixels = dims.screenPhysicalPixels;\n        dims.screen = {\n          width: screenPhysicalPixels.width / screenPhysicalPixels.scale,\n          height: screenPhysicalPixels.height / screenPhysicalPixels.scale,\n          scale: screenPhysicalPixels.scale,\n          fontScale: screenPhysicalPixels.fontScale,\n        };\n\n        // delete so no callers rely on this existing\n        delete dims.screenPhysicalPixels;\n      } else {\n        dims.screen = dims.window;\n      }\n      // delete so no callers rely on this existing\n      delete dims.windowPhysicalPixels;\n    }\n\n    Object.assign(dimensions, dims);\n    if (dimensionsInitialized) {\n      // Don't fire 'change' the first time the dimensions are set.\n      eventEmitter.emit('change', {\n        window: dimensions.window,\n        screen: dimensions.screen\n      });\n    } else {\n      dimensionsInitialized = true;\n    }\n  }\n\n  /**\n   * Initial dimensions are set before `runApplication` is called so they should\n   * be available before any other require's are run, but may be updated later.\n   *\n   * Note: Although dimensions are available immediately, they may change (e.g\n   * due to device rotation) so any rendering logic or styles that depend on\n   * these constants should try to call this function on every render, rather\n   * than caching the value (for example, using inline styles rather than\n   * setting a value in a `StyleSheet`).\n   *\n   * Example: `var {height, width} = Dimensions.get('window');`\n   *\n   * @param {string} dim Name of dimension as defined when calling `set`.\n   * @returns {Object?} Value for the dimension.\n   */\n  static get(dim: string): Object {\n    invariant(dimensions[dim], 'No dimension set for key ' + dim);\n    return dimensions[dim];\n  }\n\n  /**\n   * Add an event handler. Supported events:\n   *\n   * - `change`: Fires when a property within the `Dimensions` object changes. The argument\n   *   to the event handler is an object with `window` and `screen` properties whose values\n   *   are the same as the return values of `Dimensions.get('window')` and\n   *   `Dimensions.get('screen')`, respectively.\n   */\n  static addEventListener(\n    type: string,\n    handler: Function\n  ) {\n    invariant(\n      'change' === type,\n      'Trying to subscribe to unknown event: \"%s\"', type\n    );\n    eventEmitter.addListener(type, handler);\n  }\n\n  /**\n   * Remove an event handler.\n   */\n  static removeEventListener(\n    type: string,\n    handler: Function\n  ) {\n    invariant(\n      'change' === type,\n      'Trying to remove listener for unknown event: \"%s\"', type\n    );\n    eventEmitter.removeListener(type, handler);\n  }\n}\n\nDimensions.set(UIManager.Dimensions);\nRCTDeviceEventEmitter.addListener('didUpdateDimensions', function(update) {\n  Dimensions.set(update);\n});\n\nmodule.exports = Dimensions;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule StyleSheetValidation\n * @flow\n */\n'use strict';\n\nvar ImageStylePropTypes = require('ImageStylePropTypes');\nvar TextStylePropTypes = require('TextStylePropTypes');\nvar ViewStylePropTypes = require('ViewStylePropTypes');\n\nvar invariant = require('fbjs/lib/invariant');\n\n// Hardcoded because this is a legit case but we don't want to load it from\n// a private API. We might likely want to unify style sheet creation with how it\n// is done in the DOM so this might move into React. I know what I'm doing so\n// plz don't fire me.\nconst ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nclass StyleSheetValidation {\n  static validateStyleProp(prop, style, caller) {\n    if (!__DEV__) {\n      return;\n    }\n    if (allStylePropTypes[prop] === undefined) {\n      var message1 = '\"' + prop + '\" is not a valid style property.';\n      var message2 = '\\nValid style props: ' +\n        JSON.stringify(Object.keys(allStylePropTypes).sort(), null, '  ');\n      styleError(message1, style, caller, message2);\n    }\n    var error = allStylePropTypes[prop](\n      style,\n      prop,\n      caller,\n      'prop',\n      null,\n      ReactPropTypesSecret,\n    );\n    if (error) {\n      styleError(error.message, style, caller);\n    }\n  }\n\n  static validateStyle(name, styles) {\n    if (!__DEV__) {\n      return;\n    }\n    for (var prop in styles[name]) {\n      StyleSheetValidation.validateStyleProp(prop, styles[name], 'StyleSheet ' + name);\n    }\n  }\n\n  static addValidStylePropTypes(stylePropTypes) {\n    for (var key in stylePropTypes) {\n      allStylePropTypes[key] = stylePropTypes[key];\n    }\n  }\n}\n\nvar styleError = function(message1, style, caller?, message2?) {\n  invariant(\n    false,\n    message1 + '\\n' + (caller || '<<unknown>>') + ': ' +\n    JSON.stringify(style, null, '  ') + (message2 || '')\n  );\n};\n\nvar allStylePropTypes = {};\n\nStyleSheetValidation.addValidStylePropTypes(ImageStylePropTypes);\nStyleSheetValidation.addValidStylePropTypes(TextStylePropTypes);\nStyleSheetValidation.addValidStylePropTypes(ViewStylePropTypes);\n\nmodule.exports = StyleSheetValidation;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule createReactNativeComponentClass\n * @flow\n */\n\n'use strict';\n\nconst ReactNativeBaseComponent = require('ReactNativeBaseComponent');\nconst ReactNativeViewConfigRegistry = require('ReactNativeViewConfigRegistry');\nconst ReactNativeFeatureFlags = require('ReactNativeFeatureFlags');\n\n// See also ReactNativeBaseComponent\ntype ReactNativeBaseComponentViewConfig = {\n  validAttributes: Object,\n  uiViewClassName: string,\n  propTypes?: Object,\n};\n\n/**\n * @param {string} config iOS View configuration.\n * @private\n */\n const createReactNativeFiberComponentClass = function(\n   viewConfig: ReactNativeBaseComponentViewConfig\n ): ReactClass<any> {\n   // TODO(sema): This actually returns a string. Need to fix this before\n   // we deploy Fiber.\n   return (ReactNativeViewConfigRegistry.register(viewConfig) : any);\n };\n \n/**\n * @param {string} config iOS View configuration.\n * @private\n */\nconst createReactNativeComponentClass = function(\n  viewConfig: ReactNativeBaseComponentViewConfig\n): ReactClass<any> {\n  const Constructor = function(element) {\n    this._currentElement = element;\n    this._topLevelWrapper = null;\n    this._hostParent = null;\n    this._hostContainerInfo = null;\n    this._rootNodeID = 0;\n    this._renderedChildren = null;\n  };\n  Constructor.displayName = viewConfig.uiViewClassName;\n  Constructor.viewConfig = viewConfig;\n  Constructor.propTypes = viewConfig.propTypes;\n  Constructor.prototype = new ReactNativeBaseComponent(viewConfig);\n  Constructor.prototype.constructor = Constructor;\n\n  return ((Constructor: any): ReactClass<any>);\n};\n\nmodule.exports = ReactNativeFeatureFlags.useFiber\n  ? createReactNativeFiberComponentClass\n  : createReactNativeComponentClass;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule ReactNativeBaseComponent\n * @flow\n */\n'use strict';\n\nvar NativeMethodsMixin = require('NativeMethodsMixin');\nvar ReactNativeAttributePayload = require('ReactNativeAttributePayload');\nvar ReactNativeComponentTree = require('ReactNativeComponentTree');\nvar ReactNativeTagHandles = require('ReactNativeTagHandles');\nvar ReactMultiChild = require('ReactMultiChild');\nvar UIManager = require('UIManager');\n\nvar deepFreezeAndThrowOnMutationInDev = require('deepFreezeAndThrowOnMutationInDev');\n\ntype ReactNativeBaseComponentViewConfig = {\n  validAttributes: Object,\n  uiViewClassName: string,\n}\n\n// require('UIManagerStatTracker').install(); // uncomment to enable\n\n/**\n * @constructor ReactNativeBaseComponent\n * @extends ReactComponent\n * @extends ReactMultiChild\n * @param {!object} UIKit View Configuration.\n */\nvar ReactNativeBaseComponent = function(\n  viewConfig: ReactNativeBaseComponentViewConfig\n) {\n  this.viewConfig = viewConfig;\n};\n\n/**\n * Mixin for containers that contain UIViews. NOTE: markup is rendered markup\n * which is a `viewID` ... see the return value for `mountComponent` !\n */\nReactNativeBaseComponent.Mixin = {\n  getPublicInstance: function() {\n    // TODO: This should probably use a composite wrapper\n    return this;\n  },\n\n  unmountComponent: function(safely, skipLifecycle) {\n    ReactNativeComponentTree.uncacheNode(this);\n    this.unmountChildren(safely, skipLifecycle);\n    this._rootNodeID = 0;\n  },\n\n  /**\n   * Every native component is responsible for allocating its own `tag`, and\n   * issuing the native `createView` command. But it is not responsible for\n   * recording the fact that its own `rootNodeID` is associated with a\n   * `nodeHandle`. Only the code that actually adds its `nodeHandle` (`tag`) as\n   * a child of a container can confidently record that in\n   * `ReactNativeTagHandles`.\n   */\n  initializeChildren: function(children, containerTag, transaction, context) {\n    var mountImages = this.mountChildren(children, transaction, context);\n    // In a well balanced tree, half of the nodes are in the bottom row and have\n    // no children - let's avoid calling out to the native bridge for a large\n    // portion of the children.\n    if (mountImages.length) {\n\n      // TODO: Pool these per platform view class. Reusing the `mountImages`\n      // array would likely be a jit deopt.\n      var createdTags = [];\n      for (var i = 0, l = mountImages.length; i < l; i++) {\n        var mountImage = mountImages[i];\n        var childTag = mountImage;\n        createdTags[i] = childTag;\n      }\n      UIManager.setChildren(containerTag, createdTags);\n    }\n  },\n\n  /**\n   * Updates the component's currently mounted representation.\n   *\n   * @param {object} nextElement\n   * @param {ReactReconcileTransaction} transaction\n   * @param {object} context\n   * @internal\n   */\n  receiveComponent: function(nextElement, transaction, context) {\n    var prevElement = this._currentElement;\n    this._currentElement = nextElement;\n\n    if (__DEV__) {\n      for (var key in this.viewConfig.validAttributes) {\n        if (nextElement.props.hasOwnProperty(key)) {\n          deepFreezeAndThrowOnMutationInDev(nextElement.props[key]);\n        }\n      }\n    }\n\n    var updatePayload = ReactNativeAttributePayload.diff(\n      prevElement.props,\n      nextElement.props,\n      this.viewConfig.validAttributes\n    );\n\n    if (updatePayload) {\n      UIManager.updateView(\n        this._rootNodeID,\n        this.viewConfig.uiViewClassName,\n        updatePayload\n      );\n    }\n\n    this.updateChildren(nextElement.props.children, transaction, context);\n  },\n\n  /**\n   * Currently this still uses IDs for reconciliation so this can return null.\n   *\n   * @return {null} Null.\n   */\n  getHostNode: function() {\n    return this._rootNodeID;\n  },\n\n  /**\n   * @param {ReactNativeReconcileTransaction} transaction\n   * @param {?ReactNativeBaseComponent} the parent component instance\n   * @param {?object} info about the host container\n   * @param {object} context\n   * @return {string} Unique iOS view tag.\n   */\n  mountComponent: function(transaction, hostParent, hostContainerInfo, context) {\n    var tag = ReactNativeTagHandles.allocateTag();\n\n    this._rootNodeID = tag;\n    this._hostParent = hostParent;\n    this._hostContainerInfo = hostContainerInfo;\n\n    if (__DEV__) {\n      for (var key in this.viewConfig.validAttributes) {\n        if (this._currentElement.props.hasOwnProperty(key)) {\n          deepFreezeAndThrowOnMutationInDev(this._currentElement.props[key]);\n        }\n      }\n    }\n\n    var updatePayload = ReactNativeAttributePayload.create(\n      this._currentElement.props,\n      this.viewConfig.validAttributes\n    );\n\n    var nativeTopRootTag = hostContainerInfo._tag;\n    UIManager.createView(\n      tag,\n      this.viewConfig.uiViewClassName,\n      nativeTopRootTag,\n      updatePayload\n    );\n\n    ReactNativeComponentTree.precacheNode(this, tag);\n\n    this.initializeChildren(\n      this._currentElement.props.children,\n      tag,\n      transaction,\n      context\n    );\n    return tag;\n  },\n};\n\n/**\n * Order of mixins is important. ReactNativeBaseComponent overrides methods in\n * ReactMultiChild.\n */\nObject.assign(\n  ReactNativeBaseComponent.prototype,\n  ReactMultiChild,\n  ReactNativeBaseComponent.Mixin,\n  NativeMethodsMixin\n);\n\nmodule.exports = ReactNativeBaseComponent;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule ReactNativeAttributePayload\n * @flow\n */\n'use strict';\n\nvar ReactNativePropRegistry = require('ReactNativePropRegistry');\n\nvar deepDiffer = require('deepDiffer');\nvar flattenStyle = require('flattenStyle');\n\nvar emptyObject = {};\n\n/**\n * Create a payload that contains all the updates between two sets of props.\n *\n * These helpers are all encapsulated into a single module, because they use\n * mutation as a performance optimization which leads to subtle shared\n * dependencies between the code paths. To avoid this mutable state leaking\n * across modules, I've kept them isolated to this module.\n */\n\ntype AttributeDiffer = (prevProp: mixed, nextProp: mixed) => boolean;\ntype AttributePreprocessor = (nextProp: mixed) => mixed;\n\ntype CustomAttributeConfiguration =\n  { diff: AttributeDiffer, process: AttributePreprocessor } |\n  { diff: AttributeDiffer } |\n  { process: AttributePreprocessor };\n\ntype AttributeConfiguration =\n  { [key: string]: (\n    CustomAttributeConfiguration | AttributeConfiguration /*| boolean*/\n  ) };\n\ntype NestedNode = Array<NestedNode> | Object | number;\n\n// Tracks removed keys\nvar removedKeys = null;\nvar removedKeyCount = 0;\n\nfunction defaultDiffer(prevProp: mixed, nextProp: mixed) : boolean {\n  if (typeof nextProp !== 'object' || nextProp === null) {\n    // Scalars have already been checked for equality\n    return true;\n  } else {\n    // For objects and arrays, the default diffing algorithm is a deep compare\n    return deepDiffer(prevProp, nextProp);\n  }\n}\n\nfunction resolveObject(idOrObject: number | Object) : Object {\n  if (typeof idOrObject === 'number') {\n    return ReactNativePropRegistry.getByID(idOrObject);\n  }\n  return idOrObject;\n}\n\nfunction restoreDeletedValuesInNestedArray(\n  updatePayload: Object,\n  node: NestedNode,\n  validAttributes: AttributeConfiguration\n) {\n  if (Array.isArray(node)) {\n    var i = node.length;\n    while (i-- && removedKeyCount > 0) {\n      restoreDeletedValuesInNestedArray(\n        updatePayload,\n        node[i],\n        validAttributes\n      );\n    }\n  } else if (node && removedKeyCount > 0) {\n    var obj = resolveObject(node);\n    for (var propKey in removedKeys) {\n      if (!removedKeys[propKey]) {\n        continue;\n      }\n      var nextProp = obj[propKey];\n      if (nextProp === undefined) {\n        continue;\n      }\n\n      var attributeConfig = validAttributes[propKey];\n      if (!attributeConfig) {\n        continue; // not a valid native prop\n      }\n\n      if (typeof nextProp === 'function') {\n        nextProp = true;\n      }\n      if (typeof nextProp === 'undefined') {\n        nextProp = null;\n      }\n\n      if (typeof attributeConfig !== 'object') {\n        // case: !Object is the default case\n        updatePayload[propKey] = nextProp;\n      } else if (typeof attributeConfig.diff === 'function' ||\n                 typeof attributeConfig.process === 'function') {\n        // case: CustomAttributeConfiguration\n        var nextValue = typeof attributeConfig.process === 'function' ?\n                        attributeConfig.process(nextProp) :\n                        nextProp;\n        updatePayload[propKey] = nextValue;\n      }\n      removedKeys[propKey] = false;\n      removedKeyCount--;\n    }\n  }\n}\n\nfunction diffNestedArrayProperty(\n  updatePayload:? Object,\n  prevArray: Array<NestedNode>,\n  nextArray: Array<NestedNode>,\n  validAttributes: AttributeConfiguration\n) : ?Object {\n  var minLength = prevArray.length < nextArray.length ?\n                  prevArray.length :\n                  nextArray.length;\n  var i;\n  for (i = 0; i < minLength; i++) {\n    // Diff any items in the array in the forward direction. Repeated keys\n    // will be overwritten by later values.\n    updatePayload = diffNestedProperty(\n      updatePayload,\n      prevArray[i],\n      nextArray[i],\n      validAttributes\n    );\n  }\n  for (; i < prevArray.length; i++) {\n    // Clear out all remaining properties.\n    updatePayload = clearNestedProperty(\n      updatePayload,\n      prevArray[i],\n      validAttributes\n    );\n  }\n  for (; i < nextArray.length; i++) {\n    // Add all remaining properties.\n    updatePayload = addNestedProperty(\n      updatePayload,\n      nextArray[i],\n      validAttributes\n    );\n  }\n  return updatePayload;\n}\n\nfunction diffNestedProperty(\n  updatePayload:? Object,\n  prevProp: NestedNode,\n  nextProp: NestedNode,\n  validAttributes: AttributeConfiguration\n) : ?Object {\n\n  if (!updatePayload && prevProp === nextProp) {\n    // If no properties have been added, then we can bail out quickly on object\n    // equality.\n    return updatePayload;\n  }\n\n  if (!prevProp || !nextProp) {\n    if (nextProp) {\n      return addNestedProperty(\n        updatePayload,\n        nextProp,\n        validAttributes\n      );\n    }\n    if (prevProp) {\n      return clearNestedProperty(\n        updatePayload,\n        prevProp,\n        validAttributes\n      );\n    }\n    return updatePayload;\n  }\n\n  if (!Array.isArray(prevProp) && !Array.isArray(nextProp)) {\n    // Both are leaves, we can diff the leaves.\n    return diffProperties(\n      updatePayload,\n      resolveObject(prevProp),\n      resolveObject(nextProp),\n      validAttributes\n    );\n  }\n\n  if (Array.isArray(prevProp) && Array.isArray(nextProp)) {\n    // Both are arrays, we can diff the arrays.\n    return diffNestedArrayProperty(\n      updatePayload,\n      prevProp,\n      nextProp,\n      validAttributes\n    );\n  }\n\n  if (Array.isArray(prevProp)) {\n    return diffProperties(\n      updatePayload,\n      // $FlowFixMe - We know that this is always an object when the input is.\n      flattenStyle(prevProp),\n      // $FlowFixMe - We know that this isn't an array because of above flow.\n      resolveObject(nextProp),\n      validAttributes\n    );\n  }\n\n  return diffProperties(\n    updatePayload,\n    resolveObject(prevProp),\n      // $FlowFixMe - We know that this is always an object when the input is.\n    flattenStyle(nextProp),\n    validAttributes\n  );\n}\n\n/**\n * addNestedProperty takes a single set of props and valid attribute\n * attribute configurations. It processes each prop and adds it to the\n * updatePayload.\n */\nfunction addNestedProperty(\n  updatePayload:? Object,\n  nextProp: NestedNode,\n  validAttributes: AttributeConfiguration\n) {\n  if (!nextProp) {\n    return updatePayload;\n  }\n\n  if (!Array.isArray(nextProp)) {\n    // Add each property of the leaf.\n    return addProperties(\n      updatePayload,\n      resolveObject(nextProp),\n      validAttributes\n    );\n  }\n\n  for (var i = 0; i < nextProp.length; i++) {\n    // Add all the properties of the array.\n    updatePayload = addNestedProperty(\n      updatePayload,\n      nextProp[i],\n      validAttributes\n    );\n  }\n\n  return updatePayload;\n}\n\n/**\n * clearNestedProperty takes a single set of props and valid attributes. It\n * adds a null sentinel to the updatePayload, for each prop key.\n */\nfunction clearNestedProperty(\n  updatePayload:? Object,\n  prevProp: NestedNode,\n  validAttributes: AttributeConfiguration\n) : ?Object {\n  if (!prevProp) {\n    return updatePayload;\n  }\n\n  if (!Array.isArray(prevProp)) {\n    // Add each property of the leaf.\n    return clearProperties(\n      updatePayload,\n      resolveObject(prevProp),\n      validAttributes\n    );\n  }\n\n  for (var i = 0; i < prevProp.length; i++) {\n    // Add all the properties of the array.\n    updatePayload = clearNestedProperty(\n      updatePayload,\n      prevProp[i],\n      validAttributes\n    );\n  }\n  return updatePayload;\n}\n\n/**\n * diffProperties takes two sets of props and a set of valid attributes\n * and write to updatePayload the values that changed or were deleted.\n * If no updatePayload is provided, a new one is created and returned if\n * anything changed.\n */\nfunction diffProperties(\n  updatePayload: ?Object,\n  prevProps: Object,\n  nextProps: Object,\n  validAttributes: AttributeConfiguration\n): ?Object {\n  var attributeConfig : ?(CustomAttributeConfiguration | AttributeConfiguration);\n  var nextProp;\n  var prevProp;\n\n  for (var propKey in nextProps) {\n    attributeConfig = validAttributes[propKey];\n    if (!attributeConfig) {\n      continue; // not a valid native prop\n    }\n\n    prevProp = prevProps[propKey];\n    nextProp = nextProps[propKey];\n\n    // functions are converted to booleans as markers that the associated\n    // events should be sent from native.\n    if (typeof nextProp === 'function') {\n      nextProp = (true : any);\n      // If nextProp is not a function, then don't bother changing prevProp\n      // since nextProp will win and go into the updatePayload regardless.\n      if (typeof prevProp === 'function') {\n        prevProp = (true : any);\n      }\n    }\n\n    // An explicit value of undefined is treated as a null because it overrides\n    // any other preceding value.\n    if (typeof nextProp === 'undefined') {\n      nextProp = (null : any);\n      if (typeof prevProp === 'undefined') {\n        prevProp = (null : any);\n      }\n    }\n\n    if (removedKeys) {\n      removedKeys[propKey] = false;\n    }\n\n    if (updatePayload && updatePayload[propKey] !== undefined) {\n      // Something else already triggered an update to this key because another\n      // value diffed. Since we're now later in the nested arrays our value is\n      // more important so we need to calculate it and override the existing\n      // value. It doesn't matter if nothing changed, we'll set it anyway.\n\n      // Pattern match on: attributeConfig\n      if (typeof attributeConfig !== 'object') {\n        // case: !Object is the default case\n        updatePayload[propKey] = nextProp;\n      } else if (typeof attributeConfig.diff === 'function' ||\n                 typeof attributeConfig.process === 'function') {\n        // case: CustomAttributeConfiguration\n        var nextValue = typeof attributeConfig.process === 'function' ?\n                        attributeConfig.process(nextProp) :\n                        nextProp;\n        updatePayload[propKey] = nextValue;\n      }\n      continue;\n    }\n\n    if (prevProp === nextProp) {\n      continue; // nothing changed\n    }\n\n    // Pattern match on: attributeConfig\n    if (typeof attributeConfig !== 'object') {\n      // case: !Object is the default case\n      if (defaultDiffer(prevProp, nextProp)) {\n        // a normal leaf has changed\n        (updatePayload || (updatePayload = {}))[propKey] = nextProp;\n      }\n    } else if (typeof attributeConfig.diff === 'function' ||\n               typeof attributeConfig.process === 'function') {\n      // case: CustomAttributeConfiguration\n      var shouldUpdate = prevProp === undefined || (\n        typeof attributeConfig.diff === 'function' ?\n        attributeConfig.diff(prevProp, nextProp) :\n        defaultDiffer(prevProp, nextProp)\n      );\n      if (shouldUpdate) {\n        nextValue = typeof attributeConfig.process === 'function' ?\n                    attributeConfig.process(nextProp) :\n                    nextProp;\n        (updatePayload || (updatePayload = {}))[propKey] = nextValue;\n      }\n    } else {\n      // default: fallthrough case when nested properties are defined\n      removedKeys = null;\n      removedKeyCount = 0;\n      // We think that attributeConfig is not CustomAttributeConfiguration at\n      // this point so we assume it must be AttributeConfiguration.\n      updatePayload = diffNestedProperty(\n        updatePayload,\n        prevProp,\n        nextProp,\n        ((attributeConfig : any) : AttributeConfiguration)\n      );\n      if (removedKeyCount > 0 && updatePayload) {\n        restoreDeletedValuesInNestedArray(\n          updatePayload,\n          nextProp,\n          ((attributeConfig : any) : AttributeConfiguration)\n        );\n        removedKeys = null;\n      }\n    }\n  }\n\n  // Also iterate through all the previous props to catch any that have been\n  // removed and make sure native gets the signal so it can reset them to the\n  // default.\n  for (propKey in prevProps) {\n    if (nextProps[propKey] !== undefined) {\n      continue; // we've already covered this key in the previous pass\n    }\n    attributeConfig = validAttributes[propKey];\n    if (!attributeConfig) {\n      continue; // not a valid native prop\n    }\n\n    if (updatePayload && updatePayload[propKey] !== undefined) {\n      // This was already updated to a diff result earlier.\n      continue;\n    }\n\n    prevProp = prevProps[propKey];\n    if (prevProp === undefined) {\n      continue; // was already empty anyway\n    }\n    // Pattern match on: attributeConfig\n    if (typeof attributeConfig !== 'object' ||\n        typeof attributeConfig.diff === 'function' ||\n        typeof attributeConfig.process === 'function') {\n\n      // case: CustomAttributeConfiguration | !Object\n      // Flag the leaf property for removal by sending a sentinel.\n      (updatePayload || (updatePayload = {}))[propKey] = null;\n      if (!removedKeys) {\n        removedKeys = {};\n      }\n      if (!removedKeys[propKey]) {\n        removedKeys[propKey] = true;\n        removedKeyCount++;\n      }\n    } else {\n      // default:\n      // This is a nested attribute configuration where all the properties\n      // were removed so we need to go through and clear out all of them.\n      updatePayload = clearNestedProperty(\n        updatePayload,\n        prevProp,\n        ((attributeConfig : any) : AttributeConfiguration)\n      );\n    }\n  }\n  return updatePayload;\n}\n\n/**\n * addProperties adds all the valid props to the payload after being processed.\n */\nfunction addProperties(\n  updatePayload: ?Object,\n  props: Object,\n  validAttributes: AttributeConfiguration\n) : ?Object {\n  // TODO: Fast path\n  return diffProperties(updatePayload, emptyObject, props, validAttributes);\n}\n\n/**\n * clearProperties clears all the previous props by adding a null sentinel\n * to the payload for each valid key.\n */\nfunction clearProperties(\n  updatePayload: ?Object,\n  prevProps: Object,\n  validAttributes: AttributeConfiguration\n) :? Object {\n  // TODO: Fast path\n  return diffProperties(updatePayload, prevProps, emptyObject, validAttributes);\n}\n\nvar ReactNativeAttributePayload = {\n\n  create: function(\n    props: Object,\n    validAttributes: AttributeConfiguration\n  ) : ?Object {\n    return addProperties(\n      null, // updatePayload\n      props,\n      validAttributes\n    );\n  },\n\n  diff: function(\n    prevProps: Object,\n    nextProps: Object,\n    validAttributes: AttributeConfiguration\n  ) : ?Object {\n    return diffProperties(\n      null, // updatePayload\n      prevProps,\n      nextProps,\n      validAttributes\n    );\n  },\n\n};\n\nmodule.exports = ReactNativeAttributePayload;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule deepDiffer\n * @flow\n */\n'use strict';\n\n/*\n * @returns {bool} true if different, false if equal\n */\nvar deepDiffer = function(one: any, two: any): bool {\n  if (one === two) {\n    // Short circuit on identical object references instead of traversing them.\n    return false;\n  }\n  if ((typeof one === 'function') && (typeof two === 'function')) {\n    // We consider all functions equal\n    return false;\n  }\n  if ((typeof one !== 'object') || (one === null)) {\n    // Primitives can be directly compared\n    return one !== two;\n  }\n  if ((typeof two !== 'object') || (two === null)) {\n    // We know they are different because the previous case would have triggered\n    // otherwise.\n    return true;\n  }\n  if (one.constructor !== two.constructor) {\n    return true;\n  }\n  if (Array.isArray(one)) {\n    // We know two is also an array because the constructors are equal\n    var len = one.length;\n    if (two.length !== len) {\n      return true;\n    }\n    for (var ii = 0; ii < len; ii++) {\n      if (deepDiffer(one[ii], two[ii])) {\n        return true;\n      }\n    }\n  } else {\n    for (var key in one) {\n      if (deepDiffer(one[key], two[key])) {\n        return true;\n      }\n    }\n    for (var twoKey in two) {\n      // The only case we haven't checked yet is keys that are in two but aren't\n      // in one, which means they are different.\n      if (one[twoKey] === undefined && two[twoKey] !== undefined) {\n        return true;\n      }\n    }\n  }\n  return false;\n};\n\nmodule.exports = deepDiffer;\n","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule ReactMultiChild\n */\n\n'use strict';\n\nvar ReactComponentEnvironment = require('ReactComponentEnvironment');\nvar ReactInstanceMap = require('ReactInstanceMap');\nvar ReactInstrumentation = require('ReactInstrumentation');\n\nvar ReactCurrentOwner = require('react/lib/ReactCurrentOwner');\nvar ReactReconciler = require('ReactReconciler');\nvar ReactChildReconciler = require('ReactChildReconciler');\n\nvar emptyFunction = require('fbjs/lib/emptyFunction');\nvar flattenChildren = require('flattenChildren');\nvar invariant = require('fbjs/lib/invariant');\n\n/**\n * Make an update for markup to be rendered and inserted at a supplied index.\n *\n * @param {string} markup Markup that renders into an element.\n * @param {number} toIndex Destination index.\n * @private\n */\nfunction makeInsertMarkup(markup, afterNode, toIndex) {\n  // NOTE: Null values reduce hidden classes.\n  return {\n    type: 'INSERT_MARKUP',\n    content: markup,\n    fromIndex: null,\n    fromNode: null,\n    toIndex: toIndex,\n    afterNode: afterNode,\n  };\n}\n\n/**\n * Make an update for moving an existing element to another index.\n *\n * @param {number} fromIndex Source index of the existing element.\n * @param {number} toIndex Destination index of the element.\n * @private\n */\nfunction makeMove(child, afterNode, toIndex) {\n  // NOTE: Null values reduce hidden classes.\n  return {\n    type: 'MOVE_EXISTING',\n    content: null,\n    fromIndex: child._mountIndex,\n    fromNode: ReactReconciler.getHostNode(child),\n    toIndex: toIndex,\n    afterNode: afterNode,\n  };\n}\n\n/**\n * Make an update for removing an element at an index.\n *\n * @param {number} fromIndex Index of the element to remove.\n * @private\n */\nfunction makeRemove(child, node) {\n  // NOTE: Null values reduce hidden classes.\n  return {\n    type: 'REMOVE_NODE',\n    content: null,\n    fromIndex: child._mountIndex,\n    fromNode: node,\n    toIndex: null,\n    afterNode: null,\n  };\n}\n\n/**\n * Make an update for setting the markup of a node.\n *\n * @param {string} markup Markup that renders into an element.\n * @private\n */\nfunction makeSetMarkup(markup) {\n  // NOTE: Null values reduce hidden classes.\n  return {\n    type: 'SET_MARKUP',\n    content: markup,\n    fromIndex: null,\n    fromNode: null,\n    toIndex: null,\n    afterNode: null,\n  };\n}\n\n/**\n * Make an update for setting the text content.\n *\n * @param {string} textContent Text content to set.\n * @private\n */\nfunction makeTextContent(textContent) {\n  // NOTE: Null values reduce hidden classes.\n  return {\n    type: 'TEXT_CONTENT',\n    content: textContent,\n    fromIndex: null,\n    fromNode: null,\n    toIndex: null,\n    afterNode: null,\n  };\n}\n\n/**\n * Push an update, if any, onto the queue. Creates a new queue if none is\n * passed and always returns the queue. Mutative.\n */\nfunction enqueue(queue, update) {\n  if (update) {\n    queue = queue || [];\n    queue.push(update);\n  }\n  return queue;\n}\n\n/**\n * Processes any enqueued updates.\n *\n * @private\n */\nfunction processQueue(inst, updateQueue) {\n  ReactComponentEnvironment.processChildrenUpdates(\n    inst,\n    updateQueue,\n  );\n}\n\nvar setChildrenForInstrumentation = emptyFunction;\nif (__DEV__) {\n  var getDebugID = function(inst) {\n    if (!inst._debugID) {\n      // Check for ART-like instances. TODO: This is silly/gross.\n      var internal;\n      if ((internal = ReactInstanceMap.get(inst))) {\n        inst = internal;\n      }\n    }\n    return inst._debugID;\n  };\n  setChildrenForInstrumentation = function(children) {\n    var debugID = getDebugID(this);\n    // TODO: React Native empty components are also multichild.\n    // This means they still get into this method but don't have _debugID.\n    if (debugID !== 0) {\n      ReactInstrumentation.debugTool.onSetChildren(\n        debugID,\n        children ? Object.keys(children).map(key => children[key]._debugID) : []\n      );\n    }\n  };\n}\n\n/**\n * Provides common functionality for components that must reconcile multiple\n * children. This is used by `ReactDOMComponent` to mount, update, and\n * unmount child components.\n */\nvar ReactMultiChild = {\n  _reconcilerInstantiateChildren: function(nestedChildren, transaction, context) {\n    if (__DEV__) {\n      var selfDebugID = getDebugID(this);\n      if (this._currentElement) {\n        try {\n          ReactCurrentOwner.current = this._currentElement._owner;\n          return ReactChildReconciler.instantiateChildren(\n            nestedChildren, transaction, context, selfDebugID\n          );\n        } finally {\n          ReactCurrentOwner.current = null;\n        }\n      }\n    }\n    return ReactChildReconciler.instantiateChildren(\n      nestedChildren, transaction, context\n    );\n  },\n\n  _reconcilerUpdateChildren: function(\n    prevChildren,\n    nextNestedChildrenElements,\n    mountImages,\n    removedNodes,\n    transaction,\n    context\n  ) {\n    var nextChildren;\n    var selfDebugID = 0;\n    if (__DEV__) {\n      selfDebugID = getDebugID(this);\n      if (this._currentElement) {\n        try {\n          ReactCurrentOwner.current = this._currentElement._owner;\n          nextChildren = flattenChildren(nextNestedChildrenElements, selfDebugID);\n        } finally {\n          ReactCurrentOwner.current = null;\n        }\n        ReactChildReconciler.updateChildren(\n          prevChildren,\n          nextChildren,\n          mountImages,\n          removedNodes,\n          transaction,\n          this,\n          this._hostContainerInfo,\n          context,\n          selfDebugID\n        );\n        return nextChildren;\n      }\n    }\n    nextChildren = flattenChildren(nextNestedChildrenElements, selfDebugID);\n    ReactChildReconciler.updateChildren(\n      prevChildren,\n      nextChildren,\n      mountImages,\n      removedNodes,\n      transaction,\n      this,\n      this._hostContainerInfo,\n      context,\n      selfDebugID\n    );\n    return nextChildren;\n  },\n\n  /**\n   * Generates a \"mount image\" for each of the supplied children. In the case\n   * of `ReactDOMComponent`, a mount image is a string of markup.\n   *\n   * @param {?object} nestedChildren Nested child maps.\n   * @return {array} An array of mounted representations.\n   * @internal\n   */\n  mountChildren: function(nestedChildren, transaction, context) {\n    var children = this._reconcilerInstantiateChildren(\n      nestedChildren, transaction, context\n    );\n    this._renderedChildren = children;\n\n    var mountImages = [];\n    var index = 0;\n    for (var name in children) {\n      if (children.hasOwnProperty(name)) {\n        var child = children[name];\n        var selfDebugID = 0;\n        if (__DEV__) {\n          selfDebugID = getDebugID(this);\n        }\n        var mountImage = ReactReconciler.mountComponent(\n          child,\n          transaction,\n          this,\n          this._hostContainerInfo,\n          context,\n          selfDebugID\n        );\n        child._mountIndex = index++;\n        mountImages.push(mountImage);\n      }\n    }\n\n    if (__DEV__) {\n      setChildrenForInstrumentation.call(this, children);\n    }\n\n    return mountImages;\n  },\n\n  /**\n   * Replaces any rendered children with a text content string.\n   *\n   * @param {string} nextContent String of content.\n   * @internal\n   */\n  updateTextContent: function(nextContent) {\n    var prevChildren = this._renderedChildren;\n    // Remove any rendered children.\n    ReactChildReconciler.unmountChildren(\n      prevChildren,\n      false, /* safely */\n      false /* skipLifecycle */\n    );\n    for (var name in prevChildren) {\n      if (prevChildren.hasOwnProperty(name)) {\n        invariant(false, 'updateTextContent called on non-empty component.');\n      }\n    }\n    // Set new text content.\n    var updates = [makeTextContent(nextContent)];\n    processQueue(this, updates);\n  },\n\n  /**\n   * Replaces any rendered children with a markup string.\n   *\n   * @param {string} nextMarkup String of markup.\n   * @internal\n   */\n  updateMarkup: function(nextMarkup) {\n    var prevChildren = this._renderedChildren;\n    // Remove any rendered children.\n    ReactChildReconciler.unmountChildren(\n      prevChildren,\n      false, /* safely */\n      false /* skipLifecycle */\n    );\n    for (var name in prevChildren) {\n      if (prevChildren.hasOwnProperty(name)) {\n        invariant(false, 'updateTextContent called on non-empty component.');\n      }\n    }\n    var updates = [makeSetMarkup(nextMarkup)];\n    processQueue(this, updates);\n  },\n\n  /**\n   * Updates the rendered children with new children.\n   *\n   * @param {?object} nextNestedChildrenElements Nested child element maps.\n   * @param {ReactReconcileTransaction} transaction\n   * @internal\n   */\n  updateChildren: function(nextNestedChildrenElements, transaction, context) {\n    // Hook used by React ART\n    this._updateChildren(nextNestedChildrenElements, transaction, context);\n  },\n\n  /**\n   * @param {?object} nextNestedChildrenElements Nested child element maps.\n   * @param {ReactReconcileTransaction} transaction\n   * @final\n   * @protected\n   */\n  _updateChildren: function(nextNestedChildrenElements, transaction, context) {\n    var prevChildren = this._renderedChildren;\n    var removedNodes = {};\n    var mountImages = [];\n    var nextChildren = this._reconcilerUpdateChildren(\n      prevChildren,\n      nextNestedChildrenElements,\n      mountImages,\n      removedNodes,\n      transaction,\n      context\n    );\n    if (!nextChildren && !prevChildren) {\n      return;\n    }\n    var updates = null;\n    var name;\n    // `nextIndex` will increment for each child in `nextChildren`, but\n    // `lastIndex` will be the last index visited in `prevChildren`.\n    var nextIndex = 0;\n    var lastIndex = 0;\n    // `nextMountIndex` will increment for each newly mounted child.\n    var nextMountIndex = 0;\n    var lastPlacedNode = null;\n    for (name in nextChildren) {\n      if (!nextChildren.hasOwnProperty(name)) {\n        continue;\n      }\n      var prevChild = prevChildren && prevChildren[name];\n      var nextChild = nextChildren[name];\n      if (prevChild === nextChild) {\n        updates = enqueue(\n          updates,\n          this.moveChild(prevChild, lastPlacedNode, nextIndex, lastIndex)\n        );\n        lastIndex = Math.max(prevChild._mountIndex, lastIndex);\n        prevChild._mountIndex = nextIndex;\n      } else {\n        if (prevChild) {\n          // Update `lastIndex` before `_mountIndex` gets unset by unmounting.\n          lastIndex = Math.max(prevChild._mountIndex, lastIndex);\n          // The `removedNodes` loop below will actually remove the child.\n        }\n        // The child must be instantiated before it's mounted.\n        updates = enqueue(\n          updates,\n          this._mountChildAtIndex(\n            nextChild,\n            mountImages[nextMountIndex],\n            lastPlacedNode,\n            nextIndex,\n            transaction,\n            context\n          )\n        );\n        nextMountIndex++;\n      }\n      nextIndex++;\n      lastPlacedNode = ReactReconciler.getHostNode(nextChild);\n    }\n    // Remove children that are no longer present.\n    for (name in removedNodes) {\n      if (removedNodes.hasOwnProperty(name)) {\n        updates = enqueue(\n          updates,\n          this._unmountChild(prevChildren[name], removedNodes[name])\n        );\n      }\n    }\n    if (updates) {\n      processQueue(this, updates);\n    }\n    this._renderedChildren = nextChildren;\n\n    if (__DEV__) {\n      setChildrenForInstrumentation.call(this, nextChildren);\n    }\n  },\n\n  /**\n   * Unmounts all rendered children. This should be used to clean up children\n   * when this component is unmounted. It does not actually perform any\n   * backend operations.\n   *\n   * @internal\n   */\n  unmountChildren: function(safely, skipLifecycle) {\n    var renderedChildren = this._renderedChildren;\n    ReactChildReconciler.unmountChildren(\n      renderedChildren,\n      safely,\n      skipLifecycle\n    );\n    this._renderedChildren = null;\n  },\n\n  /**\n   * Moves a child component to the supplied index.\n   *\n   * @param {ReactComponent} child Component to move.\n   * @param {number} toIndex Destination index of the element.\n   * @param {number} lastIndex Last index visited of the siblings of `child`.\n   * @protected\n   */\n  moveChild: function(child, afterNode, toIndex, lastIndex) {\n    // If the index of `child` is less than `lastIndex`, then it needs to\n    // be moved. Otherwise, we do not need to move it because a child will be\n    // inserted or moved before `child`.\n    if (child._mountIndex < lastIndex) {\n      return makeMove(child, afterNode, toIndex);\n    }\n  },\n\n  /**\n   * Creates a child component.\n   *\n   * @param {ReactComponent} child Component to create.\n   * @param {string} mountImage Markup to insert.\n   * @protected\n   */\n  createChild: function(child, afterNode, mountImage) {\n    return makeInsertMarkup(mountImage, afterNode, child._mountIndex);\n  },\n\n  /**\n   * Removes a child component.\n   *\n   * @param {ReactComponent} child Child to remove.\n   * @protected\n   */\n  removeChild: function(child, node) {\n    return makeRemove(child, node);\n  },\n\n  /**\n   * Mounts a child with the supplied name.\n   *\n   * NOTE: This is part of `updateChildren` and is here for readability.\n   *\n   * @param {ReactComponent} child Component to mount.\n   * @param {string} name Name of the child.\n   * @param {number} index Index at which to insert the child.\n   * @param {ReactReconcileTransaction} transaction\n   * @private\n   */\n  _mountChildAtIndex: function(\n    child,\n    mountImage,\n    afterNode,\n    index,\n    transaction,\n    context) {\n    child._mountIndex = index;\n    return this.createChild(child, afterNode, mountImage);\n  },\n\n  /**\n   * Unmounts a rendered child.\n   *\n   * NOTE: This is part of `updateChildren` and is here for readability.\n   *\n   * @param {ReactComponent} child Component to unmount.\n   * @private\n   */\n  _unmountChild: function(child, node) {\n    var update = this.removeChild(child, node);\n    child._mountIndex = null;\n    return update;\n  },\n};\n\nmodule.exports = ReactMultiChild;\n","/**\n * Copyright 2014-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule ReactChildReconciler\n */\n\n'use strict';\n\nvar KeyEscapeUtils = require('KeyEscapeUtils');\nvar ReactFeatureFlags = require('ReactFeatureFlags');\nvar ReactReconciler = require('ReactReconciler');\n\nvar instantiateReactComponent = require('instantiateReactComponent');\nvar shouldUpdateReactComponent = require('shouldUpdateReactComponent');\nvar traverseAllChildren = require('traverseAllChildren');\nvar warning = require('fbjs/lib/warning');\n\nvar ReactComponentTreeHook;\n\nif (\n  typeof process !== 'undefined' &&\n  process.env &&\n  process.env.NODE_ENV === 'test'\n) {\n  // Temporary hack.\n  // Inline requires don't work well with Jest:\n  // https://github.com/facebook/react/issues/7240\n  // Remove the inline requires when we don't need them anymore:\n  // https://github.com/facebook/react/pull/7178\n  ReactComponentTreeHook = require('react/lib/ReactComponentTreeHook');\n}\n\nfunction instantiateChild(childInstances, child, name, selfDebugID) {\n  // We found a component instance.\n  var keyUnique = (childInstances[name] === undefined);\n  if (__DEV__) {\n    if (!ReactComponentTreeHook) {\n      ReactComponentTreeHook = require('react/lib/ReactComponentTreeHook');\n    }\n    if (!keyUnique) {\n      warning(\n        false,\n        'flattenChildren(...): Encountered two children with the same key, ' +\n        '`%s`. Child keys must be unique; when two children share a key, only ' +\n        'the first child will be used.%s',\n        KeyEscapeUtils.unescape(name),\n        ReactComponentTreeHook.getStackAddendumByID(selfDebugID)\n      );\n    }\n  }\n  if (child != null && keyUnique) {\n    childInstances[name] = instantiateReactComponent(child, true);\n  }\n}\n\n/**\n * ReactChildReconciler provides helpers for initializing or updating a set of\n * children. Its output is suitable for passing it onto ReactMultiChild which\n * does diffed reordering and insertion.\n */\nvar ReactChildReconciler = {\n  /**\n   * Generates a \"mount image\" for each of the supplied children. In the case\n   * of `ReactDOMComponent`, a mount image is a string of markup.\n   *\n   * @param {?object} nestedChildNodes Nested child maps.\n   * @return {?object} A set of child instances.\n   * @internal\n   */\n  instantiateChildren: function(\n    nestedChildNodes,\n    transaction,\n    context,\n    selfDebugID // 0 in production and for roots\n  ) {\n    if (nestedChildNodes == null) {\n      return null;\n    }\n    var childInstances = {};\n\n    if (__DEV__) {\n      traverseAllChildren(\n        nestedChildNodes,\n        (childInsts, child, name) => instantiateChild(\n          childInsts,\n          child,\n          name,\n          selfDebugID\n        ),\n        childInstances\n      );\n    } else {\n      traverseAllChildren(nestedChildNodes, instantiateChild, childInstances);\n    }\n    return childInstances;\n  },\n\n  /**\n   * Updates the rendered children and returns a new set of children.\n   *\n   * @param {?object} prevChildren Previously initialized set of children.\n   * @param {?object} nextChildren Flat child element maps.\n   * @param {ReactReconcileTransaction} transaction\n   * @param {object} context\n   * @return {?object} A new set of child instances.\n   * @internal\n   */\n  updateChildren: function(\n    prevChildren,\n    nextChildren,\n    mountImages,\n    removedNodes,\n    transaction,\n    hostParent,\n    hostContainerInfo,\n    context,\n    selfDebugID // 0 in production and for roots\n  ) {\n    // We currently don't have a way to track moves here but if we use iterators\n    // instead of for..in we can zip the iterators and check if an item has\n    // moved.\n    // TODO: If nothing has changed, return the prevChildren object so that we\n    // can quickly bailout if nothing has changed.\n    if (!nextChildren && !prevChildren) {\n      return;\n    }\n    var name;\n    var prevChild;\n    for (name in nextChildren) {\n      if (!nextChildren.hasOwnProperty(name)) {\n        continue;\n      }\n      prevChild = prevChildren && prevChildren[name];\n      var prevElement = prevChild && prevChild._currentElement;\n      var nextElement = nextChildren[name];\n      if (prevChild != null &&\n          shouldUpdateReactComponent(prevElement, nextElement)) {\n        ReactReconciler.receiveComponent(\n          prevChild, nextElement, transaction, context\n        );\n        nextChildren[name] = prevChild;\n      } else {\n        if (\n          !ReactFeatureFlags.prepareNewChildrenBeforeUnmountInStack &&\n          prevChild\n        ) {\n          removedNodes[name] = ReactReconciler.getHostNode(prevChild);\n          ReactReconciler.unmountComponent(\n            prevChild,\n            false, /* safely */\n            false /* skipLifecycle */\n          );\n        }\n        // The child must be instantiated before it's mounted.\n        var nextChildInstance = instantiateReactComponent(nextElement, true);\n        nextChildren[name] = nextChildInstance;\n        // Creating mount image now ensures refs are resolved in right order\n        // (see https://github.com/facebook/react/pull/7101 for explanation).\n        var nextChildMountImage = ReactReconciler.mountComponent(\n          nextChildInstance,\n          transaction,\n          hostParent,\n          hostContainerInfo,\n          context,\n          selfDebugID\n        );\n        mountImages.push(nextChildMountImage);\n        if (\n          ReactFeatureFlags.prepareNewChildrenBeforeUnmountInStack &&\n          prevChild\n        ) {\n          removedNodes[name] = ReactReconciler.getHostNode(prevChild);\n          ReactReconciler.unmountComponent(\n            prevChild,\n            false, /* safely */\n            false /* skipLifecycle */\n          );\n        }\n      }\n    }\n    // Unmount children that are no longer present.\n    for (name in prevChildren) {\n      if (prevChildren.hasOwnProperty(name) &&\n          !(nextChildren && nextChildren.hasOwnProperty(name))) {\n        prevChild = prevChildren[name];\n        removedNodes[name] = ReactReconciler.getHostNode(prevChild);\n        ReactReconciler.unmountComponent(\n          prevChild,\n          false, /* safely */\n          false /* skipLifecycle */\n        );\n      }\n    }\n  },\n\n  /**\n   * Unmounts all rendered children. This should be used to clean up children\n   * when this component is unmounted.\n   *\n   * @param {?object} renderedChildren Previously initialized set of children.\n   * @internal\n   */\n  unmountChildren: function(renderedChildren, safely, skipLifecycle) {\n    for (var name in renderedChildren) {\n      if (renderedChildren.hasOwnProperty(name)) {\n        var renderedChild = renderedChildren[name];\n        ReactReconciler.unmountComponent(renderedChild, safely, skipLifecycle);\n      }\n    }\n  },\n\n};\n\nmodule.exports = ReactChildReconciler;\n","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule KeyEscapeUtils\n * @flow\n */\n\n'use strict';\n\n/**\n * Escape and wrap key so it is safe to use as a reactid\n *\n * @param {string} key to be escaped.\n * @return {string} the escaped key.\n */\nfunction escape(key: string): string {\n  var escapeRegex = /[=:]/g;\n  var escaperLookup = {\n    '=': '=0',\n    ':': '=2',\n  };\n  var escapedString = ('' + key).replace(\n    escapeRegex,\n    function(match) {\n      return escaperLookup[match];\n    }\n  );\n\n  return '$' + escapedString;\n}\n\n/**\n * Unescape and unwrap key for human-readable display\n *\n * @param {string} key to unescape.\n * @return {string} the unescaped key.\n */\nfunction unescape(key: string): string {\n  var unescapeRegex = /(=0|=2)/g;\n  var unescaperLookup = {\n    '=0': '=',\n    '=2': ':',\n  };\n  var keySubstring = (key[0] === '.' && key[1] === '$')\n    ? key.substring(2) : key.substring(1);\n\n  return ('' + keySubstring).replace(\n    unescapeRegex,\n    function(match) {\n      return unescaperLookup[match];\n    }\n  );\n}\n\nvar KeyEscapeUtils = {\n  escape: escape,\n  unescape: unescape,\n};\n\nmodule.exports = KeyEscapeUtils;\n","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule instantiateReactComponent\n */\n\n'use strict';\n\nvar ReactCompositeComponent = require('ReactCompositeComponent');\nvar ReactEmptyComponent = require('ReactEmptyComponent');\nvar ReactHostComponent = require('ReactHostComponent');\n\nvar getNextDebugID = require('getNextDebugID');\nvar invariant = require('fbjs/lib/invariant');\nvar warning = require('fbjs/lib/warning');\n\n// To avoid a cyclic dependency, we create the final class in this module\nvar ReactCompositeComponentWrapper = function(element) {\n  this.construct(element);\n};\n\nfunction getDeclarationErrorAddendum(owner) {\n  if (owner) {\n    var name = owner.getName();\n    if (name) {\n      return '\\n\\nCheck the render method of `' + name + '`.';\n    }\n  }\n  return '';\n}\n\n/**\n * Check if the type reference is a known internal type. I.e. not a user\n * provided composite type.\n *\n * @param {function} type\n * @return {boolean} Returns true if this is a valid internal type.\n */\nfunction isInternalComponentType(type) {\n  return (\n    typeof type === 'function' &&\n    typeof type.prototype !== 'undefined' &&\n    typeof type.prototype.mountComponent === 'function' &&\n    typeof type.prototype.receiveComponent === 'function'\n  );\n}\n\n/**\n * Given a ReactNode, create an instance that will actually be mounted.\n *\n * @param {ReactNode} node\n * @param {boolean} shouldHaveDebugID\n * @return {object} A new instance of the element's constructor.\n * @protected\n */\nfunction instantiateReactComponent(node, shouldHaveDebugID) {\n  var instance;\n\n  if (node === null || node === false) {\n    instance = ReactEmptyComponent.create(instantiateReactComponent);\n  } else if (typeof node === 'object') {\n    var element = node;\n    var type = element.type;\n    if (\n      typeof type !== 'function' &&\n      typeof type !== 'string'\n    ) {\n      var info = '';\n      if (__DEV__) {\n        if (\n          type === undefined ||\n          typeof type === 'object' &&\n          type !== null &&\n          Object.keys(type).length === 0\n        ) {\n          info +=\n            ' You likely forgot to export your component from the file ' +\n            'it\\'s defined in.';\n        }\n      }\n      info += getDeclarationErrorAddendum(element._owner);\n      invariant(\n        false,\n        'Element type is invalid: expected a string (for built-in components) ' +\n        'or a class/function (for composite components) but got: %s.%s',\n        type == null ? type : typeof type,\n        info,\n      );\n    }\n\n    // Special case string values\n    if (typeof element.type === 'string') {\n      instance = ReactHostComponent.createInternalComponent(element);\n    } else if (isInternalComponentType(element.type)) {\n      // This is temporarily available for custom components that are not string\n      // representations. I.e. ART. Once those are updated to use the string\n      // representation, we can drop this code path.\n      instance = new element.type(element);\n\n      // We renamed this. Allow the old name for compat. :(\n      if (!instance.getHostNode) {\n        instance.getHostNode = instance.getNativeNode;\n      }\n    } else {\n      instance = new ReactCompositeComponentWrapper(element);\n    }\n  } else if (typeof node === 'string' || typeof node === 'number') {\n    instance = ReactHostComponent.createInstanceForText(node);\n  } else {\n    invariant(\n      false,\n      'Encountered invalid React node of type %s',\n      typeof node\n    );\n  }\n\n  if (__DEV__) {\n    warning(\n      typeof instance.mountComponent === 'function' &&\n      typeof instance.receiveComponent === 'function' &&\n      typeof instance.getHostNode === 'function' &&\n      typeof instance.unmountComponent === 'function',\n      'Only React Components can be mounted.'\n    );\n  }\n\n  // These two fields are used by the DOM and ART diffing algorithms\n  // respectively. Instead of using expandos on components, we should be\n  // storing the state needed by the diffing algorithms elsewhere.\n  instance._mountIndex = 0;\n  instance._mountImage = null;\n\n  if (__DEV__) {\n    instance._debugID = shouldHaveDebugID ? getNextDebugID() : 0;\n  }\n\n  // Internal instances should fully constructed at this point, so they should\n  // not get any new fields added to them at this point.\n  if (__DEV__) {\n    if (Object.preventExtensions) {\n      Object.preventExtensions(instance);\n    }\n  }\n\n  return instance;\n}\n\nObject.assign(\n  ReactCompositeComponentWrapper.prototype,\n  ReactCompositeComponent,\n  {\n    _instantiateReactComponent: instantiateReactComponent,\n  }\n);\n\nmodule.exports = instantiateReactComponent;\n","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule ReactCompositeComponent\n */\n\n'use strict';\n\nvar React = require('React');\nvar ReactComponentEnvironment = require('ReactComponentEnvironment');\nvar ReactCompositeComponentTypes = require('ReactCompositeComponentTypes');\nvar ReactCurrentOwner = require('react/lib/ReactCurrentOwner');\nvar ReactErrorUtils = require('ReactErrorUtils');\nvar ReactFeatureFlags = require('ReactFeatureFlags');\nvar ReactInstanceMap = require('ReactInstanceMap');\nvar ReactInstrumentation = require('ReactInstrumentation');\nvar ReactNodeTypes = require('ReactNodeTypes');\nvar ReactReconciler = require('ReactReconciler');\n\nif (__DEV__) {\n  var checkReactTypeSpec = require('checkReactTypeSpec');\n  var ReactDebugCurrentFrame = require('react/lib/ReactDebugCurrentFrame');\n  var warningAboutMissingGetChildContext = {};\n}\n\nvar emptyObject = require('fbjs/lib/emptyObject');\nvar invariant = require('fbjs/lib/invariant');\nvar shallowEqual = require('fbjs/lib/shallowEqual');\nvar shouldUpdateReactComponent = require('shouldUpdateReactComponent');\nvar warning = require('fbjs/lib/warning');\n\nfunction StatelessComponent(Component) {\n}\nStatelessComponent.prototype.render = function() {\n  var Component = ReactInstanceMap.get(this)._currentElement.type;\n  var element = Component(this.props, this.context, this.updater);\n  return element;\n};\n\nfunction shouldConstruct(Component) {\n  return !!(Component.prototype && Component.prototype.isReactComponent);\n}\n\nfunction isPureComponent(Component) {\n  return !!(Component.prototype && Component.prototype.isPureReactComponent);\n}\n\n// Separated into a function to contain deoptimizations caused by try/finally.\nfunction measureLifeCyclePerf(fn, debugID, timerType) {\n  if (debugID === 0) {\n    // Top-level wrappers (see ReactMount) and empty components (see\n    // ReactDOMEmptyComponent) are invisible to hooks and devtools.\n    // Both are implementation details that should go away in the future.\n    return fn();\n  }\n\n  ReactInstrumentation.debugTool.onBeginLifeCycleTimer(debugID, timerType);\n  try {\n    return fn();\n  } finally {\n    ReactInstrumentation.debugTool.onEndLifeCycleTimer(debugID, timerType);\n  }\n}\n\n/**\n * ------------------ The Life-Cycle of a Composite Component ------------------\n *\n * - constructor: Initialization of state. The instance is now retained.\n *   - componentWillMount\n *   - render\n *   - [children's constructors]\n *     - [children's componentWillMount and render]\n *     - [children's componentDidMount]\n *     - componentDidMount\n *\n *       Update Phases:\n *       - componentWillReceiveProps (only called if parent updated)\n *       - shouldComponentUpdate\n *         - componentWillUpdate\n *           - render\n *           - [children's constructors or receive props phases]\n *         - componentDidUpdate\n *\n *     - componentWillUnmount\n *     - [children's componentWillUnmount]\n *   - [children destroyed]\n * - (destroyed): The instance is now blank, released by React and ready for GC.\n *\n * -----------------------------------------------------------------------------\n */\n\n/**\n * An incrementing ID assigned to each component when it is mounted. This is\n * used to enforce the order in which `ReactUpdates` updates dirty components.\n *\n * @private\n */\nvar nextMountID = 1;\n\n/**\n * @lends {ReactCompositeComponent.prototype}\n */\nvar ReactCompositeComponent = {\n\n  /**\n   * Base constructor for all composite component.\n   *\n   * @param {ReactElement} element\n   * @final\n   * @internal\n   */\n  construct: function(element) {\n    this._currentElement = element;\n    this._rootNodeID = 0;\n    this._compositeType = null;\n    this._instance = null;\n    this._hostParent = null;\n    this._hostContainerInfo = null;\n\n    // See ReactUpdateQueue\n    this._updateBatchNumber = null;\n    this._pendingElement = null;\n    this._pendingStateQueue = null;\n    this._pendingReplaceState = false;\n    this._pendingForceUpdate = false;\n\n    this._renderedNodeType = null;\n    this._renderedComponent = null;\n    this._context = null;\n    this._mountOrder = 0;\n    this._topLevelWrapper = null;\n\n    // See ReactUpdates and ReactUpdateQueue.\n    this._pendingCallbacks = null;\n\n    // ComponentWillUnmount shall only be called once\n    this._calledComponentWillUnmount = false;\n\n    if (__DEV__) {\n      this._warnedAboutRefsInRender = false;\n    }\n  },\n\n  /**\n   * Initializes the component, renders markup, and registers event listeners.\n   *\n   * @param {ReactReconcileTransaction|ReactServerRenderingTransaction} transaction\n   * @param {?object} hostParent\n   * @param {?object} hostContainerInfo\n   * @param {?object} context\n   * @return {?string} Rendered markup to be inserted into the DOM.\n   * @final\n   * @internal\n   */\n  mountComponent: function(\n    transaction,\n    hostParent,\n    hostContainerInfo,\n    context\n  ) {\n    this._context = context;\n    this._mountOrder = nextMountID++;\n    this._hostParent = hostParent;\n    this._hostContainerInfo = hostContainerInfo;\n\n    var publicProps = this._currentElement.props;\n    var publicContext = this._processContext(context);\n\n    var Component = this._currentElement.type;\n\n    var updateQueue = transaction.getUpdateQueue();\n\n    // Initialize the public class\n    var doConstruct = shouldConstruct(Component);\n    var inst = this._constructComponent(\n      doConstruct,\n      publicProps,\n      publicContext,\n      updateQueue\n    );\n    var renderedElement;\n\n    // Support functional components\n    if (!doConstruct && (inst == null || inst.render == null)) {\n      renderedElement = inst;\n      if (__DEV__) {\n        warning(\n          !Component.childContextTypes,\n          '%s(...): childContextTypes cannot be defined on a functional component.',\n          Component.displayName || Component.name || 'Component'\n        );\n      }\n      invariant(\n        inst === null ||\n        inst === false ||\n        React.isValidElement(inst),\n        '%s(...): A valid React element (or null) must be returned. You may have ' +\n        'returned undefined, an array or some other invalid object.',\n        Component.displayName || Component.name || 'Component'\n      );\n      inst = new StatelessComponent(Component);\n      this._compositeType = ReactCompositeComponentTypes.StatelessFunctional;\n    } else {\n      if (isPureComponent(Component)) {\n        this._compositeType = ReactCompositeComponentTypes.PureClass;\n      } else {\n        this._compositeType = ReactCompositeComponentTypes.ImpureClass;\n      }\n    }\n\n    if (__DEV__) {\n      // This will throw later in _renderValidatedComponent, but add an early\n      // warning now to help debugging\n      if (inst.render == null) {\n        warning(\n          false,\n          '%s(...): No `render` method found on the returned component ' +\n          'instance: you may have forgotten to define `render`.',\n          Component.displayName || Component.name || 'Component'\n        );\n      }\n\n      var propsMutated = inst.props !== publicProps;\n      var componentName =\n        Component.displayName || Component.name || 'Component';\n\n      warning(\n        inst.props === undefined || !propsMutated,\n        '%s(...): When calling super() in `%s`, make sure to pass ' +\n        'up the same props that your component\\'s constructor was passed.',\n        componentName, componentName\n      );\n    }\n\n    // These should be set up in the constructor, but as a convenience for\n    // simpler class abstractions, we set them up after the fact.\n    inst.props = publicProps;\n    inst.context = publicContext;\n    inst.refs = emptyObject;\n    inst.updater = updateQueue;\n\n    this._instance = inst;\n\n    // Store a reference from the instance back to the internal representation\n    ReactInstanceMap.set(inst, this);\n\n    if (__DEV__) {\n      // Since plain JS classes are defined without any special initialization\n      // logic, we can not catch common errors early. Therefore, we have to\n      // catch them here, at initialization time, instead.\n      warning(\n        !inst.getInitialState ||\n        inst.getInitialState.isReactClassApproved ||\n        inst.state,\n        'getInitialState was defined on %s, a plain JavaScript class. ' +\n        'This is only supported for classes created using React.createClass. ' +\n        'Did you mean to define a state property instead?',\n        this.getName() || 'a component'\n      );\n      warning(\n        !inst.getDefaultProps ||\n        inst.getDefaultProps.isReactClassApproved,\n        'getDefaultProps was defined on %s, a plain JavaScript class. ' +\n        'This is only supported for classes created using React.createClass. ' +\n        'Use a static property to define defaultProps instead.',\n        this.getName() || 'a component'\n      );\n      warning(\n        !inst.propTypes,\n        'propTypes was defined as an instance property on %s. Use a static ' +\n        'property to define propTypes instead.',\n        this.getName() || 'a component'\n      );\n      warning(\n        !inst.contextTypes,\n        'contextTypes was defined as an instance property on %s. Use a ' +\n        'static property to define contextTypes instead.',\n        this.getName() || 'a component'\n      );\n      warning(\n        typeof inst.componentShouldUpdate !== 'function',\n        '%s has a method called ' +\n        'componentShouldUpdate(). Did you mean shouldComponentUpdate()? ' +\n        'The name is phrased as a question because the function is ' +\n        'expected to return a value.',\n        (this.getName() || 'A component')\n      );\n      warning(\n        typeof inst.componentDidUnmount !== 'function',\n        '%s has a method called ' +\n        'componentDidUnmount(). But there is no such lifecycle method. ' +\n        'Did you mean componentWillUnmount()?',\n        this.getName() || 'A component'\n      );\n      warning(\n        typeof inst.componentWillRecieveProps !== 'function',\n        '%s has a method called ' +\n        'componentWillRecieveProps(). Did you mean componentWillReceiveProps()?',\n        (this.getName() || 'A component')\n      );\n    }\n\n    var initialState = inst.state;\n    if (initialState === undefined) {\n      inst.state = initialState = null;\n    }\n    invariant(\n      typeof initialState === 'object' && !Array.isArray(initialState),\n      '%s.state: must be set to an object or null',\n      this.getName() || 'ReactCompositeComponent'\n    );\n\n    this._pendingStateQueue = null;\n    this._pendingReplaceState = false;\n    this._pendingForceUpdate = false;\n\n    if (inst.componentWillMount) {\n      if (__DEV__) {\n        measureLifeCyclePerf(\n          () => inst.componentWillMount(),\n          this._debugID,\n          'componentWillMount'\n        );\n      } else {\n        inst.componentWillMount();\n      }\n      // When mounting, calls to `setState` by `componentWillMount` will set\n      // `this._pendingStateQueue` without triggering a re-render.\n      if (this._pendingStateQueue) {\n        inst.state = this._processPendingState(inst.props, inst.context);\n      }\n    }\n\n    var markup;\n    if (inst.unstable_handleError) {\n      markup = this.performInitialMountWithErrorHandling(\n        renderedElement,\n        hostParent,\n        hostContainerInfo,\n        transaction,\n        context\n      );\n    } else {\n      markup = this.performInitialMount(\n        renderedElement,\n        hostParent,\n        hostContainerInfo,\n        transaction,\n        context\n      );\n    }\n\n    if (inst.componentDidMount) {\n      if (__DEV__) {\n        transaction.getReactMountReady().enqueue(() => {\n          measureLifeCyclePerf(\n            () => inst.componentDidMount(),\n            this._debugID,\n            'componentDidMount'\n          );\n        });\n      } else {\n        transaction.getReactMountReady().enqueue(inst.componentDidMount, inst);\n      }\n    }\n\n    // setState callbacks during willMount should end up here\n    const callbacks = this._pendingCallbacks;\n    if (callbacks) {\n      this._pendingCallbacks = null;\n      for (let i = 0; i < callbacks.length; i++) {\n        transaction.getReactMountReady().enqueue(\n          callbacks[i],\n          inst\n        );\n      }\n    }\n\n    return markup;\n  },\n\n  _constructComponent: function(\n    doConstruct,\n    publicProps,\n    publicContext,\n    updateQueue\n  ) {\n    if (__DEV__) {\n      ReactCurrentOwner.current = this;\n      try {\n        return this._constructComponentWithoutOwner(\n          doConstruct,\n          publicProps,\n          publicContext,\n          updateQueue\n        );\n      } finally {\n        ReactCurrentOwner.current = null;\n      }\n    } else {\n      return this._constructComponentWithoutOwner(\n        doConstruct,\n        publicProps,\n        publicContext,\n        updateQueue\n      );\n    }\n  },\n\n  _constructComponentWithoutOwner: function(\n    doConstruct,\n    publicProps,\n    publicContext,\n    updateQueue\n  ) {\n    var Component = this._currentElement.type;\n\n    if (doConstruct) {\n      if (__DEV__) {\n        return measureLifeCyclePerf(\n          () => new Component(publicProps, publicContext, updateQueue),\n          this._debugID,\n          'ctor'\n        );\n      } else {\n        return new Component(publicProps, publicContext, updateQueue);\n      }\n    }\n\n    // This can still be an instance in case of factory components\n    // but we'll count this as time spent rendering as the more common case.\n    if (__DEV__) {\n      return measureLifeCyclePerf(\n        () => Component(publicProps, publicContext, updateQueue),\n        this._debugID,\n        'render'\n      );\n    } else {\n      return Component(publicProps, publicContext, updateQueue);\n    }\n  },\n\n  performInitialMountWithErrorHandling: function(\n    renderedElement,\n    hostParent,\n    hostContainerInfo,\n    transaction,\n    context\n  ) {\n    var markup;\n    var checkpoint = transaction.checkpoint();\n    try {\n      markup = this.performInitialMount(\n        renderedElement,\n        hostParent,\n        hostContainerInfo,\n        transaction,\n        context\n      );\n    } catch (e) {\n      // Roll back to checkpoint, handle error (which may add items to the transaction), and take a new checkpoint\n      transaction.rollback(checkpoint);\n      this._instance.unstable_handleError(e);\n      if (this._pendingStateQueue) {\n        this._instance.state = this._processPendingState(this._instance.props, this._instance.context);\n      }\n      checkpoint = transaction.checkpoint();\n      this._renderedComponent.unmountComponent(\n        true, /* safely */\n        // Don't call componentWillUnmount() because they never fully mounted:\n        true /* skipLifecyle */\n      );\n      transaction.rollback(checkpoint);\n\n      // Try again - we've informed the component about the error, so they can render an error message this time.\n      // If this throws again, the error will bubble up (and can be caught by a higher error boundary).\n      markup = this.performInitialMount(\n        renderedElement,\n        hostParent,\n        hostContainerInfo,\n        transaction,\n        context\n      );\n    }\n    return markup;\n  },\n\n  performInitialMount: function(\n    renderedElement,\n    hostParent,\n    hostContainerInfo,\n    transaction,\n    context\n  ) {\n    // If not a stateless component, we now render\n    if (renderedElement === undefined) {\n      renderedElement = this._renderValidatedComponent();\n    }\n\n    var nodeType = ReactNodeTypes.getType(renderedElement);\n    this._renderedNodeType = nodeType;\n    var child = this._instantiateReactComponent(\n      renderedElement,\n      nodeType !== ReactNodeTypes.EMPTY /* shouldHaveDebugID */\n    );\n    this._renderedComponent = child;\n\n    var debugID = 0;\n    if (__DEV__) {\n      debugID = this._debugID;\n    }\n\n    var markup = ReactReconciler.mountComponent(\n      child,\n      transaction,\n      hostParent,\n      hostContainerInfo,\n      this._processChildContext(context),\n      debugID\n    );\n\n    if (__DEV__) {\n      if (debugID !== 0) {\n        var childDebugIDs = child._debugID !== 0 ? [child._debugID] : [];\n        ReactInstrumentation.debugTool.onSetChildren(debugID, childDebugIDs);\n      }\n    }\n\n    return markup;\n  },\n\n  getHostNode: function() {\n    return ReactReconciler.getHostNode(this._renderedComponent);\n  },\n\n  /**\n   * Releases any resources allocated by `mountComponent`.\n   *\n   * @final\n   * @internal\n   */\n  unmountComponent: function(safely, skipLifecycle) {\n    if (!this._renderedComponent) {\n      return;\n    }\n\n    var inst = this._instance;\n\n    if (inst.componentWillUnmount && !inst._calledComponentWillUnmount) {\n      inst._calledComponentWillUnmount = true;\n\n      if (safely) {\n        if (!skipLifecycle) {\n          var name = this.getName() + '.componentWillUnmount()';\n          ReactErrorUtils.invokeGuardedCallback(name, inst.componentWillUnmount.bind(inst));\n        }\n      } else {\n        if (__DEV__) {\n          measureLifeCyclePerf(\n            () => inst.componentWillUnmount(),\n            this._debugID,\n            'componentWillUnmount'\n          );\n        } else {\n          inst.componentWillUnmount();\n        }\n      }\n    }\n\n    if (this._renderedComponent) {\n      ReactReconciler.unmountComponent(\n        this._renderedComponent,\n        safely,\n        skipLifecycle\n      );\n      this._renderedNodeType = null;\n      this._renderedComponent = null;\n      this._instance = null;\n    }\n\n    // Reset pending fields\n    // Even if this component is scheduled for another update in ReactUpdates,\n    // it would still be ignored because these fields are reset.\n    this._pendingStateQueue = null;\n    this._pendingReplaceState = false;\n    this._pendingForceUpdate = false;\n    this._pendingCallbacks = null;\n    this._pendingElement = null;\n\n    // These fields do not really need to be reset since this object is no\n    // longer accessible.\n    this._context = null;\n    this._rootNodeID = 0;\n    this._topLevelWrapper = null;\n\n    // Delete the reference from the instance to this internal representation\n    // which allow the internals to be properly cleaned up even if the user\n    // leaks a reference to the public instance.\n    ReactInstanceMap.remove(inst);\n\n    // Some existing components rely on inst.props even after they've been\n    // destroyed (in event handlers).\n    // TODO: inst.props = null;\n    // TODO: inst.state = null;\n    // TODO: inst.context = null;\n  },\n\n  /**\n   * Filters the context object to only contain keys specified in\n   * `contextTypes`\n   *\n   * @param {object} context\n   * @return {?object}\n   * @private\n   */\n  _maskContext: function(context) {\n    var Component = this._currentElement.type;\n    var contextTypes = Component.contextTypes;\n    if (!contextTypes) {\n      return emptyObject;\n    }\n    var maskedContext = {};\n    for (var contextName in contextTypes) {\n      maskedContext[contextName] = context[contextName];\n    }\n    return maskedContext;\n  },\n\n  /**\n   * Filters the context object to only contain keys specified in\n   * `contextTypes`, and asserts that they are valid.\n   *\n   * @param {object} context\n   * @return {?object}\n   * @private\n   */\n  _processContext: function(context) {\n    var maskedContext = this._maskContext(context);\n    if (__DEV__) {\n      var Component = this._currentElement.type;\n      if (Component.contextTypes) {\n        this._checkContextTypes(\n          Component.contextTypes,\n          maskedContext,\n          'context'\n        );\n      }\n    }\n    return maskedContext;\n  },\n\n  /**\n   * @param {object} currentContext\n   * @return {object}\n   * @private\n   */\n  _processChildContext: function(currentContext) {\n    var Component = this._currentElement.type;\n    var inst = this._instance;\n    var childContext;\n\n    if (typeof inst.getChildContext === 'function') {\n      if (__DEV__) {\n        ReactInstrumentation.debugTool.onBeginProcessingChildContext();\n        try {\n          childContext = inst.getChildContext();\n        } finally {\n          ReactInstrumentation.debugTool.onEndProcessingChildContext();\n        }\n      } else {\n        childContext = inst.getChildContext();\n      }\n\n      invariant(\n        typeof Component.childContextTypes === 'object',\n        '%s.getChildContext(): childContextTypes must be defined in order to ' +\n        'use getChildContext().',\n        this.getName() || 'ReactCompositeComponent'\n      );\n      if (__DEV__) {\n        this._checkContextTypes(\n          Component.childContextTypes,\n          childContext,\n          'child context'\n        );\n      }\n      for (var name in childContext) {\n        invariant(\n          name in Component.childContextTypes,\n          '%s.getChildContext(): key \"%s\" is not defined in childContextTypes.',\n          this.getName() || 'ReactCompositeComponent',\n          name\n        );\n      }\n      return Object.assign({}, currentContext, childContext);\n    } else {\n      if (__DEV__) {\n        const componentName = this.getName();\n\n        if (!warningAboutMissingGetChildContext[componentName]) {\n          warningAboutMissingGetChildContext[componentName] = true;\n          warning(\n            !Component.childContextTypes,\n            '%s.childContextTypes is specified but there is no getChildContext() method ' +\n            'on the instance. You can either define getChildContext() on %s or remove ' +\n            'childContextTypes from it.',\n            componentName,\n            componentName,\n          );\n        }\n      }\n    }\n    return currentContext;\n  },\n\n  /**\n   * Assert that the context types are valid\n   *\n   * @param {object} typeSpecs Map of context field to a ReactPropType\n   * @param {object} values Runtime values that need to be type-checked\n   * @param {string} location e.g. \"prop\", \"context\", \"child context\"\n   * @private\n   */\n  _checkContextTypes: function(\n    typeSpecs,\n    values,\n    location: string,\n  ) {\n    if (__DEV__) {\n      ReactDebugCurrentFrame.current = this._debugID;\n      checkReactTypeSpec(\n        typeSpecs,\n        values,\n        location,\n        this.getName()\n      );\n      ReactDebugCurrentFrame.current = null;\n    }\n  },\n\n  receiveComponent: function(nextElement, transaction, nextContext) {\n    var prevElement = this._currentElement;\n    var prevContext = this._context;\n\n    this._pendingElement = null;\n\n    this.updateComponent(\n      transaction,\n      prevElement,\n      nextElement,\n      prevContext,\n      nextContext\n    );\n  },\n\n  /**\n   * If any of `_pendingElement`, `_pendingStateQueue`, or `_pendingForceUpdate`\n   * is set, update the component.\n   *\n   * @param {ReactReconcileTransaction} transaction\n   * @internal\n   */\n  performUpdateIfNecessary: function(transaction) {\n    if (this._pendingElement != null) {\n      ReactReconciler.receiveComponent(\n        this,\n        this._pendingElement,\n        transaction,\n        this._context\n      );\n    } else if (this._pendingStateQueue !== null || this._pendingForceUpdate) {\n      this.updateComponent(\n        transaction,\n        this._currentElement,\n        this._currentElement,\n        this._context,\n        this._context\n      );\n    } else {\n      var callbacks = this._pendingCallbacks;\n      this._pendingCallbacks = null;\n      if (callbacks) {\n        for (var j = 0; j < callbacks.length; j++) {\n          transaction.getReactMountReady().enqueue(\n            callbacks[j],\n            this.getPublicInstance()\n          );\n        }\n      }\n      this._updateBatchNumber = null;\n    }\n  },\n\n  /**\n   * Perform an update to a mounted component. The componentWillReceiveProps and\n   * shouldComponentUpdate methods are called, then (assuming the update isn't\n   * skipped) the remaining update lifecycle methods are called and the DOM\n   * representation is updated.\n   *\n   * By default, this implements React's rendering and reconciliation algorithm.\n   * Sophisticated clients may wish to override this.\n   *\n   * @param {ReactReconcileTransaction} transaction\n   * @param {ReactElement} prevParentElement\n   * @param {ReactElement} nextParentElement\n   * @internal\n   * @overridable\n   */\n  updateComponent: function(\n    transaction,\n    prevParentElement,\n    nextParentElement,\n    prevUnmaskedContext,\n    nextUnmaskedContext\n  ) {\n    var inst = this._instance;\n    invariant(\n      inst != null,\n      'Attempted to update component `%s` that has already been unmounted ' +\n      '(or failed to mount).',\n      this.getName() || 'ReactCompositeComponent'\n    );\n\n    var willReceive = false;\n    var nextContext;\n\n    // Determine if the context has changed or not\n    if (this._context === nextUnmaskedContext) {\n      nextContext = inst.context;\n    } else {\n      nextContext = this._processContext(nextUnmaskedContext);\n      willReceive = true;\n    }\n\n    var prevProps = prevParentElement.props;\n    var nextProps = nextParentElement.props;\n\n    // Not a simple state update but a props update\n    if (prevParentElement !== nextParentElement) {\n      willReceive = true;\n    }\n\n    // An update here will schedule an update but immediately set\n    // _pendingStateQueue which will ensure that any state updates gets\n    // immediately reconciled instead of waiting for the next batch.\n    if (willReceive && inst.componentWillReceiveProps) {\n      const beforeState = inst.state;\n      if (__DEV__) {\n        measureLifeCyclePerf(\n          () => inst.componentWillReceiveProps(nextProps, nextContext),\n          this._debugID,\n          'componentWillReceiveProps',\n        );\n      } else {\n        inst.componentWillReceiveProps(nextProps, nextContext);\n      }\n      const afterState = inst.state;\n      if (beforeState !== afterState) {\n        inst.state = beforeState;\n        inst.updater.enqueueReplaceState(inst, afterState);\n        if (__DEV__) {\n          warning(\n            false,\n            '%s.componentWillReceiveProps(): Assigning directly to ' +\n            'this.state is deprecated (except inside a component\\'s ' +\n            'constructor). Use setState instead.',\n            this.getName() || 'ReactCompositeComponent'\n          );\n        }\n      }\n    }\n\n    // If updating happens to enqueue any new updates, we shouldn't execute new\n    // callbacks until the next render happens, so stash the callbacks first.\n    var callbacks = this._pendingCallbacks;\n    this._pendingCallbacks = null;\n\n    var nextState = this._processPendingState(nextProps, nextContext);\n    var shouldUpdate = true;\n    if (!this._pendingForceUpdate) {\n      var prevState = inst.state;\n      shouldUpdate = willReceive || nextState !== prevState;\n      if (inst.shouldComponentUpdate) {\n        if (__DEV__) {\n          shouldUpdate = measureLifeCyclePerf(\n            () => inst.shouldComponentUpdate(nextProps, nextState, nextContext),\n            this._debugID,\n            'shouldComponentUpdate'\n          );\n        } else {\n          shouldUpdate = inst.shouldComponentUpdate(nextProps, nextState, nextContext);\n        }\n      } else {\n        if (this._compositeType === ReactCompositeComponentTypes.PureClass) {\n          shouldUpdate =\n            !shallowEqual(prevProps, nextProps) ||\n            !shallowEqual(inst.state, nextState);\n        }\n      }\n    }\n\n    if (__DEV__) {\n      warning(\n        shouldUpdate !== undefined,\n        '%s.shouldComponentUpdate(): Returned undefined instead of a ' +\n        'boolean value. Make sure to return true or false.',\n        this.getName() || 'ReactCompositeComponent'\n      );\n    }\n\n    this._updateBatchNumber = null;\n    if (shouldUpdate) {\n      this._pendingForceUpdate = false;\n      // Will set `this.props`, `this.state` and `this.context`.\n      this._performComponentUpdate(\n        nextParentElement,\n        nextProps,\n        nextState,\n        nextContext,\n        transaction,\n        nextUnmaskedContext\n      );\n    } else {\n      // If it's determined that a component should not update, we still want\n      // to set props and state but we shortcut the rest of the update.\n      this._currentElement = nextParentElement;\n      this._context = nextUnmaskedContext;\n      inst.props = nextProps;\n      inst.state = nextState;\n      inst.context = nextContext;\n    }\n\n    if (callbacks) {\n      for (var j = 0; j < callbacks.length; j++) {\n        transaction.getReactMountReady().enqueue(\n          callbacks[j],\n          this.getPublicInstance()\n        );\n      }\n    }\n  },\n\n  _processPendingState: function(props, context) {\n    var inst = this._instance;\n    var queue = this._pendingStateQueue;\n    var replace = this._pendingReplaceState;\n    this._pendingReplaceState = false;\n    this._pendingStateQueue = null;\n\n    if (!queue) {\n      return inst.state;\n    }\n\n    if (replace && queue.length === 1) {\n      return queue[0];\n    }\n\n    var nextState = replace ? queue[0] : inst.state;\n    var dontMutate = true;\n    for (var i = replace ? 1 : 0; i < queue.length; i++) {\n      var partial = queue[i];\n      let partialState = typeof partial === 'function' ?\n        partial.call(inst, nextState, props, context) :\n        partial;\n      if (partialState) {\n        if (dontMutate) {\n          dontMutate = false;\n          nextState = Object.assign({}, nextState, partialState);\n        } else {\n          Object.assign(nextState, partialState);\n        }\n      }\n    }\n\n    return nextState;\n  },\n\n  /**\n   * Merges new props and state, notifies delegate methods of update and\n   * performs update.\n   *\n   * @param {ReactElement} nextElement Next element\n   * @param {object} nextProps Next public object to set as properties.\n   * @param {?object} nextState Next object to set as state.\n   * @param {?object} nextContext Next public object to set as context.\n   * @param {ReactReconcileTransaction} transaction\n   * @param {?object} unmaskedContext\n   * @private\n   */\n  _performComponentUpdate: function(\n    nextElement,\n    nextProps,\n    nextState,\n    nextContext,\n    transaction,\n    unmaskedContext\n  ) {\n    var inst = this._instance;\n\n    var hasComponentDidUpdate = Boolean(inst.componentDidUpdate);\n    var prevProps;\n    var prevState;\n    var prevContext;\n    if (hasComponentDidUpdate) {\n      prevProps = inst.props;\n      prevState = inst.state;\n      prevContext = inst.context;\n    }\n\n    if (inst.componentWillUpdate) {\n      if (__DEV__) {\n        measureLifeCyclePerf(\n          () => inst.componentWillUpdate(nextProps, nextState, nextContext),\n          this._debugID,\n          'componentWillUpdate'\n        );\n      } else {\n        inst.componentWillUpdate(nextProps, nextState, nextContext);\n      }\n    }\n\n    this._currentElement = nextElement;\n    this._context = unmaskedContext;\n    inst.props = nextProps;\n    inst.state = nextState;\n    inst.context = nextContext;\n\n    if (inst.unstable_handleError) {\n      this._updateRenderedComponentWithErrorHandling(transaction, unmaskedContext);\n    } else {\n      this._updateRenderedComponent(transaction, unmaskedContext);\n    }\n\n    if (hasComponentDidUpdate) {\n      if (__DEV__) {\n        transaction.getReactMountReady().enqueue(() => {\n          measureLifeCyclePerf(\n            inst.componentDidUpdate.bind(inst, prevProps, prevState, prevContext),\n            this._debugID,\n            'componentDidUpdate'\n          );\n        });\n      } else {\n        transaction.getReactMountReady().enqueue(\n          inst.componentDidUpdate.bind(inst, prevProps, prevState, prevContext),\n          inst\n        );\n      }\n    }\n  },\n\n  /**\n   * Call the component's `render` method and update the DOM accordingly.\n   *\n   * @param {ReactReconcileTransaction} transaction\n   * @internal\n   */\n  _updateRenderedComponentWithErrorHandling: function(transaction, context) {\n    var checkpoint = transaction.checkpoint();\n    try {\n      this._updateRenderedComponent(transaction, context);\n    } catch (e) {\n      // Roll back to checkpoint, handle error (which may add items to the transaction),\n      // and take a new checkpoint\n      transaction.rollback(checkpoint);\n      this._instance.unstable_handleError(e);\n      if (this._pendingStateQueue) {\n        this._instance.state = this._processPendingState(this._instance.props, this._instance.context);\n      }\n      checkpoint = transaction.checkpoint();\n\n      // Gracefully update to a clean state\n      this._updateRenderedComponentWithNextElement(\n        transaction,\n        context,\n        null,\n        true /* safely */\n      );\n\n      // Try again - we've informed the component about the error, so they can render an error message this time.\n      // If this throws again, the error will bubble up (and can be caught by a higher error boundary).\n      this._updateRenderedComponent(transaction, context);\n    }\n  },\n\n  /**\n   * Call the component's `render` method and update the DOM accordingly.\n   *\n   * @param {ReactReconcileTransaction} transaction\n   * @internal\n   */\n  _updateRenderedComponent: function(transaction, context) {\n    var nextRenderedElement = this._renderValidatedComponent();\n    this._updateRenderedComponentWithNextElement(\n      transaction,\n      context,\n      nextRenderedElement,\n      false /* safely */\n    );\n  },\n\n  /**\n   * Call the component's `render` method and update the DOM accordingly.\n   *\n   * @param {ReactReconcileTransaction} transaction\n   * @internal\n   */\n  _updateRenderedComponentWithNextElement: function(\n    transaction,\n    context,\n    nextRenderedElement,\n    safely\n  ) {\n    var prevComponentInstance = this._renderedComponent;\n    var prevRenderedElement = prevComponentInstance._currentElement;\n\n    var debugID = 0;\n    if (__DEV__) {\n      debugID = this._debugID;\n    }\n\n    if (shouldUpdateReactComponent(prevRenderedElement, nextRenderedElement)) {\n      ReactReconciler.receiveComponent(\n        prevComponentInstance,\n        nextRenderedElement,\n        transaction,\n        this._processChildContext(context)\n      );\n    } else {\n      var oldHostNode = ReactReconciler.getHostNode(prevComponentInstance);\n\n      if (!ReactFeatureFlags.prepareNewChildrenBeforeUnmountInStack) {\n        ReactReconciler.unmountComponent(\n          prevComponentInstance,\n          safely,\n          false /* skipLifecycle */\n        );\n      }\n\n      var nodeType = ReactNodeTypes.getType(nextRenderedElement);\n      this._renderedNodeType = nodeType;\n      var child = this._instantiateReactComponent(\n        nextRenderedElement,\n        nodeType !== ReactNodeTypes.EMPTY /* shouldHaveDebugID */\n      );\n      this._renderedComponent = child;\n\n      var nextMarkup = ReactReconciler.mountComponent(\n        child,\n        transaction,\n        this._hostParent,\n        this._hostContainerInfo,\n        this._processChildContext(context),\n        debugID\n      );\n\n      if (ReactFeatureFlags.prepareNewChildrenBeforeUnmountInStack) {\n        ReactReconciler.unmountComponent(\n          prevComponentInstance,\n          safely,\n          false /* skipLifecycle */\n        );\n      }\n\n      if (__DEV__) {\n        if (debugID !== 0) {\n          var childDebugIDs = child._debugID !== 0 ? [child._debugID] : [];\n          ReactInstrumentation.debugTool.onSetChildren(debugID, childDebugIDs);\n        }\n      }\n\n      this._replaceNodeWithMarkup(\n        oldHostNode,\n        nextMarkup,\n        prevComponentInstance\n      );\n    }\n  },\n\n  /**\n   * Overridden in shallow rendering.\n   *\n   * @protected\n   */\n  _replaceNodeWithMarkup: function(oldHostNode, nextMarkup, prevInstance) {\n    ReactComponentEnvironment.replaceNodeWithMarkup(\n      oldHostNode,\n      nextMarkup,\n      prevInstance\n    );\n  },\n\n  /**\n   * @protected\n   */\n  _renderValidatedComponentWithoutOwnerOrContext: function() {\n    var inst = this._instance;\n    var renderedElement;\n\n    if (__DEV__) {\n      renderedElement = measureLifeCyclePerf(\n        () => inst.render(),\n        this._debugID,\n        'render'\n      );\n    } else {\n      renderedElement = inst.render();\n    }\n\n    if (__DEV__) {\n      // We allow auto-mocks to proceed as if they're returning null.\n      if (renderedElement === undefined &&\n          inst.render._isMockFunction) {\n        // This is probably bad practice. Consider warning here and\n        // deprecating this convenience.\n        renderedElement = null;\n      }\n    }\n\n    return renderedElement;\n  },\n\n  /**\n   * @private\n   */\n  _renderValidatedComponent: function() {\n    var renderedElement;\n    if (__DEV__ || this._compositeType !== ReactCompositeComponentTypes.StatelessFunctional) {\n      ReactCurrentOwner.current = this;\n      try {\n        renderedElement =\n          this._renderValidatedComponentWithoutOwnerOrContext();\n      } finally {\n        ReactCurrentOwner.current = null;\n      }\n    } else {\n      renderedElement =\n        this._renderValidatedComponentWithoutOwnerOrContext();\n    }\n    invariant(\n      // TODO: An `isValidNode` function would probably be more appropriate\n      renderedElement === null || renderedElement === false ||\n      React.isValidElement(renderedElement),\n      '%s.render(): A valid React element (or null) must be returned. You may have ' +\n        'returned undefined, an array or some other invalid object.',\n      this.getName() || 'ReactCompositeComponent'\n    );\n\n    return renderedElement;\n  },\n\n  /**\n   * Lazily allocates the refs object and stores `component` as `ref`.\n   *\n   * @param {string} ref Reference name.\n   * @param {component} component Component to store as `ref`.\n   * @final\n   * @private\n   */\n  attachRef: function(ref, component) {\n    var inst = this.getPublicInstance();\n    invariant(inst != null, 'Stateless function components cannot have refs.');\n    var publicComponentInstance = component.getPublicInstance();\n    var refs = inst.refs === emptyObject ? (inst.refs = {}) : inst.refs;\n    refs[ref] = publicComponentInstance;\n  },\n\n  /**\n   * Detaches a reference name.\n   *\n   * @param {string} ref Name to dereference.\n   * @final\n   * @private\n   */\n  detachRef: function(ref) {\n    var refs = this.getPublicInstance().refs;\n    delete refs[ref];\n  },\n\n  /**\n   * Get a text description of the component that can be used to identify it\n   * in error messages.\n   * @return {string} The name or null.\n   * @internal\n   */\n  getName: function() {\n    var type = this._currentElement.type;\n    var constructor = this._instance && this._instance.constructor;\n    return (\n      type.displayName || (constructor && constructor.displayName) ||\n      type.name || (constructor && constructor.name) ||\n      null\n    );\n  },\n\n  /**\n   * Get the publicly accessible representation of this component - i.e. what\n   * is exposed by refs and returned by render. Can be null for stateless\n   * components.\n   *\n   * @return {ReactComponent} the public component instance.\n   * @internal\n   */\n  getPublicInstance: function() {\n    var inst = this._instance;\n    if (this._compositeType === ReactCompositeComponentTypes.StatelessFunctional) {\n      return null;\n    }\n    return inst;\n  },\n\n  // Stub\n  _instantiateReactComponent: null,\n\n};\n\nmodule.exports = ReactCompositeComponent;\n","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule ReactNodeTypes\n * @flow\n */\n\n'use strict';\n\ntype ReactNodeType = 0 | 1 | 2;\n\nvar React = require('React');\n\nvar invariant = require('fbjs/lib/invariant');\n\nvar ReactNodeTypes = {\n  HOST: 0,\n  COMPOSITE: 1,\n  EMPTY: 2,\n\n  getType: function(node: ReactElement<any>): ReactNodeType {\n    if (node === null || node === false) {\n      return ReactNodeTypes.EMPTY;\n    } else if (React.isValidElement(node)) {\n      if (typeof node.type === 'function') {\n        return ReactNodeTypes.COMPOSITE;\n      } else {\n        return ReactNodeTypes.HOST;\n      }\n    }\n    invariant(false, 'Unexpected node: %s', node);\n  },\n};\n\nmodule.exports = ReactNodeTypes;\n","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule checkReactTypeSpec\n */\n\n'use strict';\n\nvar checkPropTypes = require('react/lib/checkPropTypes');\nvar { getStackAddendum } = require('react/lib/ReactDebugCurrentFrame');\n\nfunction checkReactTypeSpec(\n  typeSpecs,\n  values,\n  location: string,\n  componentName\n) {\n  checkPropTypes(\n    typeSpecs,\n    values,\n    location,\n    componentName,\n    getStackAddendum\n  );\n}\n\nmodule.exports = checkReactTypeSpec;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @typechecks\n * \n */\n\n/*eslint-disable no-self-compare */\n\n'use strict';\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\n/**\n * inlined Object.is polyfill to avoid requiring consumers ship their own\n * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\n */\nfunction is(x, y) {\n  // SameValue algorithm\n  if (x === y) {\n    // Steps 1-5, 7-10\n    // Steps 6.b-6.e: +0 != -0\n    // Added the nonzero y check to make Flow happy, but it is redundant\n    return x !== 0 || y !== 0 || 1 / x === 1 / y;\n  } else {\n    // Step 6.a: NaN == NaN\n    return x !== x && y !== y;\n  }\n}\n\n/**\n * Performs equality by iterating through keys on an object and returning false\n * when any key has values which are not strictly equal between the arguments.\n * Returns true when the values of all keys are strictly equal.\n */\nfunction shallowEqual(objA, objB) {\n  if (is(objA, objB)) {\n    return true;\n  }\n\n  if (typeof objA !== 'object' || objA === null || typeof objB !== 'object' || objB === null) {\n    return false;\n  }\n\n  var keysA = Object.keys(objA);\n  var keysB = Object.keys(objB);\n\n  if (keysA.length !== keysB.length) {\n    return false;\n  }\n\n  // Test for A's keys different from B.\n  for (var i = 0; i < keysA.length; i++) {\n    if (!hasOwnProperty.call(objB, keysA[i]) || !is(objA[keysA[i]], objB[keysA[i]])) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nmodule.exports = shallowEqual;","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule shouldUpdateReactComponent\n */\n\n'use strict';\n\n/**\n * Given a `prevElement` and `nextElement`, determines if the existing\n * instance should be updated as opposed to being destroyed or replaced by a new\n * instance. Both arguments are elements. This ensures that this logic can\n * operate on stateless trees without any backing instance.\n *\n * @param {?object} prevElement\n * @param {?object} nextElement\n * @return {boolean} True if the existing instance should be updated.\n * @protected\n */\nfunction shouldUpdateReactComponent(prevElement, nextElement) {\n  var prevEmpty = prevElement === null || prevElement === false;\n  var nextEmpty = nextElement === null || nextElement === false;\n  if (prevEmpty || nextEmpty) {\n    return prevEmpty === nextEmpty;\n  }\n\n  var prevType = typeof prevElement;\n  var nextType = typeof nextElement;\n  if (prevType === 'string' || prevType === 'number') {\n    return (nextType === 'string' || nextType === 'number');\n  } else {\n    return (\n      nextType === 'object' &&\n      prevElement.type === nextElement.type &&\n      prevElement.key === nextElement.key\n    );\n  }\n}\n\nmodule.exports = shouldUpdateReactComponent;\n","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule getNextDebugID\n * @flow\n */\n\n'use strict';\n\nvar nextDebugID = 1;\n\nfunction getNextDebugID(): number {\n  return nextDebugID++;\n}\n\nmodule.exports = getNextDebugID;\n","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule traverseAllChildren\n */\n\n'use strict';\n\nvar ReactCurrentOwner = require('react/lib/ReactCurrentOwner');\nvar REACT_ELEMENT_TYPE = require('ReactElementSymbol');\n\nvar getIteratorFn = require('getIteratorFn');\nvar invariant = require('fbjs/lib/invariant');\nvar KeyEscapeUtils = require('KeyEscapeUtils');\nvar warning = require('fbjs/lib/warning');\n\nvar SEPARATOR = '.';\nvar SUBSEPARATOR = ':';\n\n/**\n * This is inlined from ReactElement since this file is shared between\n * isomorphic and renderers. We could extract this to a\n *\n */\n\n/**\n * TODO: Test that a single child and an array with one item have the same key\n * pattern.\n */\n\nvar didWarnAboutMaps = false;\n\n/**\n * Generate a key string that identifies a component within a set.\n *\n * @param {*} component A component that could contain a manual key.\n * @param {number} index Index that is used if a manual key is not provided.\n * @return {string}\n */\nfunction getComponentKey(component, index) {\n  // Do some typechecking here since we call this blindly. We want to ensure\n  // that we don't block potential future ES APIs.\n  if (component && typeof component === 'object' && component.key != null) {\n    // Explicit key\n    return KeyEscapeUtils.escape(component.key);\n  }\n  // Implicit key determined by the index in the set\n  return index.toString(36);\n}\n\n/**\n * @param {?*} children Children tree container.\n * @param {!string} nameSoFar Name of the key path so far.\n * @param {!function} callback Callback to invoke with each child found.\n * @param {?*} traverseContext Used to pass information throughout the traversal\n * process.\n * @return {!number} The number of children in this subtree.\n */\nfunction traverseAllChildrenImpl(\n  children,\n  nameSoFar,\n  callback,\n  traverseContext\n) {\n  var type = typeof children;\n\n  if (type === 'undefined' || type === 'boolean') {\n    // All of the above are perceived as null.\n    children = null;\n  }\n\n  if (children === null ||\n      type === 'string' ||\n      type === 'number' ||\n      // The following is inlined from ReactElement. This means we can optimize\n      // some checks. React Fiber also inlines this logic for similar purposes.\n      (type === 'object' && children.$$typeof === REACT_ELEMENT_TYPE)) {\n    callback(\n      traverseContext,\n      children,\n      // If it's the only child, treat the name as if it was wrapped in an array\n      // so that it's consistent if the number of children grows.\n      nameSoFar === '' ? SEPARATOR + getComponentKey(children, 0) : nameSoFar\n    );\n    return 1;\n  }\n\n  var child;\n  var nextName;\n  var subtreeCount = 0; // Count of children found in the current subtree.\n  var nextNamePrefix = nameSoFar === '' ? SEPARATOR : nameSoFar + SUBSEPARATOR;\n\n  if (Array.isArray(children)) {\n    for (var i = 0; i < children.length; i++) {\n      child = children[i];\n      nextName = nextNamePrefix + getComponentKey(child, i);\n      subtreeCount += traverseAllChildrenImpl(\n        child,\n        nextName,\n        callback,\n        traverseContext\n      );\n    }\n  } else {\n    var iteratorFn = getIteratorFn(children);\n    if (iteratorFn) {\n      if (__DEV__) {\n        // Warn about using Maps as children\n        if (iteratorFn === children.entries) {\n          let mapsAsChildrenAddendum = '';\n          if (ReactCurrentOwner.current) {\n            var mapsAsChildrenOwnerName = ReactCurrentOwner.current.getName();\n            if (mapsAsChildrenOwnerName) {\n              mapsAsChildrenAddendum = '\\n\\nCheck the render method of `' + mapsAsChildrenOwnerName + '`.';\n            }\n          }\n          warning(\n            didWarnAboutMaps,\n            'Using Maps as children is unsupported and will likely yield ' +\n            'unexpected results. Convert it to a sequence/iterable of keyed ' +\n            'ReactElements instead.%s',\n            mapsAsChildrenAddendum\n          );\n          didWarnAboutMaps = true;\n        }\n      }\n\n      var iterator = iteratorFn.call(children);\n      var step;\n      var ii = 0;\n      while (!(step = iterator.next()).done) {\n        child = step.value;\n        nextName = nextNamePrefix + getComponentKey(child, ii++);\n        subtreeCount += traverseAllChildrenImpl(\n          child,\n          nextName,\n          callback,\n          traverseContext\n        );\n      }\n    } else if (type === 'object') {\n      var addendum = '';\n      if (__DEV__) {\n        addendum =\n          ' If you meant to render a collection of children, use an array ' +\n          'instead or wrap the object using createFragment(object) from the ' +\n          'React add-ons.';\n        if (ReactCurrentOwner.current) {\n          var name = ReactCurrentOwner.current.getName();\n          if (name) {\n            addendum += '\\n\\nCheck the render method of `' + name + '`.';\n          }\n        }\n      }\n      var childrenString = String(children);\n      invariant(\n        false,\n        'Objects are not valid as a React child (found: %s).%s',\n        childrenString === '[object Object]' ?\n          'object with keys {' + Object.keys(children).join(', ') + '}' :\n          childrenString,\n        addendum\n      );\n    }\n  }\n\n  return subtreeCount;\n}\n\n/**\n * Traverses children that are typically specified as `props.children`, but\n * might also be specified through attributes:\n *\n * - `traverseAllChildren(this.props.children, ...)`\n * - `traverseAllChildren(this.props.leftPanelChildren, ...)`\n *\n * The `traverseContext` is an optional argument that is passed through the\n * entire traversal. It can be used to store accumulations or anything else that\n * the callback might find relevant.\n *\n * @param {?*} children Children tree object.\n * @param {!function} callback To invoke upon traversing each child.\n * @param {?*} traverseContext Context for traversal.\n * @return {!number} The number of children in this subtree.\n */\nfunction traverseAllChildren(children, callback, traverseContext) {\n  if (children == null) {\n    return 0;\n  }\n\n  return traverseAllChildrenImpl(children, '', callback, traverseContext);\n}\n\nmodule.exports = traverseAllChildren;\n","/**\n * Copyright 2014-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule ReactElementSymbol\n * @flow\n */\n\n'use strict';\n\n// The Symbol used to tag the ReactElement type. If there is no native Symbol\n// nor polyfill, then a plain number is used for performance.\nvar REACT_ELEMENT_TYPE =\n  (typeof Symbol === 'function' && Symbol.for && Symbol.for('react.element')) ||\n  0xeac7;\n\nmodule.exports = REACT_ELEMENT_TYPE;\n","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule getIteratorFn\n * @flow\n */\n\n'use strict';\n\n/* global Symbol */\nvar ITERATOR_SYMBOL = typeof Symbol === 'function' && Symbol.iterator;\nvar FAUX_ITERATOR_SYMBOL = '@@iterator'; // Before Symbol spec.\n\n/**\n * Returns the iterator method function contained on the iterable object.\n *\n * Be sure to invoke the function with the iterable as context:\n *\n *     var iteratorFn = getIteratorFn(myIterable);\n *     if (iteratorFn) {\n *       var iterator = iteratorFn.call(myIterable);\n *       ...\n *     }\n *\n * @param {?object} maybeIterable\n * @return {?function}\n */\nfunction getIteratorFn(maybeIterable: ?any): ?(() => ?Iterator<*>) {\n  var iteratorFn = maybeIterable && (\n    (ITERATOR_SYMBOL && maybeIterable[ITERATOR_SYMBOL]) ||\n    maybeIterable[FAUX_ITERATOR_SYMBOL]\n  );\n  if (typeof iteratorFn === 'function') {\n    return iteratorFn;\n  }\n}\n\nmodule.exports = getIteratorFn;\n","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule flattenChildren\n * @flow\n */\n\n'use strict';\n\nvar KeyEscapeUtils = require('KeyEscapeUtils');\nvar traverseAllChildren = require('traverseAllChildren');\nvar warning = require('fbjs/lib/warning');\n\nvar ReactComponentTreeHook;\n\nif (\n  typeof process !== 'undefined' &&\n  process.env &&\n  process.env.NODE_ENV === 'test'\n) {\n  // Temporary hack.\n  // Inline requires don't work well with Jest:\n  // https://github.com/facebook/react/issues/7240\n  // Remove the inline requires when we don't need them anymore:\n  // https://github.com/facebook/react/pull/7178\n  ReactComponentTreeHook = require('react/lib/ReactComponentTreeHook');\n}\n\n/**\n * @param {function} traverseContext Context passed through traversal.\n * @param {?ReactComponent} child React child component.\n * @param {!string} name String name of key path to child.\n * @param {number=} selfDebugID Optional debugID of the current internal instance.\n */\nfunction flattenSingleChildIntoContext(\n  traverseContext: mixed,\n  child: ReactElement<any>,\n  name: string,\n  selfDebugID?: number,\n): void {\n  // We found a component instance.\n  if (traverseContext && typeof traverseContext === 'object') {\n    const result = traverseContext;\n    const keyUnique = (result[name] === undefined);\n    if (__DEV__) {\n      if (!ReactComponentTreeHook) {\n        ReactComponentTreeHook = require('react/lib/ReactComponentTreeHook');\n      }\n      if (!keyUnique) {\n        warning(\n          false,\n          'flattenChildren(...): Encountered two children with the same key, ' +\n          '`%s`. Child keys must be unique; when two children share a key, only ' +\n          'the first child will be used.%s',\n          KeyEscapeUtils.unescape(name),\n          ReactComponentTreeHook.getStackAddendumByID(selfDebugID)\n        );\n      }\n    }\n    if (keyUnique && child != null) {\n      result[name] = child;\n    }\n  }\n}\n\n/**\n * Flattens children that are typically specified as `props.children`. Any null\n * children will not be included in the resulting object.\n * @return {!object} flattened children keyed by name.\n */\nfunction flattenChildren(\n  children: ReactElement<any>,\n  selfDebugID?: number,\n): ?{ [name: string]: ReactElement<any> } {\n  if (children == null) {\n    return children;\n  }\n  var result = {};\n\n  if (__DEV__) {\n    traverseAllChildren(\n      children,\n      (traverseContext, child, name) => flattenSingleChildIntoContext(\n        traverseContext,\n        child,\n        name,\n        selfDebugID\n      ),\n      result\n    );\n  } else {\n    traverseAllChildren(children, flattenSingleChildIntoContext, result);\n  }\n  return result;\n}\n\nmodule.exports = flattenChildren;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule ReactNativeViewConfigRegistry\n * @flow\n */\n\n'use strict';\n\nconst invariant = require('fbjs/lib/invariant');\n\nexport type ReactNativeBaseComponentViewConfig = {\n  validAttributes: Object,\n  uiViewClassName: string,\n  propTypes?: Object,\n};\n\nconst viewConfigs = new Map();\n\nconst prefix = 'topsecret-';\n\nconst ReactNativeViewConfigRegistry = {\n  register(viewConfig : ReactNativeBaseComponentViewConfig) {\n    const name = viewConfig.uiViewClassName;\n    invariant(\n      !viewConfigs.has(name),\n      'Tried to register two views with the same name %s',\n      name\n    );\n    const secretName = prefix + name;\n    viewConfigs.set(secretName, viewConfig);\n    return secretName;\n  },\n  get(secretName: string) {\n    const config = viewConfigs.get(secretName);\n    invariant(\n      config,\n      'View config not found for name %s',\n      secretName\n    );\n    return config;\n  },\n};\n\nmodule.exports = ReactNativeViewConfigRegistry;\n","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule ReactNativeFeatureFlags\n */\n\n'use strict';\n\nvar ReactNativeFeatureFlags = {\n  useFiber: false,\n};\n\nmodule.exports = ReactNativeFeatureFlags;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule insetsDiffer\n * @flow\n */\n'use strict';\n\ntype Inset = {\n  top: ?number,\n  left: ?number,\n  right: ?number,\n  bottom: ?number,\n}\n\nvar dummyInsets = {\n\ttop: undefined,\n\tleft: undefined,\n\tright: undefined,\n\tbottom: undefined,\n};\n\nvar insetsDiffer = function(\n  one: ?Inset,\n  two: ?Inset\n): bool {\n  one = one || dummyInsets;\n  two = two || dummyInsets;\n  return one !== two && (\n    one.top !== two.top ||\n    one.left !== two.left ||\n    one.right !== two.right ||\n    one.bottom !== two.bottom\n  );\n};\n\nmodule.exports = insetsDiffer;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule matricesDiffer\n */\n'use strict';\n\n/**\n * Unrolls an array comparison specially for matrices. Prioritizes\n * checking of indices that are most likely to change so that the comparison\n * bails as early as possible.\n *\n * @param {MatrixMath.Matrix} one First matrix.\n * @param {MatrixMath.Matrix} two Second matrix.\n * @return {boolean} Whether or not the two matrices differ.\n */\nvar matricesDiffer = function(one, two) {\n  if (one === two) {\n    return false;\n  }\n  return !one || !two ||\n    one[12] !== two[12] ||\n    one[13] !== two[13] ||\n    one[14] !== two[14] ||\n    one[5] !== two[5] ||\n    one[10] !== two[10] ||\n    one[1] !== two[1] ||\n    one[2] !== two[2] ||\n    one[3] !== two[3] ||\n    one[4] !== two[4] ||\n    one[6] !== two[6] ||\n    one[7] !== two[7] ||\n    one[8] !== two[8] ||\n    one[9] !== two[9] ||\n    one[11] !== two[11] ||\n    one[15] !== two[15];\n};\n\nmodule.exports = matricesDiffer;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule pointsDiffer\n * @flow\n */\n'use strict';\n\ntype Point = {\n  x: ?number,\n  y: ?number,\n}\n\nvar dummyPoint = {x: undefined, y: undefined};\n\nvar pointsDiffer = function(one: ?Point, two: ?Point): bool {\n  one = one || dummyPoint;\n  two = two || dummyPoint;\n  return one !== two && (\n    one.x !== two.x ||\n    one.y !== two.y\n  );\n};\n\nmodule.exports = pointsDiffer;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule resolveAssetSource\n * @flow\n *\n * Resolves an asset into a `source` for `Image`.\n */\n'use strict';\n\nconst AssetRegistry = require('AssetRegistry');\nconst AssetSourceResolver = require('AssetSourceResolver');\nconst NativeModules = require('NativeModules');\n\nimport type { ResolvedAssetSource } from 'AssetSourceResolver';\n\nlet _customSourceTransformer, _serverURL, _bundleSourcePath;\n\nfunction getDevServerURL(): ?string {\n  if (_serverURL === undefined) {\n    var scriptURL = NativeModules.SourceCode.scriptURL;\n    var match = scriptURL && scriptURL.match(/^https?:\\/\\/.*?\\//);\n    if (match) {\n      // Bundle was loaded from network\n      _serverURL = match[0];\n    } else {\n      // Bundle was loaded from file\n      _serverURL = null;\n    }\n  }\n  return _serverURL;\n}\n\nfunction getBundleSourcePath(): ?string {\n  if (_bundleSourcePath === undefined) {\n    const scriptURL = NativeModules.SourceCode.scriptURL;\n    if (!scriptURL) {\n      // scriptURL is falsy, we have nothing to go on here\n      _bundleSourcePath = null;\n      return _bundleSourcePath;\n    }\n    if (scriptURL.startsWith('assets://')) {\n      // running from within assets, no offline path to use\n      _bundleSourcePath = null;\n      return _bundleSourcePath;\n    }\n    if (scriptURL.startsWith('file://')) {\n      // cut off the protocol\n      _bundleSourcePath = scriptURL.substring(7, scriptURL.lastIndexOf('/') + 1);\n    } else {\n      _bundleSourcePath = scriptURL.substring(0, scriptURL.lastIndexOf('/') + 1);\n    }\n  }\n\n  return _bundleSourcePath;\n}\n\nfunction setCustomSourceTransformer(\n  transformer: (resolver: AssetSourceResolver) => ResolvedAssetSource,\n): void {\n  _customSourceTransformer = transformer;\n}\n\n/**\n * `source` is either a number (opaque type returned by require('./foo.png'))\n * or an `ImageSource` like { uri: '<http location || file path>' }\n */\nfunction resolveAssetSource(source: any): ?ResolvedAssetSource {\n  if (typeof source === 'object') {\n    return source;\n  }\n\n  var asset = AssetRegistry.getAssetByID(source);\n  if (!asset) {\n    return null;\n  }\n\n  const resolver = new AssetSourceResolver(getDevServerURL(), getBundleSourcePath(), asset);\n  if (_customSourceTransformer) {\n    return _customSourceTransformer(resolver);\n  }\n  return resolver.defaultAsset();\n}\n\nmodule.exports = resolveAssetSource;\nmodule.exports.pickScale = AssetSourceResolver.pickScale;\nmodule.exports.setCustomSourceTransformer = setCustomSourceTransformer;\n","/**\n * Copyright 2004-present Facebook. All Rights Reserved.\n *\n * @providesModule AssetRegistry\n * @flow\n */\n'use strict';\n\nexport type PackagerAsset = {\n  __packager_asset: boolean,\n  fileSystemLocation: string,\n  httpServerLocation: string,\n  width: number,\n  height: number,\n  scales: Array<number>,\n  hash: string,\n  name: string,\n  type: string,\n};\n\n\nvar assets: Array<PackagerAsset> = [];\n\nfunction registerAsset(asset: PackagerAsset): number {\n  // `push` returns new array length, so the first asset will\n  // get id 1 (not 0) to make the value truthy\n  return assets.push(asset);\n}\n\nfunction getAssetByID(assetId: number): PackagerAsset {\n  return assets[assetId - 1];\n}\n\nmodule.exports = { registerAsset, getAssetByID };\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule AssetSourceResolver\n * @flow\n */\n'use strict';\n\nexport type ResolvedAssetSource = {\n  __packager_asset: boolean,\n  width: number,\n  height: number,\n  uri: string,\n  scale: number,\n};\n\nimport type { PackagerAsset } from 'AssetRegistry';\n\nconst PixelRatio = require('PixelRatio');\nconst Platform = require('Platform');\n\nconst assetPathUtils = require('../../local-cli/bundle/assetPathUtils');\nconst invariant = require('fbjs/lib/invariant');\n\n/**\n * Returns a path like 'assets/AwesomeModule/icon@2x.png'\n */\nfunction getScaledAssetPath(asset): string {\n  var scale = AssetSourceResolver.pickScale(asset.scales, PixelRatio.get());\n  var scaleSuffix = scale === 1 ? '' : '@' + scale + 'x';\n  var assetDir = assetPathUtils.getBasePath(asset);\n  return assetDir + '/' + asset.name + scaleSuffix + '.' + asset.type;\n}\n\n/**\n * Returns a path like 'drawable-mdpi/icon.png'\n */\nfunction getAssetPathInDrawableFolder(asset): string {\n  var scale = AssetSourceResolver.pickScale(asset.scales, PixelRatio.get());\n  var drawbleFolder = assetPathUtils.getAndroidDrawableFolderName(asset, scale);\n  var fileName =  assetPathUtils.getAndroidResourceIdentifier(asset);\n  return drawbleFolder + '/' + fileName + '.' + asset.type;\n}\n\nclass AssetSourceResolver {\n\n  serverUrl: ?string;\n  // where the bundle is being run from\n  bundlePath: ?string;\n  // the asset to resolve\n  asset: PackagerAsset;\n\n  constructor(serverUrl: ?string, bundlePath: ?string, asset: PackagerAsset) {\n    this.serverUrl = serverUrl;\n    this.bundlePath = bundlePath;\n    this.asset = asset;\n  }\n\n  isLoadedFromServer(): boolean {\n    return !!this.serverUrl;\n  }\n\n  isLoadedFromFileSystem(): boolean {\n    return !!this.bundlePath;\n  }\n\n  defaultAsset(): ResolvedAssetSource {\n    if (this.isLoadedFromServer()) {\n      return this.assetServerURL();\n    }\n\n    if (Platform.OS === 'android') {\n      return this.isLoadedFromFileSystem() ?\n        this.drawableFolderInBundle() :\n        this.resourceIdentifierWithoutScale();\n    } else {\n      return this.scaledAssetPathInBundle();\n    }\n  }\n\n  /**\n   * Returns an absolute URL which can be used to fetch the asset\n   * from the devserver\n   */\n  assetServerURL(): ResolvedAssetSource {\n    invariant(!!this.serverUrl, 'need server to load from');\n    return this.fromSource(\n      this.serverUrl + getScaledAssetPath(this.asset) +\n      '?platform=' + Platform.OS + '&hash=' + this.asset.hash\n    );\n  }\n\n  /**\n   * Resolves to just the scaled asset filename\n   * E.g. 'assets/AwesomeModule/icon@2x.png'\n   */\n  scaledAssetPath(): ResolvedAssetSource {\n    return this.fromSource(getScaledAssetPath(this.asset));\n  }\n\n  /**\n   * Resolves to where the bundle is running from, with a scaled asset filename\n   * E.g. '/sdcard/bundle/assets/AwesomeModule/icon@2x.png'\n   */\n  scaledAssetPathInBundle(): ResolvedAssetSource {\n    const path = this.bundlePath || '';\n    return this.fromSource(path + getScaledAssetPath(this.asset));\n  }\n\n  /**\n   * The default location of assets bundled with the app, located by\n   * resource identifier\n   * The Android resource system picks the correct scale.\n   * E.g. 'assets_awesomemodule_icon'\n   */\n  resourceIdentifierWithoutScale(): ResolvedAssetSource {\n    invariant(Platform.OS === 'android', 'resource identifiers work on Android');\n    return this.fromSource(assetPathUtils.getAndroidResourceIdentifier(this.asset));\n  }\n\n  /**\n   * If the jsbundle is running from a sideload location, this resolves assets\n   * relative to its location\n   * E.g. 'file:///sdcard/AwesomeModule/drawable-mdpi/icon.png'\n   */\n  drawableFolderInBundle(): ResolvedAssetSource {\n    const path = this.bundlePath || '';\n    return this.fromSource(\n      'file://' + path + getAssetPathInDrawableFolder(this.asset)\n    );\n  }\n\n  fromSource(source: string): ResolvedAssetSource {\n    return {\n      __packager_asset: true,\n      width: this.asset.width,\n      height: this.asset.height,\n      uri: source,\n      scale: AssetSourceResolver.pickScale(this.asset.scales, PixelRatio.get()),\n    };\n  }\n\n  static pickScale(scales: Array<number>, deviceScale: number): number {\n    // Packager guarantees that `scales` array is sorted\n    for (var i = 0; i < scales.length; i++) {\n      if (scales[i] >= deviceScale) {\n        return scales[i];\n      }\n    }\n\n    // If nothing matches, device scale is larger than any available\n    // scales, so we return the biggest one. Unless the array is empty,\n    // in which case we default to 1\n    return scales[scales.length - 1] || 1;\n  }\n\n}\n\n module.exports = AssetSourceResolver;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n'use strict';\n\nfunction getAndroidAssetSuffix(scale) {\n  switch (scale) {\n    case 0.75: return 'ldpi';\n    case 1: return 'mdpi';\n    case 1.5: return 'hdpi';\n    case 2: return 'xhdpi';\n    case 3: return 'xxhdpi';\n    case 4: return 'xxxhdpi';\n  }\n}\n\nfunction getAndroidDrawableFolderName(asset, scale) {\n  var suffix = getAndroidAssetSuffix(scale);\n  if (!suffix) {\n    throw new Error(\n      'Don\\'t know which android drawable suffix to use for asset: ' +\n      JSON.stringify(asset)\n    );\n  }\n  const androidFolder = 'drawable-' + suffix;\n  return androidFolder;\n}\n\nfunction getAndroidResourceIdentifier(asset) {\n  var folderPath = getBasePath(asset);\n  return (folderPath + '/' + asset.name)\n    .toLowerCase()\n    .replace(/\\//g, '_')           // Encode folder structure in file name\n    .replace(/([^a-z0-9_])/g, '')  // Remove illegal chars\n    .replace(/^assets_/, '');      // Remove \"assets_\" prefix\n}\n\nfunction getBasePath(asset) {\n  var basePath = asset.httpServerLocation;\n  if (basePath[0] === '/') {\n    basePath = basePath.substr(1);\n  }\n  return basePath;\n}\n\nmodule.exports = {\n  getAndroidAssetSuffix: getAndroidAssetSuffix,\n  getAndroidDrawableFolderName: getAndroidDrawableFolderName,\n  getAndroidResourceIdentifier: getAndroidResourceIdentifier,\n  getBasePath: getBasePath\n};","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule verifyPropTypes\n * @flow\n */\n'use strict';\n\nvar ReactNativeStyleAttributes = require('ReactNativeStyleAttributes');\n\nexport type ComponentInterface = ReactClass<any> | {\n  name?: string,\n  displayName?: string,\n  propTypes: Object,\n};\n\nfunction verifyPropTypes(\n  componentInterface: ComponentInterface,\n  viewConfig: Object,\n  nativePropsToIgnore?: ?Object\n) {\n  if (!viewConfig) {\n    return; // This happens for UnimplementedView.\n  }\n  var componentName =\n    componentInterface.displayName ||\n    componentInterface.name ||\n    'unknown';\n\n  if (!componentInterface.propTypes) {\n    throw new Error(\n      '`' + componentName + '` has no propTypes defined`'\n    );\n  }\n\n  var nativeProps = viewConfig.NativeProps;\n  for (var prop in nativeProps) {\n    if (!componentInterface.propTypes[prop] &&\n        !ReactNativeStyleAttributes[prop] &&\n        (!nativePropsToIgnore || !nativePropsToIgnore[prop])) {\n      var message;\n      if (componentInterface.propTypes.hasOwnProperty(prop)) {\n        message = '`' + componentName + '` has incorrectly defined propType for native prop `' +\n        viewConfig.uiViewClassName + '.' + prop + '` of native type `' + nativeProps[prop];\n      } else {\n        message = '`' + componentName + '` has no propType for native prop `' +\n        viewConfig.uiViewClassName + '.' + prop + '` of native type `' +\n        nativeProps[prop] + '`';\n      }\n      message += '\\nIf you haven\\'t changed this prop yourself, this usually means that ' +\n        'your versions of the native code and JavaScript code are out of sync. Updating both ' +\n        'should make this error go away.';\n      throw new Error(message);\n    }\n  }\n}\n\nmodule.exports = verifyPropTypes;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule ReactNativeMount\n * @flow\n */\n'use strict';\n\nvar React = require('React');\nvar ReactInstrumentation = require('ReactInstrumentation');\nvar ReactNativeContainerInfo = require('ReactNativeContainerInfo');\nvar ReactNativeTagHandles = require('ReactNativeTagHandles');\nvar ReactReconciler = require('ReactReconciler');\nvar ReactUpdateQueue = require('ReactUpdateQueue');\nvar ReactUpdates = require('ReactUpdates');\nvar UIManager = require('UIManager');\n\nvar emptyObject = require('fbjs/lib/emptyObject');\nvar instantiateReactComponent = require('instantiateReactComponent');\nvar shouldUpdateReactComponent = require('shouldUpdateReactComponent');\n\n/**\n * Temporary (?) hack so that we can store all top-level pending updates on\n * composites instead of having to worry about different types of components\n * here.\n */\nvar TopLevelWrapper = function() {};\nTopLevelWrapper.prototype.isReactComponent = {};\nif (__DEV__) {\n  TopLevelWrapper.displayName = 'TopLevelWrapper';\n}\nTopLevelWrapper.prototype.render = function() {\n  return this.props.child;\n};\nTopLevelWrapper.isReactTopLevelWrapper = true;\n\n/**\n * Mounts this component and inserts it into the DOM.\n *\n * @param {ReactComponent} componentInstance The instance to mount.\n * @param {number} rootID ID of the root node.\n * @param {number} containerTag container element to mount into.\n * @param {ReactReconcileTransaction} transaction\n */\nfunction mountComponentIntoNode(\n    componentInstance,\n    containerTag,\n    transaction) {\n  var markup = ReactReconciler.mountComponent(\n    componentInstance,\n    transaction,\n    null,\n    ReactNativeContainerInfo(containerTag),\n    emptyObject,\n    0 /* parentDebugID */\n  );\n  componentInstance._renderedComponent._topLevelWrapper = componentInstance;\n  ReactNativeMount._mountImageIntoNode(markup, containerTag);\n}\n\n/**\n * Batched mount.\n *\n * @param {ReactComponent} componentInstance The instance to mount.\n * @param {number} rootID ID of the root node.\n * @param {number} containerTag container element to mount into.\n */\nfunction batchedMountComponentIntoNode(\n    componentInstance,\n    containerTag) {\n  var transaction = ReactUpdates.ReactReconcileTransaction.getPooled();\n  transaction.perform(\n    mountComponentIntoNode,\n    null,\n    componentInstance,\n    containerTag,\n    transaction\n  );\n  ReactUpdates.ReactReconcileTransaction.release(transaction);\n}\n\n/**\n * As soon as `ReactMount` is refactored to not rely on the DOM, we can share\n * code between the two. For now, we'll hard code the ID logic.\n */\nvar ReactNativeMount = {\n  _instancesByContainerID: {},\n\n  // these two functions are needed by React Devtools\n  findNodeHandle: require('findNodeHandle'),\n\n  /**\n   * @param {ReactComponent} instance Instance to render.\n   * @param {containerTag} containerView Handle to native view tag\n   */\n  renderComponent: function(\n    nextElement: ReactElement<*>,\n    containerTag: number,\n    callback?: ?(() => void)\n  ): ?ReactComponent<any, any, any> {\n    var nextWrappedElement = React.createElement(\n      TopLevelWrapper,\n      { child: nextElement }\n    );\n\n    var topRootNodeID = containerTag;\n    var prevComponent = ReactNativeMount._instancesByContainerID[topRootNodeID];\n    if (prevComponent) {\n      var prevWrappedElement = prevComponent._currentElement;\n      var prevElement = prevWrappedElement.props.child;\n      if (shouldUpdateReactComponent(prevElement, nextElement)) {\n        ReactUpdateQueue.enqueueElementInternal(prevComponent, nextWrappedElement, emptyObject);\n        if (callback) {\n          ReactUpdateQueue.enqueueCallbackInternal(prevComponent, callback);\n        }\n        return prevComponent;\n      } else {\n        ReactNativeMount.unmountComponentAtNode(containerTag);\n      }\n    }\n\n    if (!ReactNativeTagHandles.reactTagIsNativeTopRootID(containerTag)) {\n      console.error('You cannot render into anything but a top root');\n      return null;\n    }\n\n    ReactNativeTagHandles.assertRootTag(containerTag);\n\n    var instance = instantiateReactComponent(nextWrappedElement, false);\n    ReactNativeMount._instancesByContainerID[containerTag] = instance;\n\n    if (callback) {\n      var nonNullCallback = callback;\n      instance._pendingCallbacks = [function() {\n        nonNullCallback.call(instance._renderedComponent.getPublicInstance());\n      }];\n    }\n\n    // The initial render is synchronous but any updates that happen during\n    // rendering, in componentWillMount or componentDidMount, will be batched\n    // according to the current batching strategy.\n\n    ReactUpdates.batchedUpdates(\n      batchedMountComponentIntoNode,\n      instance,\n      containerTag\n    );\n    var component = instance._renderedComponent.getPublicInstance();\n    return component;\n  },\n\n  /**\n   * @param {View} view View tree image.\n   * @param {number} containerViewID View to insert sub-view into.\n   */\n  _mountImageIntoNode: function(mountImage : number, containerID : number) {\n    // Since we now know that the `mountImage` has been mounted, we can\n    // mark it as such.\n    var childTag = mountImage;\n    UIManager.setChildren(\n      containerID,\n      [childTag]\n    );\n  },\n\n  /**\n   * Standard unmounting of the component that is rendered into `containerID`,\n   * but will also execute a command to remove the actual container view\n   * itself. This is useful when a client is cleaning up a React tree, and also\n   * knows that the container will no longer be needed. When executing\n   * asynchronously, it's easier to just have this method be the one that calls\n   * for removal of the view.\n   */\n  unmountComponentAtNodeAndRemoveContainer: function(\n    containerTag: number\n  ) {\n    ReactNativeMount.unmountComponentAtNode(containerTag);\n    // call back into native to remove all of the subviews from this container\n    UIManager.removeRootView(containerTag);\n  },\n\n  /**\n   * Unmount component at container ID by iterating through each child component\n   * that has been rendered and unmounting it. There should just be one child\n   * component at this time.\n   */\n  unmountComponentAtNode: function(containerTag: number): boolean {\n    if (!ReactNativeTagHandles.reactTagIsNativeTopRootID(containerTag)) {\n      console.error('You cannot render into anything but a top root');\n      return false;\n    }\n\n    var instance = ReactNativeMount._instancesByContainerID[containerTag];\n    if (!instance) {\n      return false;\n    }\n    if (__DEV__) {\n      ReactInstrumentation.debugTool.onBeginFlush();\n    }\n    ReactNativeMount.unmountComponentFromNode(instance, containerTag);\n    delete ReactNativeMount._instancesByContainerID[containerTag];\n    if (__DEV__) {\n      ReactInstrumentation.debugTool.onEndFlush();\n    }\n    return true;\n  },\n\n  /**\n   * Unmounts a component and sends messages back to iOS to remove its subviews.\n   *\n   * @param {ReactComponent} instance React component instance.\n   * @param {string} containerID ID of container we're removing from.\n   * @final\n   * @internal\n   * @see {ReactNativeMount.unmountComponentAtNode}\n   */\n  unmountComponentFromNode: function(\n    instance: ReactComponent<any, any, any>,\n    containerID: number\n  ) {\n    // Call back into native to remove all of the subviews from this container\n    ReactReconciler.unmountComponent(instance);\n    UIManager.removeSubviewsFromContainerWithID(containerID);\n  },\n\n};\n\nmodule.exports = ReactNativeMount;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule ReactNativeContainerInfo\n * @flow\n */\n'use strict';\n\nfunction ReactNativeContainerInfo(tag: number) {\n  var info = {\n    _tag: tag,\n  };\n  return info;\n}\n\nmodule.exports = ReactNativeContainerInfo;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule ReactNativeART\n */\n'use strict';\n\nvar Color = require('art/core/color');\nvar Path = require('ARTSerializablePath');\nvar Transform = require('art/core/transform');\n\nvar React = require('React');\nvar ReactNativeViewAttributes = require('ReactNativeViewAttributes');\n\nvar createReactNativeComponentClass = require('createReactNativeComponentClass');\nvar merge = require('merge');\nvar invariant = require('fbjs/lib/invariant');\n\n// Diff Helpers\n\nfunction arrayDiffer(a, b) {\n  if (a == null || b == null) {\n    return true;\n  }\n  if (a.length !== b.length) {\n    return true;\n  }\n  for (var i = 0; i < a.length; i++) {\n    if (a[i] !== b[i]) {\n      return true;\n    }\n  }\n  return false;\n}\n\nfunction fontAndLinesDiffer(a, b) {\n  if (a === b) {\n    return false;\n  }\n  if (a.font !== b.font) {\n    if (a.font === null) {\n      return true;\n    }\n    if (b.font === null) {\n      return true;\n    }\n\n    if (\n      a.font.fontFamily !== b.font.fontFamily ||\n      a.font.fontSize !== b.font.fontSize ||\n      a.font.fontWeight !== b.font.fontWeight ||\n      a.font.fontStyle !== b.font.fontStyle\n    ) {\n      return true;\n    }\n  }\n  return arrayDiffer(a.lines, b.lines);\n}\n\n// Native Attributes\n\nvar SurfaceViewAttributes = merge(ReactNativeViewAttributes.UIView, {\n  // This should contain pixel information such as width, height and\n  // resolution to know what kind of buffer needs to be allocated.\n  // Currently we rely on UIViews and style to figure that out.\n});\n\nvar NodeAttributes = {\n  transform: { diff: arrayDiffer },\n  opacity: true,\n};\n\nvar GroupAttributes = merge(NodeAttributes, {\n  clipping: { diff: arrayDiffer }\n});\n\nvar RenderableAttributes = merge(NodeAttributes, {\n  fill: { diff: arrayDiffer },\n  stroke: { diff: arrayDiffer },\n  strokeWidth: true,\n  strokeCap: true,\n  strokeJoin: true,\n  strokeDash: { diff: arrayDiffer },\n});\n\nvar ShapeAttributes = merge(RenderableAttributes, {\n  d: { diff: arrayDiffer },\n});\n\nvar TextAttributes = merge(RenderableAttributes, {\n  alignment: true,\n  frame: { diff: fontAndLinesDiffer },\n  path: { diff: arrayDiffer }\n});\n\n// Native Components\n\nvar NativeSurfaceView = createReactNativeComponentClass({\n  validAttributes: SurfaceViewAttributes,\n  uiViewClassName: 'ARTSurfaceView',\n});\n\nvar NativeGroup = createReactNativeComponentClass({\n  validAttributes: GroupAttributes,\n  uiViewClassName: 'ARTGroup',\n});\n\nvar NativeShape = createReactNativeComponentClass({\n  validAttributes: ShapeAttributes,\n  uiViewClassName: 'ARTShape',\n});\n\nvar NativeText = createReactNativeComponentClass({\n  validAttributes: TextAttributes,\n  uiViewClassName: 'ARTText',\n});\n\n// Utilities\n\nfunction childrenAsString(children) {\n  if (!children) {\n    return '';\n  }\n  if (typeof children === 'string') {\n    return children;\n  }\n  if (children.length) {\n    return children.join('\\n');\n  }\n  return '';\n}\n\n// Surface - Root node of all ART\n\nclass Surface extends React.Component {\n  static childContextTypes = {\n    isInSurface: React.PropTypes.bool,\n  };\n\n  getChildContext() {\n    return { isInSurface: true };\n  }\n\n  render() {\n    var props = this.props;\n    var w = extractNumber(props.width, 0);\n    var h = extractNumber(props.height, 0);\n    return (\n      <NativeSurfaceView style={[props.style, { width: w, height: h }]}>\n        {this.props.children}\n      </NativeSurfaceView>\n    );\n  }\n}\n\n// Node Props\n\n// TODO: The desktop version of ART has title and cursor. We should have\n// accessibility support here too even though hovering doesn't work.\n\nfunction extractNumber(value, defaultValue) {\n  if (value == null) {\n    return defaultValue;\n  }\n  return +value;\n}\n\nvar pooledTransform = new Transform();\n\nfunction extractTransform(props) {\n  var scaleX = props.scaleX != null ? props.scaleX :\n               props.scale != null ? props.scale : 1;\n  var scaleY = props.scaleY != null ? props.scaleY :\n               props.scale != null ? props.scale : 1;\n\n  pooledTransform\n    .transformTo(1, 0, 0, 1, 0, 0)\n    .move(props.x || 0, props.y || 0)\n    .rotate(props.rotation || 0, props.originX, props.originY)\n    .scale(scaleX, scaleY, props.originX, props.originY);\n\n  if (props.transform != null) {\n    pooledTransform.transform(props.transform);\n  }\n\n  return [\n    pooledTransform.xx, pooledTransform.yx,\n    pooledTransform.xy, pooledTransform.yy,\n    pooledTransform.x,  pooledTransform.y,\n  ];\n}\n\nfunction extractOpacity(props) {\n  // TODO: visible === false should also have no hit detection\n  if (props.visible === false) {\n    return 0;\n  }\n  if (props.opacity == null) {\n    return 1;\n  }\n  return +props.opacity;\n}\n\n// Groups\n\n// Note: ART has a notion of width and height on Group but AFAIK it's a noop in\n// ReactART.\n\nclass Group extends React.Component {\n  static contextTypes = {\n    isInSurface: React.PropTypes.bool.isRequired,\n  };\n\n  render() {\n    var props = this.props;\n    invariant(\n      this.context.isInSurface,\n      'ART: <Group /> must be a child of a <Surface />'\n    );\n    return (\n      <NativeGroup\n        opacity={extractOpacity(props)}\n        transform={extractTransform(props)}>\n        {this.props.children}\n      </NativeGroup>\n    );\n  }\n}\n\nclass ClippingRectangle extends React.Component {\n  render() {\n    var props = this.props;\n    var x = extractNumber(props.x, 0);\n    var y = extractNumber(props.y, 0);\n    var w = extractNumber(props.width, 0);\n    var h = extractNumber(props.height, 0);\n    var clipping = [x, y, w, h];\n    // The current clipping API requires x and y to be ignored in the transform\n    var propsExcludingXAndY = merge(props);\n    delete propsExcludingXAndY.x;\n    delete propsExcludingXAndY.y;\n    return (\n      <NativeGroup\n        clipping={clipping}\n        opacity={extractOpacity(props)}\n        transform={extractTransform(propsExcludingXAndY)}>\n        {this.props.children}\n      </NativeGroup>\n    );\n  }\n}\n\n// Renderables\n\nvar SOLID_COLOR = 0;\nvar LINEAR_GRADIENT = 1;\nvar RADIAL_GRADIENT = 2;\nvar PATTERN = 3;\n\nfunction insertColorIntoArray(color, targetArray, atIndex) {\n  var c = new Color(color);\n  targetArray[atIndex + 0] = c.red / 255;\n  targetArray[atIndex + 1] = c.green / 255;\n  targetArray[atIndex + 2] = c.blue / 255;\n  targetArray[atIndex + 3] = c.alpha;\n}\n\nfunction insertColorsIntoArray(stops, targetArray, atIndex) {\n  var i = 0;\n  if ('length' in stops) {\n    while (i < stops.length) {\n      insertColorIntoArray(stops[i], targetArray, atIndex + i * 4);\n      i++;\n    }\n  } else {\n    for (var offset in stops) {\n      insertColorIntoArray(stops[offset], targetArray, atIndex + i * 4);\n      i++;\n    }\n  }\n  return atIndex + i * 4;\n}\n\nfunction insertOffsetsIntoArray(stops, targetArray, atIndex, multi, reverse) {\n  var offsetNumber;\n  var i = 0;\n  if ('length' in stops) {\n    while (i < stops.length) {\n      offsetNumber = i / (stops.length - 1) * multi;\n      targetArray[atIndex + i] = reverse ? 1 - offsetNumber : offsetNumber;\n      i++;\n    }\n  } else {\n    for (var offsetString in stops) {\n      offsetNumber = (+offsetString) * multi;\n      targetArray[atIndex + i] = reverse ? 1 - offsetNumber : offsetNumber;\n      i++;\n    }\n  }\n  return atIndex + i;\n}\n\nfunction insertColorStopsIntoArray(stops, targetArray, atIndex) {\n  var lastIndex = insertColorsIntoArray(stops, targetArray, atIndex);\n  insertOffsetsIntoArray(stops, targetArray, lastIndex, 1, false);\n}\n\nfunction insertDoubleColorStopsIntoArray(stops, targetArray, atIndex) {\n  var lastIndex = insertColorsIntoArray(stops, targetArray, atIndex);\n  lastIndex = insertColorsIntoArray(stops, targetArray, lastIndex);\n  lastIndex = insertOffsetsIntoArray(stops, targetArray, lastIndex, 0.5, false);\n  insertOffsetsIntoArray(stops, targetArray, lastIndex, 0.5, true);\n}\n\nfunction applyBoundingBoxToBrushData(brushData, props) {\n  var type = brushData[0];\n  var width = +props.width;\n  var height = +props.height;\n  if (type === LINEAR_GRADIENT) {\n    brushData[1] *= width;\n    brushData[2] *= height;\n    brushData[3] *= width;\n    brushData[4] *= height;\n  } else if (type === RADIAL_GRADIENT) {\n    brushData[1] *= width;\n    brushData[2] *= height;\n    brushData[3] *= width;\n    brushData[4] *= height;\n    brushData[5] *= width;\n    brushData[6] *= height;\n  } else if (type === PATTERN) {\n    // todo\n  }\n}\n\nfunction extractBrush(colorOrBrush, props) {\n  if (colorOrBrush == null) {\n    return null;\n  }\n  if (colorOrBrush._brush) {\n    if (colorOrBrush._bb) {\n      // The legacy API for Gradients allow for the bounding box to be used\n      // as a convenience for specifying gradient positions. This should be\n      // deprecated. It's not properly implemented in canvas mode. ReactART\n      // doesn't handle update to the bounding box correctly. That's why we\n      // mutate this so that if it's reused, we reuse the same resolved box.\n      applyBoundingBoxToBrushData(colorOrBrush._brush, props);\n      colorOrBrush._bb = false;\n    }\n    return colorOrBrush._brush;\n  }\n  var c = new Color(colorOrBrush);\n  return [SOLID_COLOR, c.red / 255, c.green / 255, c.blue / 255, c.alpha];\n}\n\nfunction extractColor(color) {\n  if (color == null) {\n    return null;\n  }\n  var c = new Color(color);\n  return [c.red / 255, c.green / 255, c.blue / 255, c.alpha];\n}\n\nfunction extractStrokeCap(strokeCap) {\n  switch (strokeCap) {\n    case 'butt': return 0;\n    case 'square': return 2;\n    default: return 1; // round\n  }\n}\n\nfunction extractStrokeJoin(strokeJoin) {\n  switch (strokeJoin) {\n    case 'miter': return 0;\n    case 'bevel': return 2;\n    default: return 1; // round\n  }\n}\n\n// Shape\n\n// Note: ART has a notion of width and height on Shape but AFAIK it's a noop in\n// ReactART.\n\nclass Shape extends React.Component {\n  render() {\n    var props = this.props;\n    var path = props.d || childrenAsString(props.children);\n    var d = new Path(path).toJSON();\n    return (\n      <NativeShape\n        fill={extractBrush(props.fill, props)}\n        opacity={extractOpacity(props)}\n        stroke={extractColor(props.stroke)}\n        strokeCap={extractStrokeCap(props.strokeCap)}\n        strokeDash={props.strokeDash || null}\n        strokeJoin={extractStrokeJoin(props.strokeJoin)}\n        strokeWidth={extractNumber(props.strokeWidth, 1)}\n        transform={extractTransform(props)}\n\n        d={d}\n      />\n    );\n  }\n}\n\n// Text\n\nvar cachedFontObjectsFromString = {};\n\nvar fontFamilyPrefix = /^[\\s\"']*/;\nvar fontFamilySuffix = /[\\s\"']*$/;\n\nfunction extractSingleFontFamily(fontFamilyString) {\n  // ART on the web allows for multiple font-families to be specified.\n  // For compatibility, we extract the first font-family, hoping\n  // we'll get a match.\n  return fontFamilyString.split(',')[0]\n         .replace(fontFamilyPrefix, '')\n         .replace(fontFamilySuffix, '');\n}\n\nfunction parseFontString(font) {\n  if (cachedFontObjectsFromString.hasOwnProperty(font)) {\n    return cachedFontObjectsFromString[font];\n  }\n  var regexp = /^\\s*((?:(?:normal|bold|italic)\\s+)*)(?:(\\d+(?:\\.\\d+)?)[ptexm\\%]*(?:\\s*\\/.*?)?\\s+)?\\s*\\\"?([^\\\"]*)/i;\n  var match = regexp.exec(font);\n  if (!match) {\n    return null;\n  }\n  var fontFamily = extractSingleFontFamily(match[3]);\n  var fontSize = +match[2] || 12;\n  var isBold = /bold/.exec(match[1]);\n  var isItalic = /italic/.exec(match[1]);\n  cachedFontObjectsFromString[font] = {\n    fontFamily: fontFamily,\n    fontSize: fontSize,\n    fontWeight: isBold ? 'bold' : 'normal',\n    fontStyle: isItalic ? 'italic' : 'normal',\n  };\n  return cachedFontObjectsFromString[font];\n}\n\nfunction extractFont(font) {\n  if (font == null) {\n    return null;\n  }\n  if (typeof font === 'string') {\n    return parseFontString(font);\n  }\n  var fontFamily = extractSingleFontFamily(font.fontFamily);\n  var fontSize = +font.fontSize || 12;\n  return {\n    // Normalize\n    fontFamily: fontFamily,\n    fontSize: fontSize,\n    fontWeight: font.fontWeight,\n    fontStyle: font.fontStyle,\n  };\n}\n\nvar newLine = /\\n/g;\nfunction extractFontAndLines(font, text) {\n  return { font: extractFont(font), lines: text.split(newLine) };\n}\n\nfunction extractAlignment(alignment) {\n  switch (alignment) {\n    case 'right':\n      return 1;\n    case 'center':\n      return 2;\n    default:\n      return 0;\n  }\n}\n\nclass Text extends React.Component {\n  render() {\n    var props = this.props;\n    var textPath = props.path ? new Path(props.path).toJSON() : null;\n    var textFrame = extractFontAndLines(\n      props.font,\n      childrenAsString(props.children)\n    );\n    return (\n      <NativeText\n        fill={extractBrush(props.fill, props)}\n        opacity={extractOpacity(props)}\n        stroke={extractColor(props.stroke)}\n        strokeCap={extractStrokeCap(props.strokeCap)}\n        strokeDash={props.strokeDash || null}\n        strokeJoin={extractStrokeJoin(props.strokeJoin)}\n        strokeWidth={extractNumber(props.strokeWidth, 1)}\n        transform={extractTransform(props)}\n\n        alignment={extractAlignment(props.alignment)}\n        frame={textFrame}\n        path={textPath}\n      />\n    );\n  }\n}\n\n// Declarative fill type objects - API design not finalized\n\nfunction LinearGradient(stops, x1, y1, x2, y2) {\n  var type = LINEAR_GRADIENT;\n\n  if (arguments.length < 5) {\n    var angle = ((x1 == null) ? 270 : x1) * Math.PI / 180;\n\n    var x = Math.cos(angle);\n    var y = -Math.sin(angle);\n    var l = (Math.abs(x) + Math.abs(y)) / 2;\n\n    x *= l; y *= l;\n\n    x1 = 0.5 - x;\n    x2 = 0.5 + x;\n    y1 = 0.5 - y;\n    y2 = 0.5 + y;\n    this._bb = true;\n  } else {\n    this._bb = false;\n  }\n\n  var brushData = [type, +x1, +y1, +x2, +y2];\n  insertColorStopsIntoArray(stops, brushData, 5);\n  this._brush = brushData;\n}\n\nfunction RadialGradient(stops, fx, fy, rx, ry, cx, cy) {\n  if (ry == null) {\n    ry = rx;\n  }\n  if (cx == null) {\n    cx = fx;\n  }\n  if (cy == null) {\n    cy = fy;\n  }\n  if (fx == null) {\n    // As a convenience we allow the whole radial gradient to cover the\n    // bounding box. We should consider dropping this API.\n    fx = fy = rx = ry = cx = cy = 0.5;\n    this._bb = true;\n  } else {\n    this._bb = false;\n  }\n  // The ART API expects the radial gradient to be repeated at the edges.\n  // To simulate this we render the gradient twice as large and add double\n  // color stops. Ideally this API would become more restrictive so that this\n  // extra work isn't needed.\n  var brushData = [RADIAL_GRADIENT, +fx, +fy, +rx * 2, +ry * 2, +cx, +cy];\n  insertDoubleColorStopsIntoArray(stops, brushData, 7);\n  this._brush = brushData;\n}\n\nfunction Pattern(url, width, height, left, top) {\n  this._brush = [PATTERN, url, +left || 0, +top || 0, +width, +height];\n}\n\nvar ReactART = {\n  LinearGradient: LinearGradient,\n  RadialGradient: RadialGradient,\n  Pattern: Pattern,\n  Transform: Transform,\n  Path: Path,\n  Surface: Surface,\n  Group: Group,\n  ClippingRectangle: ClippingRectangle,\n  Shape: Shape,\n  Text: Text,\n};\n\nmodule.exports = ReactART;\n","var colors = {\n\tmaroon: '#800000', red: '#ff0000', orange: '#ffA500', yellow: '#ffff00', olive: '#808000',\n\tpurple: '#800080', fuchsia: \"#ff00ff\", white: '#ffffff', lime: '#00ff00', green: '#008000',\n\tnavy: '#000080', blue: '#0000ff', aqua: '#00ffff', teal: '#008080',\n\tblack: '#000000', silver: '#c0c0c0', gray: '#808080'\n};\n\nvar map = function(array, fn){\n\tvar results = [];\n\tfor (var i = 0, l = array.length; i < l; i++)\n\t\tresults[i] = fn(array[i], i);\n\treturn results;\n};\n\nvar Color = function(color, type){\n\t\n\tif (color.isColor){\n\t\t\n\t\tthis.red = color.red;\n\t\tthis.green = color.green;\n\t\tthis.blue = color.blue;\n\t\tthis.alpha = color.alpha;\n\n\t} else {\n\t\t\n\t\tvar namedColor = colors[color];\n\t\tif (namedColor){\n\t\t\tcolor = namedColor;\n\t\t\ttype = 'hex';\n\t\t}\n\n\t\tswitch (typeof color){\n\t\t\tcase 'string': if (!type) type = (type = color.match(/^rgb|^hsb|^hsl/)) ? type[0] : 'hex'; break;\n\t\t\tcase 'object': type = type || 'rgb'; color = color.toString(); break;\n\t\t\tcase 'number': type = 'hex'; color = color.toString(16); break;\n\t\t}\n\n\t\tcolor = Color['parse' + type.toUpperCase()](color);\n\t\tthis.red = color[0];\n\t\tthis.green = color[1];\n\t\tthis.blue = color[2];\n\t\tthis.alpha = color[3];\n\t}\n\t\n\tthis.isColor = true;\n\n};\n\nvar limit = function(number, min, max){\n\treturn Math.min(max, Math.max(min, number));\n};\n\nvar listMatch = /([-.\\d]+\\%?)\\s*,\\s*([-.\\d]+\\%?)\\s*,\\s*([-.\\d]+\\%?)\\s*,?\\s*([-.\\d]*\\%?)/;\nvar hexMatch = /^#?([a-f0-9]{1,2})([a-f0-9]{1,2})([a-f0-9]{1,2})([a-f0-9]{0,2})$/i;\n\nColor.parseRGB = function(color){\n\treturn map(color.match(listMatch).slice(1), function(bit, i){\n\t\tif (bit) bit = parseFloat(bit) * (bit[bit.length - 1] == '%' ? 2.55 : 1);\n\t\treturn (i < 3) ? Math.round(((bit %= 256) < 0) ? bit + 256 : bit) : limit(((bit === '') ? 1 : Number(bit)), 0, 1);\n\t});\n};\n\t\nColor.parseHEX = function(color){\n\tif (color.length == 1) color = color + color + color;\n\treturn map(color.match(hexMatch).slice(1), function(bit, i){\n\t\tif (i == 3) return (bit) ? parseInt(bit, 16) / 255 : 1;\n\t\treturn parseInt((bit.length == 1) ? bit + bit : bit, 16);\n\t});\n};\n\t\nColor.parseHSB = function(color){\n\tvar hsb = map(color.match(listMatch).slice(1), function(bit, i){\n\t\tif (bit) bit = parseFloat(bit);\n\t\tif (i === 0) return Math.round(((bit %= 360) < 0) ? (bit + 360) : bit);\n\t\telse if (i < 3) return limit(Math.round(bit), 0, 100);\n\t\telse return limit(((bit === '') ? 1 : Number(bit)), 0, 1);\n\t});\n\t\n\tvar a = hsb[3];\n\tvar br = Math.round(hsb[2] / 100 * 255);\n\tif (hsb[1] == 0) return [br, br, br, a];\n\t\t\n\tvar hue = hsb[0];\n\tvar f = hue % 60;\n\tvar p = Math.round((hsb[2] * (100 - hsb[1])) / 10000 * 255);\n\tvar q = Math.round((hsb[2] * (6000 - hsb[1] * f)) / 600000 * 255);\n\tvar t = Math.round((hsb[2] * (6000 - hsb[1] * (60 - f))) / 600000 * 255);\n\n\tswitch (Math.floor(hue / 60)){\n\t\tcase 0: return [br, t, p, a];\n\t\tcase 1: return [q, br, p, a];\n\t\tcase 2: return [p, br, t, a];\n\t\tcase 3: return [p, q, br, a];\n\t\tcase 4: return [t, p, br, a];\n\t\tdefault: return [br, p, q, a];\n\t}\n};\n\nColor.parseHSL = function(color){\n\tvar hsb = map(color.match(listMatch).slice(1), function(bit, i){\n\t\tif (bit) bit = parseFloat(bit);\n\t\tif (i === 0) return Math.round(((bit %= 360) < 0) ? (bit + 360) : bit);\n\t\telse if (i < 3) return limit(Math.round(bit), 0, 100);\n\t\telse return limit(((bit === '') ? 1 : Number(bit)), 0, 1);\n\t});\n\n\tvar h = hsb[0] / 60;\n\tvar s = hsb[1] / 100;\n\tvar l = hsb[2] / 100;\n\tvar a = hsb[3];\n\t\n\tvar c = (1 - Math.abs(2 * l - 1)) * s;\n\tvar x = c * (1 - Math.abs(h % 2 - 1));\n\tvar m = l - c / 2;\n\t\n\tvar p = Math.round((c + m) * 255);\n\tvar q = Math.round((x + m) * 255);\n\tvar t = Math.round((m) * 255);\n\n\tswitch (Math.floor(h)){\n\t\tcase 0: return [p, q, t, a];\n\t\tcase 1: return [q, p, t, a];\n\t\tcase 2: return [t, p, q, a];\n\t\tcase 3: return [t, q, p, a];\n\t\tcase 4: return [q, t, p, a];\n\t\tdefault: return [p, t, q, a];\n\t}\n};\n\nvar toString = function(type, array){\n\tif (array[3] != 1) type += 'a';\n\telse array.pop();\n\treturn type + '(' + array.join(', ') + ')';\n};\n\nColor.prototype = {\n\n\ttoHSB: function(array){\n\t\tvar red = this.red, green = this.green, blue = this.blue, alpha = this.alpha;\n\n\t\tvar max = Math.max(red, green, blue), min = Math.min(red, green, blue), delta = max - min;\n\t\tvar hue = 0, saturation = (delta != 0) ? delta / max : 0, brightness = max / 255;\n\t\tif (saturation){\n\t\t\tvar rr = (max - red) / delta, gr = (max - green) / delta, br = (max - blue) / delta;\n\t\t\thue = (red == max) ? br - gr : (green == max) ? 2 + rr - br : 4 + gr - rr;\n\t\t\tif ((hue /= 6) < 0) hue++;\n\t\t}\n\n\t\tvar hsb = [Math.round(hue * 360), Math.round(saturation * 100), Math.round(brightness * 100), alpha];\n\n\t\treturn (array) ? hsb : toString('hsb', hsb);\n\t},\n\n\ttoHSL: function(array){\n\t\tvar red = this.red, green = this.green, blue = this.blue, alpha = this.alpha;\n\n\t\tvar max = Math.max(red, green, blue), min = Math.min(red, green, blue), delta = max - min;\n\t\tvar hue = 0, saturation = (delta != 0) ? delta / (255 - Math.abs((max + min) - 255)) : 0, lightness = (max + min) / 512;\n\t\tif (saturation){\n\t\t\tvar rr = (max - red) / delta, gr = (max - green) / delta, br = (max - blue) / delta;\n\t\t\thue = (red == max) ? br - gr : (green == max) ? 2 + rr - br : 4 + gr - rr;\n\t\t\tif ((hue /= 6) < 0) hue++;\n\t\t}\n\n\t\tvar hsl = [Math.round(hue * 360), Math.round(saturation * 100), Math.round(lightness * 100), alpha];\n\n\t\treturn (array) ? hsl : toString('hsl', hsl);\n\t},\n\n\ttoHEX: function(array){\n\n\t\tvar a = this.alpha;\n\t\tvar alpha = ((a = Math.round((a * 255)).toString(16)).length == 1) ? a + a : a;\n\t\t\n\t\tvar hex = map([this.red, this.green, this.blue], function(bit){\n\t\t\tbit = bit.toString(16);\n\t\t\treturn (bit.length == 1) ? '0' + bit : bit;\n\t\t});\n\t\t\n\t\treturn (array) ? hex.concat(alpha) : '#' + hex.join('') + ((alpha == 'ff') ? '' : alpha);\n\t},\n\t\n\ttoRGB: function(array){\n\t\tvar rgb = [this.red, this.green, this.blue, this.alpha];\n\t\treturn (array) ? rgb : toString('rgb', rgb);\n\t}\n\n};\n\nColor.prototype.toString = Color.prototype.toRGB;\n\nColor.hex = function(hex){\n\treturn new Color(hex, 'hex');\n};\n\nif (this.hex == null) this.hex = Color.hex;\n\nColor.hsb = function(h, s, b, a){\n\treturn new Color([h || 0, s || 0, b || 0, (a == null) ? 1 : a], 'hsb');\n};\n\nif (this.hsb == null) this.hsb = Color.hsb;\n\nColor.hsl = function(h, s, l, a){\n\treturn new Color([h || 0, s || 0, l || 0, (a == null) ? 1 : a], 'hsl');\n};\n\nif (this.hsl == null) this.hsl = Color.hsl;\n\nColor.rgb = function(r, g, b, a){\n\treturn new Color([r || 0, g || 0, b || 0, (a == null) ? 1 : a], 'rgb');\n};\n\nif (this.rgb == null) this.rgb = Color.rgb;\n\nColor.detach = function(color){\n\tcolor = new Color(color);\n\treturn [Color.rgb(color.red, color.green, color.blue).toString(), color.alpha];\n};\n\nmodule.exports = Color;","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule ARTSerializablePath\n */\n'use strict';\n\n// TODO: Move this into an ART mode called \"serialized\" or something\n\nvar Class = require('art/core/class.js');\nvar Path = require('art/core/path.js');\n\nvar MOVE_TO = 0;\nvar CLOSE = 1;\nvar LINE_TO = 2;\nvar CURVE_TO = 3;\nvar ARC = 4;\n\nvar SerializablePath = Class(Path, {\n\n  initialize: function(path) {\n    this.reset();\n    if (path instanceof SerializablePath) {\n      this.path = path.path.slice(0);\n    } else if (path) {\n      if (path.applyToPath) {\n        path.applyToPath(this);\n      } else {\n        this.push(path);\n      }\n    }\n  },\n\n  onReset: function() {\n    this.path = [];\n  },\n\n  onMove: function(sx, sy, x, y) {\n    this.path.push(MOVE_TO, x, y);\n  },\n\n  onLine: function(sx, sy, x, y) {\n    this.path.push(LINE_TO, x, y);\n  },\n\n  onBezierCurve: function(sx, sy, p1x, p1y, p2x, p2y, x, y) {\n    this.path.push(CURVE_TO, p1x, p1y, p2x, p2y, x, y);\n  },\n\n  _arcToBezier: Path.prototype.onArc,\n\n  onArc: function(sx, sy, ex, ey, cx, cy, rx, ry, sa, ea, ccw, rotation) {\n    if (rx !== ry || rotation) {\n      return this._arcToBezier(\n        sx, sy, ex, ey, cx, cy, rx, ry, sa, ea, ccw, rotation\n      );\n    }\n    this.path.push(ARC, cx, cy, rx, sa, ea, ccw ? 0 : 1);\n  },\n\n  onClose: function() {\n    this.path.push(CLOSE);\n  },\n\n  toJSON: function() {\n    return this.path;\n  }\n\n});\n\nmodule.exports = SerializablePath;\n","module.exports = function(mixins){\n\tvar proto = {};\n\tfor (var i = 0, l = arguments.length; i < l; i++){\n\t\tvar mixin = arguments[i];\n\t\tif (typeof mixin == 'function') mixin = mixin.prototype;\n\t\tfor (var key in mixin) proto[key] = mixin[key];\n\t}\n\tif (!proto.initialize) proto.initialize = function(){};\n\tproto.constructor = function(a,b,c,d,e,f,g,h){\n\t\treturn new proto.initialize(a,b,c,d,e,f,g,h);\n\t};\n\tproto.constructor.prototype = proto.initialize.prototype = proto;\n\treturn proto.constructor;\n};\n","var Class = require('./class');\n\nmodule.exports = Class({\n\t\n\tinitialize: function(path){\n\t\tthis.reset().push(path);\n\t},\n\n\t/* parser */\n\t\n\tpush: function(){\n\t\tvar p = Array.prototype.join.call(arguments, ' ')\n\t\t\t.match(/[a-df-z]|[\\-+]?(?:[\\d\\.]e[\\-+]?|[^\\s\\-+,a-z])+/ig);\n\t\tif (!p) return this;\n\n\t\tvar last, cmd = p[0], i = 1;\n\t\twhile (cmd){\n\t\t\tswitch (cmd){\n\t\t\t\tcase 'm': this.move(p[i++], p[i++]); break;\n\t\t\t\tcase 'l': this.line(p[i++], p[i++]); break;\n\t\t\t\tcase 'c': this.curve(p[i++], p[i++], p[i++], p[i++], p[i++], p[i++]); break;\n\t\t\t\tcase 's': this.curve(p[i++], p[i++], null, null, p[i++], p[i++]); break;\n\t\t\t\tcase 'q': this.curve(p[i++], p[i++], p[i++], p[i++]); break;\n\t\t\t\tcase 't': this.curve(p[i++], p[i++]); break;\n\t\t\t\tcase 'a': this.arc(p[i+5], p[i+6], p[i], p[i+1], p[i+3], !+p[i+4], p[i+2]); i += 7; break;\n\t\t\t\tcase 'h': this.line(p[i++], 0); break;\n\t\t\t\tcase 'v': this.line(0, p[i++]); break;\n\n\t\t\t\tcase 'M': this.moveTo(p[i++], p[i++]); break;\n\t\t\t\tcase 'L': this.lineTo(p[i++], p[i++]); break;\n\t\t\t\tcase 'C': this.curveTo(p[i++], p[i++], p[i++], p[i++], p[i++], p[i++]); break;\n\t\t\t\tcase 'S': this.curveTo(p[i++], p[i++], null, null, p[i++], p[i++]); break;\n\t\t\t\tcase 'Q': this.curveTo(p[i++], p[i++], p[i++], p[i++]); break;\n\t\t\t\tcase 'T': this.curveTo(p[i++], p[i++]); break;\n\t\t\t\tcase 'A': this.arcTo(p[i+5], p[i+6], p[i], p[i+1], p[i+3], !+p[i+4], p[i+2]); i += 7; break;\n\t\t\t\tcase 'H': this.lineTo(p[i++], this.penY); break;\n\t\t\t\tcase 'V': this.lineTo(this.penX, p[i++]); break;\n\t\t\t\t\n\t\t\t\tcase 'Z': case 'z': this.close(); break;\n\t\t\t\tdefault: cmd = last; i--; continue;\n\t\t\t}\n\n\t\t\tlast = cmd;\n\t\t\tif (last == 'm') last = 'l';\n\t\t\telse if (last == 'M') last = 'L';\n\t\t\tcmd = p[i++];\n\t\t}\n\t\treturn this;\n\t},\n\n\t/* utility methods */\n\n\treset: function(){\n\t\tthis.penX = this.penY = 0;\n\t\tthis.penDownX = this.penDownY = null;\n\t\tthis._pivotX = this._pivotY = 0;\n\t\tthis.onReset();\n\t\treturn this;\n\t},\n\t\n\tmove: function(x,y){\n\t\tthis.onMove(this.penX, this.penY, this._pivotX = this.penX += (+x), this._pivotY = this.penY += (+y));\n\t\treturn this;\n\t},\n\tmoveTo: function(x,y){\n\t\tthis.onMove(this.penX, this.penY, this._pivotX = this.penX = (+x), this._pivotY = this.penY = (+y));\n\t\treturn this;\n\t},\n\n\tline: function(x,y){\n\t\treturn this.lineTo(this.penX + (+x), this.penY + (+y));\n\t},\n\tlineTo: function(x,y){\n\t\tif (this.penDownX == null){ this.penDownX = this.penX; this.penDownY = this.penY; }\n\t\tthis.onLine(this.penX, this.penY, this._pivotX = this.penX = (+x), this._pivotY = this.penY = (+y));\n\t\treturn this;\n\t},\n\t\n\tcurve: function(c1x, c1y, c2x, c2y, ex, ey){\n\t\tvar x = this.penX, y = this.penY;\n\t\treturn this.curveTo(\n\t\t\tx + (+c1x), y + (+c1y),\n\t\t\tc2x == null ? null : x + (+c2x),\n\t\t\tc2y == null ? null : y + (+c2y),\n\t\t\tex == null ? null : x + (+ex),\n\t\t\tey == null ? null : y + (+ey)\n\t\t);\n\t},\n\tcurveTo: function(c1x, c1y, c2x, c2y, ex, ey){\n\t\tvar x = this.penX, y = this.penY;\n\t\tif (c2x == null){\n\t\t\tc2x = +c1x; c2y = +c1y;\n\t\t\tc1x = (x * 2) - (this._pivotX || 0); c1y = (y * 2) - (this._pivotY || 0);\n\t\t}\n\t\tif (ex == null){\n\t\t\tthis._pivotX = +c1x; this._pivotY = +c1y;\n\t\t\tex = +c2x; ey = +c2y;\n\t\t\tc2x = (ex + (+c1x) * 2) / 3; c2y = (ey + (+c1y) * 2) / 3;\n\t\t\tc1x = (x + (+c1x) * 2) / 3; c1y = (y + (+c1y) * 2) / 3;\n\t\t} else {\n\t\t\tthis._pivotX = +c2x; this._pivotY = +c2y;\n\t\t}\n\t\tif (this.penDownX == null){ this.penDownX = x; this.penDownY = y; }\n\t\tthis.onBezierCurve(x, y, +c1x, +c1y, +c2x, +c2y, this.penX = +ex, this.penY = +ey);\n\t\treturn this;\n\t},\n\t\n\tarc: function(x, y, rx, ry, outer, counterClockwise, rotation){\n\t\treturn this.arcTo(this.penX + (+x), this.penY + (+y), rx, ry, outer, counterClockwise, rotation);\n\t},\n\tarcTo: function(x, y, rx, ry, outer, counterClockwise, rotation){\n\t\try = Math.abs(+ry || +rx || (+y - this.penY));\n\t\trx = Math.abs(+rx || (+x - this.penX));\n\n\t\tif (!rx || !ry || (x == this.penX && y == this.penY)) return this.lineTo(x, y);\n\n\t\tvar tX = this.penX, tY = this.penY, clockwise = !+counterClockwise, large = !!+outer;\n\n\t\tvar rad = rotation ? rotation * Math.PI / 180 : 0, cos = Math.cos(rad), sin = Math.sin(rad);\n\t\tx -= tX; y -= tY;\n\t\t\n\t\t// Ellipse Center\n\t\tvar cx = cos * x / 2 + sin * y / 2,\n\t\t\tcy = -sin * x / 2 + cos * y / 2,\n\t\t\trxry = rx * rx * ry * ry,\n\t\t\trycx = ry * ry * cx * cx,\n\t\t\trxcy = rx * rx * cy * cy,\n\t\t\ta = rxry - rxcy - rycx;\n\n\t\tif (a < 0){\n\t\t\ta = Math.sqrt(1 - a / rxry);\n\t\t\trx *= a; ry *= a;\n\t\t\tcx = x / 2; cy = y / 2;\n\t\t} else {\n\t\t\ta = Math.sqrt(a / (rxcy + rycx));\n\t\t\tif (large == clockwise) a = -a;\n\t\t\tvar cxd = -a * cy * rx / ry,\n\t\t\t    cyd =  a * cx * ry / rx;\n\t\t\tcx = cos * cxd - sin * cyd + x / 2;\n\t\t\tcy = sin * cxd + cos * cyd + y / 2;\n\t\t}\n\n\t\t// Rotation + Scale Transform\n\t\tvar xx =  cos / rx, yx = sin / rx,\n\t\t    xy = -sin / ry, yy = cos / ry;\n\n\t\t// Start and End Angle\n\t\tvar sa = Math.atan2(xy * -cx + yy * -cy, xx * -cx + yx * -cy),\n\t\t    ea = Math.atan2(xy * (x - cx) + yy * (y - cy), xx * (x - cx) + yx * (y - cy));\n\n\t\tcx += tX; cy += tY;\n\t\tx += tX; y += tY;\n\n\t\t// Circular Arc\n\t\tif (this.penDownX == null){ this.penDownX = this.penX; this.penDownY = this.penY; }\n\t\tthis.onArc(\n\t\t\ttX, tY, this._pivotX = this.penX = x, this._pivotY = this.penY = y,\n\t\t\tcx, cy, rx, ry, sa, ea, !clockwise, rotation\n\t\t);\n\t\treturn this;\n\t},\n\n\tcounterArc: function(x, y, rx, ry, outer){\n\t\treturn this.arc(x, y, rx, ry, outer, true);\n\t},\n\tcounterArcTo: function(x, y, rx, ry, outer){\n\t\treturn this.arcTo(x, y, rx, ry, outer, true);\n\t},\n\n\tclose: function(){\n\t\tif (this.penDownX != null){\n\t\t\tthis.onClose(this.penX, this.penY, this.penX = this.penDownX, this.penY = this.penDownY);\n\t\t\tthis.penDownX = null;\n\t\t}\n\t\treturn this;\n\t},\n\n\t/* overridable handlers */\n\t\n\tonReset: function(){\n\t},\n\n\tonMove: function(sx, sy, ex, ey){\n\t},\n\n\tonLine: function(sx, sy, ex, ey){\n\t\tthis.onBezierCurve(sx, sy, sx, sy, ex, ey, ex, ey);\n\t},\n\n\tonBezierCurve: function(sx, sy, c1x, c1y, c2x, c2y, ex, ey){\n\t\tvar gx = ex - sx, gy = ey - sy,\n\t\t\tg = gx * gx + gy * gy,\n\t\t\tv1, v2, cx, cy, u;\n\n\t\tcx = c1x - sx; cy = c1y - sy;\n\t\tu = cx * gx + cy * gy;\n\n\t\tif (u > g){\n\t\t\tcx -= gx;\n\t\t\tcy -= gy;\n\t\t} else if (u > 0 && g != 0){\n\t\t\tcx -= u/g * gx;\n\t\t\tcy -= u/g * gy;\n\t\t}\n\n\t\tv1 = cx * cx + cy * cy;\n\n\t\tcx = c2x - sx; cy = c2y - sy;\n\t\tu = cx * gx + cy * gy;\n\n\t\tif (u > g){\n\t\t\tcx -= gx;\n\t\t\tcy -= gy;\n\t\t} else if (u > 0 && g != 0){\n\t\t\tcx -= u/g * gx;\n\t\t\tcy -= u/g * gy;\n\t\t}\n\n\t\tv2 = cx * cx + cy * cy;\n\n\t\tif (v1 < 0.01 && v2 < 0.01){\n\t\t\tthis.onLine(sx, sy, ex, ey);\n\t\t\treturn;\n\t\t}\n\n\t\t// Avoid infinite recursion\n\t\tif (isNaN(v1) || isNaN(v2)){\n\t\t\tthrow new Error('Bad input');\n\t\t}\n\n\t\t// Split curve\n\t\tvar s1x =   (c1x + c2x) * 0.5,   s1y =   (c1y + c2y) * 0.5,\n\t\t    l1x =   (c1x + sx)  * 0.5,   l1y =   (c1y + sy)  * 0.5,\n\t\t    l2x =   (l1x + s1x) * 0.5,   l2y =   (l1y + s1y) * 0.5,\n\t\t    r2x =   (ex + c2x)  * 0.5,   r2y =   (ey + c2y)  * 0.5,\n\t\t    r1x =   (r2x + s1x) * 0.5,   r1y =   (r2y + s1y) * 0.5,\n\t\t    l2r1x = (l2x + r1x) * 0.5,   l2r1y = (l2y + r1y) * 0.5;\n\n\t\t// TODO: Manual stack if necessary. Currently recursive without tail optimization.\n\t\tthis.onBezierCurve(sx, sy, l1x, l1y, l2x, l2y, l2r1x, l2r1y);\n\t\tthis.onBezierCurve(l2r1x, l2r1y, r1x, r1y, r2x, r2y, ex, ey);\n\t},\n\n\tonArc: function(sx, sy, ex, ey, cx, cy, rx, ry, sa, ea, ccw, rotation){\n\t\t// Inverse Rotation + Scale Transform\n\t\tvar rad = rotation ? rotation * Math.PI / 180 : 0, cos = Math.cos(rad), sin = Math.sin(rad),\n\t\t\txx = cos * rx, yx = -sin * ry,\n\t\t    xy = sin * rx, yy =  cos * ry;\n\n\t\t// Bezier Curve Approximation\n\t\tvar arc = ea - sa;\n\t\tif (arc < 0 && !ccw) arc += Math.PI * 2;\n\t\telse if (arc > 0 && ccw) arc -= Math.PI * 2;\n\n\t\tvar n = Math.ceil(Math.abs(arc / (Math.PI / 2))),\n\t\t    step = arc / n,\n\t\t    k = (4 / 3) * Math.tan(step / 4);\n\n\t\tvar x = Math.cos(sa), y = Math.sin(sa);\n\n\t\tfor (var i = 0; i < n; i++){\n\t\t\tvar cp1x = x - k * y, cp1y = y + k * x;\n\n\t\t\tsa += step;\n\t\t\tx = Math.cos(sa); y = Math.sin(sa);\n\n\t\t\tvar cp2x = x + k * y, cp2y = y - k * x;\n\n\t\t\tthis.onBezierCurve(\n\t\t\t\tsx, sy,\n\t\t\t\tcx + xx * cp1x + yx * cp1y, cy + xy * cp1x + yy * cp1y,\n\t\t\t\tcx + xx * cp2x + yx * cp2y, cy + xy * cp2x + yy * cp2y,\n\t\t\t\t(sx = (cx + xx * x + yx * y)), (sy = (cy + xy * x + yy * y))\n\t\t\t);\n\t\t}\n\t},\n\n\tonClose: function(sx, sy, ex, ey){\n\t\tthis.onLine(sx, sy, ex, ey);\n\t}\n\n});","var Class = require('./class');\n\nfunction Transform(xx, yx, xy, yy, x, y){\n\tif (xx && typeof xx == 'object'){\n\t\tyx = xx.yx; yy = xx.yy; y = xx.y;\n\t\txy = xx.xy; x = xx.x; xx = xx.xx;\n\t}\n\tthis.xx = xx == null ? 1 : xx;\n\tthis.yx = yx || 0;\n\tthis.xy = xy || 0;\n\tthis.yy = yy == null ? 1 : yy;\n\tthis.x = (x == null ? this.x : x) || 0;\n\tthis.y = (y == null ? this.y : y) || 0;\n\tthis._transform();\n\treturn this;\n};\n\nmodule.exports = Class({\n\n\tinitialize: Transform,\n\n\t_transform: function(){},\n\n\txx: 1, yx: 0, x: 0,\n\txy: 0, yy: 1, y: 0,\n\n\ttransform: function(xx, yx, xy, yy, x, y){\n\t\tvar m = this;\n\t\tif (xx && typeof xx == 'object'){\n\t\t\tyx = xx.yx; yy = xx.yy; y = xx.y;\n\t\t\txy = xx.xy; x = xx.x; xx = xx.xx;\n\t\t}\n\t\tif (!x) x = 0;\n\t\tif (!y) y = 0;\n\t\treturn this.transformTo(\n\t\t\tm.xx * xx + m.xy * yx,\n\t\t\tm.yx * xx + m.yy * yx,\n\t\t\tm.xx * xy + m.xy * yy,\n\t\t\tm.yx * xy + m.yy * yy,\n\t\t\tm.xx * x + m.xy * y + m.x,\n\t\t\tm.yx * x + m.yy * y + m.y\n\t\t);\n\t},\n\n\ttransformTo: Transform,\n\n\ttranslate: function(x, y){\n\t\treturn this.transform(1, 0, 0, 1, x, y);\n\t},\n\n\tmove: function(x, y){\n\t\tthis.x += x || 0;\n\t\tthis.y += y || 0;\n\t\tthis._transform();\n\t\treturn this;\n\t},\n\n\tscale: function(x, y){\n\t\tif (y == null) y = x;\n\t\treturn this.transform(x, 0, 0, y, 0, 0);\n\t},\n\n\trotate: function(deg, x, y){\n\t\tif (x == null || y == null){\n\t\t\tx = (this.left || 0) + (this.width || 0) / 2;\n\t\t\ty = (this.top || 0) + (this.height || 0) / 2;\n\t\t}\n\n\t\tvar rad = deg * Math.PI / 180, sin = Math.sin(rad), cos = Math.cos(rad);\n\n\t\tthis.transform(1, 0, 0, 1, x, y);\n\t\tvar m = this;\n\n\t\treturn this.transformTo(\n\t\t\tcos * m.xx - sin * m.yx,\n\t\t\tsin * m.xx + cos * m.yx,\n\t\t\tcos * m.xy - sin * m.yy,\n\t\t\tsin * m.xy + cos * m.yy,\n\t\t\tm.x,\n\t\t\tm.y\n\t\t).transform(1, 0, 0, 1, -x, -y);\n\t},\n\n\tmoveTo: function(x, y){\n\t\tvar m = this;\n\t\treturn this.transformTo(m.xx, m.yx, m.xy, m.yy, x, y);\n\t},\n\n\trotateTo: function(deg, x, y){\n\t\tvar m = this;\n\t\tvar flip = m.yx / m.xx > m.yy / m.xy ? -1 : 1;\n\t\tif (m.xx < 0 ? m.xy >= 0 : m.xy < 0) flip = -flip;\n\t\treturn this.rotate(deg - Math.atan2(flip * m.yx, flip * m.xx) * 180 / Math.PI, x, y);\n\t},\n\n\tscaleTo: function(x, y){\n\t\t// Normalize\n\t\tvar m = this;\n\n\t\tvar h = Math.sqrt(m.xx * m.xx + m.yx * m.yx);\n\t\tm.xx /= h; m.yx /= h;\n\n\t\th = Math.sqrt(m.yy * m.yy + m.xy * m.xy);\n\t\tm.yy /= h; m.xy /= h;\n\n\t\treturn this.scale(x, y);\n\t},\n\n\tresizeTo: function(width, height){\n\t\tvar w = this.width, h = this.height;\n\t\tif (!w || !h) return this;\n\t\treturn this.scaleTo(width / w, height / h);\n\t},\n\n\t/*\n\tinverse: function(){\n\t\tvar a = this.xx, b = this.yx,\n\t\t\tc = this.xy, d = this.yy,\n\t\t\te = this.x, f = this.y;\n\t\tif (a * d - b * c == 0) return null;\n\t\treturn new Transform(\n\t\t\td/(a * d-b * c), b/(b * c-a * d),\n\t\t\tc/(b * c-a * d), a/(a * d-b * c),\n\t\t\t(d * e-c * f)/(b * c-a * d), (b * e-a * f)/(a * d-b * c)\n\t\t);\n\t},\n\t*/\n\n\tinversePoint: function(x, y){\n\t\tvar a = this.xx, b = this.yx,\n\t\t\tc = this.xy, d = this.yy,\n\t\t\te = this.x, f = this.y;\n\t\tvar det = b * c - a * d;\n\t\tif (det == 0) return null;\n\t\treturn {\n\t\t\tx: (d * (e - x) + c * (y - f)) / det,\n\t\t\ty: (a * (f - y) + b * (x - e)) / det\n\t\t};\n\t},\n\n\tpoint: function(x, y){\n\t\tvar m = this;\n\t\treturn {\n\t\t\tx: m.xx * x + m.xy * y + m.x,\n\t\t\ty: m.yx * x + m.yy * y + m.y\n\t\t};\n\t}\t\n\n});\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule Button\n * @flow\n */\n'use strict';\n\nconst ColorPropType = require('ColorPropType');\nconst Platform = require('Platform');\nconst React = require('React');\nconst StyleSheet = require('StyleSheet');\nconst Text = require('Text');\nconst TouchableNativeFeedback = require('TouchableNativeFeedback');\nconst TouchableOpacity = require('TouchableOpacity');\nconst View = require('View');\n\nconst invariant = require('fbjs/lib/invariant');\n\n/**\n * A basic button component that should render nicely on any platform. Supports\n * a minimal level of customization.\n *\n * <center><img src=\"img/buttonExample.png\"></img></center>\n *\n * If this button doesn't look right for your app, you can build your own\n * button using [TouchableOpacity](docs/touchableopacity.html)\n * or [TouchableNativeFeedback](docs/touchablenativefeedback.html).\n * For inspiration, look at the [source code for this button component](https://github.com/facebook/react-native/blob/master/Libraries/Components/Button.js).\n * Or, take a look at the [wide variety of button components built by the community](https://js.coach/react-native?search=button).\n *\n * Example usage:\n *\n * ```\n * <Button\n *   onPress={onPressLearnMore}\n *   title=\"Learn More\"\n *   color=\"#841584\"\n *   accessibilityLabel=\"Learn more about this purple button\"\n * />\n * ```\n *\n */\n\nclass Button extends React.Component {\n\n  props: {\n    title: string,\n    onPress: () => any,\n    color?: ?string,\n    accessibilityLabel?: ?string,\n    disabled?: ?boolean,\n    testID?: ?string,\n  };\n\n  static propTypes = {\n    /**\n     * Text to display inside the button\n     */\n    title: React.PropTypes.string.isRequired,\n    /**\n     * Text to display for blindness accessibility features\n     */\n    accessibilityLabel: React.PropTypes.string,\n    /**\n     * Color of the text (iOS), or background color of the button (Android)\n     */\n    color: ColorPropType,\n    /**\n     * If true, disable all interactions for this component.\n     */\n    disabled: React.PropTypes.bool,\n    /**\n     * Handler to be called when the user taps the button\n     */\n    onPress: React.PropTypes.func.isRequired,\n    /**\n     * Used to locate this view in end-to-end tests.\n     */\n    testID: React.PropTypes.string,\n  };\n\n  render() {\n    const {\n      accessibilityLabel,\n      color,\n      onPress,\n      title,\n      disabled,\n      testID,\n    } = this.props;\n    const buttonStyles = [styles.button];\n    const textStyles = [styles.text];\n    const Touchable = Platform.OS === 'android' ? TouchableNativeFeedback : TouchableOpacity;\n    if (color && Platform.OS === 'ios') {\n      textStyles.push({color: color});\n    } else if (color) {\n      buttonStyles.push({backgroundColor: color});\n    }\n    if (disabled) {\n      buttonStyles.push(styles.buttonDisabled);\n      textStyles.push(styles.textDisabled);\n    }\n    invariant(\n      typeof title === 'string',\n      'The title prop of a Button must be a string',\n    );\n    const formattedTitle = Platform.OS === 'android' ? title.toUpperCase() : title;\n    const accessibilityTraits = ['button'];\n    if (disabled) {\n      accessibilityTraits.push('disabled');\n    }\n    return (\n      <Touchable\n        accessibilityComponentType=\"button\"\n        accessibilityLabel={accessibilityLabel}\n        accessibilityTraits={accessibilityTraits}\n        testID={testID}\n        disabled={disabled}\n        onPress={onPress}>\n        <View style={buttonStyles}>\n          <Text style={textStyles}>{formattedTitle}</Text>\n        </View>\n      </Touchable>\n    );\n  }\n}\n\n// Material design blue from https://material.google.com/style/color.html#color-color-palette\nlet defaultBlue = '#2196F3';\nif (Platform.OS === 'ios') {\n  // Measured default tintColor from iOS 10\n  defaultBlue = '#0C42FD';\n}\n\nconst styles = StyleSheet.create({\n  button: Platform.select({\n    ios: {},\n    android: {\n      elevation: 4,\n      backgroundColor: defaultBlue,\n      borderRadius: 2,\n    },\n  }),\n  text: Platform.select({\n    ios: {\n      color: defaultBlue,\n      textAlign: 'center',\n      padding: 8,\n      fontSize: 18,\n    },\n    android: {\n      textAlign: 'center',\n      color: 'white',\n      padding: 8,\n      fontWeight: '500',\n    },\n  }),\n  buttonDisabled: Platform.select({\n    ios: {},\n    android: {\n      elevation: 0,\n      backgroundColor: '#dfdfdf',\n    }\n  }),\n  textDisabled: Platform.select({\n    ios: {\n      color: '#cdcdcd',\n    },\n    android: {\n      color: '#a1a1a1',\n    }\n  }),\n});\n\nmodule.exports = Button;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule Text\n * @flow\n */\n'use strict';\n\nconst ColorPropType = require('ColorPropType');\nconst EdgeInsetsPropType = require('EdgeInsetsPropType');\nconst NativeMethodsMixin = require('NativeMethodsMixin');\nconst Platform = require('Platform');\nconst React = require('React');\nconst ReactNativeViewAttributes = require('ReactNativeViewAttributes');\nconst StyleSheetPropType = require('StyleSheetPropType');\nconst TextStylePropTypes = require('TextStylePropTypes');\nconst Touchable = require('Touchable');\n\nconst processColor = require('processColor');\nconst createReactNativeComponentClass = require('createReactNativeComponentClass');\nconst mergeFast = require('mergeFast');\n\nconst { PropTypes } = React;\n\nconst stylePropType = StyleSheetPropType(TextStylePropTypes);\n\nconst viewConfig = {\n  validAttributes: mergeFast(ReactNativeViewAttributes.UIView, {\n    isHighlighted: true,\n    numberOfLines: true,\n    ellipsizeMode: true,\n    allowFontScaling: true,\n    selectable: true,\n    selectionColor: true,\n    adjustsFontSizeToFit: true,\n    minimumFontScale: true,\n    textBreakStrategy: true,\n  }),\n  uiViewClassName: 'RCTText',\n};\n\n/**\n * A React component for displaying text.\n *\n * `Text` supports nesting, styling, and touch handling.\n *\n * In the following example, the nested title and body text will inherit the `fontFamily` from\n *`styles.baseText`, but the title provides its own additional styles.  The title and body will\n * stack on top of each other on account of the literal newlines:\n *\n * ```ReactNativeWebPlayer\n * import React, { Component } from 'react';\n * import { AppRegistry, Text, StyleSheet } from 'react-native';\n *\n * class TextInANest extends Component {\n *   constructor(props) {\n *     super(props);\n *     this.state = {\n *       titleText: \"Bird's Nest\",\n *       bodyText: 'This is not really a bird nest.'\n *     };\n *   }\n *\n *   render() {\n *     return (\n *       <Text style={styles.baseText}>\n *         <Text style={styles.titleText} onPress={this.onPressTitle}>\n *           {this.state.titleText}{'\\n'}{'\\n'}\n *         </Text>\n *         <Text numberOfLines={5}>\n *           {this.state.bodyText}\n *         </Text>\n *       </Text>\n *     );\n *   }\n * }\n *\n * const styles = StyleSheet.create({\n *   baseText: {\n *     fontFamily: 'Cochin',\n *   },\n *   titleText: {\n *     fontSize: 20,\n *     fontWeight: 'bold',\n *   },\n * });\n *\n * // App registration and rendering\n * AppRegistry.registerComponent('TextInANest', () => TextInANest);\n * ```\n */\n\nconst Text = React.createClass({\n  propTypes: {\n    /**\n     * When `numberOfLines` is set, this prop defines how text will be truncated.\n     * `numberOfLines` must be set in conjunction with this prop.\n     *\n     * This can be one of the following values:\n     *\n     * - `head` - The line is displayed so that the end fits in the container and the missing text\n     * at the beginning of the line is indicated by an ellipsis glyph. e.g., \"...wxyz\"\n     * - `middle` - The line is displayed so that the beginning and end fit in the container and the\n     * missing text in the middle is indicated by an ellipsis glyph. \"ab...yz\"\n     * - `tail` - The line is displayed so that the beginning fits in the container and the\n     * missing text at the end of the line is indicated by an ellipsis glyph. e.g., \"abcd...\"\n     * - `clip` - Lines are not drawn past the edge of the text container.\n     *\n     * The default is `tail`.\n     *\n     * > `clip` is working only for iOS\n     */\n    ellipsizeMode: PropTypes.oneOf(['head', 'middle', 'tail', 'clip']),\n    /**\n     * Used to truncate the text with an ellipsis after computing the text\n     * layout, including line wrapping, such that the total number of lines\n     * does not exceed this number.\n     *\n     * This prop is commonly used with `ellipsizeMode`.\n     */\n    numberOfLines: PropTypes.number,\n    /**\n     * Set text break strategy on Android API Level 23+, possible values are `simple`, `highQuality`, `balanced`\n     * The default value is `highQuality`.\n     * @platform android\n     */\n    textBreakStrategy: PropTypes.oneOf(['simple', 'highQuality', 'balanced']),\n    /**\n     * Invoked on mount and layout changes with\n     *\n     *   `{nativeEvent: {layout: {x, y, width, height}}}`\n     */\n    onLayout: PropTypes.func,\n    /**\n     * This function is called on press.\n     *\n     * e.g., `onPress={() => console.log('1st')}`\n     */\n    onPress: PropTypes.func,\n    /**\n     * This function is called on long press.\n     *\n     * e.g., `onLongPress={this.increaseSize}>`\n     */\n    onLongPress: PropTypes.func,\n    /**\n     * When the scroll view is disabled, this defines how far your touch may\n     * move off of the button, before deactivating the button. Once deactivated,\n     * try moving it back and you'll see that the button is once again\n     * reactivated! Move it back and forth several times while the scroll view\n     * is disabled. Ensure you pass in a constant to reduce memory allocations.\n     */\n    pressRetentionOffset: EdgeInsetsPropType,\n    /**\n     * Lets the user select text, to use the native copy and paste functionality.\n     */\n    selectable: PropTypes.bool,\n    /**\n     * The highlight color of the text.\n     * @platform android\n     */\n    selectionColor: ColorPropType,\n    /**\n     * When `true`, no visual change is made when text is pressed down. By\n     * default, a gray oval highlights the text on press down.\n     * @platform ios\n     */\n    suppressHighlighting: PropTypes.bool,\n    style: stylePropType,\n    /**\n     * Used to locate this view in end-to-end tests.\n     */\n    testID: PropTypes.string,\n    /**\n     * Specifies whether fonts should scale to respect Text Size accessibility settings. The\n     * default is `true`.\n     */\n    allowFontScaling: PropTypes.bool,\n    /**\n     * When set to `true`, indicates that the view is an accessibility element. The default value\n     * for a `Text` element is `true`.\n     *\n     * See the\n     * [Accessibility guide](docs/accessibility.html#accessible-ios-android)\n     * for more information.\n     */\n    accessible: PropTypes.bool,\n    /**\n     * Specifies whether font should be scaled down automatically to fit given style constraints.\n     * @platform ios\n     */\n    adjustsFontSizeToFit: PropTypes.bool,\n\n    /**\n     * Specifies smallest possible scale a font can reach when adjustsFontSizeToFit is enabled. (values 0.01-1.0).\n     * @platform ios\n     */\n    minimumFontScale: PropTypes.number,\n  },\n  getDefaultProps(): Object {\n    return {\n      accessible: true,\n      allowFontScaling: true,\n      ellipsizeMode: 'tail',\n    };\n  },\n  getInitialState: function(): Object {\n    return mergeFast(Touchable.Mixin.touchableGetInitialState(), {\n      isHighlighted: false,\n    });\n  },\n  mixins: [NativeMethodsMixin],\n  viewConfig: viewConfig,\n  getChildContext(): Object {\n    return {isInAParentText: true};\n  },\n  childContextTypes: {\n    isInAParentText: PropTypes.bool\n  },\n  contextTypes: {\n    isInAParentText: PropTypes.bool\n  },\n  /**\n   * Only assigned if touch is needed.\n   */\n  _handlers: (null: ?Object),\n  _hasPressHandler(): boolean {\n    return !!this.props.onPress || !!this.props.onLongPress;\n  },\n  /**\n   * These are assigned lazily the first time the responder is set to make plain\n   * text nodes as cheap as possible.\n   */\n  touchableHandleActivePressIn: (null: ?Function),\n  touchableHandleActivePressOut: (null: ?Function),\n  touchableHandlePress: (null: ?Function),\n  touchableHandleLongPress: (null: ?Function),\n  touchableGetPressRectOffset: (null: ?Function),\n  render(): React.Element<any> {\n    let newProps = this.props;\n    if (this.props.onStartShouldSetResponder || this._hasPressHandler()) {\n      if (!this._handlers) {\n        this._handlers = {\n          onStartShouldSetResponder: (): bool => {\n            const shouldSetFromProps = this.props.onStartShouldSetResponder &&\n                this.props.onStartShouldSetResponder();\n            const setResponder = shouldSetFromProps || this._hasPressHandler();\n            if (setResponder && !this.touchableHandleActivePressIn) {\n              // Attach and bind all the other handlers only the first time a touch\n              // actually happens.\n              for (const key in Touchable.Mixin) {\n                if (typeof Touchable.Mixin[key] === 'function') {\n                  (this: any)[key] = Touchable.Mixin[key].bind(this);\n                }\n              }\n              this.touchableHandleActivePressIn = () => {\n                if (this.props.suppressHighlighting || !this._hasPressHandler()) {\n                  return;\n                }\n                this.setState({\n                  isHighlighted: true,\n                });\n              };\n\n              this.touchableHandleActivePressOut = () => {\n                if (this.props.suppressHighlighting || !this._hasPressHandler()) {\n                  return;\n                }\n                this.setState({\n                  isHighlighted: false,\n                });\n              };\n\n              this.touchableHandlePress = (e: SyntheticEvent) => {\n                this.props.onPress && this.props.onPress(e);\n              };\n\n              this.touchableHandleLongPress = (e: SyntheticEvent) => {\n                this.props.onLongPress && this.props.onLongPress(e);\n              };\n\n              this.touchableGetPressRectOffset = function(): RectOffset {\n                return this.props.pressRetentionOffset || PRESS_RECT_OFFSET;\n              };\n            }\n            return setResponder;\n          },\n          onResponderGrant: function(e: SyntheticEvent, dispatchID: string) {\n            this.touchableHandleResponderGrant(e, dispatchID);\n            this.props.onResponderGrant &&\n              this.props.onResponderGrant.apply(this, arguments);\n          }.bind(this),\n          onResponderMove: function(e: SyntheticEvent) {\n            this.touchableHandleResponderMove(e);\n            this.props.onResponderMove &&\n              this.props.onResponderMove.apply(this, arguments);\n          }.bind(this),\n          onResponderRelease: function(e: SyntheticEvent) {\n            this.touchableHandleResponderRelease(e);\n            this.props.onResponderRelease &&\n              this.props.onResponderRelease.apply(this, arguments);\n          }.bind(this),\n          onResponderTerminate: function(e: SyntheticEvent) {\n            this.touchableHandleResponderTerminate(e);\n            this.props.onResponderTerminate &&\n              this.props.onResponderTerminate.apply(this, arguments);\n          }.bind(this),\n          onResponderTerminationRequest: function(): bool {\n            // Allow touchable or props.onResponderTerminationRequest to deny\n            // the request\n            var allowTermination = this.touchableHandleResponderTerminationRequest();\n            if (allowTermination && this.props.onResponderTerminationRequest) {\n              allowTermination = this.props.onResponderTerminationRequest.apply(this, arguments);\n            }\n            return allowTermination;\n          }.bind(this),\n        };\n      }\n      newProps = {\n        ...this.props,\n        ...this._handlers,\n        isHighlighted: this.state.isHighlighted,\n      };\n    }\n    if (newProps.selectionColor != null) {\n      newProps = {\n        ...newProps,\n        selectionColor: processColor(newProps.selectionColor)\n      };\n    }\n    if (Touchable.TOUCH_TARGET_DEBUG && newProps.onPress) {\n      newProps = {\n        ...newProps,\n        style: [this.props.style, {color: 'magenta'}],\n      };\n    }\n    if (this.context.isInAParentText) {\n      return <RCTVirtualText {...newProps} />;\n    } else {\n      return <RCTText {...newProps} />;\n    }\n  },\n});\n\ntype RectOffset = {\n  top: number,\n  left: number,\n  right: number,\n  bottom: number,\n}\n\nvar PRESS_RECT_OFFSET = {top: 20, left: 20, right: 20, bottom: 30};\n\nvar RCTText = createReactNativeComponentClass(viewConfig);\nvar RCTVirtualText = RCTText;\n\nif (Platform.OS === 'android') {\n  RCTVirtualText = createReactNativeComponentClass({\n    validAttributes: mergeFast(ReactNativeViewAttributes.UIView, {\n      isHighlighted: true,\n    }),\n    uiViewClassName: 'RCTVirtualText',\n  });\n}\n\nmodule.exports = Text;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule Touchable\n */\n\n'use strict';\n\nconst BoundingDimensions = require('BoundingDimensions');\nconst Platform = require('Platform');\nconst Position = require('Position');\nconst React = require('React');\nconst ReactNative = require('ReactNative');\nconst TVEventHandler = require('TVEventHandler');\nconst TouchEventUtils = require('fbjs/lib/TouchEventUtils');\nconst UIManager = require('UIManager');\nconst View = require('View');\n\nconst keyMirror = require('fbjs/lib/keyMirror');\nconst normalizeColor = require('normalizeColor');\n\n/**\n * `Touchable`: Taps done right.\n *\n * You hook your `ResponderEventPlugin` events into `Touchable`. `Touchable`\n * will measure time/geometry and tells you when to give feedback to the user.\n *\n * ====================== Touchable Tutorial ===============================\n * The `Touchable` mixin helps you handle the \"press\" interaction. It analyzes\n * the geometry of elements, and observes when another responder (scroll view\n * etc) has stolen the touch lock. It notifies your component when it should\n * give feedback to the user. (bouncing/highlighting/unhighlighting).\n *\n * - When a touch was activated (typically you highlight)\n * - When a touch was deactivated (typically you unhighlight)\n * - When a touch was \"pressed\" - a touch ended while still within the geometry\n *   of the element, and no other element (like scroller) has \"stolen\" touch\n *   lock (\"responder\") (Typically you bounce the element).\n *\n * A good tap interaction isn't as simple as you might think. There should be a\n * slight delay before showing a highlight when starting a touch. If a\n * subsequent touch move exceeds the boundary of the element, it should\n * unhighlight, but if that same touch is brought back within the boundary, it\n * should rehighlight again. A touch can move in and out of that boundary\n * several times, each time toggling highlighting, but a \"press\" is only\n * triggered if that touch ends while within the element's boundary and no\n * scroller (or anything else) has stolen the lock on touches.\n *\n * To create a new type of component that handles interaction using the\n * `Touchable` mixin, do the following:\n *\n * - Initialize the `Touchable` state.\n *\n *   getInitialState: function() {\n *     return merge(this.touchableGetInitialState(), yourComponentState);\n *   }\n *\n * - Choose the rendered component who's touches should start the interactive\n *   sequence. On that rendered node, forward all `Touchable` responder\n *   handlers. You can choose any rendered node you like. Choose a node whose\n *   hit target you'd like to instigate the interaction sequence:\n *\n *   // In render function:\n *   return (\n *     <View\n *       onStartShouldSetResponder={this.touchableHandleStartShouldSetResponder}\n *       onResponderTerminationRequest={this.touchableHandleResponderTerminationRequest}\n *       onResponderGrant={this.touchableHandleResponderGrant}\n *       onResponderMove={this.touchableHandleResponderMove}\n *       onResponderRelease={this.touchableHandleResponderRelease}\n *       onResponderTerminate={this.touchableHandleResponderTerminate}>\n *       <View>\n *         Even though the hit detection/interactions are triggered by the\n *         wrapping (typically larger) node, we usually end up implementing\n *         custom logic that highlights this inner one.\n *       </View>\n *     </View>\n *   );\n *\n * - You may set up your own handlers for each of these events, so long as you\n *   also invoke the `touchable*` handlers inside of your custom handler.\n *\n * - Implement the handlers on your component class in order to provide\n *   feedback to the user. See documentation for each of these class methods\n *   that you should implement.\n *\n *   touchableHandlePress: function() {\n *      this.performBounceAnimation();  // or whatever you want to do.\n *   },\n *   touchableHandleActivePressIn: function() {\n *     this.beginHighlighting(...);  // Whatever you like to convey activation\n *   },\n *   touchableHandleActivePressOut: function() {\n *     this.endHighlighting(...);  // Whatever you like to convey deactivation\n *   },\n *\n * - There are more advanced methods you can implement (see documentation below):\n *   touchableGetHighlightDelayMS: function() {\n *     return 20;\n *   }\n *   // In practice, *always* use a predeclared constant (conserve memory).\n *   touchableGetPressRectOffset: function() {\n *     return {top: 20, left: 20, right: 20, bottom: 100};\n *   }\n */\n\n/**\n * Touchable states.\n */\nvar States = keyMirror({\n  NOT_RESPONDER: null,                   // Not the responder\n  RESPONDER_INACTIVE_PRESS_IN: null,     // Responder, inactive, in the `PressRect`\n  RESPONDER_INACTIVE_PRESS_OUT: null,    // Responder, inactive, out of `PressRect`\n  RESPONDER_ACTIVE_PRESS_IN: null,       // Responder, active, in the `PressRect`\n  RESPONDER_ACTIVE_PRESS_OUT: null,      // Responder, active, out of `PressRect`\n  RESPONDER_ACTIVE_LONG_PRESS_IN: null,  // Responder, active, in the `PressRect`, after long press threshold\n  RESPONDER_ACTIVE_LONG_PRESS_OUT: null, // Responder, active, out of `PressRect`, after long press threshold\n  ERROR: null\n});\n\n/**\n * Quick lookup map for states that are considered to be \"active\"\n */\nvar IsActive = {\n  RESPONDER_ACTIVE_PRESS_OUT: true,\n  RESPONDER_ACTIVE_PRESS_IN: true\n};\n\n/**\n * Quick lookup for states that are considered to be \"pressing\" and are\n * therefore eligible to result in a \"selection\" if the press stops.\n */\nvar IsPressingIn = {\n  RESPONDER_INACTIVE_PRESS_IN: true,\n  RESPONDER_ACTIVE_PRESS_IN: true,\n  RESPONDER_ACTIVE_LONG_PRESS_IN: true,\n};\n\nvar IsLongPressingIn = {\n  RESPONDER_ACTIVE_LONG_PRESS_IN: true,\n};\n\n/**\n * Inputs to the state machine.\n */\nvar Signals = keyMirror({\n  DELAY: null,\n  RESPONDER_GRANT: null,\n  RESPONDER_RELEASE: null,\n  RESPONDER_TERMINATED: null,\n  ENTER_PRESS_RECT: null,\n  LEAVE_PRESS_RECT: null,\n  LONG_PRESS_DETECTED: null,\n});\n\n/**\n * Mapping from States x Signals => States\n */\nvar Transitions = {\n  NOT_RESPONDER: {\n    DELAY: States.ERROR,\n    RESPONDER_GRANT: States.RESPONDER_INACTIVE_PRESS_IN,\n    RESPONDER_RELEASE: States.ERROR,\n    RESPONDER_TERMINATED: States.ERROR,\n    ENTER_PRESS_RECT: States.ERROR,\n    LEAVE_PRESS_RECT: States.ERROR,\n    LONG_PRESS_DETECTED: States.ERROR,\n  },\n  RESPONDER_INACTIVE_PRESS_IN: {\n    DELAY: States.RESPONDER_ACTIVE_PRESS_IN,\n    RESPONDER_GRANT: States.ERROR,\n    RESPONDER_RELEASE: States.NOT_RESPONDER,\n    RESPONDER_TERMINATED: States.NOT_RESPONDER,\n    ENTER_PRESS_RECT: States.RESPONDER_INACTIVE_PRESS_IN,\n    LEAVE_PRESS_RECT: States.RESPONDER_INACTIVE_PRESS_OUT,\n    LONG_PRESS_DETECTED: States.ERROR,\n  },\n  RESPONDER_INACTIVE_PRESS_OUT: {\n    DELAY: States.RESPONDER_ACTIVE_PRESS_OUT,\n    RESPONDER_GRANT: States.ERROR,\n    RESPONDER_RELEASE: States.NOT_RESPONDER,\n    RESPONDER_TERMINATED: States.NOT_RESPONDER,\n    ENTER_PRESS_RECT: States.RESPONDER_INACTIVE_PRESS_IN,\n    LEAVE_PRESS_RECT: States.RESPONDER_INACTIVE_PRESS_OUT,\n    LONG_PRESS_DETECTED: States.ERROR,\n  },\n  RESPONDER_ACTIVE_PRESS_IN: {\n    DELAY: States.ERROR,\n    RESPONDER_GRANT: States.ERROR,\n    RESPONDER_RELEASE: States.NOT_RESPONDER,\n    RESPONDER_TERMINATED: States.NOT_RESPONDER,\n    ENTER_PRESS_RECT: States.RESPONDER_ACTIVE_PRESS_IN,\n    LEAVE_PRESS_RECT: States.RESPONDER_ACTIVE_PRESS_OUT,\n    LONG_PRESS_DETECTED: States.RESPONDER_ACTIVE_LONG_PRESS_IN,\n  },\n  RESPONDER_ACTIVE_PRESS_OUT: {\n    DELAY: States.ERROR,\n    RESPONDER_GRANT: States.ERROR,\n    RESPONDER_RELEASE: States.NOT_RESPONDER,\n    RESPONDER_TERMINATED: States.NOT_RESPONDER,\n    ENTER_PRESS_RECT: States.RESPONDER_ACTIVE_PRESS_IN,\n    LEAVE_PRESS_RECT: States.RESPONDER_ACTIVE_PRESS_OUT,\n    LONG_PRESS_DETECTED: States.ERROR,\n  },\n  RESPONDER_ACTIVE_LONG_PRESS_IN: {\n    DELAY: States.ERROR,\n    RESPONDER_GRANT: States.ERROR,\n    RESPONDER_RELEASE: States.NOT_RESPONDER,\n    RESPONDER_TERMINATED: States.NOT_RESPONDER,\n    ENTER_PRESS_RECT: States.RESPONDER_ACTIVE_LONG_PRESS_IN,\n    LEAVE_PRESS_RECT: States.RESPONDER_ACTIVE_LONG_PRESS_OUT,\n    LONG_PRESS_DETECTED: States.RESPONDER_ACTIVE_LONG_PRESS_IN,\n  },\n  RESPONDER_ACTIVE_LONG_PRESS_OUT: {\n    DELAY: States.ERROR,\n    RESPONDER_GRANT: States.ERROR,\n    RESPONDER_RELEASE: States.NOT_RESPONDER,\n    RESPONDER_TERMINATED: States.NOT_RESPONDER,\n    ENTER_PRESS_RECT: States.RESPONDER_ACTIVE_LONG_PRESS_IN,\n    LEAVE_PRESS_RECT: States.RESPONDER_ACTIVE_LONG_PRESS_OUT,\n    LONG_PRESS_DETECTED: States.ERROR,\n  },\n  error: {\n    DELAY: States.NOT_RESPONDER,\n    RESPONDER_GRANT: States.RESPONDER_INACTIVE_PRESS_IN,\n    RESPONDER_RELEASE: States.NOT_RESPONDER,\n    RESPONDER_TERMINATED: States.NOT_RESPONDER,\n    ENTER_PRESS_RECT: States.NOT_RESPONDER,\n    LEAVE_PRESS_RECT: States.NOT_RESPONDER,\n    LONG_PRESS_DETECTED: States.NOT_RESPONDER,\n  }\n};\n\n// ==== Typical Constants for integrating into UI components ====\n// var HIT_EXPAND_PX = 20;\n// var HIT_VERT_OFFSET_PX = 10;\nvar HIGHLIGHT_DELAY_MS = 130;\n\nvar PRESS_EXPAND_PX = 20;\n\nvar LONG_PRESS_THRESHOLD = 500;\n\nvar LONG_PRESS_DELAY_MS = LONG_PRESS_THRESHOLD - HIGHLIGHT_DELAY_MS;\n\nvar LONG_PRESS_ALLOWED_MOVEMENT = 10;\n\n// Default amount \"active\" region protrudes beyond box\n\n/**\n * By convention, methods prefixed with underscores are meant to be @private,\n * and not @protected. Mixers shouldn't access them - not even to provide them\n * as callback handlers.\n *\n *\n * ========== Geometry =========\n * `Touchable` only assumes that there exists a `HitRect` node. The `PressRect`\n * is an abstract box that is extended beyond the `HitRect`.\n *\n *  +--------------------------+\n *  |                          | - \"Start\" events in `HitRect` cause `HitRect`\n *  |  +--------------------+  |   to become the responder.\n *  |  |  +--------------+  |  | - `HitRect` is typically expanded around\n *  |  |  |              |  |  |   the `VisualRect`, but shifted downward.\n *  |  |  |  VisualRect  |  |  | - After pressing down, after some delay,\n *  |  |  |              |  |  |   and before letting up, the Visual React\n *  |  |  +--------------+  |  |   will become \"active\". This makes it eligible\n *  |  |     HitRect        |  |   for being highlighted (so long as the\n *  |  +--------------------+  |   press remains in the `PressRect`).\n *  |        PressRect     o   |\n *  +----------------------|---+\n *           Out Region    |\n *                         +-----+ This gap between the `HitRect` and\n *                                 `PressRect` allows a touch to move far away\n *                                 from the original hit rect, and remain\n *                                 highlighted, and eligible for a \"Press\".\n *                                 Customize this via\n *                                 `touchableGetPressRectOffset()`.\n *\n *\n *\n * ======= State Machine =======\n *\n * +-------------+ <---+ RESPONDER_RELEASE\n * |NOT_RESPONDER|\n * +-------------+ <---+ RESPONDER_TERMINATED\n *     +\n *     | RESPONDER_GRANT (HitRect)\n *     v\n * +---------------------------+  DELAY   +-------------------------+  T + DELAY     +------------------------------+\n * |RESPONDER_INACTIVE_PRESS_IN|+-------->|RESPONDER_ACTIVE_PRESS_IN| +------------> |RESPONDER_ACTIVE_LONG_PRESS_IN|\n * +---------------------------+          +-------------------------+                +------------------------------+\n *     +            ^                         +           ^                                 +           ^\n *     |LEAVE_      |ENTER_                   |LEAVE_     |ENTER_                           |LEAVE_     |ENTER_\n *     |PRESS_RECT  |PRESS_RECT               |PRESS_RECT |PRESS_RECT                       |PRESS_RECT |PRESS_RECT\n *     |            |                         |           |                                 |           |\n *     v            +                         v           +                                 v           +\n * +----------------------------+  DELAY  +--------------------------+               +-------------------------------+\n * |RESPONDER_INACTIVE_PRESS_OUT|+------->|RESPONDER_ACTIVE_PRESS_OUT|               |RESPONDER_ACTIVE_LONG_PRESS_OUT|\n * +----------------------------+         +--------------------------+               +-------------------------------+\n *\n * T + DELAY => LONG_PRESS_DELAY_MS + DELAY\n *\n * Not drawn are the side effects of each transition. The most important side\n * effect is the `touchableHandlePress` abstract method invocation that occurs\n * when a responder is released while in either of the \"Press\" states.\n *\n * The other important side effects are the highlight abstract method\n * invocations (internal callbacks) to be implemented by the mixer.\n *\n *\n * @lends Touchable.prototype\n */\nvar TouchableMixin = {\n  componentDidMount: function() {\n    if (!Platform.isTVOS) {\n      return;\n    }\n\n    this._tvEventHandler = new TVEventHandler();\n    this._tvEventHandler.enable(this, function(cmp, evt) {\n      var myTag = ReactNative.findNodeHandle(cmp);\n      evt.dispatchConfig = {};\n      if (myTag === evt.tag) {\n        if (evt.eventType === 'focus') {\n          cmp.touchableHandleActivePressIn && cmp.touchableHandleActivePressIn(evt);\n        } else if (evt.eventType === 'blur') {\n          cmp.touchableHandleActivePressOut && cmp.touchableHandleActivePressOut(evt);\n        } else if (evt.eventType === 'select') {\n          cmp.touchableHandlePress && cmp.touchableHandlePress(evt);\n        }\n      }\n    });\n  },\n\n  /**\n   * Clear all timeouts on unmount\n   */\n  componentWillUnmount: function() {\n    if (this._tvEventHandler) {\n      this._tvEventHandler.disable();\n      delete this._tvEventHandler;\n    }\n    this.touchableDelayTimeout && clearTimeout(this.touchableDelayTimeout);\n    this.longPressDelayTimeout && clearTimeout(this.longPressDelayTimeout);\n    this.pressOutDelayTimeout && clearTimeout(this.pressOutDelayTimeout);\n  },\n\n  /**\n   * It's prefer that mixins determine state in this way, having the class\n   * explicitly mix the state in the one and only `getInitialState` method.\n   *\n   * @return {object} State object to be placed inside of\n   * `this.state.touchable`.\n   */\n  touchableGetInitialState: function() {\n    return {\n      touchable: {touchState: undefined, responderID: null}\n    };\n  },\n\n  // ==== Hooks to Gesture Responder system ====\n  /**\n   * Must return true if embedded in a native platform scroll view.\n   */\n  touchableHandleResponderTerminationRequest: function() {\n    return !this.props.rejectResponderTermination;\n  },\n\n  /**\n   * Must return true to start the process of `Touchable`.\n   */\n  touchableHandleStartShouldSetResponder: function() {\n    return !this.props.disabled;\n  },\n\n  /**\n   * Return true to cancel press on long press.\n   */\n  touchableLongPressCancelsPress: function () {\n    return true;\n  },\n\n  /**\n   * Place as callback for a DOM element's `onResponderGrant` event.\n   * @param {SyntheticEvent} e Synthetic event from event system.\n   *\n   */\n  touchableHandleResponderGrant: function(e) {\n    var dispatchID = e.currentTarget;\n    // Since e is used in a callback invoked on another event loop\n    // (as in setTimeout etc), we need to call e.persist() on the\n    // event to make sure it doesn't get reused in the event object pool.\n    e.persist();\n\n    this.pressOutDelayTimeout && clearTimeout(this.pressOutDelayTimeout);\n    this.pressOutDelayTimeout = null;\n\n    this.state.touchable.touchState = States.NOT_RESPONDER;\n    this.state.touchable.responderID = dispatchID;\n    this._receiveSignal(Signals.RESPONDER_GRANT, e);\n    var delayMS =\n      this.touchableGetHighlightDelayMS !== undefined ?\n      Math.max(this.touchableGetHighlightDelayMS(), 0) : HIGHLIGHT_DELAY_MS;\n    delayMS = isNaN(delayMS) ? HIGHLIGHT_DELAY_MS : delayMS;\n    if (delayMS !== 0) {\n      this.touchableDelayTimeout = setTimeout(\n        this._handleDelay.bind(this, e),\n        delayMS\n      );\n    } else {\n      this._handleDelay(e);\n    }\n\n    var longDelayMS =\n      this.touchableGetLongPressDelayMS !== undefined ?\n      Math.max(this.touchableGetLongPressDelayMS(), 10) : LONG_PRESS_DELAY_MS;\n    longDelayMS = isNaN(longDelayMS) ? LONG_PRESS_DELAY_MS : longDelayMS;\n    this.longPressDelayTimeout = setTimeout(\n      this._handleLongDelay.bind(this, e),\n      longDelayMS + delayMS\n    );\n  },\n\n  /**\n   * Place as callback for a DOM element's `onResponderRelease` event.\n   */\n  touchableHandleResponderRelease: function(e) {\n    this._receiveSignal(Signals.RESPONDER_RELEASE, e);\n  },\n\n  /**\n   * Place as callback for a DOM element's `onResponderTerminate` event.\n   */\n  touchableHandleResponderTerminate: function(e) {\n    this._receiveSignal(Signals.RESPONDER_TERMINATED, e);\n  },\n\n  /**\n   * Place as callback for a DOM element's `onResponderMove` event.\n   */\n  touchableHandleResponderMove: function(e) {\n    // Not enough time elapsed yet, wait for highlight -\n    // this is just a perf optimization.\n    if (this.state.touchable.touchState === States.RESPONDER_INACTIVE_PRESS_IN) {\n      return;\n    }\n\n    // Measurement may not have returned yet.\n    if (!this.state.touchable.positionOnActivate) {\n      return;\n    }\n\n    var positionOnActivate = this.state.touchable.positionOnActivate;\n    var dimensionsOnActivate = this.state.touchable.dimensionsOnActivate;\n    var pressRectOffset = this.touchableGetPressRectOffset ?\n      this.touchableGetPressRectOffset() : {\n        left: PRESS_EXPAND_PX,\n        right: PRESS_EXPAND_PX,\n        top: PRESS_EXPAND_PX,\n        bottom: PRESS_EXPAND_PX\n      };\n\n    var pressExpandLeft = pressRectOffset.left;\n    var pressExpandTop = pressRectOffset.top;\n    var pressExpandRight = pressRectOffset.right;\n    var pressExpandBottom = pressRectOffset.bottom;\n\n    var hitSlop = this.touchableGetHitSlop ?\n      this.touchableGetHitSlop() : null;\n\n    if (hitSlop) {\n      pressExpandLeft += hitSlop.left;\n      pressExpandTop += hitSlop.top;\n      pressExpandRight += hitSlop.right;\n      pressExpandBottom += hitSlop.bottom;\n    }\n\n    var touch = TouchEventUtils.extractSingleTouch(e.nativeEvent);\n    var pageX = touch && touch.pageX;\n    var pageY = touch && touch.pageY;\n\n    if (this.pressInLocation) {\n      var movedDistance = this._getDistanceBetweenPoints(pageX, pageY, this.pressInLocation.pageX, this.pressInLocation.pageY);\n      if (movedDistance > LONG_PRESS_ALLOWED_MOVEMENT) {\n        this._cancelLongPressDelayTimeout();\n      }\n    }\n\n    var isTouchWithinActive =\n        pageX > positionOnActivate.left - pressExpandLeft &&\n        pageY > positionOnActivate.top - pressExpandTop &&\n        pageX <\n          positionOnActivate.left +\n          dimensionsOnActivate.width +\n          pressExpandRight &&\n        pageY <\n          positionOnActivate.top +\n          dimensionsOnActivate.height +\n          pressExpandBottom;\n    if (isTouchWithinActive) {\n      this._receiveSignal(Signals.ENTER_PRESS_RECT, e);\n      var curState = this.state.touchable.touchState;\n      if (curState === States.RESPONDER_INACTIVE_PRESS_IN) {\n        // fix for t7967420\n        this._cancelLongPressDelayTimeout();\n      }\n    } else {\n      this._cancelLongPressDelayTimeout();\n      this._receiveSignal(Signals.LEAVE_PRESS_RECT, e);\n    }\n  },\n\n  // ==== Abstract Application Callbacks ====\n\n  /**\n   * Invoked when the item should be highlighted. Mixers should implement this\n   * to visually distinguish the `VisualRect` so that the user knows that\n   * releasing a touch will result in a \"selection\" (analog to click).\n   *\n   * @abstract\n   * touchableHandleActivePressIn: function,\n   */\n\n  /**\n   * Invoked when the item is \"active\" (in that it is still eligible to become\n   * a \"select\") but the touch has left the `PressRect`. Usually the mixer will\n   * want to unhighlight the `VisualRect`. If the user (while pressing) moves\n   * back into the `PressRect` `touchableHandleActivePressIn` will be invoked\n   * again and the mixer should probably highlight the `VisualRect` again. This\n   * event will not fire on an `touchEnd/mouseUp` event, only move events while\n   * the user is depressing the mouse/touch.\n   *\n   * @abstract\n   * touchableHandleActivePressOut: function\n   */\n\n  /**\n   * Invoked when the item is \"selected\" - meaning the interaction ended by\n   * letting up while the item was either in the state\n   * `RESPONDER_ACTIVE_PRESS_IN` or `RESPONDER_INACTIVE_PRESS_IN`.\n   *\n   * @abstract\n   * touchableHandlePress: function\n   */\n\n  /**\n   * Invoked when the item is long pressed - meaning the interaction ended by\n   * letting up while the item was in `RESPONDER_ACTIVE_LONG_PRESS_IN`. If\n   * `touchableHandleLongPress` is *not* provided, `touchableHandlePress` will\n   * be called as it normally is. If `touchableHandleLongPress` is provided, by\n   * default any `touchableHandlePress` callback will not be invoked. To\n   * override this default behavior, override `touchableLongPressCancelsPress`\n   * to return false. As a result, `touchableHandlePress` will be called when\n   * lifting up, even if `touchableHandleLongPress` has also been called.\n   *\n   * @abstract\n   * touchableHandleLongPress: function\n   */\n\n  /**\n   * Returns the number of millis to wait before triggering a highlight.\n   *\n   * @abstract\n   * touchableGetHighlightDelayMS: function\n   */\n\n  /**\n   * Returns the amount to extend the `HitRect` into the `PressRect`. Positive\n   * numbers mean the size expands outwards.\n   *\n   * @abstract\n   * touchableGetPressRectOffset: function\n   */\n\n\n\n  // ==== Internal Logic ====\n\n  /**\n   * Measures the `HitRect` node on activation. The Bounding rectangle is with\n   * respect to viewport - not page, so adding the `pageXOffset/pageYOffset`\n   * should result in points that are in the same coordinate system as an\n   * event's `globalX/globalY` data values.\n   *\n   * - Consider caching this for the lifetime of the component, or possibly\n   *   being able to share this cache between any `ScrollMap` view.\n   *\n   * @sideeffects\n   * @private\n   */\n  _remeasureMetricsOnActivation: function() {\n    const tag = this.state.touchable.responderID;\n    if (tag == null) {\n      return;\n    }\n\n    UIManager.measure(tag, this._handleQueryLayout);\n  },\n\n  _handleQueryLayout: function(l, t, w, h, globalX, globalY) {\n    //don't do anything UIManager failed to measure node\n    if (!l && !t && !w && !h && !globalX && !globalY) {\n      return;\n    }\n    this.state.touchable.positionOnActivate &&\n      Position.release(this.state.touchable.positionOnActivate);\n    this.state.touchable.dimensionsOnActivate &&\n      BoundingDimensions.release(this.state.touchable.dimensionsOnActivate);\n    this.state.touchable.positionOnActivate = Position.getPooled(globalX, globalY);\n    this.state.touchable.dimensionsOnActivate = BoundingDimensions.getPooled(w, h);\n  },\n\n  _handleDelay: function(e) {\n    this.touchableDelayTimeout = null;\n    this._receiveSignal(Signals.DELAY, e);\n  },\n\n  _handleLongDelay: function(e) {\n    this.longPressDelayTimeout = null;\n    var curState = this.state.touchable.touchState;\n    if (curState !== States.RESPONDER_ACTIVE_PRESS_IN &&\n        curState !== States.RESPONDER_ACTIVE_LONG_PRESS_IN) {\n      console.error('Attempted to transition from state `' + curState + '` to `' +\n        States.RESPONDER_ACTIVE_LONG_PRESS_IN + '`, which is not supported. This is ' +\n        'most likely due to `Touchable.longPressDelayTimeout` not being cancelled.');\n    } else {\n      this._receiveSignal(Signals.LONG_PRESS_DETECTED, e);\n    }\n  },\n\n  /**\n   * Receives a state machine signal, performs side effects of the transition\n   * and stores the new state. Validates the transition as well.\n   *\n   * @param {Signals} signal State machine signal.\n   * @throws Error if invalid state transition or unrecognized signal.\n   * @sideeffects\n   */\n  _receiveSignal: function(signal, e) {\n    var responderID = this.state.touchable.responderID;\n    var curState = this.state.touchable.touchState;\n    var nextState = Transitions[curState] && Transitions[curState][signal];\n    if (!responderID && signal === Signals.RESPONDER_RELEASE) {\n      return;\n    }\n    if (!nextState) {\n      throw new Error(\n        'Unrecognized signal `' + signal + '` or state `' + curState +\n        '` for Touchable responder `' + responderID + '`'\n      );\n    }\n    if (nextState === States.ERROR) {\n      throw new Error(\n        'Touchable cannot transition from `' + curState + '` to `' + signal +\n        '` for responder `' + responderID + '`'\n      );\n    }\n    if (curState !== nextState) {\n      this._performSideEffectsForTransition(curState, nextState, signal, e);\n      this.state.touchable.touchState = nextState;\n    }\n  },\n\n  _cancelLongPressDelayTimeout: function () {\n    this.longPressDelayTimeout && clearTimeout(this.longPressDelayTimeout);\n    this.longPressDelayTimeout = null;\n  },\n\n  _isHighlight: function (state) {\n    return state === States.RESPONDER_ACTIVE_PRESS_IN ||\n           state === States.RESPONDER_ACTIVE_LONG_PRESS_IN;\n  },\n\n  _savePressInLocation: function(e) {\n    var touch = TouchEventUtils.extractSingleTouch(e.nativeEvent);\n    var pageX = touch && touch.pageX;\n    var pageY = touch && touch.pageY;\n    var locationX = touch && touch.locationX;\n    var locationY = touch && touch.locationY;\n    this.pressInLocation = {pageX, pageY, locationX, locationY};\n  },\n\n  _getDistanceBetweenPoints: function (aX, aY, bX, bY) {\n    var deltaX = aX - bX;\n    var deltaY = aY - bY;\n    return Math.sqrt(deltaX * deltaX + deltaY * deltaY);\n  },\n\n  /**\n   * Will perform a transition between touchable states, and identify any\n   * highlighting or unhighlighting that must be performed for this particular\n   * transition.\n   *\n   * @param {States} curState Current Touchable state.\n   * @param {States} nextState Next Touchable state.\n   * @param {Signal} signal Signal that triggered the transition.\n   * @param {Event} e Native event.\n   * @sideeffects\n   */\n  _performSideEffectsForTransition: function(curState, nextState, signal, e) {\n    var curIsHighlight = this._isHighlight(curState);\n    var newIsHighlight = this._isHighlight(nextState);\n\n    var isFinalSignal =\n      signal === Signals.RESPONDER_TERMINATED ||\n      signal === Signals.RESPONDER_RELEASE;\n\n    if (isFinalSignal) {\n      this._cancelLongPressDelayTimeout();\n    }\n\n    if (!IsActive[curState] && IsActive[nextState]) {\n      this._remeasureMetricsOnActivation();\n    }\n\n    if (IsPressingIn[curState] && signal === Signals.LONG_PRESS_DETECTED) {\n      this.touchableHandleLongPress && this.touchableHandleLongPress(e);\n    }\n\n    if (newIsHighlight && !curIsHighlight) {\n      this._startHighlight(e);\n    } else if (!newIsHighlight && curIsHighlight) {\n      this._endHighlight(e);\n    }\n\n    if (IsPressingIn[curState] && signal === Signals.RESPONDER_RELEASE) {\n      var hasLongPressHandler = !!this.props.onLongPress;\n      var pressIsLongButStillCallOnPress =\n        IsLongPressingIn[curState] && (    // We *are* long pressing..\n          !hasLongPressHandler ||          // But either has no long handler\n          !this.touchableLongPressCancelsPress() // or we're told to ignore it.\n        );\n\n      var shouldInvokePress =  !IsLongPressingIn[curState] || pressIsLongButStillCallOnPress;\n      if (shouldInvokePress && this.touchableHandlePress) {\n        if (!newIsHighlight && !curIsHighlight) {\n          // we never highlighted because of delay, but we should highlight now\n          this._startHighlight(e);\n          this._endHighlight(e);\n        }\n        this.touchableHandlePress(e);\n      }\n    }\n\n    this.touchableDelayTimeout && clearTimeout(this.touchableDelayTimeout);\n    this.touchableDelayTimeout = null;\n  },\n\n  _startHighlight: function(e) {\n    this._savePressInLocation(e);\n    this.touchableHandleActivePressIn && this.touchableHandleActivePressIn(e);\n  },\n\n  _endHighlight: function(e) {\n    if (this.touchableHandleActivePressOut) {\n      if (this.touchableGetPressOutDelayMS && this.touchableGetPressOutDelayMS()) {\n        this.pressOutDelayTimeout = setTimeout(() => {\n          this.touchableHandleActivePressOut(e);\n        }, this.touchableGetPressOutDelayMS());\n      } else {\n        this.touchableHandleActivePressOut(e);\n      }\n    }\n  },\n\n};\n\nvar Touchable = {\n  Mixin: TouchableMixin,\n  TOUCH_TARGET_DEBUG: false, // Highlights all touchable targets. Toggle with Inspector.\n  /**\n   * Renders a debugging overlay to visualize touch target with hitSlop (might not work on Android).\n   */\n  renderDebugView: ({color, hitSlop}) => {\n    if (!Touchable.TOUCH_TARGET_DEBUG) {\n      return null;\n    }\n    if (!__DEV__) {\n      throw Error('Touchable.TOUCH_TARGET_DEBUG should not be enabled in prod!');\n    }\n    const debugHitSlopStyle = {};\n    hitSlop = hitSlop || {top: 0, bottom: 0, left: 0, right: 0};\n    for (const key in hitSlop) {\n      debugHitSlopStyle[key] = -hitSlop[key];\n    }\n    const hexColor = '#' + ('00000000' + normalizeColor(color).toString(16)).substr(-8);\n    return (\n      <View\n        pointerEvents=\"none\"\n        style={{\n          position: 'absolute',\n          borderColor: hexColor.slice(0, -2) + '55', // More opaque\n          borderWidth: 1,\n          borderStyle: 'dashed',\n          backgroundColor: hexColor.slice(0, -2) + '0F', // Less opaque\n          ...debugHitSlopStyle\n        }}\n      />\n    );\n  }\n};\n\nmodule.exports = Touchable;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule BoundingDimensions\n */\n\n'use strict';\n\nvar PooledClass = require('react/lib/PooledClass');\n\nvar twoArgumentPooler = PooledClass.twoArgumentPooler;\n\n/**\n * PooledClass representing the bounding rectangle of a region.\n *\n * @param {number} width Width of bounding rectangle.\n * @param {number} height Height of bounding rectangle.\n * @constructor BoundingDimensions\n */\nfunction BoundingDimensions(width, height) {\n  this.width = width;\n  this.height = height;\n}\n\nBoundingDimensions.prototype.destructor = function() {\n  this.width = null;\n  this.height = null;\n};\n\n/**\n * @param {HTMLElement} element Element to return `BoundingDimensions` for.\n * @return {BoundingDimensions} Bounding dimensions of `element`.\n */\nBoundingDimensions.getPooledFromElement = function(element) {\n  return BoundingDimensions.getPooled(\n    element.offsetWidth,\n    element.offsetHeight\n  );\n};\n\nPooledClass.addPoolingTo(BoundingDimensions, twoArgumentPooler);\n\nmodule.exports = BoundingDimensions;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule Position\n */\n\n'use strict';\n\nvar PooledClass = require('react/lib/PooledClass');\n\nvar twoArgumentPooler = PooledClass.twoArgumentPooler;\n\n/**\n * Position does not expose methods for construction via an `HTMLDOMElement`,\n * because it isn't meaningful to construct such a thing without first defining\n * a frame of reference.\n *\n * @param {number} windowStartKey Key that window starts at.\n * @param {number} windowEndKey Key that window ends at.\n */\nfunction Position(left, top) {\n  this.left = left;\n  this.top = top;\n}\n\nPosition.prototype.destructor = function() {\n  this.left = null;\n  this.top = null;\n};\n\nPooledClass.addPoolingTo(Position, twoArgumentPooler);\n\nmodule.exports = Position;\n","/**\n * Copyright (c) 2016-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * Facebook, Inc. (\"Facebook\") owns all right, title and interest, including\n * all intellectual property and other proprietary rights, in and to the React\n * Native CustomComponents software (the \"Software\").  Subject to your\n * compliance with these terms, you are hereby granted a non-exclusive,\n * worldwide, royalty-free copyright license to (1) use and copy the Software;\n * and (2) reproduce and distribute the Software as part of your own software\n * (\"Your Software\").  Facebook reserves all rights not expressly granted to\n * you in this license agreement.\n *\n * THE SOFTWARE AND DOCUMENTATION, IF ANY, ARE PROVIDED \"AS IS\" AND ANY EXPRESS\n * OR IMPLIED WARRANTIES (INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES\n * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE) ARE DISCLAIMED.\n * IN NO EVENT SHALL FACEBOOK OR ITS AFFILIATES, OFFICERS, DIRECTORS OR\n * EMPLOYEES BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,\n * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,\n * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;\n * OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,\n * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR\n * OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THE SOFTWARE, EVEN IF\n * ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @providesModule TVEventHandler\n * @flow\n */\n'use strict';\n\nfunction TVEventHandler() {}\n\nTVEventHandler.prototype.enable = function(component: ?any, callback: Function) {};\n\nTVEventHandler.prototype.disable = function() {};\n\nmodule.exports = TVEventHandler;\n","\"use strict\";\n\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\nvar TouchEventUtils = {\n  /**\n   * Utility function for common case of extracting out the primary touch from a\n   * touch event.\n   * - `touchEnd` events usually do not have the `touches` property.\n   *   http://stackoverflow.com/questions/3666929/\n   *   mobile-sarai-touchend-event-not-firing-when-last-touch-is-removed\n   *\n   * @param {Event} nativeEvent Native event that may or may not be a touch.\n   * @return {TouchesObject?} an object with pageX and pageY or null.\n   */\n  extractSingleTouch: function extractSingleTouch(nativeEvent) {\n    var touches = nativeEvent.touches;\n    var changedTouches = nativeEvent.changedTouches;\n    var hasTouches = touches && touches.length > 0;\n    var hasChangedTouches = changedTouches && changedTouches.length > 0;\n\n    return !hasTouches && hasChangedTouches ? changedTouches[0] : hasTouches ? touches[0] : nativeEvent;\n  }\n};\n\nmodule.exports = TouchEventUtils;","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule mergeFast\n * @flow\n */\n'use strict';\n\n/**\n * Faster version of `merge` that doesn't check its arguments and\n * also merges prototype inherited properties.\n *\n * @param {object} one Any non-null object.\n * @param {object} two Any non-null object.\n * @return {object} Merging of two objects, including prototype\n * inherited properties.\n */\nvar mergeFast = function(one: Object, two: Object): Object {\n  var ret = {};\n  for (var keyOne in one) {\n    ret[keyOne] = one[keyOne];\n  }\n  for (var keyTwo in two) {\n    ret[keyTwo] = two[keyTwo];\n  }\n  return ret;\n};\n\nmodule.exports = mergeFast;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule TouchableNativeFeedback\n */\n'use strict';\n\nvar Platform = require('Platform');\nvar React = require('React');\nvar ReactNative = require('ReactNative');\nvar Touchable = require('Touchable');\nvar TouchableWithoutFeedback = require('TouchableWithoutFeedback');\nvar UIManager = require('UIManager');\n\nvar ensurePositiveDelayProps = require('ensurePositiveDelayProps');\nvar processColor = require('processColor');\n\nvar PropTypes = React.PropTypes;\n\nvar rippleBackgroundPropType = PropTypes.shape({\n  type: React.PropTypes.oneOf(['RippleAndroid']),\n  color: PropTypes.number,\n  borderless: PropTypes.bool,\n});\n\nvar themeAttributeBackgroundPropType = PropTypes.shape({\n  type: React.PropTypes.oneOf(['ThemeAttrAndroid']),\n  attribute: PropTypes.string.isRequired,\n});\n\nvar backgroundPropType = PropTypes.oneOfType([\n  rippleBackgroundPropType,\n  themeAttributeBackgroundPropType,\n]);\n\ntype Event = Object;\n\nvar PRESS_RETENTION_OFFSET = {top: 20, left: 20, right: 20, bottom: 30};\n\n/**\n * A wrapper for making views respond properly to touches (Android only).\n * On Android this component uses native state drawable to display touch\n * feedback.\n *\n * At the moment it only supports having a single View instance as a child\n * node, as it's implemented by replacing that View with another instance of\n * RCTView node with some additional properties set.\n *\n * Background drawable of native feedback touchable can be customized with\n * `background` property.\n *\n * Example:\n *\n * ```\n * renderButton: function() {\n *   return (\n *     <TouchableNativeFeedback\n *         onPress={this._onPressButton}\n *         background={TouchableNativeFeedback.SelectableBackground()}>\n *       <View style={{width: 150, height: 100, backgroundColor: 'red'}}>\n *         <Text style={{margin: 30}}>Button</Text>\n *       </View>\n *     </TouchableNativeFeedback>\n *   );\n * },\n * ```\n */\n\nvar TouchableNativeFeedback = React.createClass({\n  propTypes: {\n    ...TouchableWithoutFeedback.propTypes,\n\n    /**\n     * Determines the type of background drawable that's going to be used to\n     * display feedback. It takes an object with `type` property and extra data\n     * depending on the `type`. It's recommended to use one of the static\n     * methods to generate that dictionary.\n     */\n    background: backgroundPropType,\n\n    /**\n     * Set to true to add the ripple effect to the foreground of the view, instead of the\n     * background. This is useful if one of your child views has a background of its own, or you're\n     * e.g. displaying images, and you don't want the ripple to be covered by them.\n     *\n     * Check TouchableNativeFeedback.canUseNativeForeground() first, as this is only available on\n     * Android 6.0 and above. If you try to use this on older versions you will get a warning and\n     * fallback to background.\n     */\n    useForeground: PropTypes.bool,\n  },\n\n  statics: {\n    /**\n     * Creates an object that represents android theme's default background for\n     * selectable elements (?android:attr/selectableItemBackground).\n     */\n    SelectableBackground: function() {\n      return {type: 'ThemeAttrAndroid', attribute: 'selectableItemBackground'};\n    },\n    /**\n     * Creates an object that represent android theme's default background for borderless\n     * selectable elements (?android:attr/selectableItemBackgroundBorderless).\n     * Available on android API level 21+.\n     */\n    SelectableBackgroundBorderless: function() {\n      return {type: 'ThemeAttrAndroid', attribute: 'selectableItemBackgroundBorderless'};\n    },\n    /**\n     * Creates an object that represents ripple drawable with specified color (as a\n     * string). If property `borderless` evaluates to true the ripple will\n     * render outside of the view bounds (see native actionbar buttons as an\n     * example of that behavior). This background type is available on Android\n     * API level 21+.\n     *\n     * @param color The ripple color\n     * @param borderless If the ripple can render outside it's bounds\n     */\n    Ripple: function(color: string, borderless: boolean) {\n      return {type: 'RippleAndroid', color: processColor(color), borderless: borderless};\n    },\n\n    canUseNativeForeground: function() {\n      return Platform.OS === 'android' && Platform.Version >= 23;\n    }\n  },\n\n  mixins: [Touchable.Mixin],\n\n  getDefaultProps: function() {\n    return {\n      background: this.SelectableBackground(),\n    };\n  },\n\n  getInitialState: function() {\n    return this.touchableGetInitialState();\n  },\n\n  componentDidMount: function() {\n    ensurePositiveDelayProps(this.props);\n  },\n\n  componentWillReceiveProps: function(nextProps) {\n    ensurePositiveDelayProps(nextProps);\n  },\n\n  /**\n   * `Touchable.Mixin` self callbacks. The mixin will invoke these if they are\n   * defined on your component.\n   */\n  touchableHandleActivePressIn: function(e: Event) {\n    this.props.onPressIn && this.props.onPressIn(e);\n    this._dispatchPressedStateChange(true);\n    this._dispatchHotspotUpdate(this.pressInLocation.locationX, this.pressInLocation.locationY);\n  },\n\n  touchableHandleActivePressOut: function(e: Event) {\n    this.props.onPressOut && this.props.onPressOut(e);\n    this._dispatchPressedStateChange(false);\n  },\n\n  touchableHandlePress: function(e: Event) {\n    this.props.onPress && this.props.onPress(e);\n  },\n\n  touchableHandleLongPress: function(e: Event) {\n    this.props.onLongPress && this.props.onLongPress(e);\n  },\n\n  touchableGetPressRectOffset: function() {\n    // Always make sure to predeclare a constant!\n    return this.props.pressRetentionOffset || PRESS_RETENTION_OFFSET;\n  },\n\n  touchableGetHitSlop: function() {\n    return this.props.hitSlop;\n  },\n\n  touchableGetHighlightDelayMS: function() {\n    return this.props.delayPressIn;\n  },\n\n  touchableGetLongPressDelayMS: function() {\n    return this.props.delayLongPress;\n  },\n\n  touchableGetPressOutDelayMS: function() {\n    return this.props.delayPressOut;\n  },\n\n  _handleResponderMove: function(e) {\n    this.touchableHandleResponderMove(e);\n    this._dispatchHotspotUpdate(e.nativeEvent.locationX, e.nativeEvent.locationY);\n  },\n\n  _dispatchHotspotUpdate: function(destX, destY) {\n    UIManager.dispatchViewManagerCommand(\n      ReactNative.findNodeHandle(this),\n      UIManager.RCTView.Commands.hotspotUpdate,\n      [destX || 0, destY || 0]\n    );\n  },\n\n  _dispatchPressedStateChange: function(pressed) {\n    UIManager.dispatchViewManagerCommand(\n      ReactNative.findNodeHandle(this),\n      UIManager.RCTView.Commands.setPressed,\n      [pressed]\n    );\n  },\n\n  render: function() {\n    const child = React.Children.only(this.props.children);\n    let children = child.props.children;\n    if (Touchable.TOUCH_TARGET_DEBUG && child.type.displayName === 'View') {\n      if (!Array.isArray(children)) {\n        children = [children];\n      }\n      children.push(Touchable.renderDebugView({color: 'brown', hitSlop: this.props.hitSlop}));\n    }\n    if (this.props.useForeground && !TouchableNativeFeedback.canUseNativeForeground()) {\n      console.warn(\n        'Requested foreground ripple, but it is not available on this version of Android. ' +\n        'Consider calling TouchableNativeFeedback.canUseNativeForeground() and using a different ' +\n        'Touchable if the result is false.');\n    }\n    const drawableProp =\n      this.props.useForeground && TouchableNativeFeedback.canUseNativeForeground()\n        ? 'nativeForegroundAndroid'\n        : 'nativeBackgroundAndroid';\n    var childProps = {\n      ...child.props,\n      [drawableProp]: this.props.background,\n      accessible: this.props.accessible !== false,\n      accessibilityLabel: this.props.accessibilityLabel,\n      accessibilityComponentType: this.props.accessibilityComponentType,\n      accessibilityTraits: this.props.accessibilityTraits,\n      children,\n      testID: this.props.testID,\n      onLayout: this.props.onLayout,\n      hitSlop: this.props.hitSlop,\n      onStartShouldSetResponder: this.touchableHandleStartShouldSetResponder,\n      onResponderTerminationRequest: this.touchableHandleResponderTerminationRequest,\n      onResponderGrant: this.touchableHandleResponderGrant,\n      onResponderMove: this._handleResponderMove,\n      onResponderRelease: this.touchableHandleResponderRelease,\n      onResponderTerminate: this.touchableHandleResponderTerminate,\n    };\n\n    // We need to clone the actual element so that the ripple background drawable\n    // can be applied directly to the background of this element rather than to\n    // a wrapper view as done in outher Touchable*\n    return React.cloneElement(\n      child,\n      childProps\n    );\n  }\n});\n\nmodule.exports = TouchableNativeFeedback;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule TouchableWithoutFeedback\n * @flow\n */\n'use strict';\n\nconst EdgeInsetsPropType = require('EdgeInsetsPropType');\nconst React = require('React');\nconst TimerMixin = require('react-timer-mixin');\nconst Touchable = require('Touchable');\nconst View = require('View');\n\nconst ensurePositiveDelayProps = require('ensurePositiveDelayProps');\nconst warning = require('fbjs/lib/warning');\n\ntype Event = Object;\n\nconst PRESS_RETENTION_OFFSET = {top: 20, left: 20, right: 20, bottom: 30};\n\n/**\n * Do not use unless you have a very good reason. All the elements that\n * respond to press should have a visual feedback when touched.\n *\n * TouchableWithoutFeedback supports only one child.\n * If you wish to have several child components, wrap them in a View.\n */\nconst TouchableWithoutFeedback = React.createClass({\n  mixins: [TimerMixin, Touchable.Mixin],\n\n  propTypes: {\n    accessible: React.PropTypes.bool,\n    accessibilityComponentType: React.PropTypes.oneOf(View.AccessibilityComponentType),\n    accessibilityTraits: React.PropTypes.oneOfType([\n      React.PropTypes.oneOf(View.AccessibilityTraits),\n      React.PropTypes.arrayOf(React.PropTypes.oneOf(View.AccessibilityTraits)),\n    ]),\n    /**\n     * If true, disable all interactions for this component.\n     */\n    disabled: React.PropTypes.bool,\n    /**\n     * Called when the touch is released, but not if cancelled (e.g. by a scroll\n     * that steals the responder lock).\n     */\n    onPress: React.PropTypes.func,\n    onPressIn: React.PropTypes.func,\n    onPressOut: React.PropTypes.func,\n    /**\n     * Invoked on mount and layout changes with\n     *\n     *   `{nativeEvent: {layout: {x, y, width, height}}}`\n     */\n    onLayout: React.PropTypes.func,\n\n    onLongPress: React.PropTypes.func,\n\n    /**\n     * Delay in ms, from the start of the touch, before onPressIn is called.\n     */\n    delayPressIn: React.PropTypes.number,\n    /**\n     * Delay in ms, from the release of the touch, before onPressOut is called.\n     */\n    delayPressOut: React.PropTypes.number,\n    /**\n     * Delay in ms, from onPressIn, before onLongPress is called.\n     */\n    delayLongPress: React.PropTypes.number,\n    /**\n     * When the scroll view is disabled, this defines how far your touch may\n     * move off of the button, before deactivating the button. Once deactivated,\n     * try moving it back and you'll see that the button is once again\n     * reactivated! Move it back and forth several times while the scroll view\n     * is disabled. Ensure you pass in a constant to reduce memory allocations.\n     */\n    pressRetentionOffset: EdgeInsetsPropType,\n    /**\n     * This defines how far your touch can start away from the button. This is\n     * added to `pressRetentionOffset` when moving off of the button.\n     * ** NOTE **\n     * The touch area never extends past the parent view bounds and the Z-index\n     * of sibling views always takes precedence if a touch hits two overlapping\n     * views.\n     */\n    hitSlop: EdgeInsetsPropType,\n  },\n\n  getInitialState: function() {\n    return this.touchableGetInitialState();\n  },\n\n  componentDidMount: function() {\n    ensurePositiveDelayProps(this.props);\n  },\n\n  componentWillReceiveProps: function(nextProps: Object) {\n    ensurePositiveDelayProps(nextProps);\n  },\n\n  /**\n   * `Touchable.Mixin` self callbacks. The mixin will invoke these if they are\n   * defined on your component.\n   */\n  touchableHandlePress: function(e: Event) {\n    this.props.onPress && this.props.onPress(e);\n  },\n\n  touchableHandleActivePressIn: function(e: Event) {\n    this.props.onPressIn && this.props.onPressIn(e);\n  },\n\n  touchableHandleActivePressOut: function(e: Event) {\n    this.props.onPressOut && this.props.onPressOut(e);\n  },\n\n  touchableHandleLongPress: function(e: Event) {\n    this.props.onLongPress && this.props.onLongPress(e);\n  },\n\n  touchableGetPressRectOffset: function(): typeof PRESS_RETENTION_OFFSET {\n    return this.props.pressRetentionOffset || PRESS_RETENTION_OFFSET;\n  },\n\n  touchableGetHitSlop: function(): ?Object {\n    return this.props.hitSlop;\n  },\n\n  touchableGetHighlightDelayMS: function(): number {\n    return this.props.delayPressIn || 0;\n  },\n\n  touchableGetLongPressDelayMS: function(): number {\n    return this.props.delayLongPress === 0 ? 0 :\n      this.props.delayLongPress || 500;\n  },\n\n  touchableGetPressOutDelayMS: function(): number {\n    return this.props.delayPressOut || 0;\n  },\n\n  render: function(): React.Element<any> {\n    // Note(avik): remove dynamic typecast once Flow has been upgraded\n    const child = React.Children.only(this.props.children);\n    let children = child.props.children;\n    warning(\n      !child.type || child.type.displayName !== 'Text',\n      'TouchableWithoutFeedback does not work well with Text children. Wrap children in a View instead. See ' +\n        ((child._owner && child._owner.getName && child._owner.getName()) || '<unknown>')\n    );\n    if (Touchable.TOUCH_TARGET_DEBUG && child.type && child.type.displayName === 'View') {\n      children = React.Children.toArray(children);\n      children.push(Touchable.renderDebugView({color: 'red', hitSlop: this.props.hitSlop}));\n    }\n    const style = (Touchable.TOUCH_TARGET_DEBUG && child.type && child.type.displayName === 'Text') ?\n      [child.props.style, {color: 'red'}] :\n      child.props.style;\n    return (React: any).cloneElement(child, {\n      accessible: this.props.accessible !== false,\n      accessibilityLabel: this.props.accessibilityLabel,\n      accessibilityComponentType: this.props.accessibilityComponentType,\n      accessibilityTraits: this.props.accessibilityTraits,\n      testID: this.props.testID,\n      onLayout: this.props.onLayout,\n      hitSlop: this.props.hitSlop,\n      onStartShouldSetResponder: this.touchableHandleStartShouldSetResponder,\n      onResponderTerminationRequest: this.touchableHandleResponderTerminationRequest,\n      onResponderGrant: this.touchableHandleResponderGrant,\n      onResponderMove: this.touchableHandleResponderMove,\n      onResponderRelease: this.touchableHandleResponderRelease,\n      onResponderTerminate: this.touchableHandleResponderTerminate,\n      style,\n      children,\n    });\n  }\n});\n\nmodule.exports = TouchableWithoutFeedback;\n","/*\n *  Copyright (c) 2015-present, Facebook, Inc.\n *  All rights reserved.\n *\n *  This source code is licensed under the BSD-style license found in the\n *  LICENSE file in the root directory of this source tree. An additional grant\n *  of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n'use strict';\n\nvar GLOBAL = typeof window === 'undefined' ? global : window;\n\nvar setter = function(_setter, _clearer, array) {\n  return function(callback, delta) {\n    var id = _setter(function() {\n      _clearer.call(this, id);\n      callback.apply(this, arguments);\n    }.bind(this), delta);\n\n    if (!this[array]) {\n      this[array] = [id];\n    } else {\n      this[array].push(id);\n    }\n    return id;\n  };\n};\n\nvar clearer = function(_clearer, array) {\n  return function(id) {\n    if (this[array]) {\n      var index = this[array].indexOf(id);\n      if (index !== -1) {\n        this[array].splice(index, 1);\n      }\n    }\n    _clearer(id);\n  };\n};\n\nvar _timeouts = 'TimerMixin_timeouts';\nvar _clearTimeout = clearer(GLOBAL.clearTimeout, _timeouts);\nvar _setTimeout = setter(GLOBAL.setTimeout, _clearTimeout, _timeouts);\n\nvar _intervals = 'TimerMixin_intervals';\nvar _clearInterval = clearer(GLOBAL.clearInterval, _intervals);\nvar _setInterval = setter(GLOBAL.setInterval, function() {/* noop */}, _intervals);\n\nvar _immediates = 'TimerMixin_immediates';\nvar _clearImmediate = clearer(GLOBAL.clearImmediate, _immediates);\nvar _setImmediate = setter(GLOBAL.setImmediate, _clearImmediate, _immediates);\n\nvar _rafs = 'TimerMixin_rafs';\nvar _cancelAnimationFrame = clearer(GLOBAL.cancelAnimationFrame, _rafs);\nvar _requestAnimationFrame = setter(GLOBAL.requestAnimationFrame, _cancelAnimationFrame, _rafs);\n\nvar TimerMixin = {\n  componentWillUnmount: function() {\n    this[_timeouts] && this[_timeouts].forEach(function(id) {\n      GLOBAL.clearTimeout(id);\n    });\n    this[_timeouts] = null;\n    this[_intervals] && this[_intervals].forEach(function(id) {\n      GLOBAL.clearInterval(id);\n    });\n    this[_intervals] = null;\n    this[_immediates] && this[_immediates].forEach(function(id) {\n      GLOBAL.clearImmediate(id);\n    });\n    this[_immediates] = null;\n    this[_rafs] && this[_rafs].forEach(function(id) {\n      GLOBAL.cancelAnimationFrame(id);\n    });\n    this[_rafs] = null;\n  },\n\n  setTimeout: _setTimeout,\n  clearTimeout: _clearTimeout,\n\n  setInterval: _setInterval,\n  clearInterval: _clearInterval,\n\n  setImmediate: _setImmediate,\n  clearImmediate: _clearImmediate,\n\n  requestAnimationFrame: _requestAnimationFrame,\n  cancelAnimationFrame: _cancelAnimationFrame,\n};\n\nmodule.exports = TimerMixin;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule ensurePositiveDelayProps\n * @flow\n */\n'use strict';\n\nvar invariant = require('fbjs/lib/invariant');\n\nvar ensurePositiveDelayProps = function(props: any) {\n  invariant(\n    !(props.delayPressIn < 0 || props.delayPressOut < 0 ||\n      props.delayLongPress < 0),\n    'Touchable components cannot have negative delay properties'\n  );\n};\n\nmodule.exports = ensurePositiveDelayProps;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule TouchableOpacity\n * @noflow\n */\n'use strict';\n\n// Note (avik): add @flow when Flow supports spread properties in propTypes\n\nvar Animated = require('Animated');\nvar Easing = require('Easing');\nvar NativeMethodsMixin = require('NativeMethodsMixin');\nvar React = require('React');\nvar TimerMixin = require('react-timer-mixin');\nvar Touchable = require('Touchable');\nvar TouchableWithoutFeedback = require('TouchableWithoutFeedback');\n\nvar ensurePositiveDelayProps = require('ensurePositiveDelayProps');\nvar flattenStyle = require('flattenStyle');\n\ntype Event = Object;\n\nvar PRESS_RETENTION_OFFSET = {top: 20, left: 20, right: 20, bottom: 30};\n\n/**\n * A wrapper for making views respond properly to touches.\n * On press down, the opacity of the wrapped view is decreased, dimming it.\n *\n * Opacity is controlled by wrapping the children in an Animated.View, which is\n * added to the view hiearchy.  Be aware that this can affect layout.\n *\n * Example:\n *\n * ```\n * renderButton: function() {\n *   return (\n *     <TouchableOpacity onPress={this._onPressButton}>\n *       <Image\n *         style={styles.button}\n *         source={require('./myButton.png')}\n *       />\n *     </TouchableOpacity>\n *   );\n * },\n * ```\n */\nvar TouchableOpacity = React.createClass({\n  mixins: [TimerMixin, Touchable.Mixin, NativeMethodsMixin],\n\n  propTypes: {\n    ...TouchableWithoutFeedback.propTypes,\n    /**\n     * Determines what the opacity of the wrapped view should be when touch is\n     * active. Defaults to 0.2.\n     */\n    activeOpacity: React.PropTypes.number,\n    focusedOpacity: React.PropTypes.number,\n    /**\n     * Apple TV parallax effects\n     */\n    tvParallaxProperties: React.PropTypes.object,\n  },\n\n  getDefaultProps: function() {\n    return {\n      activeOpacity: 0.2,\n      focusedOpacity: 0.7,\n    };\n  },\n\n  getInitialState: function() {\n    return {\n      ...this.touchableGetInitialState(),\n      anim: new Animated.Value(this._getChildStyleOpacityWithDefault()),\n    };\n  },\n\n  componentDidMount: function() {\n    ensurePositiveDelayProps(this.props);\n  },\n\n  componentWillReceiveProps: function(nextProps) {\n    ensurePositiveDelayProps(nextProps);\n  },\n\n  /**\n   * Animate the touchable to a new opacity.\n   */\n  setOpacityTo: function(value: number, duration: number) {\n    Animated.timing(\n      this.state.anim,\n      {\n        toValue: value,\n        duration: duration,\n        easing: Easing.inOut(Easing.quad),\n        useNativeDriver: true,\n      }\n    ).start();\n  },\n\n  /**\n   * `Touchable.Mixin` self callbacks. The mixin will invoke these if they are\n   * defined on your component.\n   */\n  touchableHandleActivePressIn: function(e: Event) {\n    if (e.dispatchConfig.registrationName === 'onResponderGrant') {\n      this._opacityActive(0);\n    } else {\n      this._opacityActive(150);\n    }\n    this.props.onPressIn && this.props.onPressIn(e);\n  },\n\n  touchableHandleActivePressOut: function(e: Event) {\n    this._opacityInactive(250);\n    this.props.onPressOut && this.props.onPressOut(e);\n  },\n\n  touchableHandlePress: function(e: Event) {\n    this.props.onPress && this.props.onPress(e);\n  },\n\n  touchableHandleLongPress: function(e: Event) {\n    this.props.onLongPress && this.props.onLongPress(e);\n  },\n\n  touchableGetPressRectOffset: function() {\n    return this.props.pressRetentionOffset || PRESS_RETENTION_OFFSET;\n  },\n\n  touchableGetHitSlop: function() {\n    return this.props.hitSlop;\n  },\n\n  touchableGetHighlightDelayMS: function() {\n    return this.props.delayPressIn || 0;\n  },\n\n  touchableGetLongPressDelayMS: function() {\n    return this.props.delayLongPress === 0 ? 0 :\n      this.props.delayLongPress || 500;\n  },\n\n  touchableGetPressOutDelayMS: function() {\n    return this.props.delayPressOut;\n  },\n\n  _opacityActive: function(duration: number) {\n    this.setOpacityTo(this.props.activeOpacity, duration);\n  },\n\n  _opacityInactive: function(duration: number) {\n    this.setOpacityTo(\n      this._getChildStyleOpacityWithDefault(),\n      duration\n    );\n  },\n\n  _opacityFocused: function() {\n    this.setOpacityTo(this.props.focusedOpacity);\n  },\n  \n  _getChildStyleOpacityWithDefault: function() {\n   var childStyle = flattenStyle(this.props.style) || {};\n   return childStyle.opacity == undefined ? 1 : childStyle.opacity;\n },\n\n  render: function() {\n    return (\n      <Animated.View\n        accessible={this.props.accessible !== false}\n        accessibilityLabel={this.props.accessibilityLabel}\n        accessibilityComponentType={this.props.accessibilityComponentType}\n        accessibilityTraits={this.props.accessibilityTraits}\n        style={[this.props.style, {opacity: this.state.anim}]}\n        testID={this.props.testID}\n        onLayout={this.props.onLayout}\n        isTVSelectable={true}\n        tvParallaxProperties={this.props.tvParallaxProperties}\n        hitSlop={this.props.hitSlop}\n        onStartShouldSetResponder={this.touchableHandleStartShouldSetResponder}\n        onResponderTerminationRequest={this.touchableHandleResponderTerminationRequest}\n        onResponderGrant={this.touchableHandleResponderGrant}\n        onResponderMove={this.touchableHandleResponderMove}\n        onResponderRelease={this.touchableHandleResponderRelease}\n        onResponderTerminate={this.touchableHandleResponderTerminate}>\n        {this.props.children}\n        {Touchable.renderDebugView({color: 'cyan', hitSlop: this.props.hitSlop})}\n      </Animated.View>\n    );\n  },\n});\n\nmodule.exports = TouchableOpacity;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule Animated\n * @flow\n */\n'use strict';\n\n\nvar AnimatedImplementation = require('AnimatedImplementation');\nvar Image = require('Image');\nvar Text = require('Text');\nvar View = require('View');\nvar ScrollView = require('ScrollView');\n\nmodule.exports = {\n  ...AnimatedImplementation,\n  View: AnimatedImplementation.createAnimatedComponent(View),\n  Text: AnimatedImplementation.createAnimatedComponent(Text),\n  Image: AnimatedImplementation.createAnimatedComponent(Image),\n  ScrollView: AnimatedImplementation.createAnimatedComponent(ScrollView),\n};\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule AnimatedImplementation\n * @flow\n * @preventMunge\n */\n'use strict';\n\nvar InteractionManager = require('InteractionManager');\nvar Interpolation = require('Interpolation');\nvar NativeAnimatedHelper = require('NativeAnimatedHelper');\nvar React = require('React');\nvar ReactNative = require('ReactNative');\nvar Set = require('Set');\nvar SpringConfig = require('SpringConfig');\nvar ViewStylePropTypes = require('ViewStylePropTypes');\n\nvar flattenStyle = require('flattenStyle');\nvar invariant = require('fbjs/lib/invariant');\nvar requestAnimationFrame = require('fbjs/lib/requestAnimationFrame');\n\nimport type { InterpolationConfigType } from 'Interpolation';\n\ntype EndResult = {finished: bool};\ntype EndCallback = (result: EndResult) => void;\n\nvar NativeAnimatedAPI = NativeAnimatedHelper.API;\n\nvar warnedMissingNativeAnimated = false;\n\nfunction shouldUseNativeDriver(config: AnimationConfig | EventConfig): boolean {\n  if (config.useNativeDriver &&\n      !NativeAnimatedHelper.isNativeAnimatedAvailable()) {\n    if (!warnedMissingNativeAnimated) {\n      console.warn(\n        'Animated: `useNativeDriver` is not supported because the native ' +\n        'animated module is missing. Falling back to JS-based animation. To ' +\n        'resolve this, add `RCTAnimation` module to this app, or remove ' +\n        '`useNativeDriver`. ' +\n        'More info: https://github.com/facebook/react-native/issues/11094#issuecomment-263240420'\n      );\n      warnedMissingNativeAnimated = true;\n    }\n    return false;\n  }\n\n  return config.useNativeDriver || false;\n}\n\n// Note(vjeux): this would be better as an interface but flow doesn't\n// support them yet\nclass Animated {\n  __attach(): void {}\n  __detach(): void {\n    if (this.__isNative && this.__nativeTag != null) {\n      NativeAnimatedAPI.dropAnimatedNode(this.__nativeTag);\n      this.__nativeTag = undefined;\n    }\n  }\n  __getValue(): any {}\n  __getAnimatedValue(): any { return this.__getValue(); }\n  __addChild(child: Animated) {}\n  __removeChild(child: Animated) {}\n  __getChildren(): Array<Animated> { return []; }\n\n  /* Methods and props used by native Animated impl */\n  __isNative: bool;\n  __nativeTag: ?number;\n  __makeNative() {\n    if (!this.__isNative) {\n      throw new Error('This node cannot be made a \"native\" animated node');\n    }\n  }\n  __getNativeTag(): ?number {\n    NativeAnimatedHelper.assertNativeAnimatedModule();\n    invariant(this.__isNative, 'Attempt to get native tag from node not marked as \"native\"');\n    if (this.__nativeTag == null) {\n      var nativeTag: ?number = NativeAnimatedHelper.generateNewNodeTag();\n      NativeAnimatedAPI.createAnimatedNode(nativeTag, this.__getNativeConfig());\n      this.__nativeTag = nativeTag;\n    }\n    return this.__nativeTag;\n  }\n  __getNativeConfig(): Object {\n    throw new Error('This JS animated node type cannot be used as native animated node');\n  }\n  toJSON(): any { return this.__getValue(); }\n}\n\ntype AnimationConfig = {\n  isInteraction?: bool,\n  useNativeDriver?: bool,\n  onComplete?: ?EndCallback,\n};\n\n// Important note: start() and stop() will only be called at most once.\n// Once an animation has been stopped or finished its course, it will\n// not be reused.\nclass Animation {\n  __active: bool;\n  __isInteraction: bool;\n  __nativeId: number;\n  __onEnd: ?EndCallback;\n  start(\n    fromValue: number,\n    onUpdate: (value: number) => void,\n    onEnd: ?EndCallback,\n    previousAnimation: ?Animation,\n    animatedValue: AnimatedValue\n  ): void {}\n  stop(): void {\n    if (this.__nativeId) {\n      NativeAnimatedAPI.stopAnimation(this.__nativeId);\n    }\n  }\n  __getNativeAnimationConfig(): any {\n    // Subclasses that have corresponding animation implementation done in native\n    // should override this method\n    throw new Error('This animation type cannot be offloaded to native');\n  }\n  // Helper function for subclasses to make sure onEnd is only called once.\n  __debouncedOnEnd(result: EndResult): void {\n    var onEnd = this.__onEnd;\n    this.__onEnd = null;\n    onEnd && onEnd(result);\n  }\n  __startNativeAnimation(animatedValue: AnimatedValue): void {\n    animatedValue.__makeNative();\n    this.__nativeId = NativeAnimatedHelper.generateNewAnimationId();\n    NativeAnimatedAPI.startAnimatingNode(\n      this.__nativeId,\n      animatedValue.__getNativeTag(),\n      this.__getNativeAnimationConfig(),\n      this.__debouncedOnEnd.bind(this)\n    );\n  }\n}\n\nclass AnimatedWithChildren extends Animated {\n  _children: Array<Animated>;\n\n  constructor() {\n    super();\n    this._children = [];\n  }\n\n  __makeNative() {\n    if (!this.__isNative) {\n      this.__isNative = true;\n      for (var child of this._children) {\n        child.__makeNative();\n        NativeAnimatedAPI.connectAnimatedNodes(this.__getNativeTag(), child.__getNativeTag());\n      }\n    }\n  }\n\n  __addChild(child: Animated): void {\n    if (this._children.length === 0) {\n      this.__attach();\n    }\n    this._children.push(child);\n    if (this.__isNative) {\n      // Only accept \"native\" animated nodes as children\n      child.__makeNative();\n      NativeAnimatedAPI.connectAnimatedNodes(this.__getNativeTag(), child.__getNativeTag());\n    }\n  }\n\n  __removeChild(child: Animated): void {\n    var index = this._children.indexOf(child);\n    if (index === -1) {\n      console.warn('Trying to remove a child that doesn\\'t exist');\n      return;\n    }\n    if (this.__isNative && child.__isNative) {\n      NativeAnimatedAPI.disconnectAnimatedNodes(this.__getNativeTag(), child.__getNativeTag());\n    }\n    this._children.splice(index, 1);\n    if (this._children.length === 0) {\n      this.__detach();\n    }\n  }\n\n  __getChildren(): Array<Animated> {\n    return this._children;\n  }\n}\n\n/**\n * Animated works by building a directed acyclic graph of dependencies\n * transparently when you render your Animated components.\n *\n *               new Animated.Value(0)\n *     .interpolate()        .interpolate()    new Animated.Value(1)\n *         opacity               translateY      scale\n *          style                         transform\n *         View#234                         style\n *                                         View#123\n *\n * A) Top Down phase\n * When an Animated.Value is updated, we recursively go down through this\n * graph in order to find leaf nodes: the views that we flag as needing\n * an update.\n *\n * B) Bottom Up phase\n * When a view is flagged as needing an update, we recursively go back up\n * in order to build the new value that it needs. The reason why we need\n * this two-phases process is to deal with composite props such as\n * transform which can receive values from multiple parents.\n */\nfunction _flush(rootNode: AnimatedValue): void {\n  var animatedStyles = new Set();\n  function findAnimatedStyles(node) {\n    if (typeof node.update === 'function') {\n      animatedStyles.add(node);\n    } else {\n      node.__getChildren().forEach(findAnimatedStyles);\n    }\n  }\n  findAnimatedStyles(rootNode);\n  /* $FlowFixMe */\n  animatedStyles.forEach(animatedStyle => animatedStyle.update());\n}\n\ntype TimingAnimationConfig =  AnimationConfig & {\n  toValue: number | AnimatedValue | {x: number, y: number} | AnimatedValueXY,\n  easing?: (value: number) => number,\n  duration?: number,\n  delay?: number,\n};\n\ntype TimingAnimationConfigSingle = AnimationConfig & {\n  toValue: number | AnimatedValue,\n  easing?: (value: number) => number,\n  duration?: number,\n  delay?: number,\n};\n\nlet _easeInOut;\nfunction easeInOut() {\n  if (!_easeInOut) {\n    const Easing = require('Easing');\n    _easeInOut = Easing.inOut(Easing.ease);\n  }\n  return _easeInOut;\n}\n\nclass TimingAnimation extends Animation {\n  _startTime: number;\n  _fromValue: number;\n  _toValue: any;\n  _duration: number;\n  _delay: number;\n  _easing: (value: number) => number;\n  _onUpdate: (value: number) => void;\n  _animationFrame: any;\n  _timeout: any;\n  _useNativeDriver: bool;\n\n  constructor(\n    config: TimingAnimationConfigSingle,\n  ) {\n    super();\n    this._toValue = config.toValue;\n    this._easing = config.easing !== undefined ? config.easing : easeInOut();\n    this._duration = config.duration !== undefined ? config.duration : 500;\n    this._delay = config.delay !== undefined ? config.delay : 0;\n    this.__isInteraction = config.isInteraction !== undefined ? config.isInteraction : true;\n    this._useNativeDriver = shouldUseNativeDriver(config);\n  }\n\n  __getNativeAnimationConfig(): any {\n    var frameDuration = 1000.0 / 60.0;\n    var frames = [];\n    for (var dt = 0.0; dt < this._duration; dt += frameDuration) {\n      frames.push(this._easing(dt / this._duration));\n    }\n    frames.push(this._easing(1));\n    return {\n      type: 'frames',\n      frames,\n      toValue: this._toValue,\n      delay: this._delay\n    };\n  }\n\n  start(\n    fromValue: number,\n    onUpdate: (value: number) => void,\n    onEnd: ?EndCallback,\n    previousAnimation: ?Animation,\n    animatedValue: AnimatedValue\n  ): void {\n    this.__active = true;\n    this._fromValue = fromValue;\n    this._onUpdate = onUpdate;\n    this.__onEnd = onEnd;\n\n    var start = () => {\n      // Animations that sometimes have 0 duration and sometimes do not\n      // still need to use the native driver when duration is 0 so as to\n      // not cause intermixed JS and native animations.\n      if (this._duration === 0 && !this._useNativeDriver) {\n        this._onUpdate(this._toValue);\n        this.__debouncedOnEnd({finished: true});\n      } else {\n        this._startTime = Date.now();\n        if (this._useNativeDriver) {\n          this.__startNativeAnimation(animatedValue);\n        } else {\n          this._animationFrame = requestAnimationFrame(this.onUpdate.bind(this));\n        }\n      }\n    };\n    if (this._delay) {\n      this._timeout = setTimeout(start, this._delay);\n    } else {\n      start();\n    }\n  }\n\n  onUpdate(): void {\n    var now = Date.now();\n    if (now >= this._startTime + this._duration) {\n      if (this._duration === 0) {\n        this._onUpdate(this._toValue);\n      } else {\n        this._onUpdate(\n          this._fromValue + this._easing(1) * (this._toValue - this._fromValue)\n        );\n      }\n      this.__debouncedOnEnd({finished: true});\n      return;\n    }\n\n    this._onUpdate(\n      this._fromValue +\n        this._easing((now - this._startTime) / this._duration) *\n        (this._toValue - this._fromValue)\n    );\n    if (this.__active) {\n      this._animationFrame = requestAnimationFrame(this.onUpdate.bind(this));\n    }\n  }\n\n  stop(): void {\n    super.stop();\n    this.__active = false;\n    clearTimeout(this._timeout);\n    global.cancelAnimationFrame(this._animationFrame);\n    this.__debouncedOnEnd({finished: false});\n  }\n}\n\ntype DecayAnimationConfig = AnimationConfig & {\n  velocity: number | {x: number, y: number},\n  deceleration?: number,\n};\n\ntype DecayAnimationConfigSingle = AnimationConfig & {\n  velocity: number,\n  deceleration?: number,\n};\n\nclass DecayAnimation extends Animation {\n  _startTime: number;\n  _lastValue: number;\n  _fromValue: number;\n  _deceleration: number;\n  _velocity: number;\n  _onUpdate: (value: number) => void;\n  _animationFrame: any;\n  _useNativeDriver: bool;\n\n  constructor(\n    config: DecayAnimationConfigSingle,\n  ) {\n    super();\n    this._deceleration = config.deceleration !== undefined ? config.deceleration : 0.998;\n    this._velocity = config.velocity;\n    this._useNativeDriver = shouldUseNativeDriver(config);\n    this.__isInteraction = config.isInteraction !== undefined ? config.isInteraction : true;\n  }\n\n  __getNativeAnimationConfig() {\n    return {\n      type: 'decay',\n      deceleration: this._deceleration,\n      velocity: this._velocity,\n    };\n  }\n\n  start(\n    fromValue: number,\n    onUpdate: (value: number) => void,\n    onEnd: ?EndCallback,\n    previousAnimation: ?Animation,\n    animatedValue: AnimatedValue,\n  ): void {\n    this.__active = true;\n    this._lastValue = fromValue;\n    this._fromValue = fromValue;\n    this._onUpdate = onUpdate;\n    this.__onEnd = onEnd;\n    this._startTime = Date.now();\n    if (this._useNativeDriver) {\n      this.__startNativeAnimation(animatedValue);\n    } else {\n      this._animationFrame = requestAnimationFrame(this.onUpdate.bind(this));\n    }\n  }\n\n  onUpdate(): void {\n    var now = Date.now();\n\n    var value = this._fromValue +\n      (this._velocity / (1 - this._deceleration)) *\n      (1 - Math.exp(-(1 - this._deceleration) * (now - this._startTime)));\n\n    this._onUpdate(value);\n\n    if (Math.abs(this._lastValue - value) < 0.1) {\n      this.__debouncedOnEnd({finished: true});\n      return;\n    }\n\n    this._lastValue = value;\n    if (this.__active) {\n      this._animationFrame = requestAnimationFrame(this.onUpdate.bind(this));\n    }\n  }\n\n  stop(): void {\n    super.stop();\n    this.__active = false;\n    global.cancelAnimationFrame(this._animationFrame);\n    this.__debouncedOnEnd({finished: false});\n  }\n}\n\ntype SpringAnimationConfig = AnimationConfig & {\n  toValue: number | AnimatedValue | {x: number, y: number} | AnimatedValueXY,\n  overshootClamping?: bool,\n  restDisplacementThreshold?: number,\n  restSpeedThreshold?: number,\n  velocity?: number | {x: number, y: number},\n  bounciness?: number,\n  speed?: number,\n  tension?: number,\n  friction?: number,\n};\n\ntype SpringAnimationConfigSingle = AnimationConfig & {\n  toValue: number | AnimatedValue,\n  overshootClamping?: bool,\n  restDisplacementThreshold?: number,\n  restSpeedThreshold?: number,\n  velocity?: number,\n  bounciness?: number,\n  speed?: number,\n  tension?: number,\n  friction?: number,\n};\n\nfunction withDefault<T>(value: ?T, defaultValue: T): T {\n  if (value === undefined || value === null) {\n    return defaultValue;\n  }\n  return value;\n}\n\nclass SpringAnimation extends Animation {\n  _overshootClamping: bool;\n  _restDisplacementThreshold: number;\n  _restSpeedThreshold: number;\n  _initialVelocity: ?number;\n  _lastVelocity: number;\n  _startPosition: number;\n  _lastPosition: number;\n  _fromValue: number;\n  _toValue: any;\n  _tension: number;\n  _friction: number;\n  _lastTime: number;\n  _onUpdate: (value: number) => void;\n  _animationFrame: any;\n  _useNativeDriver: bool;\n\n  constructor(\n    config: SpringAnimationConfigSingle,\n  ) {\n    super();\n\n    this._overshootClamping = withDefault(config.overshootClamping, false);\n    this._restDisplacementThreshold = withDefault(config.restDisplacementThreshold, 0.001);\n    this._restSpeedThreshold = withDefault(config.restSpeedThreshold, 0.001);\n    this._initialVelocity = config.velocity;\n    this._lastVelocity = withDefault(config.velocity, 0);\n    this._toValue = config.toValue;\n    this._useNativeDriver = shouldUseNativeDriver(config);\n    this.__isInteraction = config.isInteraction !== undefined ? config.isInteraction : true;\n\n    var springConfig;\n    if (config.bounciness !== undefined || config.speed !== undefined) {\n      invariant(\n        config.tension === undefined && config.friction === undefined,\n        'You can only define bounciness/speed or tension/friction but not both',\n      );\n      springConfig = SpringConfig.fromBouncinessAndSpeed(\n        withDefault(config.bounciness, 8),\n        withDefault(config.speed, 12),\n      );\n    } else {\n      springConfig = SpringConfig.fromOrigamiTensionAndFriction(\n        withDefault(config.tension, 40),\n        withDefault(config.friction, 7),\n      );\n    }\n    this._tension = springConfig.tension;\n    this._friction = springConfig.friction;\n  }\n\n  __getNativeAnimationConfig() {\n    return {\n      type: 'spring',\n      overshootClamping: this._overshootClamping,\n      restDisplacementThreshold: this._restDisplacementThreshold,\n      restSpeedThreshold: this._restSpeedThreshold,\n      tension: this._tension,\n      friction: this._friction,\n      initialVelocity: withDefault(this._initialVelocity, this._lastVelocity),\n      toValue: this._toValue,\n    };\n  }\n\n  start(\n    fromValue: number,\n    onUpdate: (value: number) => void,\n    onEnd: ?EndCallback,\n    previousAnimation: ?Animation,\n    animatedValue: AnimatedValue\n  ): void {\n    this.__active = true;\n    this._startPosition = fromValue;\n    this._lastPosition = this._startPosition;\n\n    this._onUpdate = onUpdate;\n    this.__onEnd = onEnd;\n    this._lastTime = Date.now();\n\n    if (previousAnimation instanceof SpringAnimation) {\n      var internalState = previousAnimation.getInternalState();\n      this._lastPosition = internalState.lastPosition;\n      this._lastVelocity = internalState.lastVelocity;\n      this._lastTime = internalState.lastTime;\n    }\n    if (this._initialVelocity !== undefined &&\n        this._initialVelocity !== null) {\n      this._lastVelocity = this._initialVelocity;\n    }\n    if (this._useNativeDriver) {\n      this.__startNativeAnimation(animatedValue);\n    } else {\n      this.onUpdate();\n    }\n  }\n\n  getInternalState(): Object {\n    return {\n      lastPosition: this._lastPosition,\n      lastVelocity: this._lastVelocity,\n      lastTime: this._lastTime,\n    };\n  }\n\n  onUpdate(): void {\n    var position = this._lastPosition;\n    var velocity = this._lastVelocity;\n\n    var tempPosition = this._lastPosition;\n    var tempVelocity = this._lastVelocity;\n\n    // If for some reason we lost a lot of frames (e.g. process large payload or\n    // stopped in the debugger), we only advance by 4 frames worth of\n    // computation and will continue on the next frame. It's better to have it\n    // running at faster speed than jumping to the end.\n    var MAX_STEPS = 64;\n    var now = Date.now();\n    if (now > this._lastTime + MAX_STEPS) {\n      now = this._lastTime + MAX_STEPS;\n    }\n\n    // We are using a fixed time step and a maximum number of iterations.\n    // The following post provides a lot of thoughts into how to build this\n    // loop: http://gafferongames.com/game-physics/fix-your-timestep/\n    var TIMESTEP_MSEC = 1;\n    var numSteps = Math.floor((now - this._lastTime) / TIMESTEP_MSEC);\n\n    for (var i = 0; i < numSteps; ++i) {\n      // Velocity is based on seconds instead of milliseconds\n      var step = TIMESTEP_MSEC / 1000;\n\n      // This is using RK4. A good blog post to understand how it works:\n      // http://gafferongames.com/game-physics/integration-basics/\n      var aVelocity = velocity;\n      var aAcceleration = this._tension *\n        (this._toValue - tempPosition) - this._friction * tempVelocity;\n      var tempPosition = position + aVelocity * step / 2;\n      var tempVelocity = velocity + aAcceleration * step / 2;\n\n      var bVelocity = tempVelocity;\n      var bAcceleration = this._tension *\n        (this._toValue - tempPosition) - this._friction * tempVelocity;\n      tempPosition = position + bVelocity * step / 2;\n      tempVelocity = velocity + bAcceleration * step / 2;\n\n      var cVelocity = tempVelocity;\n      var cAcceleration = this._tension *\n        (this._toValue - tempPosition) - this._friction * tempVelocity;\n      tempPosition = position + cVelocity * step / 2;\n      tempVelocity = velocity + cAcceleration * step / 2;\n\n      var dVelocity = tempVelocity;\n      var dAcceleration = this._tension *\n        (this._toValue - tempPosition) - this._friction * tempVelocity;\n      tempPosition = position + cVelocity * step / 2;\n      tempVelocity = velocity + cAcceleration * step / 2;\n\n      var dxdt = (aVelocity + 2 * (bVelocity + cVelocity) + dVelocity) / 6;\n      var dvdt = (aAcceleration + 2 * (bAcceleration + cAcceleration) + dAcceleration) / 6;\n\n      position += dxdt * step;\n      velocity += dvdt * step;\n    }\n\n    this._lastTime = now;\n    this._lastPosition = position;\n    this._lastVelocity = velocity;\n\n    this._onUpdate(position);\n    if (!this.__active) { // a listener might have stopped us in _onUpdate\n      return;\n    }\n\n    // Conditions for stopping the spring animation\n    var isOvershooting = false;\n    if (this._overshootClamping && this._tension !== 0) {\n      if (this._startPosition < this._toValue) {\n        isOvershooting = position > this._toValue;\n      } else {\n        isOvershooting = position < this._toValue;\n      }\n    }\n    var isVelocity = Math.abs(velocity) <= this._restSpeedThreshold;\n    var isDisplacement = true;\n    if (this._tension !== 0) {\n      isDisplacement = Math.abs(this._toValue - position) <= this._restDisplacementThreshold;\n    }\n\n    if (isOvershooting || (isVelocity && isDisplacement)) {\n      if (this._tension !== 0) {\n        // Ensure that we end up with a round value\n        this._onUpdate(this._toValue);\n      }\n\n      this.__debouncedOnEnd({finished: true});\n      return;\n    }\n    this._animationFrame = requestAnimationFrame(this.onUpdate.bind(this));\n  }\n\n  stop(): void {\n    super.stop();\n    this.__active = false;\n    global.cancelAnimationFrame(this._animationFrame);\n    this.__debouncedOnEnd({finished: false});\n  }\n}\n\ntype ValueListenerCallback = (state: {value: number}) => void;\n\nvar _uniqueId = 1;\n\n/**\n * Standard value for driving animations.  One `Animated.Value` can drive\n * multiple properties in a synchronized fashion, but can only be driven by one\n * mechanism at a time.  Using a new mechanism (e.g. starting a new animation,\n * or calling `setValue`) will stop any previous ones.\n */\nclass AnimatedValue extends AnimatedWithChildren {\n  _value: number;\n  _offset: number;\n  _animation: ?Animation;\n  _tracking: ?Animated;\n  _listeners: {[key: string]: ValueListenerCallback};\n  __nativeAnimatedValueListener: ?any;\n\n  constructor(value: number) {\n    super();\n    this._value = value;\n    this._offset = 0;\n    this._animation = null;\n    this._listeners = {};\n  }\n\n  __detach() {\n    this.stopAnimation();\n    super.__detach();\n  }\n\n  __getValue(): number {\n    return this._value + this._offset;\n  }\n\n  __makeNative() {\n    super.__makeNative();\n\n    if (Object.keys(this._listeners).length) {\n      this._startListeningToNativeValueUpdates();\n    }\n  }\n\n  /**\n   * Directly set the value.  This will stop any animations running on the value\n   * and update all the bound properties.\n   */\n  setValue(value: number): void {\n    if (this._animation) {\n      this._animation.stop();\n      this._animation = null;\n    }\n    this._updateValue(\n      value,\n      !this.__isNative /* don't perform a flush for natively driven values */);\n    if (this.__isNative) {\n      NativeAnimatedAPI.setAnimatedNodeValue(this.__getNativeTag(), value);\n    }\n  }\n\n  /**\n   * Sets an offset that is applied on top of whatever value is set, whether via\n   * `setValue`, an animation, or `Animated.event`.  Useful for compensating\n   * things like the start of a pan gesture.\n   */\n  setOffset(offset: number): void {\n    this._offset = offset;\n    if (this.__isNative) {\n      NativeAnimatedAPI.setAnimatedNodeOffset(this.__getNativeTag(), offset);\n    }\n  }\n\n  /**\n   * Merges the offset value into the base value and resets the offset to zero.\n   * The final output of the value is unchanged.\n   */\n  flattenOffset(): void {\n    this._value += this._offset;\n    this._offset = 0;\n    if (this.__isNative) {\n      NativeAnimatedAPI.flattenAnimatedNodeOffset(this.__getNativeTag());\n    }\n  }\n\n  /**\n   * Sets the offset value to the base value, and resets the base value to zero.\n   * The final output of the value is unchanged.\n   */\n  extractOffset(): void {\n    this._offset += this._value;\n    this._value = 0;\n    if (this.__isNative) {\n      NativeAnimatedAPI.extractAnimatedNodeOffset(this.__getNativeTag());\n    }\n  }\n\n  /**\n   * Adds an asynchronous listener to the value so you can observe updates from\n   * animations.  This is useful because there is no way to\n   * synchronously read the value because it might be driven natively.\n   */\n  addListener(callback: ValueListenerCallback): string {\n    var id = String(_uniqueId++);\n    this._listeners[id] = callback;\n    if (this.__isNative) {\n      this._startListeningToNativeValueUpdates();\n    }\n    return id;\n  }\n\n  removeListener(id: string): void {\n    delete this._listeners[id];\n    if (this.__isNative && Object.keys(this._listeners).length === 0) {\n      this._stopListeningForNativeValueUpdates();\n    }\n  }\n\n  removeAllListeners(): void {\n    this._listeners = {};\n    if (this.__isNative) {\n      this._stopListeningForNativeValueUpdates();\n    }\n  }\n\n  _startListeningToNativeValueUpdates() {\n    if (this.__nativeAnimatedValueListener) {\n      return;\n    }\n\n    NativeAnimatedAPI.startListeningToAnimatedNodeValue(this.__getNativeTag());\n    this.__nativeAnimatedValueListener = NativeAnimatedHelper.nativeEventEmitter.addListener(\n      'onAnimatedValueUpdate',\n      (data) => {\n        if (data.tag !== this.__getNativeTag()) {\n          return;\n        }\n        this._updateValue(data.value, false /* flush */);\n      }\n    );\n  }\n\n  _stopListeningForNativeValueUpdates() {\n    if (!this.__nativeAnimatedValueListener) {\n      return;\n    }\n\n    this.__nativeAnimatedValueListener.remove();\n    this.__nativeAnimatedValueListener = null;\n    NativeAnimatedAPI.stopListeningToAnimatedNodeValue(this.__getNativeTag());\n  }\n\n  /**\n   * Stops any running animation or tracking.  `callback` is invoked with the\n   * final value after stopping the animation, which is useful for updating\n   * state to match the animation position with layout.\n   */\n  stopAnimation(callback?: ?(value: number) => void): void {\n    this.stopTracking();\n    this._animation && this._animation.stop();\n    this._animation = null;\n    callback && callback(this.__getValue());\n  }\n\n  /**\n   * Interpolates the value before updating the property, e.g. mapping 0-1 to\n   * 0-10.\n   */\n  interpolate(config: InterpolationConfigType): AnimatedInterpolation {\n    return new AnimatedInterpolation(this, config);\n  }\n\n  /**\n   * Typically only used internally, but could be used by a custom Animation\n   * class.\n   */\n  animate(animation: Animation, callback: ?EndCallback): void {\n    var handle = null;\n    if (animation.__isInteraction) {\n      handle = InteractionManager.createInteractionHandle();\n    }\n    var previousAnimation = this._animation;\n    this._animation && this._animation.stop();\n    this._animation = animation;\n    animation.start(\n      this._value,\n      (value) => {\n        // Natively driven animations will never call into that callback, therefore we can always\n        // pass flush = true to allow the updated value to propagate to native with setNativeProps\n        this._updateValue(value, true /* flush */);\n      },\n      (result) => {\n        this._animation = null;\n        if (handle !== null) {\n          InteractionManager.clearInteractionHandle(handle);\n        }\n        callback && callback(result);\n      },\n      previousAnimation,\n      this\n    );\n  }\n\n  /**\n   * Typically only used internally.\n   */\n  stopTracking(): void {\n    this._tracking && this._tracking.__detach();\n    this._tracking = null;\n  }\n\n  /**\n   * Typically only used internally.\n   */\n  track(tracking: Animated): void {\n    this.stopTracking();\n    this._tracking = tracking;\n  }\n\n  _updateValue(value: number, flush: bool): void {\n    this._value = value;\n    if (flush) {\n      _flush(this);\n    }\n    for (var key in this._listeners) {\n      this._listeners[key]({value: this.__getValue()});\n    }\n  }\n\n  __getNativeConfig(): Object {\n    return {\n      type: 'value',\n      value: this._value,\n      offset: this._offset,\n    };\n  }\n}\n\ntype ValueXYListenerCallback = (value: {x: number, y: number}) => void;\n\n/**\n * 2D Value for driving 2D animations, such as pan gestures.  Almost identical\n * API to normal `Animated.Value`, but multiplexed.  Contains two regular\n * `Animated.Value`s under the hood.\n *\n * #### Example\n *\n *```javascript\n *  class DraggableView extends React.Component {\n *    constructor(props) {\n *      super(props);\n *      this.state = {\n *        pan: new Animated.ValueXY(), // inits to zero\n *      };\n *      this.state.panResponder = PanResponder.create({\n *        onStartShouldSetPanResponder: () => true,\n *        onPanResponderMove: Animated.event([null, {\n *          dx: this.state.pan.x, // x,y are Animated.Value\n *          dy: this.state.pan.y,\n *        }]),\n *        onPanResponderRelease: () => {\n *          Animated.spring(\n *            this.state.pan,         // Auto-multiplexed\n *            {toValue: {x: 0, y: 0}} // Back to zero\n *          ).start();\n *        },\n *      });\n *    }\n *    render() {\n *      return (\n *        <Animated.View\n *          {...this.state.panResponder.panHandlers}\n *          style={this.state.pan.getLayout()}>\n *          {this.props.children}\n *        </Animated.View>\n *      );\n *    }\n *  }\n *```\n */\nclass AnimatedValueXY extends AnimatedWithChildren {\n  x: AnimatedValue;\n  y: AnimatedValue;\n  _listeners: {[key: string]: {x: string, y: string}};\n\n  constructor(valueIn?: ?{x: number | AnimatedValue, y: number | AnimatedValue}) {\n    super();\n    var value: any = valueIn || {x: 0, y: 0};  // @flowfixme: shouldn't need `: any`\n    if (typeof value.x === 'number' && typeof value.y === 'number') {\n      this.x = new AnimatedValue(value.x);\n      this.y = new AnimatedValue(value.y);\n    } else {\n      invariant(\n        value.x instanceof AnimatedValue &&\n        value.y instanceof AnimatedValue,\n        'AnimatedValueXY must be initalized with an object of numbers or ' +\n        'AnimatedValues.'\n      );\n      this.x = value.x;\n      this.y = value.y;\n    }\n    this._listeners = {};\n  }\n\n  setValue(value: {x: number, y: number}) {\n    this.x.setValue(value.x);\n    this.y.setValue(value.y);\n  }\n\n  setOffset(offset: {x: number, y: number}) {\n    this.x.setOffset(offset.x);\n    this.y.setOffset(offset.y);\n  }\n\n  flattenOffset(): void {\n    this.x.flattenOffset();\n    this.y.flattenOffset();\n  }\n\n  extractOffset(): void {\n    this.x.extractOffset();\n    this.y.extractOffset();\n  }\n\n  __getValue(): {x: number, y: number} {\n    return {\n      x: this.x.__getValue(),\n      y: this.y.__getValue(),\n    };\n  }\n\n  stopAnimation(callback?: (value: {x: number, y: number}) => void): void {\n    this.x.stopAnimation();\n    this.y.stopAnimation();\n    callback && callback(this.__getValue());\n  }\n\n  addListener(callback: ValueXYListenerCallback): string {\n    var id = String(_uniqueId++);\n    var jointCallback = ({value: number}) => {\n      callback(this.__getValue());\n    };\n    this._listeners[id] = {\n      x: this.x.addListener(jointCallback),\n      y: this.y.addListener(jointCallback),\n    };\n    return id;\n  }\n\n  removeListener(id: string): void {\n    this.x.removeListener(this._listeners[id].x);\n    this.y.removeListener(this._listeners[id].y);\n    delete this._listeners[id];\n  }\n\n  removeAllListeners(): void {\n    this.x.removeAllListeners();\n    this.y.removeAllListeners();\n    this._listeners = {};\n  }\n\n  /**\n   * Converts `{x, y}` into `{left, top}` for use in style, e.g.\n   *\n   *```javascript\n   *  style={this.state.anim.getLayout()}\n   *```\n   */\n  getLayout(): {[key: string]: AnimatedValue} {\n    return {\n      left: this.x,\n      top: this.y,\n    };\n  }\n\n  /**\n   * Converts `{x, y}` into a useable translation transform, e.g.\n   *\n   *```javascript\n   *  style={{\n   *    transform: this.state.anim.getTranslateTransform()\n   *  }}\n   *```\n   */\n  getTranslateTransform(): Array<{[key: string]: AnimatedValue}> {\n    return [\n      {translateX: this.x},\n      {translateY: this.y}\n    ];\n  }\n}\n\nclass AnimatedInterpolation extends AnimatedWithChildren {\n  _parent: Animated;\n  _config: InterpolationConfigType;\n  _interpolation: (input: number) => number | string;\n\n  constructor(parent: Animated, config: InterpolationConfigType) {\n    super();\n    this._parent = parent;\n    this._config = config;\n    this._interpolation = Interpolation.create(config);\n  }\n\n  __getValue(): number | string {\n    var parentValue: number = this._parent.__getValue();\n    invariant(\n      typeof parentValue === 'number',\n      'Cannot interpolate an input which is not a number.'\n    );\n    return this._interpolation(parentValue);\n  }\n\n  interpolate(config: InterpolationConfigType): AnimatedInterpolation {\n    return new AnimatedInterpolation(this, config);\n  }\n\n  __attach(): void {\n    this._parent.__addChild(this);\n  }\n\n  __detach(): void {\n    this._parent.__removeChild(this);\n    super.__detach();\n  }\n\n  __transformDataType(range: Array<any>) {\n    // Change the string array type to number array\n    // So we can reuse the same logic in iOS and Android platform\n    return range.map(function (value) {\n      if (typeof value !== 'string') {\n        return value;\n      }\n      if (/deg$/.test(value)) {\n        const degrees = parseFloat(value, 10) || 0;\n        const radians = degrees * Math.PI / 180.0;\n        return radians;\n      } else {\n        // Assume radians\n        return parseFloat(value, 10) || 0;\n      }\n    });\n  }\n\n  __getNativeConfig(): any {\n    if (__DEV__) {\n      NativeAnimatedHelper.validateInterpolation(this._config);\n    }\n\n    return {\n      inputRange: this._config.inputRange,\n      // Only the `outputRange` can contain strings so we don't need to tranform `inputRange` here\n      outputRange: this.__transformDataType(this._config.outputRange),\n      extrapolateLeft: this._config.extrapolateLeft || this._config.extrapolate || 'extend',\n      extrapolateRight: this._config.extrapolateRight || this._config.extrapolate || 'extend',\n      type: 'interpolation',\n    };\n  }\n}\n\nclass AnimatedAddition extends AnimatedWithChildren {\n  _a: Animated;\n  _b: Animated;\n\n  constructor(a: Animated | number, b: Animated | number) {\n    super();\n    this._a = typeof a === 'number' ? new AnimatedValue(a) : a;\n    this._b = typeof b === 'number' ? new AnimatedValue(b) : b;\n  }\n\n  __makeNative() {\n    this._a.__makeNative();\n    this._b.__makeNative();\n    super.__makeNative();\n  }\n\n  __getValue(): number {\n    return this._a.__getValue() + this._b.__getValue();\n  }\n\n  interpolate(config: InterpolationConfigType): AnimatedInterpolation {\n    return new AnimatedInterpolation(this, config);\n  }\n\n  __attach(): void {\n    this._a.__addChild(this);\n    this._b.__addChild(this);\n  }\n\n  __detach(): void {\n    this._a.__removeChild(this);\n    this._b.__removeChild(this);\n    super.__detach();\n  }\n\n  __getNativeConfig(): any {\n    return {\n      type: 'addition',\n      input: [this._a.__getNativeTag(), this._b.__getNativeTag()],\n    };\n  }\n}\n\nclass AnimatedDivision extends AnimatedWithChildren {\n  _a: Animated;\n  _b: Animated;\n\n  constructor(a: Animated | number, b: Animated | number) {\n    super();\n    this._a = typeof a === 'number' ? new AnimatedValue(a) : a;\n    this._b = typeof b === 'number' ? new AnimatedValue(b) : b;\n  }\n\n  __makeNative() {\n    super.__makeNative();\n    this._a.__makeNative();\n    this._b.__makeNative();\n  }\n\n  __getValue(): number {\n    const a = this._a.__getValue();\n    const b = this._b.__getValue();\n    if (b === 0) {\n      console.error('Detected division by zero in AnimatedDivision');\n    }\n    return a / b;\n  }\n\n  interpolate(config: InterpolationConfigType): AnimatedInterpolation {\n    return new AnimatedInterpolation(this, config);\n  }\n\n  __attach(): void {\n    this._a.__addChild(this);\n    this._b.__addChild(this);\n  }\n\n  __detach(): void {\n    this._a.__removeChild(this);\n    this._b.__removeChild(this);\n    super.__detach();\n  }\n\n  __getNativeConfig(): any {\n    return {\n      type: 'division',\n      input: [this._a.__getNativeTag(), this._b.__getNativeTag()],\n    };\n  }\n}\n\nclass AnimatedMultiplication extends AnimatedWithChildren {\n  _a: Animated;\n  _b: Animated;\n\n  constructor(a: Animated | number, b: Animated | number) {\n    super();\n    this._a = typeof a === 'number' ? new AnimatedValue(a) : a;\n    this._b = typeof b === 'number' ? new AnimatedValue(b) : b;\n  }\n\n  __makeNative() {\n    super.__makeNative();\n    this._a.__makeNative();\n    this._b.__makeNative();\n  }\n\n  __getValue(): number {\n    return this._a.__getValue() * this._b.__getValue();\n  }\n\n  interpolate(config: InterpolationConfigType): AnimatedInterpolation {\n    return new AnimatedInterpolation(this, config);\n  }\n\n  __attach(): void {\n    this._a.__addChild(this);\n    this._b.__addChild(this);\n  }\n\n  __detach(): void {\n    this._a.__removeChild(this);\n    this._b.__removeChild(this);\n    super.__detach();\n  }\n\n  __getNativeConfig(): any {\n    return {\n      type: 'multiplication',\n      input: [this._a.__getNativeTag(), this._b.__getNativeTag()],\n    };\n  }\n}\n\nclass AnimatedModulo extends AnimatedWithChildren {\n  _a: Animated;\n  _modulus: number;\n\n  constructor(a: Animated, modulus: number) {\n    super();\n    this._a = a;\n    this._modulus = modulus;\n  }\n\n  __makeNative() {\n    super.__makeNative();\n    this._a.__makeNative();\n  }\n\n  __getValue(): number {\n    return (this._a.__getValue() % this._modulus + this._modulus) % this._modulus;\n  }\n\n  interpolate(config: InterpolationConfigType): AnimatedInterpolation {\n    return new AnimatedInterpolation(this, config);\n  }\n\n  __attach(): void {\n    this._a.__addChild(this);\n  }\n\n  __detach(): void {\n    this._a.__removeChild(this);\n  }\n\n  __getNativeConfig(): any {\n    return {\n      type: 'modulus',\n      input: this._a.__getNativeTag(),\n      modulus: this._modulus,\n    };\n  }\n}\n\nclass AnimatedDiffClamp extends AnimatedWithChildren {\n  _a: Animated;\n  _min: number;\n  _max: number;\n  _value: number;\n  _lastValue: number;\n\n  constructor(a: Animated, min: number, max: number) {\n    super();\n\n    this._a = a;\n    this._min = min;\n    this._max = max;\n    this._value = this._lastValue = this._a.__getValue();\n  }\n\n  __makeNative() {\n    super.__makeNative();\n    this._a.__makeNative();\n  }\n\n  interpolate(config: InterpolationConfigType): AnimatedInterpolation {\n    return new AnimatedInterpolation(this, config);\n  }\n\n  __getValue(): number {\n    const value = this._a.__getValue();\n    const diff = value - this._lastValue;\n    this._lastValue = value;\n    this._value = Math.min(Math.max(this._value + diff, this._min), this._max);\n    return this._value;\n  }\n\n  __attach(): void {\n    this._a.__addChild(this);\n  }\n\n  __detach(): void {\n    this._a.__removeChild(this);\n  }\n\n  __getNativeConfig(): any {\n    return {\n      type: 'diffclamp',\n      input: this._a.__getNativeTag(),\n      min: this._min,\n      max: this._max,\n    };\n  }\n}\n\nclass AnimatedTransform extends AnimatedWithChildren {\n  _transforms: Array<Object>;\n\n  constructor(transforms: Array<Object>) {\n    super();\n    this._transforms = transforms;\n  }\n\n  __makeNative() {\n    super.__makeNative();\n    this._transforms.forEach(transform => {\n      for (var key in transform) {\n        var value = transform[key];\n        if (value instanceof Animated) {\n          value.__makeNative();\n        }\n      }\n    });\n  }\n\n  __getValue(): Array<Object> {\n    return this._transforms.map(transform => {\n      var result = {};\n      for (var key in transform) {\n        var value = transform[key];\n        if (value instanceof Animated) {\n          result[key] = value.__getValue();\n        } else {\n          result[key] = value;\n        }\n      }\n      return result;\n    });\n  }\n\n  __getAnimatedValue(): Array<Object> {\n    return this._transforms.map(transform => {\n      var result = {};\n      for (var key in transform) {\n        var value = transform[key];\n        if (value instanceof Animated) {\n          result[key] = value.__getAnimatedValue();\n        } else {\n          // All transform components needed to recompose matrix\n          result[key] = value;\n        }\n      }\n      return result;\n    });\n  }\n\n  __attach(): void {\n    this._transforms.forEach(transform => {\n      for (var key in transform) {\n        var value = transform[key];\n        if (value instanceof Animated) {\n          value.__addChild(this);\n        }\n      }\n    });\n  }\n\n  __detach(): void {\n    this._transforms.forEach(transform => {\n      for (var key in transform) {\n        var value = transform[key];\n        if (value instanceof Animated) {\n          value.__removeChild(this);\n        }\n      }\n    });\n  }\n\n  __getNativeConfig(): any {\n    var transConfigs = [];\n\n    this._transforms.forEach(transform => {\n      for (var key in transform) {\n        var value = transform[key];\n        if (value instanceof Animated) {\n          transConfigs.push({\n            type: 'animated',\n            property: key,\n            nodeTag: value.__getNativeTag(),\n          });\n        } else {\n          transConfigs.push({\n            type: 'static',\n            property: key,\n            value,\n          });\n        }\n      }\n    });\n\n    NativeAnimatedHelper.validateTransform(transConfigs);\n    return {\n      type: 'transform',\n      transforms: transConfigs,\n    };\n  }\n}\n\nclass AnimatedStyle extends AnimatedWithChildren {\n  _style: Object;\n\n  constructor(style: any) {\n    super();\n    style = flattenStyle(style) || {};\n    if (style.transform) {\n      style = {\n        ...style,\n        transform: new AnimatedTransform(style.transform),\n      };\n    }\n    this._style = style;\n  }\n\n  __getValue(): Object {\n    var style = {};\n    for (var key in this._style) {\n      var value = this._style[key];\n      if (value instanceof Animated) {\n        if (!value.__isNative) {\n          // We cannot use value of natively driven nodes this way as the value we have access from\n          // JS may not be up to date.\n          style[key] = value.__getValue();\n        }\n      } else {\n        style[key] = value;\n      }\n    }\n    return style;\n  }\n\n  __getAnimatedValue(): Object {\n    var style = {};\n    for (var key in this._style) {\n      var value = this._style[key];\n      if (value instanceof Animated) {\n        style[key] = value.__getAnimatedValue();\n      }\n    }\n    return style;\n  }\n\n  __attach(): void {\n    for (var key in this._style) {\n      var value = this._style[key];\n      if (value instanceof Animated) {\n        value.__addChild(this);\n      }\n    }\n  }\n\n  __detach(): void {\n    for (var key in this._style) {\n      var value = this._style[key];\n      if (value instanceof Animated) {\n        value.__removeChild(this);\n      }\n    }\n  }\n\n  __makeNative() {\n    super.__makeNative();\n    for (var key in this._style) {\n      var value = this._style[key];\n      if (value instanceof Animated) {\n        value.__makeNative();\n      }\n    }\n  }\n\n  __getNativeConfig(): Object {\n    var styleConfig = {};\n    for (const styleKey in this._style) {\n      if (this._style[styleKey] instanceof Animated) {\n        styleConfig[styleKey] = this._style[styleKey].__getNativeTag();\n      }\n      // Non-animated styles are set using `setNativeProps`, no need\n      // to pass those as a part of the node config\n    }\n    NativeAnimatedHelper.validateStyles(styleConfig);\n    return {\n      type: 'style',\n      style: styleConfig,\n    };\n  }\n}\n\nclass AnimatedProps extends Animated {\n  _props: Object;\n  _animatedView: any;\n  _callback: () => void;\n\n  constructor(\n    props: Object,\n    callback: () => void,\n  ) {\n    super();\n    if (props.style) {\n      props = {\n        ...props,\n        style: new AnimatedStyle(props.style),\n      };\n    }\n    this._props = props;\n    this._callback = callback;\n    this.__attach();\n  }\n\n  __getValue(): Object {\n    var props = {};\n    for (var key in this._props) {\n      var value = this._props[key];\n      if (value instanceof Animated) {\n        if (!value.__isNative || value instanceof AnimatedStyle) {\n          // We cannot use value of natively driven nodes this way as the value we have access from\n          // JS may not be up to date.\n          props[key] = value.__getValue();\n        }\n      } else if (value instanceof AnimatedEvent) {\n        props[key] = value.__getHandler();\n      } else {\n        props[key] = value;\n      }\n    }\n    return props;\n  }\n\n  __getAnimatedValue(): Object {\n    var props = {};\n    for (var key in this._props) {\n      var value = this._props[key];\n      if (value instanceof Animated) {\n        props[key] = value.__getAnimatedValue();\n      }\n    }\n    return props;\n  }\n\n  __attach(): void {\n    for (var key in this._props) {\n      var value = this._props[key];\n      if (value instanceof Animated) {\n        value.__addChild(this);\n      }\n    }\n  }\n\n  __detach(): void {\n    if (this.__isNative && this._animatedView) {\n      this.__disconnectAnimatedView();\n    }\n    for (var key in this._props) {\n      var value = this._props[key];\n      if (value instanceof Animated) {\n        value.__removeChild(this);\n      }\n    }\n    super.__detach();\n  }\n\n  update(): void {\n    this._callback();\n  }\n\n  __makeNative(): void {\n    if (!this.__isNative) {\n      this.__isNative = true;\n      for (var key in this._props) {\n        var value = this._props[key];\n        if (value instanceof Animated) {\n          value.__makeNative();\n        }\n      }\n      if (this._animatedView) {\n        this.__connectAnimatedView();\n      }\n    }\n  }\n\n  setNativeView(animatedView: any): void {\n    invariant(this._animatedView === undefined, 'Animated view already set.');\n    this._animatedView = animatedView;\n    if (this.__isNative) {\n      this.__connectAnimatedView();\n    }\n  }\n\n  __connectAnimatedView(): void {\n    invariant(this.__isNative, 'Expected node to be marked as \"native\"');\n    var nativeViewTag: ?number = ReactNative.findNodeHandle(this._animatedView);\n    invariant(nativeViewTag != null, 'Unable to locate attached view in the native tree');\n    NativeAnimatedAPI.connectAnimatedNodeToView(this.__getNativeTag(), nativeViewTag);\n  }\n\n  __disconnectAnimatedView(): void {\n    invariant(this.__isNative, 'Expected node to be marked as \"native\"');\n    var nativeViewTag: ?number = ReactNative.findNodeHandle(this._animatedView);\n    invariant(nativeViewTag != null, 'Unable to locate attached view in the native tree');\n    NativeAnimatedAPI.disconnectAnimatedNodeFromView(this.__getNativeTag(), nativeViewTag);\n  }\n\n  __getNativeConfig(): Object {\n    var propsConfig = {};\n    for (const propKey in this._props) {\n      var value = this._props[propKey];\n      if (value instanceof Animated) {\n        propsConfig[propKey] = value.__getNativeTag();\n      }\n    }\n    return {\n      type: 'props',\n      props: propsConfig,\n    };\n  }\n}\n\nfunction createAnimatedComponent(Component: any): any {\n  class AnimatedComponent extends React.Component {\n    _component: any;\n    _propsAnimated: AnimatedProps;\n    _setComponentRef: Function;\n\n    constructor(props: Object) {\n      super(props);\n      this._setComponentRef = this._setComponentRef.bind(this);\n    }\n\n    componentWillUnmount() {\n      this._propsAnimated && this._propsAnimated.__detach();\n      this._detachNativeEvents(this.props);\n    }\n\n    setNativeProps(props) {\n      this._component.setNativeProps(props);\n    }\n\n    componentWillMount() {\n      this._attachProps(this.props);\n    }\n\n    componentDidMount() {\n      this._propsAnimated.setNativeView(this._component);\n\n      this._attachNativeEvents(this.props);\n    }\n\n    _attachNativeEvents(newProps) {\n      if (newProps !== this.props) {\n        this._detachNativeEvents(this.props);\n      }\n\n      // Make sure to get the scrollable node for components that implement\n      // `ScrollResponder.Mixin`.\n      const ref = this._component.getScrollableNode ?\n        this._component.getScrollableNode() :\n        this._component;\n\n      for (const key in newProps) {\n        const prop = newProps[key];\n        if (prop instanceof AnimatedEvent && prop.__isNative) {\n          prop.__attach(ref, key);\n        }\n      }\n    }\n\n    _detachNativeEvents(props) {\n      // Make sure to get the scrollable node for components that implement\n      // `ScrollResponder.Mixin`.\n      const ref = this._component.getScrollableNode ?\n        this._component.getScrollableNode() :\n        this._component;\n\n      for (const key in props) {\n        const prop = props[key];\n        if (prop instanceof AnimatedEvent && prop.__isNative) {\n          prop.__detach(ref, key);\n        }\n      }\n    }\n\n    _attachProps(nextProps) {\n      var oldPropsAnimated = this._propsAnimated;\n\n      // The system is best designed when setNativeProps is implemented. It is\n      // able to avoid re-rendering and directly set the attributes that\n      // changed. However, setNativeProps can only be implemented on leaf\n      // native components. If you want to animate a composite component, you\n      // need to re-render it. In this case, we have a fallback that uses\n      // forceUpdate.\n      var callback = () => {\n        if (this._component.setNativeProps) {\n          if (!this._propsAnimated.__isNative) {\n            this._component.setNativeProps(\n              this._propsAnimated.__getAnimatedValue()\n            );\n          } else {\n            throw new Error('Attempting to run JS driven animation on animated '\n              + 'node that has been moved to \"native\" earlier by starting an '\n              + 'animation with `useNativeDriver: true`');\n          }\n        } else {\n          this.forceUpdate();\n        }\n      };\n\n      this._propsAnimated = new AnimatedProps(\n        nextProps,\n        callback,\n      );\n\n      if (this._component) {\n        this._propsAnimated.setNativeView(this._component);\n      }\n\n      // When you call detach, it removes the element from the parent list\n      // of children. If it goes to 0, then the parent also detaches itself\n      // and so on.\n      // An optimization is to attach the new elements and THEN detach the old\n      // ones instead of detaching and THEN attaching.\n      // This way the intermediate state isn't to go to 0 and trigger\n      // this expensive recursive detaching to then re-attach everything on\n      // the very next operation.\n      oldPropsAnimated && oldPropsAnimated.__detach();\n    }\n\n    componentWillReceiveProps(nextProps) {\n      this._attachProps(nextProps);\n      this._attachNativeEvents(nextProps);\n    }\n\n    render() {\n      return (\n        <Component\n          {...this._propsAnimated.__getValue()}\n          ref={this._setComponentRef}\n        />\n      );\n    }\n\n    _setComponentRef(c) {\n      this._component = c;\n    }\n\n    // A third party library can use getNode()\n    // to get the node reference of the decorated component\n    getNode () {\n      return this._component;\n    }\n  }\n  AnimatedComponent.propTypes = {\n    style: function(props, propName, componentName) {\n      if (!Component.propTypes) {\n        return;\n      }\n\n      for (var key in ViewStylePropTypes) {\n        if (!Component.propTypes[key] && props[key] !== undefined) {\n          console.warn(\n            'You are setting the style `{ ' + key + ': ... }` as a prop. You ' +\n            'should nest it in a style object. ' +\n            'E.g. `{ style: { ' + key + ': ... } }`'\n          );\n        }\n      }\n    },\n  };\n\n  return AnimatedComponent;\n}\n\nclass AnimatedTracking extends Animated {\n  _value: AnimatedValue;\n  _parent: Animated;\n  _callback: ?EndCallback;\n  _animationConfig: Object;\n  _animationClass: any;\n\n  constructor(\n    value: AnimatedValue,\n    parent: Animated,\n    animationClass: any,\n    animationConfig: Object,\n    callback?: ?EndCallback,\n  ) {\n    super();\n    this._value = value;\n    this._parent = parent;\n    this._animationClass = animationClass;\n    this._animationConfig = animationConfig;\n    this._callback = callback;\n    this.__attach();\n  }\n\n  __getValue(): Object {\n    return this._parent.__getValue();\n  }\n\n  __attach(): void {\n    this._parent.__addChild(this);\n  }\n\n  __detach(): void {\n    this._parent.__removeChild(this);\n    super.__detach();\n  }\n\n  update(): void {\n    this._value.animate(new this._animationClass({\n      ...this._animationConfig,\n      toValue: (this._animationConfig.toValue: any).__getValue(),\n    }), this._callback);\n  }\n}\n\ntype CompositeAnimation = {\n  start: (callback?: ?EndCallback) => void,\n  stop: () => void,\n};\n\nvar add = function(\n  a: Animated | number,\n  b: Animated | number,\n): AnimatedAddition {\n  return new AnimatedAddition(a, b);\n};\n\nvar divide = function(\n  a: Animated | number,\n  b: Animated | number,\n): AnimatedDivision {\n  return new AnimatedDivision(a, b);\n};\n\nvar multiply = function(\n  a: Animated | number,\n  b: Animated | number,\n): AnimatedMultiplication {\n  return new AnimatedMultiplication(a, b);\n};\n\nvar modulo = function(\n  a: Animated,\n  modulus: number\n): AnimatedModulo {\n  return new AnimatedModulo(a, modulus);\n};\n\nvar diffClamp = function(\n  a: Animated,\n  min: number,\n  max: number,\n): AnimatedDiffClamp {\n  return new AnimatedDiffClamp(a, min, max);\n};\n\nconst _combineCallbacks = function(callback: ?EndCallback, config : AnimationConfig) {\n  if (callback && config.onComplete) {\n    return (...args) => {\n      config.onComplete && config.onComplete(...args);\n      callback && callback(...args);\n    };\n  } else {\n    return callback || config.onComplete;\n  }\n};\n\nvar maybeVectorAnim = function(\n  value: AnimatedValue | AnimatedValueXY,\n  config: Object,\n  anim: (value: AnimatedValue, config: Object) => CompositeAnimation\n): ?CompositeAnimation {\n  if (value instanceof AnimatedValueXY) {\n    var configX = {...config};\n    var configY = {...config};\n    for (var key in config) {\n      var {x, y} = config[key];\n      if (x !== undefined && y !== undefined) {\n        configX[key] = x;\n        configY[key] = y;\n      }\n    }\n    var aX = anim((value: AnimatedValueXY).x, configX);\n    var aY = anim((value: AnimatedValueXY).y, configY);\n    // We use `stopTogether: false` here because otherwise tracking will break\n    // because the second animation will get stopped before it can update.\n    return parallel([aX, aY], {stopTogether: false});\n  }\n  return null;\n};\n\nvar spring = function(\n  value: AnimatedValue | AnimatedValueXY,\n  config: SpringAnimationConfig,\n): CompositeAnimation {\n  return maybeVectorAnim(value, config, spring) || {\n    start: function(callback?: ?EndCallback): void {\n      callback = _combineCallbacks(callback, config);\n      var singleValue: any = value;\n      var singleConfig: any = config;\n      singleValue.stopTracking();\n      if (config.toValue instanceof Animated) {\n        singleValue.track(new AnimatedTracking(\n          singleValue,\n          config.toValue,\n          SpringAnimation,\n          singleConfig,\n          callback\n        ));\n      } else {\n        singleValue.animate(new SpringAnimation(singleConfig), callback);\n      }\n    },\n\n    stop: function(): void {\n      value.stopAnimation();\n    },\n  };\n};\n\nvar timing = function(\n  value: AnimatedValue | AnimatedValueXY,\n  config: TimingAnimationConfig,\n): CompositeAnimation {\n  return maybeVectorAnim(value, config, timing) || {\n    start: function(callback?: ?EndCallback): void {\n      callback = _combineCallbacks(callback, config);\n      var singleValue: any = value;\n      var singleConfig: any = config;\n      singleValue.stopTracking();\n      if (config.toValue instanceof Animated) {\n        singleValue.track(new AnimatedTracking(\n          singleValue,\n          config.toValue,\n          TimingAnimation,\n          singleConfig,\n          callback\n        ));\n      } else {\n        singleValue.animate(new TimingAnimation(singleConfig), callback);\n      }\n    },\n\n    stop: function(): void {\n      value.stopAnimation();\n    },\n  };\n};\n\nvar decay = function(\n  value: AnimatedValue | AnimatedValueXY,\n  config: DecayAnimationConfig,\n): CompositeAnimation {\n  return maybeVectorAnim(value, config, decay) || {\n    start: function(callback?: ?EndCallback): void {\n      callback = _combineCallbacks(callback, config);\n      var singleValue: any = value;\n      var singleConfig: any = config;\n      singleValue.stopTracking();\n      singleValue.animate(new DecayAnimation(singleConfig), callback);\n    },\n\n    stop: function(): void {\n      value.stopAnimation();\n    },\n  };\n};\n\nvar sequence = function(\n  animations: Array<CompositeAnimation>,\n): CompositeAnimation {\n  var current = 0;\n  return {\n    start: function(callback?: ?EndCallback) {\n      var onComplete = function(result) {\n        if (!result.finished) {\n          callback && callback(result);\n          return;\n        }\n\n        current++;\n\n        if (current === animations.length) {\n          callback && callback(result);\n          return;\n        }\n\n        animations[current].start(onComplete);\n      };\n\n      if (animations.length === 0) {\n        callback && callback({finished: true});\n      } else {\n        animations[current].start(onComplete);\n      }\n    },\n\n    stop: function() {\n      if (current < animations.length) {\n        animations[current].stop();\n      }\n    }\n  };\n};\n\ntype ParallelConfig = {\n  stopTogether?: bool, // If one is stopped, stop all.  default: true\n}\nvar parallel = function(\n  animations: Array<CompositeAnimation>,\n  config?: ?ParallelConfig,\n): CompositeAnimation {\n  var doneCount = 0;\n  // Make sure we only call stop() at most once for each animation\n  var hasEnded = {};\n  var stopTogether = !(config && config.stopTogether === false);\n\n  var result = {\n    start: function(callback?: ?EndCallback) {\n      if (doneCount === animations.length) {\n        callback && callback({finished: true});\n        return;\n      }\n\n      animations.forEach((animation, idx) => {\n        var cb = function(endResult) {\n          hasEnded[idx] = true;\n          doneCount++;\n          if (doneCount === animations.length) {\n            doneCount = 0;\n            callback && callback(endResult);\n            return;\n          }\n\n          if (!endResult.finished && stopTogether) {\n            result.stop();\n          }\n        };\n\n        if (!animation) {\n          cb({finished: true});\n        } else {\n          animation.start(cb);\n        }\n      });\n    },\n\n    stop: function(): void {\n      animations.forEach((animation, idx) => {\n        !hasEnded[idx] && animation.stop();\n        hasEnded[idx] = true;\n      });\n    }\n  };\n\n  return result;\n};\n\nvar delay = function(time: number): CompositeAnimation {\n  // Would be nice to make a specialized implementation\n  return timing(new AnimatedValue(0), {toValue: 0, delay: time, duration: 0});\n};\n\nvar stagger = function(\n  time: number,\n  animations: Array<CompositeAnimation>,\n): CompositeAnimation {\n  return parallel(animations.map((animation, i) => {\n    return sequence([\n      delay(time * i),\n      animation,\n    ]);\n  }));\n};\n\ntype Mapping = {[key: string]: Mapping} | AnimatedValue;\ntype EventConfig = {\n  listener?: ?Function,\n  useNativeDriver?: bool,\n};\n\nclass AnimatedEvent {\n  _argMapping: Array<?Mapping>;\n  _listener: ?Function;\n  __isNative: bool;\n\n  constructor(\n    argMapping: Array<?Mapping>,\n    config?: EventConfig = {}\n  ) {\n    this._argMapping = argMapping;\n    this._listener = config.listener;\n    this.__isNative = shouldUseNativeDriver(config);\n\n    if (__DEV__) {\n      this._validateMapping();\n    }\n  }\n\n  __attach(viewRef, eventName) {\n    invariant(this.__isNative, 'Only native driven events need to be attached.');\n\n    // Find animated values in `argMapping` and create an array representing their\n    // key path inside the `nativeEvent` object. Ex.: ['contentOffset', 'x'].\n    const eventMappings = [];\n\n    const traverse = (value, path) => {\n      if (value instanceof AnimatedValue) {\n        value.__makeNative();\n\n        eventMappings.push({\n          nativeEventPath: path,\n          animatedValueTag: value.__getNativeTag(),\n        });\n      } else if (typeof value === 'object') {\n        for (const key in value) {\n          traverse(value[key], path.concat(key));\n        }\n      }\n    };\n\n    invariant(\n      this._argMapping[0] && this._argMapping[0].nativeEvent,\n      'Native driven events only support animated values contained inside `nativeEvent`.'\n    );\n\n    // Assume that the event containing `nativeEvent` is always the first argument.\n    traverse(this._argMapping[0].nativeEvent, []);\n\n    const viewTag = ReactNative.findNodeHandle(viewRef);\n\n    eventMappings.forEach((mapping) => {\n      NativeAnimatedAPI.addAnimatedEventToView(viewTag, eventName, mapping);\n    });\n  }\n\n  __detach(viewTag, eventName) {\n    invariant(this.__isNative, 'Only native driven events need to be detached.');\n\n    NativeAnimatedAPI.removeAnimatedEventFromView(viewTag, eventName);\n  }\n\n  __getHandler() {\n    if (this.__isNative) {\n      return this._listener;\n    }\n\n    return (...args) => {\n      const traverse = (recMapping, recEvt, key) => {\n        if (typeof recEvt === 'number' && recMapping instanceof AnimatedValue) {\n          recMapping.setValue(recEvt);\n        } else if (typeof recMapping === 'object') {\n          for (const mappingKey in recMapping) {\n            traverse(recMapping[mappingKey], recEvt[mappingKey], mappingKey);\n          }\n        }\n      };\n\n      if (!this.__isNative) {\n        this._argMapping.forEach((mapping, idx) => {\n          traverse(mapping, args[idx], 'arg' + idx);\n        });\n      }\n\n      if (this._listener) {\n        this._listener.apply(null, args);\n      }\n    };\n  }\n\n  _validateMapping() {\n    const traverse = (recMapping, recEvt, key) => {\n      if (typeof recEvt === 'number') {\n        invariant(\n          recMapping instanceof AnimatedValue,\n          'Bad mapping of type ' + typeof recMapping + ' for key ' + key +\n            ', event value must map to AnimatedValue'\n        );\n        return;\n      }\n      invariant(\n        typeof recMapping === 'object',\n        'Bad mapping of type ' + typeof recMapping + ' for key ' + key\n      );\n      invariant(\n        typeof recEvt === 'object',\n        'Bad event of type ' + typeof recEvt + ' for key ' + key\n      );\n      for (const mappingKey in recMapping) {\n        traverse(recMapping[mappingKey], recEvt[mappingKey], mappingKey);\n      }\n    };\n  }\n}\n\nvar event = function(\n  argMapping: Array<?Mapping>,\n  config?: EventConfig,\n): any {\n  const animatedEvent = new AnimatedEvent(argMapping, config);\n  if (animatedEvent.__isNative) {\n    return animatedEvent;\n  } else {\n    return animatedEvent.__getHandler();\n  }\n};\n\n/**\n * The `Animated` library is designed to make animations fluid, powerful, and\n * easy to build and maintain. `Animated` focuses on declarative relationships\n * between inputs and outputs, with configurable transforms in between, and\n * simple `start`/`stop` methods to control time-based animation execution.\n *\n * The simplest workflow for creating an animation is to to create an\n * `Animated.Value`, hook it up to one or more style attributes of an animated\n * component, and then drive updates via animations using `Animated.timing()`:\n *\n * ```javascript\n * Animated.timing(                            // Animate value over time\n *   this.state.fadeAnim,                      // The value to drive\n *   {\n *     toValue: 1,                             // Animate to final value of 1\n *   }\n * ).start();                                  // Start the animation\n * ```\n *\n * Refer to the [Animations](docs/animations.html#animated-api) guide to see\n * additional examples of `Animated` in action.\n *\n * ## Overview\n *\n * There are two value types you can use with `Animated`:\n *\n * - [`Animated.Value()`](docs/animated.html#value) for single values\n * - [`Animated.ValueXY()`](docs/animated.html#valuexy) for vectors\n *\n * `Animated.Value` can bind to style properties or other props, and can be\n * interpolated as well. A single `Animated.Value` can drive any number of\n * properties.\n *\n * ### Configuring animations\n *\n * `Animated` provides three types of animation types. Each animation type\n * provides a particular animation curve that controls how your values animate\n * from their initial value to the final value:\n *\n * - [`Animated.decay()`](docs/animated.html#decay) starts with an initial\n *   velocity and gradually slows to a stop.\n * - [`Animated.spring()`](docs/animated.html#spring) provides a simple\n *   spring physics model.\n * - [`Animated.timing()`](docs/animated.html#timing) animates a value over time\n *   using [easing functions](docs/easing.html).\n *\n * In most cases, you will be using `timing()`. By default, it uses a symmetric\n * easeInOut curve that conveys the gradual acceleration of an object to full\n * speed and concludes by gradually decelerating to a stop.\n *\n * ### Working with animations\n *\n * Animations are started by calling `start()` on your animation. `start()`\n * takes a completion callback that will be called when the animation is done.\n * If the animation finished running normally, the completion callback will be\n * invoked with `{finished: true}`. If the animation is done because `stop()`\n * was called on it before it could finish (e.g. because it was interrupted by a\n * gesture or another animation), then it will receive `{finished: false}`.\n *\n * ### Using the native driver\n *\n * By using the native driver, we send everything about the animation to native\n * before starting the animation, allowing native code to perform the animation\n * on the UI thread without having to go through the bridge on every frame.\n * Once the animation has started, the JS thread can be blocked without\n * affecting the animation.\n *\n * You can use the native driver by specifying `useNativeDriver: true` in your\n * animation configuration. See the\n * [Animations](docs/animations.html#using-the-native-driver) guide to learn\n * more.\n *\n * ### Animatable components\n *\n * Only animatable components can be animated. These special components do the\n * magic of binding the animated values to the properties, and do targeted\n * native updates to avoid the cost of the react render and reconciliation\n * process on every frame. They also handle cleanup on unmount so they are safe\n * by default.\n *\n * - [`createAnimatedComponent()`](docs/animated.html#createanimatedcomponent)\n *   can be used to make a component animatable.\n *\n * `Animated` exports the following animatable components using the above\n * wrapper:\n *\n * - `Animated.Image`\n * - `Animated.ScrollView`\n * - `Animated.Text`\n * - `Animated.View`\n *\n * ### Composing animations\n *\n * Animations can also be combined in complex ways using composition functions:\n *\n * - [`Animated.delay()`](docs/animated.html#delay) starts an animation after\n *   a given delay.\n * - [`Animated.parallel()`](docs/animated.html#parallel) starts a number of\n *   animations at the same time.\n * - [`Animated.sequence()`](docs/animated.html#sequence) starts the animations\n *   in order, waiting for each to complete before starting the next.\n * - [`Animated.stagger()`](docs/animated.html#stagger) starts animations in\n *   order and in parallel, but with successive delays.\n *\n * Animations can also be chained together simply by setting the `toValue` of\n * one animation to be another `Animated.Value`. See\n * [Tracking dynamic values](docs/animations.html#tracking-dynamic-values) in\n * the Animations guide.\n *\n * By default, if one animation is stopped or interrupted, then all other\n * animations in the group are also stopped.\n *\n * ### Combining animated values\n *\n * You can combine two animated values via addition, multiplication, division,\n * or modulo to make a new animated value:\n *\n * - [`Animated.add()`](docs/animated.html#add)\n * - [`Animated.divide()`](docs/animated.html#divide)\n * - [`Animated.modulo()`](docs/animated.html#modulo)\n * - [`Animated.multiply()`](docs/animated.html#multiply)\n *\n * ### Interpolation\n *\n * The `interpolate()` function allows input ranges to map to different output\n * ranges. By default, it will extrapolate the curve beyond the ranges given,\n * but you can also have it clamp the output value. It uses lineal interpolation\n * by default but also supports easing functions.\n *\n * - [`interpolate()`](docs/animated.html#interpolate)\n *\n * Read more about interpolation in the\n * [Animation](docs/animations.html#interpolation) guide.\n *\n * ### Handling gestures and other events\n *\n * Gestures, like panning or scrolling, and other events can map directly to\n * animated values using `Animated.event()`. This is done with a structured map\n * syntax so that values can be extracted from complex event objects. The first\n * level is an array to allow mapping across multiple args, and that array\n * contains nested objects.\n *\n * - [`Animated.event()`](docs/animated.html#event)\n *\n * For example, when working with horizontal scrolling gestures, you would do\n * the following in order to map `event.nativeEvent.contentOffset.x` to\n * `scrollX` (an `Animated.Value`):\n *\n * ```javascript\n *  onScroll={Animated.event(\n *    // scrollX = e.nativeEvent.contentOffset.x\n *    [{ nativeEvent: {\n *         contentOffset: {\n *           x: scrollX\n *         }\n *       }\n *     }]\n *  )}\n * ```\n *\n */\nmodule.exports = {\n  /**\n   * Standard value class for driving animations.  Typically initialized with\n   * `new Animated.Value(0);`\n   *\n   * See also [`AnimatedValue`](docs/animated.html#animatedvalue).\n   */\n  Value: AnimatedValue,\n  /**\n   * 2D value class for driving 2D animations, such as pan gestures.\n   *\n   * See also [`AnimatedValueXY`](docs/animated.html#animatedvaluexy).\n   */\n  ValueXY: AnimatedValueXY,\n  /**\n   * exported to use the Interpolation type in flow\n   *\n   * See also [`AnimatedInterpolation`](docs/animated.html#animatedinterpolation).\n   */\n  Interpolation: AnimatedInterpolation,\n\n  /**\n   * Animates a value from an initial velocity to zero based on a decay\n   * coefficient.\n   *\n   * Config is an object that may have the following options:\n   *\n   *   - `velocity`: Initial velocity.  Required.\n   *   - `deceleration`: Rate of decay.  Default 0.997.\n   *   - `useNativeDriver`: Uses the native driver when true. Default false.\n   */\n  decay,\n  /**\n   * Animates a value along a timed easing curve. The\n   * [`Easing`](docs/easing.html) module has tons of predefined curves, or you\n   * can use your own function.\n   *\n   * Config is an object that may have the following options:\n   *\n   *   - `duration`: Length of animation (milliseconds).  Default 500.\n   *   - `easing`: Easing function to define curve.\n   *     Default is `Easing.inOut(Easing.ease)`.\n   *   - `delay`: Start the animation after delay (milliseconds).  Default 0.\n   *   - `useNativeDriver`: Uses the native driver when true. Default false.\n   */\n  timing,\n  /**\n   * Spring animation based on Rebound and\n   * [Origami](https://facebook.github.io/origami/).  Tracks velocity state to\n   * create fluid motions as the `toValue` updates, and can be chained together.\n   *\n   * Config is an object that may have the following options:\n   *\n   *   - `friction`: Controls \"bounciness\"/overshoot.  Default 7.\n   *   - `tension`: Controls speed.  Default 40.\n   *   - `useNativeDriver`: Uses the native driver when true. Default false.\n   */\n  spring,\n\n  /**\n   * Creates a new Animated value composed from two Animated values added\n   * together.\n   */\n  add,\n\n  /**\n   * Creates a new Animated value composed by dividing the first Animated value\n   * by the second Animated value.\n   */\n  divide,\n\n  /**\n   * Creates a new Animated value composed from two Animated values multiplied\n   * together.\n   */\n  multiply,\n\n  /**\n   * Creates a new Animated value that is the (non-negative) modulo of the\n   * provided Animated value\n   */\n  modulo,\n\n  /**\n   * Create a new Animated value that is limited between 2 values. It uses the\n   * difference between the last value so even if the value is far from the bounds\n   * it will start changing when the value starts getting closer again.\n   * (`value = clamp(value + diff, min, max)`).\n   *\n   * This is useful with scroll events, for example, to show the navbar when\n   * scrolling up and to hide it when scrolling down.\n   */\n  diffClamp,\n\n  /**\n   * Starts an animation after the given delay.\n   */\n  delay,\n  /**\n   * Starts an array of animations in order, waiting for each to complete\n   * before starting the next.  If the current running animation is stopped, no\n   * following animations will be started.\n   */\n  sequence,\n  /**\n   * Starts an array of animations all at the same time.  By default, if one\n   * of the animations is stopped, they will all be stopped.  You can override\n   * this with the `stopTogether` flag.\n   */\n  parallel,\n  /**\n   * Array of animations may run in parallel (overlap), but are started in\n   * sequence with successive delays.  Nice for doing trailing effects.\n   */\n  stagger,\n\n  /**\n   * Takes an array of mappings and extracts values from each arg accordingly,\n   * then calls `setValue` on the mapped outputs.  e.g.\n   *\n   *```javascript\n   *  onScroll={Animated.event(\n   *    [{nativeEvent: {contentOffset: {x: this._scrollX}}}]\n   *    {listener},          // Optional async listener\n   *  )\n   *  ...\n   *  onPanResponderMove: Animated.event([\n   *    null,                // raw event arg ignored\n   *    {dx: this._panX},    // gestureState arg\n   *  ]),\n   *```\n   *\n   * Config is an object that may have the following options:\n   *\n   *   - `listener`: Optional async listener.\n   *   - `useNativeDriver`: Uses the native driver when true. Default false.\n   */\n  event,\n\n  /**\n   * Make any React component Animatable.  Used to create `Animated.View`, etc.\n   */\n  createAnimatedComponent,\n\n  __PropsOnlyForTests: AnimatedProps,\n};\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule InteractionManager\n * @flow\n */\n'use strict';\n\nconst BatchedBridge = require('BatchedBridge');\nconst EventEmitter = require('EventEmitter');\nconst Set = require('Set');\nconst TaskQueue = require('TaskQueue');\n\nconst infoLog = require('infoLog');\nconst invariant = require('fbjs/lib/invariant');\nconst keyMirror = require('fbjs/lib/keyMirror');\n\ntype Handle = number;\nimport type {Task} from 'TaskQueue';\n\nconst _emitter = new EventEmitter();\n\nconst DEBUG_DELAY = 0;\nconst DEBUG = false;\n\n/**\n * InteractionManager allows long-running work to be scheduled after any\n * interactions/animations have completed. In particular, this allows JavaScript\n * animations to run smoothly.\n *\n * Applications can schedule tasks to run after interactions with the following:\n *\n * ```\n * InteractionManager.runAfterInteractions(() => {\n *   // ...long-running synchronous task...\n * });\n * ```\n *\n * Compare this to other scheduling alternatives:\n *\n * - requestAnimationFrame(): for code that animates a view over time.\n * - setImmediate/setTimeout(): run code later, note this may delay animations.\n * - runAfterInteractions(): run code later, without delaying active animations.\n *\n * The touch handling system considers one or more active touches to be an\n * 'interaction' and will delay `runAfterInteractions()` callbacks until all\n * touches have ended or been cancelled.\n *\n * InteractionManager also allows applications to register animations by\n * creating an interaction 'handle' on animation start, and clearing it upon\n * completion:\n *\n * ```\n * var handle = InteractionManager.createInteractionHandle();\n * // run animation... (`runAfterInteractions` tasks are queued)\n * // later, on animation completion:\n * InteractionManager.clearInteractionHandle(handle);\n * // queued tasks run if all handles were cleared\n * ```\n *\n * `runAfterInteractions` takes either a plain callback function, or a\n * `PromiseTask` object with a `gen` method that returns a `Promise`.  If a\n * `PromiseTask` is supplied, then it is fully resolved (including asynchronous\n * dependencies that also schedule more tasks via `runAfterInteractions`) before\n * starting on the next task that might have been queued up synchronously\n * earlier.\n *\n * By default, queued tasks are executed together in a loop in one\n * `setImmediate` batch. If `setDeadline` is called with a positive number, then\n * tasks will only be executed until the deadline (in terms of js event loop run\n * time) approaches, at which point execution will yield via setTimeout,\n * allowing events such as touches to start interactions and block queued tasks\n * from executing, making apps more responsive.\n */\nvar InteractionManager = {\n  Events: keyMirror({\n    interactionStart: true,\n    interactionComplete: true,\n  }),\n\n  /**\n   * Schedule a function to run after all interactions have completed. Returns a cancellable\n   * \"promise\".\n   */\n  runAfterInteractions(task: ?Task): {then: Function, done: Function, cancel: Function} {\n    const tasks = [];\n    const promise = new Promise(resolve => {\n      _scheduleUpdate();\n      if (task) {\n        tasks.push(task);\n      }\n      tasks.push({run: resolve, name: 'resolve ' + (task && task.name || '?')});\n      _taskQueue.enqueueTasks(tasks);\n    });\n    return {\n      then: promise.then.bind(promise),\n      done: (...args) => {\n        if (promise.done) {\n          return promise.done(...args);\n        } else {\n          console.warn('Tried to call done when not supported by current Promise implementation.');\n        }\n      },\n      cancel: function() {\n        _taskQueue.cancelTasks(tasks);\n      },\n    };\n  },\n\n  /**\n   * Notify manager that an interaction has started.\n   */\n  createInteractionHandle(): Handle {\n    DEBUG && infoLog('create interaction handle');\n    _scheduleUpdate();\n    var handle = ++_inc;\n    _addInteractionSet.add(handle);\n    return handle;\n  },\n\n  /**\n   * Notify manager that an interaction has completed.\n   */\n  clearInteractionHandle(handle: Handle) {\n    DEBUG && infoLog('clear interaction handle');\n    invariant(\n      !!handle,\n      'Must provide a handle to clear.'\n    );\n    _scheduleUpdate();\n    _addInteractionSet.delete(handle);\n    _deleteInteractionSet.add(handle);\n  },\n\n  addListener: _emitter.addListener.bind(_emitter),\n\n  /**\n   * A positive number will use setTimeout to schedule any tasks after the\n   * eventLoopRunningTime hits the deadline value, otherwise all tasks will be\n   * executed in one setImmediate batch (default).\n   */\n  setDeadline(deadline: number) {\n    _deadline = deadline;\n  },\n};\n\nconst _interactionSet = new Set();\nconst _addInteractionSet = new Set();\nconst _deleteInteractionSet = new Set();\nconst _taskQueue = new TaskQueue({onMoreTasks: _scheduleUpdate});\nlet _nextUpdateHandle = 0;\nlet _inc = 0;\nlet _deadline = -1;\n\ndeclare function setImmediate(callback: any, ...args: Array<any>): number;\n\n/**\n * Schedule an asynchronous update to the interaction state.\n */\nfunction _scheduleUpdate() {\n  if (!_nextUpdateHandle) {\n    if (_deadline > 0) {\n      _nextUpdateHandle = setTimeout(_processUpdate, 0 + DEBUG_DELAY);\n    } else {\n      _nextUpdateHandle = setImmediate(_processUpdate);\n    }\n  }\n}\n\n/**\n * Notify listeners, process queue, etc\n */\nfunction _processUpdate() {\n  _nextUpdateHandle = 0;\n\n  var interactionCount = _interactionSet.size;\n  _addInteractionSet.forEach(handle =>\n    _interactionSet.add(handle)\n  );\n  _deleteInteractionSet.forEach(handle =>\n    _interactionSet.delete(handle)\n  );\n  var nextInteractionCount = _interactionSet.size;\n\n  if (interactionCount !== 0 && nextInteractionCount === 0) {\n    // transition from 1+ --> 0 interactions\n    _emitter.emit(InteractionManager.Events.interactionComplete);\n  } else if (interactionCount === 0 && nextInteractionCount !== 0) {\n    // transition from 0 --> 1+ interactions\n    _emitter.emit(InteractionManager.Events.interactionStart);\n  }\n\n  // process the queue regardless of a transition\n  if (nextInteractionCount === 0) {\n    while (_taskQueue.hasTasksToProcess()) {\n      _taskQueue.processNext();\n      if (_deadline > 0 &&\n          BatchedBridge.getEventLoopRunningTime() >= _deadline) {\n        // Hit deadline before processing all tasks, so process more later.\n        _scheduleUpdate();\n        break;\n      }\n    }\n  }\n  _addInteractionSet.clear();\n  _deleteInteractionSet.clear();\n}\n\nmodule.exports = InteractionManager;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule TaskQueue\n * @flow\n */\n'use strict';\n\nconst infoLog = require('infoLog');\nconst invariant = require('fbjs/lib/invariant');\n\ntype SimpleTask = {\n  name: string,\n  run: () => void,\n};\ntype PromiseTask = {\n  name: string,\n  gen: () => Promise<any>,\n};\nexport type Task = Function | SimpleTask | PromiseTask;\n\nconst DEBUG = false;\n\n/**\n * TaskQueue - A system for queueing and executing a mix of simple callbacks and\n * trees of dependent tasks based on Promises. No tasks are executed unless\n * `processNext` is called.\n *\n * `enqueue` takes a Task object with either a simple `run` callback, or a\n * `gen` function that returns a `Promise` and puts it in the queue.  If a gen\n * function is supplied, then the promise it returns will block execution of\n * tasks already in the queue until it resolves. This can be used to make sure\n * the first task is fully resolved (including asynchronous dependencies that\n * also schedule more tasks via `enqueue`) before starting on the next task.\n * The `onMoreTasks` constructor argument is used to inform the owner that an\n * async task has resolved and that the queue should be processed again.\n *\n * Note: Tasks are only actually executed with explicit calls to `processNext`.\n */\nclass TaskQueue {\n  /**\n   * TaskQueue instances are self contained and independent, so multiple tasks\n   * of varying semantics and priority can operate together.\n   *\n   * `onMoreTasks` is invoked when `PromiseTask`s resolve if there are more\n   * tasks to process.\n   */\n  constructor({onMoreTasks}: {onMoreTasks: () => void}) {\n    this._onMoreTasks = onMoreTasks;\n    this._queueStack = [{tasks: [], popable: false}];\n  }\n\n  /**\n   * Add a task to the queue.  It is recommended to name your tasks for easier\n   * async debugging. Tasks will not be executed until `processNext` is called\n   * explicitly.\n   */\n  enqueue(task: Task): void {\n    this._getCurrentQueue().push(task);\n  }\n\n  enqueueTasks(tasks: Array<Task>): void {\n    tasks.forEach((task) => this.enqueue(task));\n  }\n\n  cancelTasks(tasksToCancel: Array<Task>): void {\n    // search through all tasks and remove them.\n    this._queueStack = this._queueStack\n      .map((queue) => ({\n        ...queue,\n        tasks: queue.tasks.filter((task) => tasksToCancel.indexOf(task) === -1),\n      }))\n      .filter((queue, idx) => (queue.tasks.length > 0 || idx === 0));\n  }\n\n  /**\n   * Check to see if `processNext` should be called.\n   *\n   * @returns {boolean} Returns true if there are tasks that are ready to be\n   * processed with `processNext`, or returns false if there are no more tasks\n   * to be processed right now, although there may be tasks in the queue that\n   * are blocked by earlier `PromiseTask`s that haven't resolved yet.\n   * `onMoreTasks` will be called after each `PromiseTask` resolves if there are\n   * tasks ready to run at that point.\n   */\n  hasTasksToProcess(): bool {\n    return this._getCurrentQueue().length > 0;\n  }\n\n  /**\n   * Executes the next task in the queue.\n   */\n  processNext(): void {\n    const queue = this._getCurrentQueue();\n    if (queue.length) {\n      const task = queue.shift();\n      try {\n        if (task.gen) {\n          DEBUG && infoLog('genPromise for task ' + task.name);\n          this._genPromise((task: any)); // Rather than annoying tagged union\n        } else if (task.run) {\n          DEBUG && infoLog('run task ' + task.name);\n          task.run();\n        } else {\n          invariant(\n            typeof task === 'function',\n            'Expected Function, SimpleTask, or PromiseTask, but got:\\n' +\n              JSON.stringify(task, null, 2)\n          );\n          DEBUG && infoLog('run anonymous task');\n          task();\n        }\n      } catch (e) {\n        e.message = 'TaskQueue: Error with task ' + (task.name || '') + ': ' +\n          e.message;\n        throw e;\n      }\n    }\n  }\n\n  _queueStack: Array<{tasks: Array<Task>, popable: bool}>;\n  _onMoreTasks: () => void;\n\n  _getCurrentQueue(): Array<Task> {\n    const stackIdx = this._queueStack.length - 1;\n    const queue = this._queueStack[stackIdx];\n    if (queue.popable &&\n        queue.tasks.length === 0 &&\n        this._queueStack.length > 1) {\n      this._queueStack.pop();\n      DEBUG && infoLog('popped queue: ', {stackIdx, queueStackSize: this._queueStack.length});\n      return this._getCurrentQueue();\n    } else {\n      return queue.tasks;\n    }\n  }\n\n  _genPromise(task: PromiseTask) {\n    // Each async task pushes it's own queue onto the queue stack. This\n    // effectively defers execution of previously queued tasks until the promise\n    // resolves, at which point we allow the new queue to be popped, which\n    // happens once it is fully processed.\n    this._queueStack.push({tasks: [], popable: false});\n    const stackIdx = this._queueStack.length - 1;\n    DEBUG && infoLog('push new queue: ', {stackIdx});\n    DEBUG && infoLog('exec gen task ' + task.name);\n    task.gen()\n      .then(() => {\n        DEBUG && infoLog(\n          'onThen for gen task ' + task.name,\n          {stackIdx, queueStackSize: this._queueStack.length},\n        );\n        this._queueStack[stackIdx].popable = true;\n        this.hasTasksToProcess() && this._onMoreTasks();\n      })\n      .catch((ex) => {\n        ex.message = `TaskQueue: Error resolving Promise in task ${task.name}: ${ex.message}`;\n        throw ex;\n      })\n      .done();\n  }\n}\n\n\nmodule.exports = TaskQueue;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule infoLog\n */\n'use strict';\n\n/**\n * Intentional info-level logging for clear separation from ad-hoc console debug logging.\n */\nfunction infoLog(...args) {\n  return console.log(...args); // eslint-disable-line no-console-disallow\n}\n\nmodule.exports = infoLog;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule Interpolation\n * @flow\n */\n/* eslint no-bitwise: 0 */\n'use strict';\n\nvar invariant = require('fbjs/lib/invariant');\nvar normalizeColor = require('normalizeColor');\n\ntype ExtrapolateType = 'extend' | 'identity' | 'clamp';\n\nexport type InterpolationConfigType = {\n  inputRange: Array<number>,\n  /* $FlowFixMe(>=0.38.0 site=react_native_fb,react_native_oss) - Flow error\n   * detected during the deployment of v0.38.0. To see the error, remove this\n   * comment and run flow\n   */\n  outputRange: (Array<number> | Array<string>),\n  easing?: ((input: number) => number),\n  extrapolate?: ExtrapolateType,\n  extrapolateLeft?: ExtrapolateType,\n  extrapolateRight?: ExtrapolateType,\n};\n\nvar linear = (t) => t;\n\n/**\n * Very handy helper to map input ranges to output ranges with an easing\n * function and custom behavior outside of the ranges.\n */\nclass Interpolation {\n  static create(config: InterpolationConfigType): (input: number) => number | string {\n\n    if (config.outputRange && typeof config.outputRange[0] === 'string') {\n      return createInterpolationFromStringOutputRange(config);\n    }\n\n    var outputRange: Array<number> = (config.outputRange: any);\n    checkInfiniteRange('outputRange', outputRange);\n\n    var inputRange = config.inputRange;\n    checkInfiniteRange('inputRange', inputRange);\n    checkValidInputRange(inputRange);\n\n    invariant(\n      inputRange.length === outputRange.length,\n      'inputRange (' + inputRange.length + ') and outputRange (' +\n      outputRange.length + ') must have the same length'\n    );\n\n    var easing = config.easing || linear;\n\n    var extrapolateLeft: ExtrapolateType = 'extend';\n    if (config.extrapolateLeft !== undefined) {\n      extrapolateLeft = config.extrapolateLeft;\n    } else if (config.extrapolate !== undefined) {\n      extrapolateLeft = config.extrapolate;\n    }\n\n    var extrapolateRight: ExtrapolateType = 'extend';\n    if (config.extrapolateRight !== undefined) {\n      extrapolateRight = config.extrapolateRight;\n    } else if (config.extrapolate !== undefined) {\n      extrapolateRight = config.extrapolate;\n    }\n\n    return (input) => {\n      invariant(\n        typeof input === 'number',\n        'Cannot interpolation an input which is not a number'\n      );\n\n      var range = findRange(input, inputRange);\n      return interpolate(\n        input,\n        inputRange[range],\n        inputRange[range + 1],\n        outputRange[range],\n        outputRange[range + 1],\n        easing,\n        extrapolateLeft,\n        extrapolateRight,\n      );\n    };\n  }\n}\n\nfunction interpolate(\n  input: number,\n  inputMin: number,\n  inputMax: number,\n  outputMin: number,\n  outputMax: number,\n  easing: ((input: number) => number),\n  extrapolateLeft: ExtrapolateType,\n  extrapolateRight: ExtrapolateType,\n) {\n  var result = input;\n\n  // Extrapolate\n  if (result < inputMin) {\n    if (extrapolateLeft === 'identity') {\n      return result;\n    } else if (extrapolateLeft === 'clamp') {\n      result = inputMin;\n    } else if (extrapolateLeft === 'extend') {\n      // noop\n    }\n  }\n\n  if (result > inputMax) {\n    if (extrapolateRight === 'identity') {\n      return result;\n    } else if (extrapolateRight === 'clamp') {\n      result = inputMax;\n    } else if (extrapolateRight === 'extend') {\n      // noop\n    }\n  }\n\n  if (outputMin === outputMax) {\n    return outputMin;\n  }\n\n  if (inputMin === inputMax) {\n    if (input <= inputMin) {\n      return outputMin;\n    }\n    return outputMax;\n  }\n\n  // Input Range\n  if (inputMin === -Infinity) {\n    result = -result;\n  } else if (inputMax === Infinity) {\n    result = result - inputMin;\n  } else {\n    result = (result - inputMin) / (inputMax - inputMin);\n  }\n\n  // Easing\n  result = easing(result);\n\n  // Output Range\n  if (outputMin === -Infinity) {\n    result = -result;\n  } else if (outputMax === Infinity) {\n    result = result + outputMin;\n  } else {\n    result = result * (outputMax - outputMin) + outputMin;\n  }\n\n  return result;\n}\n\nfunction colorToRgba(input: string): string {\n  var int32Color = normalizeColor(input);\n  if (int32Color === null) {\n    return input;\n  }\n\n  int32Color = int32Color || 0;\n\n  var r = (int32Color & 0xff000000) >>> 24;\n  var g = (int32Color & 0x00ff0000) >>> 16;\n  var b = (int32Color & 0x0000ff00) >>> 8;\n  var a = (int32Color & 0x000000ff) / 255;\n\n  return `rgba(${r}, ${g}, ${b}, ${a})`;\n}\n\nvar stringShapeRegex = /[0-9\\.-]+/g;\n\n/**\n * Supports string shapes by extracting numbers so new values can be computed,\n * and recombines those values into new strings of the same shape.  Supports\n * things like:\n *\n *   rgba(123, 42, 99, 0.36) // colors\n *   -45deg                  // values with units\n */\nfunction createInterpolationFromStringOutputRange(\n  config: InterpolationConfigType,\n): (input: number) => string {\n  var outputRange: Array<string> = (config.outputRange: any);\n  invariant(outputRange.length >= 2, 'Bad output range');\n  outputRange = outputRange.map(colorToRgba);\n  checkPattern(outputRange);\n\n  // ['rgba(0, 100, 200, 0)', 'rgba(50, 150, 250, 0.5)']\n  // ->\n  // [\n  //   [0, 50],\n  //   [100, 150],\n  //   [200, 250],\n  //   [0, 0.5],\n  // ]\n  /* $FlowFixMe(>=0.18.0): `outputRange[0].match()` can return `null`. Need to\n   * guard against this possibility.\n   */\n  var outputRanges = outputRange[0].match(stringShapeRegex).map(() => []);\n  outputRange.forEach(value => {\n    /* $FlowFixMe(>=0.18.0): `value.match()` can return `null`. Need to guard\n     * against this possibility.\n     */\n    value.match(stringShapeRegex).forEach((number, i) => {\n      outputRanges[i].push(+number);\n    });\n  });\n\n  /* $FlowFixMe(>=0.18.0): `outputRange[0].match()` can return `null`. Need to\n   * guard against this possibility.\n   */\n  var interpolations = outputRange[0].match(stringShapeRegex).map((value, i) => {\n    return Interpolation.create({\n      ...config,\n      outputRange: outputRanges[i],\n    });\n  });\n\n  // rgba requires that the r,g,b are integers.... so we want to round them, but we *dont* want to\n  // round the opacity (4th column).\n  const shouldRound = isRgbOrRgba(outputRange[0]);\n\n  return (input) => {\n    var i = 0;\n    // 'rgba(0, 100, 200, 0)'\n    // ->\n    // 'rgba(${interpolations[0](input)}, ${interpolations[1](input)}, ...'\n    return outputRange[0].replace(stringShapeRegex, () => {\n      const val = +interpolations[i++](input);\n      const rounded = shouldRound && i < 4 ? Math.round(val) : Math.round(val * 1000) / 1000;\n      return String(rounded);\n    });\n  };\n}\n\nfunction isRgbOrRgba(range) {\n  return typeof range === 'string' && range.startsWith('rgb');\n}\n\nfunction checkPattern(arr: Array<string>) {\n  var pattern = arr[0].replace(stringShapeRegex, '');\n  for (var i = 1; i < arr.length; ++i) {\n    invariant(\n      pattern === arr[i].replace(stringShapeRegex, ''),\n      'invalid pattern ' + arr[0] + ' and ' + arr[i],\n    );\n  }\n}\n\nfunction findRange(input: number, inputRange: Array<number>) {\n  for (var i = 1; i < inputRange.length - 1; ++i) {\n    if (inputRange[i] >= input) {\n      break;\n    }\n  }\n  return i - 1;\n}\n\nfunction checkValidInputRange(arr: Array<number>) {\n  invariant(arr.length >= 2, 'inputRange must have at least 2 elements');\n  for (var i = 1; i < arr.length; ++i) {\n    invariant(\n      arr[i] >= arr[i - 1],\n      /* $FlowFixMe(>=0.13.0) - In the addition expression below this comment,\n       * one or both of the operands may be something that doesn't cleanly\n       * convert to a string, like undefined, null, and object, etc. If you really\n       * mean this implicit string conversion, you can do something like\n       * String(myThing)\n       */\n      'inputRange must be monotonically increasing ' + arr\n    );\n  }\n}\n\nfunction checkInfiniteRange(name: string, arr: Array<number>) {\n  invariant(arr.length >= 2, name + ' must have at least 2 elements');\n  invariant(\n    arr.length !== 2 || arr[0] !== -Infinity || arr[1] !== Infinity,\n    /* $FlowFixMe(>=0.13.0) - In the addition expression below this comment,\n     * one or both of the operands may be something that doesn't cleanly convert\n     * to a string, like undefined, null, and object, etc. If you really mean\n     * this implicit string conversion, you can do something like\n     * String(myThing)\n     */\n    name + 'cannot be ]-infinity;+infinity[ ' + arr\n  );\n}\n\nmodule.exports = Interpolation;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule NativeAnimatedHelper\n * @flow\n */\n'use strict';\n\nconst NativeAnimatedModule = require('NativeModules').NativeAnimatedModule;\nconst NativeEventEmitter = require('NativeEventEmitter');\n\nconst invariant = require('fbjs/lib/invariant');\n\nlet __nativeAnimatedNodeTagCount = 1; /* used for animated nodes */\nlet __nativeAnimationIdCount = 1; /* used for started animations */\n\ntype EndResult = {finished: boolean};\ntype EndCallback = (result: EndResult) => void;\ntype EventMapping = {\n  nativeEventPath: Array<string>,\n  animatedValueTag: ?number,\n};\n\nlet nativeEventEmitter;\n\n/**\n * Simple wrappers around NativeAnimatedModule to provide flow and autocmplete support for\n * the native module methods\n */\nconst API = {\n  createAnimatedNode: function(tag: ?number, config: Object): void {\n    assertNativeAnimatedModule();\n    NativeAnimatedModule.createAnimatedNode(tag, config);\n  },\n  startListeningToAnimatedNodeValue: function(tag: ?number) {\n    assertNativeAnimatedModule();\n    NativeAnimatedModule.startListeningToAnimatedNodeValue(tag);\n  },\n  stopListeningToAnimatedNodeValue: function(tag: ?number) {\n    assertNativeAnimatedModule();\n    NativeAnimatedModule.stopListeningToAnimatedNodeValue(tag);\n  },\n  connectAnimatedNodes: function(parentTag: ?number, childTag: ?number): void {\n    assertNativeAnimatedModule();\n    NativeAnimatedModule.connectAnimatedNodes(parentTag, childTag);\n  },\n  disconnectAnimatedNodes: function(parentTag: ?number, childTag: ?number): void {\n    assertNativeAnimatedModule();\n    NativeAnimatedModule.disconnectAnimatedNodes(parentTag, childTag);\n  },\n  startAnimatingNode: function(animationId: ?number, nodeTag: ?number, config: Object, endCallback: EndCallback): void {\n    assertNativeAnimatedModule();\n    NativeAnimatedModule.startAnimatingNode(animationId, nodeTag, config, endCallback);\n  },\n  stopAnimation: function(animationId: ?number) {\n    assertNativeAnimatedModule();\n    NativeAnimatedModule.stopAnimation(animationId);\n  },\n  setAnimatedNodeValue: function(nodeTag: ?number, value: ?number): void {\n    assertNativeAnimatedModule();\n    NativeAnimatedModule.setAnimatedNodeValue(nodeTag, value);\n  },\n  setAnimatedNodeOffset: function(nodeTag: ?number, offset: ?number): void {\n    assertNativeAnimatedModule();\n    NativeAnimatedModule.setAnimatedNodeOffset(nodeTag, offset);\n  },\n  flattenAnimatedNodeOffset: function(nodeTag: ?number): void {\n    assertNativeAnimatedModule();\n    NativeAnimatedModule.flattenAnimatedNodeOffset(nodeTag);\n  },\n  extractAnimatedNodeOffset: function(nodeTag: ?number): void {\n    assertNativeAnimatedModule();\n    NativeAnimatedModule.extractAnimatedNodeOffset(nodeTag);\n  },\n  connectAnimatedNodeToView: function(nodeTag: ?number, viewTag: ?number): void {\n    assertNativeAnimatedModule();\n    NativeAnimatedModule.connectAnimatedNodeToView(nodeTag, viewTag);\n  },\n  disconnectAnimatedNodeFromView: function(nodeTag: ?number, viewTag: ?number): void {\n    assertNativeAnimatedModule();\n    NativeAnimatedModule.disconnectAnimatedNodeFromView(nodeTag, viewTag);\n  },\n  dropAnimatedNode: function(tag: ?number): void {\n    assertNativeAnimatedModule();\n    NativeAnimatedModule.dropAnimatedNode(tag);\n  },\n  addAnimatedEventToView: function(viewTag: ?number, eventName: string, eventMapping: EventMapping) {\n    assertNativeAnimatedModule();\n    NativeAnimatedModule.addAnimatedEventToView(viewTag, eventName, eventMapping);\n  },\n  removeAnimatedEventFromView(viewTag: ?number, eventName: string) {\n    assertNativeAnimatedModule();\n    NativeAnimatedModule.removeAnimatedEventFromView(viewTag, eventName);\n  }\n};\n\n/**\n * Styles allowed by the native animated implementation.\n *\n * In general native animated implementation should support any numeric property that doesn't need\n * to be updated through the shadow view hierarchy (all non-layout properties).\n */\nconst STYLES_WHITELIST = {\n  opacity: true,\n  transform: true,\n  /* legacy android transform properties */\n  scaleX: true,\n  scaleY: true,\n  translateX: true,\n  translateY: true,\n};\n\nconst TRANSFORM_WHITELIST = {\n  translateX: true,\n  translateY: true,\n  scale: true,\n  scaleX: true,\n  scaleY: true,\n  rotate: true,\n  rotateX: true,\n  rotateY: true,\n  perspective: true,\n};\n\nfunction validateTransform(configs: Array<Object>): void {\n  configs.forEach((config) => {\n    if (!TRANSFORM_WHITELIST.hasOwnProperty(config.property)) {\n      throw new Error(`Property '${config.property}' is not supported by native animated module`);\n    }\n  });\n}\n\nfunction validateStyles(styles: Object): void {\n  for (var key in styles) {\n    if (!STYLES_WHITELIST.hasOwnProperty(key)) {\n      throw new Error(`Style property '${key}' is not supported by native animated module`);\n    }\n  }\n}\n\nfunction validateInterpolation(config: Object): void {\n  var SUPPORTED_INTERPOLATION_PARAMS = {\n    inputRange: true,\n    outputRange: true,\n    extrapolate: true,\n    extrapolateRight: true,\n    extrapolateLeft: true,\n  };\n  for (var key in config) {\n    if (!SUPPORTED_INTERPOLATION_PARAMS.hasOwnProperty(key)) {\n      throw new Error(`Interpolation property '${key}' is not supported by native animated module`);\n    }\n  }\n}\n\nfunction generateNewNodeTag(): number {\n  return __nativeAnimatedNodeTagCount++;\n}\n\nfunction generateNewAnimationId(): number {\n  return __nativeAnimationIdCount++;\n}\n\nfunction assertNativeAnimatedModule(): void {\n  invariant(NativeAnimatedModule, 'Native animated module is not available');\n}\n\nfunction isNativeAnimatedAvailable(): boolean {\n  return !!NativeAnimatedModule;\n}\n\nmodule.exports = {\n  API,\n  validateStyles,\n  validateTransform,\n  validateInterpolation,\n  generateNewNodeTag,\n  generateNewAnimationId,\n  assertNativeAnimatedModule,\n  isNativeAnimatedAvailable,\n  get nativeEventEmitter() {\n    if (!nativeEventEmitter) {\n      nativeEventEmitter = new NativeEventEmitter(NativeAnimatedModule);\n    }\n    return nativeEventEmitter;\n  },\n};\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule SpringConfig\n * @flow\n */\n\n'use strict';\n\ntype SpringConfigType = {\n  tension: number,\n  friction: number,\n};\n\nfunction tensionFromOrigamiValue(oValue) {\n  return (oValue - 30) * 3.62 + 194;\n}\n\nfunction frictionFromOrigamiValue(oValue) {\n  return (oValue - 8) * 3 + 25;\n}\n\nfunction fromOrigamiTensionAndFriction(\n  tension: number,\n  friction: number,\n): SpringConfigType {\n  return {\n    tension: tensionFromOrigamiValue(tension),\n    friction: frictionFromOrigamiValue(friction)\n  };\n}\n\nfunction fromBouncinessAndSpeed(\n  bounciness: number,\n  speed: number,\n): SpringConfigType {\n  function normalize(value, startValue, endValue) {\n    return (value - startValue) / (endValue - startValue);\n  }\n\n  function projectNormal(n, start, end) {\n    return start + (n * (end - start));\n  }\n\n  function linearInterpolation(t, start, end) {\n    return t * end + (1 - t) * start;\n  }\n\n  function quadraticOutInterpolation(t, start, end) {\n    return linearInterpolation(2 * t - t * t, start, end);\n  }\n\n  function b3Friction1(x) {\n    return (0.0007 * Math.pow(x, 3)) -\n      (0.031 * Math.pow(x, 2)) + 0.64 * x + 1.28;\n  }\n\n  function b3Friction2(x) {\n    return (0.000044 * Math.pow(x, 3)) -\n      (0.006 * Math.pow(x, 2)) + 0.36 * x + 2;\n  }\n\n  function b3Friction3(x) {\n    return (0.00000045 * Math.pow(x, 3)) -\n      (0.000332 * Math.pow(x, 2)) + 0.1078 * x + 5.84;\n  }\n\n  function b3Nobounce(tension) {\n    if (tension <= 18) {\n      return b3Friction1(tension);\n    } else if (tension > 18 && tension <= 44) {\n      return b3Friction2(tension);\n    } else {\n      return b3Friction3(tension);\n    }\n  }\n\n  var b = normalize(bounciness / 1.7, 0, 20);\n  b = projectNormal(b, 0, 0.8);\n  var s = normalize(speed / 1.7, 0, 20);\n  var bouncyTension = projectNormal(s, 0.5, 200);\n  var bouncyFriction = quadraticOutInterpolation(\n    b,\n    b3Nobounce(bouncyTension),\n    0.01\n  );\n\n  return {\n    tension: tensionFromOrigamiValue(bouncyTension),\n    friction: frictionFromOrigamiValue(bouncyFriction)\n  };\n}\n\nmodule.exports = {\n  fromOrigamiTensionAndFriction,\n  fromBouncinessAndSpeed,\n};\n","'use strict';\n\n/**\n * Copyright 2014-2015, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\nvar emptyFunction = require('./emptyFunction');\nvar nativeRequestAnimationFrame = require('./nativeRequestAnimationFrame');\n\nvar lastTime = 0;\n\nvar requestAnimationFrame = nativeRequestAnimationFrame || function (callback) {\n  var currTime = Date.now();\n  var timeDelay = Math.max(0, 16 - (currTime - lastTime));\n  lastTime = currTime + timeDelay;\n  return global.setTimeout(function () {\n    callback(Date.now());\n  }, timeDelay);\n};\n\n// Works around a rare bug in Safari 6 where the first request is never invoked.\nrequestAnimationFrame(emptyFunction);\n\nmodule.exports = requestAnimationFrame;","\"use strict\";\n\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\nvar nativeRequestAnimationFrame = global.requestAnimationFrame || global.webkitRequestAnimationFrame || global.mozRequestAnimationFrame || global.oRequestAnimationFrame || global.msRequestAnimationFrame;\n\nmodule.exports = nativeRequestAnimationFrame;","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule Easing\n * @flow\n */\n'use strict';\n\nlet ease;\n\n/**\n * The `Easing` module implements common easing functions. This module is used\n * by [Animate.timing()](docs/animate.html#timing) to convey physically\n * believable motion in animations.\n *\n * You can find a visualization of some common easing functions at\n * http://easings.net/\n *\n * ### Predefined animations\n *\n * The `Easing` module provides several predefined animations through the\n * following methods:\n *\n * - [`back`](docs/easing.html#back) provides a simple animation where the\n *   object goes slightly back before moving forward\n * - [`bounce`](docs/easing.html#bounce) provides a bouncing animation\n * - [`ease`](docs/easing.html#ease) provides a simple inertial animation\n * - [`elastic`](docs/easing.html#elastic) provides a simple spring interaction\n *\n * ### Standard functions\n *\n * Three standard easing functions are provided:\n *\n * - [`linear`](docs/easing.html#linear)\n * - [`quad`](docs/easing.html#quad)\n * - [`cubic`](docs/easing.html#cubic)\n *\n * The [`poly`](docs/easing.html#poly) function can be used to implement\n * quartic, quintic, and other higher power functions.\n *\n * ### Additional functions\n *\n * Additional mathematical functions are provided by the following methods:\n *\n * - [`bezier`](docs/easing.html#bezier) provides a cubic bezier curve\n * - [`circle`](docs/easing.html#circle) provides a circular function\n * - [`sin`](docs/easing.html#sin) provides a sinusoidal function\n * - [`exp`](docs/easing.html#exp) provides an exponential function\n *\n * The following helpers are used to modify other easing functions.\n *\n * - [`in`](docs/easing.html#in) runs an easing function forwards\n * - [`inOut`](docs/easing.html#inout) makes any easing function symmetrical\n * - [`out`](docs/easing.html#out) runs an easing function backwards\n */\nclass Easing {\n  /**\n   * A stepping function, returns 1 for any positive value of `n`.\n   */\n  static step0(n) {\n    return n > 0 ? 1 : 0;\n  }\n\n  /**\n   * A stepping function, returns 1 if `n` is greater than or equal to 1.\n   */\n  static step1(n) {\n    return n >= 1 ? 1 : 0;\n  }\n\n  /**\n   * A linear function, `f(t) = t`. Position correlates to elapsed time one to\n   * one.\n   *\n   * http://cubic-bezier.com/#0,0,1,1\n   */\n  static linear(t) {\n    return t;\n  }\n\n  /**\n   * A simple inertial interaction, similar to an object slowly accelerating to\n   * speed.\n   *\n   * http://cubic-bezier.com/#.42,0,1,1\n   */\n  static ease(t: number): number {\n    if (!ease) {\n      ease = Easing.bezier(0.42, 0, 1, 1);\n    }\n    return ease(t);\n  }\n\n  /**\n   * A quadratic function, `f(t) = t * t`. Position equals the square of elapsed\n   * time.\n   *\n   * http://easings.net/#easeInQuad\n   */\n  static quad(t) {\n    return t * t;\n  }\n\n  /**\n   * A cubic function, `f(t) = t * t * t`. Position equals the cube of elapsed\n   * time.\n   *\n   * http://easings.net/#easeInCubic\n   */\n  static cubic(t) {\n    return t * t * t;\n  }\n\n  /**\n   * A power function. Position is equal to the Nth power of elapsed time.\n   *\n   * n = 4: http://easings.net/#easeInQuart\n   * n = 5: http://easings.net/#easeInQuint\n   */\n  static poly(n) {\n    return (t) => Math.pow(t, n);\n  }\n\n  /**\n   * A sinusoidal function.\n   *\n   * http://easings.net/#easeInSine\n   */\n  static sin(t) {\n    return 1 - Math.cos(t * Math.PI / 2);\n  }\n\n  /**\n   * A circular function.\n   *\n   * http://easings.net/#easeInCirc\n   */\n  static circle(t) {\n    return 1 - Math.sqrt(1 - t * t);\n  }\n\n  /**\n   * An exponential function.\n   *\n   * http://easings.net/#easeInExpo\n   */\n  static exp(t) {\n    return Math.pow(2, 10 * (t - 1));\n  }\n\n  /**\n   * A simple elastic interaction, similar to a spring oscillating back and\n   * forth.\n   *\n   * Default bounciness is 1, which overshoots a little bit once. 0 bounciness\n   * doesn't overshoot at all, and bounciness of N > 1 will overshoot about N\n   * times.\n   *\n   * http://easings.net/#easeInElastic\n   *\n   * Wolfram Plots:\n   *\n   * - http://tiny.cc/elastic_b_1 (bounciness = 1, default)\n   * - http://tiny.cc/elastic_b_3 (bounciness = 3)\n   */\n  static elastic(bounciness: number = 1): (t: number) => number {\n    const p = bounciness * Math.PI;\n    return (t) => 1 - Math.pow(Math.cos(t * Math.PI / 2), 3) * Math.cos(t * p);\n  }\n\n  /**\n   * Use with `Animated.parallel()` to create a simple effect where the object\n   * animates back slightly as the animation starts.\n   *\n   * Wolfram Plot:\n   *\n   * - http://tiny.cc/back_default (s = 1.70158, default)\n   */\n  static back(s: number): (t: number) => number {\n    if (s === undefined) {\n      s = 1.70158;\n    }\n    return (t) => t * t * ((s + 1) * t - s);\n  }\n\n  /**\n   * Provides a simple bouncing effect.\n   *\n   * http://easings.net/#easeInBounce\n   */\n  static bounce(t: number): number {\n    if (t < 1 / 2.75) {\n      return 7.5625 * t * t;\n    }\n\n    if (t < 2 / 2.75) {\n      t -= 1.5 / 2.75;\n      return 7.5625 * t * t + 0.75;\n    }\n\n    if (t < 2.5 / 2.75) {\n      t -= 2.25 / 2.75;\n      return 7.5625 * t * t + 0.9375;\n    }\n\n    t -= 2.625 / 2.75;\n    return 7.5625 * t * t + 0.984375;\n  }\n\n  /**\n   * Provides a cubic bezier curve, equivalent to CSS Transitions'\n   * `transition-timing-function`.\n   *\n   * A useful tool to visualize cubic bezier curves can be found at\n   * http://cubic-bezier.com/\n   */\n  static bezier(\n    x1: number,\n    y1: number,\n    x2: number,\n    y2: number\n  ): (t: number) => number {\n    const _bezier = require('bezier');\n    return _bezier(x1, y1, x2, y2);\n  }\n\n  /**\n   * Runs an easing function forwards.\n   */\n  static in(\n    easing: (t: number) => number,\n  ): (t: number) => number {\n    return easing;\n  }\n\n  /**\n   * Runs an easing function backwards.\n   */\n  static out(\n    easing: (t: number) => number,\n  ): (t: number) => number {\n    return (t) => 1 - easing(1 - t);\n  }\n\n  /**\n   * Makes any easing function symmetrical. The easing function will run\n   * forwards for half of the duration, then backwards for the rest of the\n   * duration.\n   */\n  static inOut(\n    easing: (t: number) => number,\n  ): (t: number) => number {\n    return (t) => {\n      if (t < 0.5) {\n        return easing(t * 2) / 2;\n      }\n      return 1 - easing((1 - t) * 2) / 2;\n    };\n  }\n}\n\nmodule.exports = Easing;\n","/**\n * BezierEasing - use bezier curve for transition easing function\n * https://github.com/gre/bezier-easing\n *\n * @copyright 2014-2015 Gatan Renaudeau. MIT License.\n * @providesModule bezier\n * @noflow\n */\n'use strict';\n\n // These values are established by empiricism with tests (tradeoff: performance VS precision)\n var NEWTON_ITERATIONS = 4;\n var NEWTON_MIN_SLOPE = 0.001;\n var SUBDIVISION_PRECISION = 0.0000001;\n var SUBDIVISION_MAX_ITERATIONS = 10;\n\n var kSplineTableSize = 11;\n var kSampleStepSize = 1.0 / (kSplineTableSize - 1.0);\n\n var float32ArraySupported = typeof Float32Array === 'function';\n\n function A (aA1, aA2) { return 1.0 - 3.0 * aA2 + 3.0 * aA1; }\n function B (aA1, aA2) { return 3.0 * aA2 - 6.0 * aA1; }\n function C (aA1)      { return 3.0 * aA1; }\n\n // Returns x(t) given t, x1, and x2, or y(t) given t, y1, and y2.\n function calcBezier (aT, aA1, aA2) { return ((A(aA1, aA2) * aT + B(aA1, aA2)) * aT + C(aA1)) * aT; }\n\n // Returns dx/dt given t, x1, and x2, or dy/dt given t, y1, and y2.\n function getSlope (aT, aA1, aA2) { return 3.0 * A(aA1, aA2) * aT * aT + 2.0 * B(aA1, aA2) * aT + C(aA1); }\n\n function binarySubdivide (aX, aA, aB, mX1, mX2) {\n   var currentX, currentT, i = 0;\n   do {\n     currentT = aA + (aB - aA) / 2.0;\n     currentX = calcBezier(currentT, mX1, mX2) - aX;\n     if (currentX > 0.0) {\n       aB = currentT;\n     } else {\n       aA = currentT;\n     }\n   } while (Math.abs(currentX) > SUBDIVISION_PRECISION && ++i < SUBDIVISION_MAX_ITERATIONS);\n   return currentT;\n }\n\n function newtonRaphsonIterate (aX, aGuessT, mX1, mX2) {\n  for (var i = 0; i < NEWTON_ITERATIONS; ++i) {\n    var currentSlope = getSlope(aGuessT, mX1, mX2);\n    if (currentSlope === 0.0) {\n      return aGuessT;\n    }\n    var currentX = calcBezier(aGuessT, mX1, mX2) - aX;\n    aGuessT -= currentX / currentSlope;\n  }\n  return aGuessT;\n }\n\n module.exports = function bezier (mX1, mY1, mX2, mY2) {\n   if (!(0 <= mX1 && mX1 <= 1 && 0 <= mX2 && mX2 <= 1)) { // eslint-disable-line yoda\n     throw new Error('bezier x values must be in [0, 1] range');\n   }\n\n   // Precompute samples table\n   var sampleValues = float32ArraySupported ? new Float32Array(kSplineTableSize) : new Array(kSplineTableSize);\n   if (mX1 !== mY1 || mX2 !== mY2) {\n     for (var i = 0; i < kSplineTableSize; ++i) {\n       sampleValues[i] = calcBezier(i * kSampleStepSize, mX1, mX2);\n     }\n   }\n\n   function getTForX (aX) {\n     var intervalStart = 0.0;\n     var currentSample = 1;\n     var lastSample = kSplineTableSize - 1;\n\n     for (; currentSample !== lastSample && sampleValues[currentSample] <= aX; ++currentSample) {\n       intervalStart += kSampleStepSize;\n     }\n     --currentSample;\n\n     // Interpolate to provide an initial guess for t\n     var dist = (aX - sampleValues[currentSample]) / (sampleValues[currentSample + 1] - sampleValues[currentSample]);\n     var guessForT = intervalStart + dist * kSampleStepSize;\n\n     var initialSlope = getSlope(guessForT, mX1, mX2);\n     if (initialSlope >= NEWTON_MIN_SLOPE) {\n       return newtonRaphsonIterate(aX, guessForT, mX1, mX2);\n     } else if (initialSlope === 0.0) {\n       return guessForT;\n     } else {\n       return binarySubdivide(aX, intervalStart, intervalStart + kSampleStepSize, mX1, mX2);\n     }\n   }\n\n   return function BezierEasing (x) {\n     if (mX1 === mY1 && mX2 === mY2) {\n       return x; // linear\n     }\n     // Because JavaScript number are imprecise, we should guarantee the extremes are right.\n     if (x === 0) {\n       return 0;\n     }\n     if (x === 1) {\n       return 1;\n     }\n     return calcBezier(getTForX(x), mY1, mY2);\n   };\n };\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule Image\n * @flow\n */\n'use strict';\n\nvar NativeMethodsMixin = require('NativeMethodsMixin');\nvar NativeModules = require('NativeModules');\nvar ImageResizeMode = require('ImageResizeMode');\nvar ImageStylePropTypes = require('ImageStylePropTypes');\nvar ViewStylePropTypes = require('ViewStylePropTypes');\nvar React = require('React');\nvar ReactNativeViewAttributes = require('ReactNativeViewAttributes');\nvar StyleSheet = require('StyleSheet');\nvar StyleSheetPropType = require('StyleSheetPropType');\nvar View = require('View');\n\nvar flattenStyle = require('flattenStyle');\nvar merge = require('merge');\nvar requireNativeComponent = require('requireNativeComponent');\nvar resolveAssetSource = require('resolveAssetSource');\nvar Set = require('Set');\nvar filterObject = require('fbjs/lib/filterObject');\n\nvar PropTypes = React.PropTypes;\nvar {\n  ImageLoader,\n} = NativeModules;\n\nlet _requestId = 1;\nfunction generateRequestId() {\n  return _requestId++;\n}\n\n/**\n * <Image> - A react component for displaying different types of images,\n * including network images, static resources, temporary local images, and\n * images from local disk, such as the camera roll.  Example usage:\n *\n *   renderImages: function() {\n *     return (\n *       <View>\n *         <Image\n *           style={styles.icon}\n *           source={require('./myIcon.png')}\n *         />\n *         <Image\n *           style={styles.logo}\n *           source={{uri: 'http://facebook.github.io/react/img/logo_og.png'}}\n *         />\n *       </View>\n *     );\n *   },\n *\n * More example code in ImageExample.js\n */\n\nvar ImageViewAttributes = merge(ReactNativeViewAttributes.UIView, {\n  src: true,\n  loadingIndicatorSrc: true,\n  resizeMethod: true,\n  resizeMode: true,\n  progressiveRenderingEnabled: true,\n  fadeDuration: true,\n  shouldNotifyLoadEvents: true,\n});\n\nvar ViewStyleKeys = new Set(Object.keys(ViewStylePropTypes));\nvar ImageSpecificStyleKeys = new Set(Object.keys(ImageStylePropTypes).filter(x => !ViewStyleKeys.has(x)));\n\nvar Image = React.createClass({\n  propTypes: {\n    ...View.propTypes,\n    style: StyleSheetPropType(ImageStylePropTypes),\n   /**\n     * `uri` is a string representing the resource identifier for the image, which\n     * could be an http address, a local file path, or a static image\n     * resource (which should be wrapped in the `require('./path/to/image.png')` function).\n     *\n     * `headers` is an object representing the HTTP headers to send along with the request\n     * for a remote image.\n     *\n     * This prop can also contain several remote `uri`, specified together with\n     * their width and height. The native side will then choose the best `uri` to display\n     * based on the measured size of the image container.\n     */\n    source: PropTypes.oneOfType([\n      PropTypes.shape({\n        uri: PropTypes.string,\n        headers: PropTypes.objectOf(PropTypes.string),\n      }),\n      // Opaque type returned by require('./image.jpg')\n      PropTypes.number,\n      // Multiple sources\n      PropTypes.arrayOf(\n        PropTypes.shape({\n          uri: PropTypes.string,\n          width: PropTypes.number,\n          height: PropTypes.number,\n        }))\n    ]),\n    /**\n     * similarly to `source`, this property represents the resource used to render\n     * the loading indicator for the image, displayed until image is ready to be\n     * displayed, typically after when it got downloaded from network.\n     */\n    loadingIndicatorSource: PropTypes.oneOfType([\n      PropTypes.shape({\n        uri: PropTypes.string,\n      }),\n      // Opaque type returned by require('./image.jpg')\n      PropTypes.number,\n    ]),\n    progressiveRenderingEnabled: PropTypes.bool,\n    fadeDuration: PropTypes.number,\n    /**\n     * Invoked on load start\n     */\n    onLoadStart: PropTypes.func,\n    /**\n     * Invoked on load error\n     */\n    onError: PropTypes.func,\n    /**\n     * Invoked when load completes successfully\n     */\n    onLoad: PropTypes.func,\n    /**\n     * Invoked when load either succeeds or fails\n     */\n    onLoadEnd: PropTypes.func,\n    /**\n     * Used to locate this view in end-to-end tests.\n     */\n    testID: PropTypes.string,\n    /**\n     * The mechanism that should be used to resize the image when the image's dimensions\n     * differ from the image view's dimensions. Defaults to `auto`.\n     *\n     * - `auto`: Use heuristics to pick between `resize` and `scale`.\n     *\n     * - `resize`: A software operation which changes the encoded image in memory before it\n     * gets decoded. This should be used instead of `scale` when the image is much larger\n     * than the view.\n     *\n     * - `scale`: The image gets drawn downscaled or upscaled. Compared to `resize`, `scale` is\n     * faster (usually hardware accelerated) and produces higher quality images. This\n     * should be used if the image is smaller than the view. It should also be used if the\n     * image is slightly bigger than the view.\n     *\n     * More details about `resize` and `scale` can be found at http://frescolib.org/docs/resizing-rotating.html.\n     *\n     * @platform android\n     */\n    resizeMethod: PropTypes.oneOf(['auto', 'resize', 'scale']),\n    /**\n     * Determines how to resize the image when the frame doesn't match the raw\n     * image dimensions.\n     *\n     * 'cover': Scale the image uniformly (maintain the image's aspect ratio)\n     * so that both dimensions (width and height) of the image will be equal\n     * to or larger than the corresponding dimension of the view (minus padding).\n     *\n     * 'contain': Scale the image uniformly (maintain the image's aspect ratio)\n     * so that both dimensions (width and height) of the image will be equal to\n     * or less than the corresponding dimension of the view (minus padding).\n     *\n     * 'stretch': Scale width and height independently, This may change the\n     * aspect ratio of the src.\n     *\n     * 'center': Scale the image down so that it is completely visible,\n     * if bigger than the area of the view.\n     * The image will not be scaled up.\n     */\n    resizeMode: PropTypes.oneOf(['cover', 'contain', 'stretch', 'center']),\n  },\n\n  statics: {\n    resizeMode: ImageResizeMode,\n\n    getSize(\n      url: string,\n      success: (width: number, height: number) => void,\n      failure: (error: any) => void,\n    ) {\n      return ImageLoader.getSize(url)\n        .then(function(sizes) {\n          success(sizes.width, sizes.height);\n        })\n        .catch(failure || function() {\n          console.warn('Failed to get size for image: ' + url);\n        });\n    },\n\n    /**\n     * Prefetches a remote image for later use by downloading it to the disk\n     * cache\n     */\n    prefetch(url: string, callback: ?Function) {\n      const requestId = generateRequestId();\n      callback && callback(requestId);\n      return ImageLoader.prefetchImage(url, requestId);\n    },\n\n    /**\n     * Abort prefetch request\n     */\n    abortPrefetch(requestId: number) {\n      ImageLoader.abortRequest(requestId);\n    },\n\n    /**\n     * Perform cache interrogation.\n     *\n     * @param urls the list of image URLs to check the cache for.\n     * @return a mapping from url to cache status, such as \"disk\" or \"memory\". If a requested URL is\n     *         not in the mapping, it means it's not in the cache.\n     */\n    async queryCache(urls: Array<string>): Promise<Map<string, 'memory' | 'disk'>> {\n      return await ImageLoader.queryCache(urls);\n    },\n\n    /**\n     * Resolves an asset reference into an object which has the properties `uri`, `width`,\n     * and `height`. The input may either be a number (opaque type returned by\n     * require('./foo.png')) or an `ImageSource` like { uri: '<http location || file path>' }\n     */\n    resolveAssetSource: resolveAssetSource,\n  },\n\n  mixins: [NativeMethodsMixin],\n\n  /**\n   * `NativeMethodsMixin` will look for this when invoking `setNativeProps`. We\n   * make `this` look like an actual native component class. Since it can render\n   * as 3 different native components we need to update viewConfig accordingly\n   */\n  viewConfig: {\n    uiViewClassName: 'RCTView',\n    validAttributes: ReactNativeViewAttributes.RCTView,\n  },\n\n  _updateViewConfig: function(props) {\n    if (props.children) {\n      this.viewConfig = {\n        uiViewClassName: 'RCTView',\n        validAttributes: ReactNativeViewAttributes.RCTView,\n      };\n    } else {\n      this.viewConfig = {\n        uiViewClassName: 'RCTImageView',\n        validAttributes: ImageViewAttributes,\n      };\n    }\n  },\n\n  componentWillMount: function() {\n    this._updateViewConfig(this.props);\n  },\n\n  componentWillReceiveProps: function(nextProps) {\n    this._updateViewConfig(nextProps);\n  },\n\n  contextTypes: {\n    isInAParentText: React.PropTypes.bool\n  },\n\n  render: function() {\n    const source = resolveAssetSource(this.props.source);\n    const loadingIndicatorSource = resolveAssetSource(this.props.loadingIndicatorSource);\n\n    // As opposed to the ios version, here we render `null` when there is no source, source.uri\n    // or source array.\n\n    if (source && source.uri === '') {\n      console.warn('source.uri should not be an empty string');\n    }\n\n    if (this.props.src) {\n      console.warn('The <Image> component requires a `source` property rather than `src`.');\n    }\n\n    if (source && (source.uri || Array.isArray(source))) {\n      let style;\n      let sources;\n      if (source.uri) {\n        const {width, height} = source;\n        style = flattenStyle([{width, height}, styles.base, this.props.style]);\n        sources = [{uri: source.uri}];\n      } else {\n        style = flattenStyle([styles.base, this.props.style]);\n        sources = source;\n      }\n\n      const {onLoadStart, onLoad, onLoadEnd, onError} = this.props;\n      const nativeProps = merge(this.props, {\n        style,\n        shouldNotifyLoadEvents: !!(onLoadStart || onLoad || onLoadEnd || onError),\n        src: sources,\n        headers: source.headers,\n        loadingIndicatorSrc: loadingIndicatorSource ? loadingIndicatorSource.uri : null,\n      });\n\n      if (nativeProps.children) {\n        // TODO(6033040): Consider implementing this as a separate native component\n        const containerStyle = filterObject(style, (val, key) => !ImageSpecificStyleKeys.has(key));\n        const imageStyle = filterObject(style, (val, key) => ImageSpecificStyleKeys.has(key));\n        const imageProps = merge(nativeProps, {\n          style: [imageStyle, styles.absoluteImage],\n          children: undefined,\n        });\n\n        return (\n          <View style={containerStyle}>\n            <RKImage {...imageProps}/>\n            {this.props.children}\n          </View>\n        );\n      } else {\n        if (this.context.isInAParentText) {\n          return <RCTTextInlineImage {...nativeProps}/>;\n        } else {\n          return <RKImage {...nativeProps}/>;\n        }\n      }\n    }\n    return null;\n  }\n});\n\nvar styles = StyleSheet.create({\n  base: {\n    overflow: 'hidden',\n  },\n  absoluteImage: {\n    left: 0,\n    right: 0,\n    top: 0,\n    bottom: 0,\n    position: 'absolute'\n  }\n});\n\nvar cfg = {\n  nativeOnly: {\n    src: true,\n    headers: true,\n    loadingIndicatorSrc: true,\n    shouldNotifyLoadEvents: true,\n  },\n};\nvar RKImage = requireNativeComponent('RCTImageView', Image, cfg);\nvar RCTTextInlineImage = requireNativeComponent('RCTTextInlineImage', Image, cfg);\n\nmodule.exports = Image;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\n/**\n * Executes the provided `callback` once for each enumerable own property in the\n * object and constructs a new object of all the values for which `callback`\n * returns a true value. The `callback` is invoked with three arguments:\n *\n *  - the property value\n *  - the property name\n *  - the object being traversed\n *\n * Properties that are added after the call to `filterObject` will not be\n * visited by `callback`. If the values of existing properties are changed, the\n * value passed to `callback` will be the value at the time `filterObject`\n * visits them. Properties that are deleted before being visited are not\n * visited.\n *\n * @grep function objectFilter()\n * @grep function objFilter()\n *\n * @param {?object} object\n * @param {function} callback\n * @param {*} context\n * @return {?object}\n */\nfunction filterObject(object, callback, context) {\n  if (!object) {\n    return null;\n  }\n  var result = {};\n  for (var name in object) {\n    if (hasOwnProperty.call(object, name) && callback.call(context, object[name], name, object)) {\n      result[name] = object[name];\n    }\n  }\n  return result;\n}\n\nmodule.exports = filterObject;","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule ScrollView\n * @flow\n */\n'use strict';\n\nconst ColorPropType = require('ColorPropType');\nconst EdgeInsetsPropType = require('EdgeInsetsPropType');\nconst Platform = require('Platform');\nconst PointPropType = require('PointPropType');\nconst React = require('React');\nconst ReactNative = require('ReactNative');\nconst ScrollResponder = require('ScrollResponder');\nconst StyleSheet = require('StyleSheet');\nconst StyleSheetPropType = require('StyleSheetPropType');\nconst View = require('View');\nconst ViewStylePropTypes = require('ViewStylePropTypes');\n\nconst dismissKeyboard = require('dismissKeyboard');\nconst flattenStyle = require('flattenStyle');\nconst invariant = require('fbjs/lib/invariant');\nconst processDecelerationRate = require('processDecelerationRate');\nconst PropTypes = React.PropTypes;\nconst requireNativeComponent = require('requireNativeComponent');\n\n/**\n * Component that wraps platform ScrollView while providing\n * integration with touch locking \"responder\" system.\n *\n * Keep in mind that ScrollViews must have a bounded height in order to work,\n * since they contain unbounded-height children into a bounded container (via\n * a scroll interaction). In order to bound the height of a ScrollView, either\n * set the height of the view directly (discouraged) or make sure all parent\n * views have bounded height. Forgetting to transfer `{flex: 1}` down the\n * view stack can lead to errors here, which the element inspector makes\n * easy to debug.\n *\n * Doesn't yet support other contained responders from blocking this scroll\n * view from becoming the responder.\n *\n *\n * `<ScrollView>` vs [`<FlatList>`](/react-native/docs/flatlist.html) - which one to use?\n *\n * `ScrollView` simply renders all its react child components at once. That\n * makes it very easy to understand and use.\n *\n * On the other hand, this has a performance downside. Imagine you have a very\n * long list of items you want to display, maybe several screens worth of\n * content. Creating JS components and native views for everythign all at once,\n * much of which may not even be shown, will contribute to slow rendering and\n * increased memory usage.\n *\n * This is where `FlatList` comes into play. `FlatList` renders items lazily,\n * just when they are about to appear, and removes items that scroll way off\n * screen to save memory and processing time.\n *\n * `FlatList` is also handy if you want to render separators between your items,\n * multiple columns, infinite scroll loading, or any number of other features it\n * supports out of the box.\n */\nconst ScrollView = React.createClass({\n  propTypes: {\n    ...View.propTypes,\n    /**\n     * Controls whether iOS should automatically adjust the content inset\n     * for scroll views that are placed behind a navigation bar or\n     * tab bar/ toolbar. The default value is true.\n     * @platform ios\n     */\n    automaticallyAdjustContentInsets: PropTypes.bool,\n    /**\n     * The amount by which the scroll view content is inset from the edges\n     * of the scroll view. Defaults to `{top: 0, left: 0, bottom: 0, right: 0}`.\n     * @platform ios\n     */\n    contentInset: EdgeInsetsPropType,\n    /**\n     * Used to manually set the starting scroll offset.\n     * The default value is `{x: 0, y: 0}`.\n     * @platform ios\n     */\n    contentOffset: PointPropType,\n    /**\n     * When true, the scroll view bounces when it reaches the end of the\n     * content if the content is larger then the scroll view along the axis of\n     * the scroll direction. When false, it disables all bouncing even if\n     * the `alwaysBounce*` props are true. The default value is true.\n     * @platform ios\n     */\n    bounces: PropTypes.bool,\n    /**\n     * When true, gestures can drive zoom past min/max and the zoom will animate\n     * to the min/max value at gesture end, otherwise the zoom will not exceed\n     * the limits.\n     * @platform ios\n     */\n    bouncesZoom: PropTypes.bool,\n    /**\n     * When true, the scroll view bounces horizontally when it reaches the end\n     * even if the content is smaller than the scroll view itself. The default\n     * value is true when `horizontal={true}` and false otherwise.\n     * @platform ios\n     */\n    alwaysBounceHorizontal: PropTypes.bool,\n    /**\n     * When true, the scroll view bounces vertically when it reaches the end\n     * even if the content is smaller than the scroll view itself. The default\n     * value is false when `horizontal={true}` and true otherwise.\n     * @platform ios\n     */\n    alwaysBounceVertical: PropTypes.bool,\n    /**\n     * When true, the scroll view automatically centers the content when the\n     * content is smaller than the scroll view bounds; when the content is\n     * larger than the scroll view, this property has no effect. The default\n     * value is false.\n     * @platform ios\n     */\n    centerContent: PropTypes.bool,\n    /**\n     * These styles will be applied to the scroll view content container which\n     * wraps all of the child views. Example:\n     *\n     *   return (\n     *     <ScrollView contentContainerStyle={styles.contentContainer}>\n     *     </ScrollView>\n     *   );\n     *   ...\n     *   const styles = StyleSheet.create({\n     *     contentContainer: {\n     *       paddingVertical: 20\n     *     }\n     *   });\n     */\n    contentContainerStyle: StyleSheetPropType(ViewStylePropTypes),\n    /**\n     * A floating-point number that determines how quickly the scroll view\n     * decelerates after the user lifts their finger. You may also use string\n     * shortcuts `\"normal\"` and `\"fast\"` which match the underlying iOS settings\n     * for `UIScrollViewDecelerationRateNormal` and\n     * `UIScrollViewDecelerationRateFast` respectively.\n     *   - normal: 0.998 (the default)\n     *   - fast: 0.99\n     * @platform ios\n     */\n    decelerationRate: PropTypes.oneOfType([\n      PropTypes.oneOf(['fast', 'normal']),\n      PropTypes.number,\n    ]),\n    /**\n     * When true, the scroll view's children are arranged horizontally in a row\n     * instead of vertically in a column. The default value is false.\n     */\n    horizontal: PropTypes.bool,\n    /**\n     * The style of the scroll indicators.\n     *   - `default` (the default), same as `black`.\n     *   - `black`, scroll indicator is black. This style is good against a white content background.\n     *   - `white`, scroll indicator is white. This style is good against a black content background.\n     * @platform ios\n     */\n    indicatorStyle: PropTypes.oneOf([\n      'default', // default\n      'black',\n      'white',\n    ]),\n    /**\n     * When true, the ScrollView will try to lock to only vertical or horizontal\n     * scrolling while dragging.  The default value is false.\n     * @platform ios\n     */\n    directionalLockEnabled: PropTypes.bool,\n    /**\n     * When false, once tracking starts, won't try to drag if the touch moves.\n     * The default value is true.\n     * @platform ios\n     */\n    canCancelContentTouches: PropTypes.bool,\n    /**\n     * Determines whether the keyboard gets dismissed in response to a drag.\n     *   - 'none' (the default), drags do not dismiss the keyboard.\n     *   - 'on-drag', the keyboard is dismissed when a drag begins.\n     *   - 'interactive', the keyboard is dismissed interactively with the drag and moves in\n     *     synchrony with the touch; dragging upwards cancels the dismissal.\n     *     On android this is not supported and it will have the same behavior as 'none'.\n     */\n    keyboardDismissMode: PropTypes.oneOf([\n      'none', // default\n      'interactive',\n      'on-drag',\n    ]),\n    /**\n     * Determines when the keyboard should stay visible after a tap.\n     *\n     *   - 'never' (the default), tapping outside of the focused text input when the keyboard\n     *     is up dismisses the keyboard. When this happens, children won't receive the tap.\n     *   - 'always', the keyboard will not dismiss automatically, and the scroll view will not\n     *     catch taps, but children of the scroll view can catch taps.\n     *   - 'handled', the keyboard will not dismiss automatically when the tap was handled by\n     *     a children, (or captured by an ancestor).\n     *   - false, deprecated, use 'never' instead\n     *   - true, deprecated, use 'always' instead\n     */\n    keyboardShouldPersistTaps: PropTypes.oneOf(['always', 'never', 'handled', false, true]),\n    /**\n     * The maximum allowed zoom scale. The default value is 1.0.\n     * @platform ios\n     */\n    maximumZoomScale: PropTypes.number,\n    /**\n     * The minimum allowed zoom scale. The default value is 1.0.\n     * @platform ios\n     */\n    minimumZoomScale: PropTypes.number,\n    /**\n     * Fires at most once per frame during scrolling. The frequency of the\n     * events can be controlled using the `scrollEventThrottle` prop.\n     */\n    onScroll: PropTypes.func,\n    /**\n     * Called when a scrolling animation ends.\n     * @platform ios\n     */\n    onScrollAnimationEnd: PropTypes.func,\n    /**\n     * Called when scrollable content view of the ScrollView changes.\n     *\n     * Handler function is passed the content width and content height as parameters: `(contentWidth, contentHeight)`\n     *\n     * It's implemented using onLayout handler attached to the content container\n     * which this ScrollView renders.\n     */\n    onContentSizeChange: PropTypes.func,\n    /**\n     * When true, the scroll view stops on multiples of the scroll view's size\n     * when scrolling. This can be used for horizontal pagination. The default\n     * value is false.\n     */\n    pagingEnabled: PropTypes.bool,\n    /**\n     * When false, the content does not scroll.\n     * The default value is true.\n     */\n    scrollEnabled: PropTypes.bool,\n    /**\n     * This controls how often the scroll event will be fired while scrolling\n     * (as a time interval in ms). A lower number yields better accuracy for code\n     * that is tracking the scroll position, but can lead to scroll performance\n     * problems due to the volume of information being send over the bridge.\n     * You will not notice a difference between values set between 1-16 as the\n     * JS run loop is synced to the screen refresh rate. If you do not need precise\n     * scroll position tracking, set this value higher to limit the information\n     * being sent across the bridge. The default value is zero, which results in\n     * the scroll event being sent only once each time the view is scrolled.\n     * @platform ios\n     */\n    scrollEventThrottle: PropTypes.number,\n    /**\n     * The amount by which the scroll view indicators are inset from the edges\n     * of the scroll view. This should normally be set to the same value as\n     * the `contentInset`. Defaults to `{0, 0, 0, 0}`.\n     * @platform ios\n     */\n    scrollIndicatorInsets: EdgeInsetsPropType,\n    /**\n     * When true, the scroll view scrolls to top when the status bar is tapped.\n     * The default value is true.\n     * @platform ios\n     */\n    scrollsToTop: PropTypes.bool,\n    /**\n     * When true, shows a horizontal scroll indicator.\n     * The default value is true.\n     */\n    showsHorizontalScrollIndicator: PropTypes.bool,\n    /**\n     * When true, shows a vertical scroll indicator.\n     * The default value is true.\n     */\n    showsVerticalScrollIndicator: PropTypes.bool,\n    /**\n     * An array of child indices determining which children get docked to the\n     * top of the screen when scrolling. For example, passing\n     * `stickyHeaderIndices={[0]}` will cause the first child to be fixed to the\n     * top of the scroll view. This property is not supported in conjunction\n     * with `horizontal={true}`.\n     * @platform ios\n     */\n    stickyHeaderIndices: PropTypes.arrayOf(PropTypes.number),\n    style: StyleSheetPropType(ViewStylePropTypes),\n    /**\n     * When set, causes the scroll view to stop at multiples of the value of\n     * `snapToInterval`. This can be used for paginating through children\n     * that have lengths smaller than the scroll view. Used in combination\n     * with `snapToAlignment`.\n     * @platform ios\n     */\n    snapToInterval: PropTypes.number,\n    /**\n     * When `snapToInterval` is set, `snapToAlignment` will define the relationship\n     * of the snapping to the scroll view.\n     *   - `start` (the default) will align the snap at the left (horizontal) or top (vertical)\n     *   - `center` will align the snap in the center\n     *   - `end` will align the snap at the right (horizontal) or bottom (vertical)\n     * @platform ios\n     */\n    snapToAlignment: PropTypes.oneOf([\n      'start', // default\n      'center',\n      'end',\n    ]),\n    /**\n     * Experimental: When true, offscreen child views (whose `overflow` value is\n     * `hidden`) are removed from their native backing superview when offscreen.\n     * This can improve scrolling performance on long lists. The default value is\n     * true.\n     */\n    removeClippedSubviews: PropTypes.bool,\n    /**\n     * The current scale of the scroll view content. The default value is 1.0.\n     * @platform ios\n     */\n    zoomScale: PropTypes.number,\n\n    /**\n     * A RefreshControl component, used to provide pull-to-refresh\n     * functionality for the ScrollView. Only works for vertical ScrollViews\n     * (`horizontal` prop must be `false`).\n     *\n     * See [RefreshControl](docs/refreshcontrol.html).\n     */\n    refreshControl: PropTypes.element,\n\n    /**\n     * Sometimes a scrollview takes up more space than its content fills. When this is\n     * the case, this prop will fill the rest of the scrollview with a color to avoid setting\n     * a background and creating unnecessary overdraw. This is an advanced optimization\n     * that is not needed in the general case.\n     * @platform android\n     */\n    endFillColor: ColorPropType,\n\n    /**\n     * Tag used to log scroll performance on this scroll view. Will force\n     * momentum events to be turned on (see sendMomentumEvents). This doesn't do\n     * anything out of the box and you need to implement a custom native\n     * FpsListener for it to be useful.\n     * @platform android\n     */\n    scrollPerfTag: PropTypes.string,\n\n     /**\n     * Used to override default value of overScroll mode.\n     *\n     * Possible values:\n     *\n     *  - `'auto'` - Default value, allow a user to over-scroll\n     *    this view only if the content is large enough to meaningfully scroll.\n     *  - `'always'` - Always allow a user to over-scroll this view.\n     *  - `'never'` - Never allow a user to over-scroll this view.\n     *\n     * @platform android\n     */\n    overScrollMode: PropTypes.oneOf([\n      'auto',\n      'always',\n      'never',\n    ]),\n  },\n\n  mixins: [ScrollResponder.Mixin],\n\n  getInitialState: function() {\n    return this.scrollResponderMixinGetInitialState();\n  },\n\n  setNativeProps: function(props: Object) {\n    this._scrollViewRef && this._scrollViewRef.setNativeProps(props);\n  },\n\n  /**\n   * Returns a reference to the underlying scroll responder, which supports\n   * operations like `scrollTo`. All ScrollView-like components should\n   * implement this method so that they can be composed while providing access\n   * to the underlying scroll responder's methods.\n   */\n  getScrollResponder: function(): ScrollView {\n    return this;\n  },\n\n  getScrollableNode: function(): any {\n    return ReactNative.findNodeHandle(this._scrollViewRef);\n  },\n\n  getInnerViewNode: function(): any {\n    return ReactNative.findNodeHandle(this._innerViewRef);\n  },\n\n  /**\n   * Scrolls to a given x, y offset, either immediately or with a smooth animation.\n   *\n   * Example:\n   *\n   * `scrollTo({x: 0; y: 0; animated: true})`\n   *\n   * Note: The weird function signature is due to the fact that, for historical reasons,\n   * the function also accepts separate arguments as as alternative to the options object.\n   * This is deprecated due to ambiguity (y before x), and SHOULD NOT BE USED.\n   */\n  scrollTo: function(\n    y?: number | { x?: number, y?: number, animated?: boolean },\n    x?: number,\n    animated?: boolean\n  ) {\n    if (typeof y === 'number') {\n      console.warn('`scrollTo(y, x, animated)` is deprecated. Use `scrollTo({x: 5, y: 5, animated: true})` instead.');\n    } else {\n      ({x, y, animated} = y || {});\n    }\n    this.getScrollResponder().scrollResponderScrollTo({x: x || 0, y: y || 0, animated: animated !== false});\n  },\n\n  /**\n   * If this is a vertical ScrollView scrolls to the bottom.\n   * If this is a horizontal ScrollView scrolls to the right.\n   *\n   * Use `scrollToEnd({animated: true})` for smooth animated scrolling,\n   * `scrollToEnd({animated: false})` for immediate scrolling.\n   * If no options are passed, `animated` defaults to true.\n   */\n  scrollToEnd: function(\n    options?: { animated?: boolean },\n  ) {\n    // Default to true\n    const animated = (options && options.animated) !== false;\n    this.getScrollResponder().scrollResponderScrollToEnd({\n      animated: animated,\n    });\n  },\n\n  /**\n   * Deprecated, use `scrollTo` instead.\n   */\n  scrollWithoutAnimationTo: function(y: number = 0, x: number = 0) {\n    console.warn('`scrollWithoutAnimationTo` is deprecated. Use `scrollTo` instead');\n    this.scrollTo({x, y, animated: false});\n  },\n\n  _handleScroll: function(e: Object) {\n    if (__DEV__) {\n      if (this.props.onScroll && this.props.scrollEventThrottle == null && Platform.OS === 'ios') {\n        console.log( // eslint-disable-line no-console-disallow\n          'You specified `onScroll` on a <ScrollView> but not ' +\n          '`scrollEventThrottle`. You will only receive one event. ' +\n          'Using `16` you get all the events but be aware that it may ' +\n          'cause frame drops, use a bigger number if you don\\'t need as ' +\n          'much precision.'\n        );\n      }\n    }\n    if (Platform.OS === 'android') {\n      if (this.props.keyboardDismissMode === 'on-drag') {\n        dismissKeyboard();\n      }\n    }\n    this.scrollResponderHandleScroll(e);\n  },\n\n  _handleContentOnLayout: function(e: Object) {\n    const {width, height} = e.nativeEvent.layout;\n    this.props.onContentSizeChange && this.props.onContentSizeChange(width, height);\n  },\n\n  _scrollViewRef: (null: ?ScrollView),\n  _setScrollViewRef: function(ref: ?ScrollView) {\n    this._scrollViewRef = ref;\n  },\n\n  _innerViewRef: (null: ?View),\n  _setInnerViewRef: function(ref: ?View) {\n    this._innerViewRef = ref;\n  },\n\n  render: function() {\n    let ScrollViewClass;\n    let ScrollContentContainerViewClass;\n    if (Platform.OS === 'ios') {\n      ScrollViewClass = RCTScrollView;\n      ScrollContentContainerViewClass = RCTScrollContentView;\n    } else if (Platform.OS === 'android') {\n      if (this.props.horizontal) {\n        ScrollViewClass = AndroidHorizontalScrollView;\n      } else {\n        ScrollViewClass = AndroidScrollView;\n      }\n      ScrollContentContainerViewClass = View;\n    }\n\n    invariant(\n      ScrollViewClass !== undefined,\n      'ScrollViewClass must not be undefined'\n    );\n\n    invariant(\n      ScrollContentContainerViewClass !== undefined,\n      'ScrollContentContainerViewClass must not be undefined'\n    );\n\n    const contentContainerStyle = [\n      this.props.horizontal && styles.contentContainerHorizontal,\n      this.props.contentContainerStyle,\n    ];\n    let style, childLayoutProps;\n    if (__DEV__ && this.props.style) {\n      style = flattenStyle(this.props.style);\n      childLayoutProps = ['alignItems', 'justifyContent']\n        .filter((prop) => style && style[prop] !== undefined);\n      invariant(\n        childLayoutProps.length === 0,\n        'ScrollView child layout (' + JSON.stringify(childLayoutProps) +\n          ') must be applied through the contentContainerStyle prop.'\n      );\n    }\n\n    let contentSizeChangeProps = {};\n    if (this.props.onContentSizeChange) {\n      contentSizeChangeProps = {\n        onLayout: this._handleContentOnLayout,\n      };\n    }\n\n    const contentContainer =\n      <ScrollContentContainerViewClass\n        {...contentSizeChangeProps}\n        ref={this._setInnerViewRef}\n        style={contentContainerStyle}\n        removeClippedSubviews={this.props.removeClippedSubviews}\n        collapsable={false}>\n        {this.props.children}\n      </ScrollContentContainerViewClass>;\n\n    const alwaysBounceHorizontal =\n      this.props.alwaysBounceHorizontal !== undefined ?\n        this.props.alwaysBounceHorizontal :\n        this.props.horizontal;\n\n    const alwaysBounceVertical =\n      this.props.alwaysBounceVertical !== undefined ?\n        this.props.alwaysBounceVertical :\n        !this.props.horizontal;\n\n    const baseStyle = this.props.horizontal ? styles.baseHorizontal : styles.baseVertical;\n    const props = {\n      ...this.props,\n      alwaysBounceHorizontal,\n      alwaysBounceVertical,\n      style: ([baseStyle, this.props.style]: ?Array<any>),\n      // Override the onContentSizeChange from props, since this event can\n      // bubble up from TextInputs\n      onContentSizeChange: null,\n      onTouchStart: this.scrollResponderHandleTouchStart,\n      onTouchMove: this.scrollResponderHandleTouchMove,\n      onTouchEnd: this.scrollResponderHandleTouchEnd,\n      onScrollBeginDrag: this.scrollResponderHandleScrollBeginDrag,\n      onScrollEndDrag: this.scrollResponderHandleScrollEndDrag,\n      onMomentumScrollBegin: this.scrollResponderHandleMomentumScrollBegin,\n      onMomentumScrollEnd: this.scrollResponderHandleMomentumScrollEnd,\n      onStartShouldSetResponder: this.scrollResponderHandleStartShouldSetResponder,\n      onStartShouldSetResponderCapture: this.scrollResponderHandleStartShouldSetResponderCapture,\n      onScrollShouldSetResponder: this.scrollResponderHandleScrollShouldSetResponder,\n      onScroll: this._handleScroll,\n      onResponderGrant: this.scrollResponderHandleResponderGrant,\n      onResponderTerminationRequest: this.scrollResponderHandleTerminationRequest,\n      onResponderTerminate: this.scrollResponderHandleTerminate,\n      onResponderRelease: this.scrollResponderHandleResponderRelease,\n      onResponderReject: this.scrollResponderHandleResponderReject,\n      sendMomentumEvents: (this.props.onMomentumScrollBegin || this.props.onMomentumScrollEnd) ? true : false,\n    };\n\n    const { decelerationRate } = this.props;\n    if (decelerationRate) {\n      props.decelerationRate = processDecelerationRate(decelerationRate);\n    }\n\n    const refreshControl = this.props.refreshControl;\n    if (refreshControl) {\n      if (Platform.OS === 'ios') {\n        // On iOS the RefreshControl is a child of the ScrollView.\n        return (\n          <ScrollViewClass {...props} ref={this._setScrollViewRef}>\n            {refreshControl}\n            {contentContainer}\n          </ScrollViewClass>\n        );\n      } else if (Platform.OS === 'android') {\n        // On Android wrap the ScrollView with a AndroidSwipeRefreshLayout.\n        // Since the ScrollView is wrapped add the style props to the\n        // AndroidSwipeRefreshLayout and use flex: 1 for the ScrollView.\n        // Note: we should only apply props.style on the wrapper\n        // however, the ScrollView still needs the baseStyle to be scrollable\n\n        return React.cloneElement(\n          refreshControl,\n          {style: props.style},\n          <ScrollViewClass {...props} style={baseStyle} ref={this._setScrollViewRef}>\n            {contentContainer}\n          </ScrollViewClass>\n        );\n      }\n    }\n    return (\n      <ScrollViewClass {...props} ref={this._setScrollViewRef}>\n        {contentContainer}\n      </ScrollViewClass>\n    );\n  }\n});\n\nconst styles = StyleSheet.create({\n  baseVertical: {\n    flexGrow: 1,\n    flexShrink: 1,\n    flexDirection: 'column',\n    overflow: 'scroll',\n  },\n  baseHorizontal: {\n    flexGrow: 1,\n    flexShrink: 1,\n    flexDirection: 'row',\n    overflow: 'scroll',\n  },\n  contentContainerHorizontal: {\n    flexDirection: 'row',\n  },\n});\n\nlet nativeOnlyProps, AndroidScrollView, AndroidHorizontalScrollView, RCTScrollView, RCTScrollContentView;\nif (Platform.OS === 'android') {\n  nativeOnlyProps = {\n    nativeOnly: {\n      sendMomentumEvents: true,\n    }\n  };\n  AndroidScrollView = requireNativeComponent('RCTScrollView', ScrollView, nativeOnlyProps);\n  AndroidHorizontalScrollView = requireNativeComponent(\n    'AndroidHorizontalScrollView',\n    ScrollView,\n    nativeOnlyProps\n  );\n} else if (Platform.OS === 'ios') {\n  nativeOnlyProps = {\n    nativeOnly: {\n      onMomentumScrollBegin: true,\n      onMomentumScrollEnd : true,\n      onScrollBeginDrag: true,\n      onScrollEndDrag: true,\n    }\n  };\n  RCTScrollView = requireNativeComponent('RCTScrollView', ScrollView, nativeOnlyProps);\n  RCTScrollContentView = requireNativeComponent('RCTScrollContentView', View);\n}\n\nmodule.exports = ScrollView;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule PointPropType\n * @flow\n */\n'use strict';\n\nvar PropTypes = require('React').PropTypes;\n\nvar createStrictShapeTypeChecker = require('createStrictShapeTypeChecker');\n\nvar PointPropType = createStrictShapeTypeChecker({\n  x: PropTypes.number,\n  y: PropTypes.number,\n});\n\nmodule.exports = PointPropType;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule ScrollResponder\n * @flow\n */\n'use strict';\n\nvar Dimensions = require('Dimensions');\nvar Platform = require('Platform');\nvar Keyboard = require('Keyboard');\nvar ReactNative = require('ReactNative');\nvar Subscribable = require('Subscribable');\nvar TextInputState = require('TextInputState');\nvar UIManager = require('UIManager');\nvar warning = require('fbjs/lib/warning');\n\nvar { getInstanceFromNode } = require('ReactNativeComponentTree');\nvar { ScrollViewManager } = require('NativeModules');\n\nvar invariant = require('fbjs/lib/invariant');\n\n/**\n * Mixin that can be integrated in order to handle scrolling that plays well\n * with `ResponderEventPlugin`. Integrate with your platform specific scroll\n * views, or even your custom built (every-frame animating) scroll views so that\n * all of these systems play well with the `ResponderEventPlugin`.\n *\n * iOS scroll event timing nuances:\n * ===============================\n *\n *\n * Scrolling without bouncing, if you touch down:\n * -------------------------------\n *\n * 1. `onMomentumScrollBegin` (when animation begins after letting up)\n *    ... physical touch starts ...\n * 2. `onTouchStartCapture`   (when you press down to stop the scroll)\n * 3. `onTouchStart`          (same, but bubble phase)\n * 4. `onResponderRelease`    (when lifting up - you could pause forever before * lifting)\n * 5. `onMomentumScrollEnd`\n *\n *\n * Scrolling with bouncing, if you touch down:\n * -------------------------------\n *\n * 1. `onMomentumScrollBegin` (when animation begins after letting up)\n *    ... bounce begins ...\n *    ... some time elapses ...\n *    ... physical touch during bounce ...\n * 2. `onMomentumScrollEnd`   (Makes no sense why this occurs first during bounce)\n * 3. `onTouchStartCapture`   (immediately after `onMomentumScrollEnd`)\n * 4. `onTouchStart`          (same, but bubble phase)\n * 5. `onTouchEnd`            (You could hold the touch start for a long time)\n * 6. `onMomentumScrollBegin` (When releasing the view starts bouncing back)\n *\n * So when we receive an `onTouchStart`, how can we tell if we are touching\n * *during* an animation (which then causes the animation to stop)? The only way\n * to tell is if the `touchStart` occurred immediately after the\n * `onMomentumScrollEnd`.\n *\n * This is abstracted out for you, so you can just call this.scrollResponderIsAnimating() if\n * necessary\n *\n * `ScrollResponder` also includes logic for blurring a currently focused input\n * if one is focused while scrolling. The `ScrollResponder` is a natural place\n * to put this logic since it can support not dismissing the keyboard while\n * scrolling, unless a recognized \"tap\"-like gesture has occurred.\n *\n * The public lifecycle API includes events for keyboard interaction, responder\n * interaction, and scrolling (among others). The keyboard callbacks\n * `onKeyboardWill/Did/*` are *global* events, but are invoked on scroll\n * responder's props so that you can guarantee that the scroll responder's\n * internal state has been updated accordingly (and deterministically) by\n * the time the props callbacks are invoke. Otherwise, you would always wonder\n * if the scroll responder is currently in a state where it recognizes new\n * keyboard positions etc. If coordinating scrolling with keyboard movement,\n * *always* use these hooks instead of listening to your own global keyboard\n * events.\n *\n * Public keyboard lifecycle API: (props callbacks)\n *\n * Standard Keyboard Appearance Sequence:\n *\n *   this.props.onKeyboardWillShow\n *   this.props.onKeyboardDidShow\n *\n * `onScrollResponderKeyboardDismissed` will be invoked if an appropriate\n * tap inside the scroll responder's scrollable region was responsible\n * for the dismissal of the keyboard. There are other reasons why the\n * keyboard could be dismissed.\n *\n *   this.props.onScrollResponderKeyboardDismissed\n *\n * Standard Keyboard Hide Sequence:\n *\n *   this.props.onKeyboardWillHide\n *   this.props.onKeyboardDidHide\n */\n\nvar IS_ANIMATING_TOUCH_START_THRESHOLD_MS = 16;\n\ntype State = {\n    isTouching: boolean,\n    lastMomentumScrollBeginTime: number,\n    lastMomentumScrollEndTime: number,\n    observedScrollSinceBecomingResponder: boolean,\n    becameResponderWhileAnimating: boolean,\n};\ntype Event = Object;\n\nfunction isTagInstanceOfTextInput(tag) {\n  var instance = getInstanceFromNode(tag);\n  return instance && instance.viewConfig && (\n    instance.viewConfig.uiViewClassName === 'AndroidTextInput' ||\n    instance.viewConfig.uiViewClassName === 'RCTTextView' ||\n    instance.viewConfig.uiViewClassName === 'RCTTextField'\n  );\n}\n\nvar ScrollResponderMixin = {\n  mixins: [Subscribable.Mixin],\n  scrollResponderMixinGetInitialState: function(): State {\n    return {\n      isTouching: false,\n      lastMomentumScrollBeginTime: 0,\n      lastMomentumScrollEndTime: 0,\n\n      // Reset to false every time becomes responder. This is used to:\n      // - Determine if the scroll view has been scrolled and therefore should\n      // refuse to give up its responder lock.\n      // - Determine if releasing should dismiss the keyboard when we are in\n      // tap-to-dismiss mode (this.props.keyboardShouldPersistTaps !== 'always').\n      observedScrollSinceBecomingResponder: false,\n      becameResponderWhileAnimating: false,\n    };\n  },\n\n  /**\n   * Invoke this from an `onScroll` event.\n   */\n  scrollResponderHandleScrollShouldSetResponder: function(): boolean {\n    return this.state.isTouching;\n  },\n\n  /**\n   * Merely touch starting is not sufficient for a scroll view to become the\n   * responder. Being the \"responder\" means that the very next touch move/end\n   * event will result in an action/movement.\n   *\n   * Invoke this from an `onStartShouldSetResponder` event.\n   *\n   * `onStartShouldSetResponder` is used when the next move/end will trigger\n   * some UI movement/action, but when you want to yield priority to views\n   * nested inside of the view.\n   *\n   * There may be some cases where scroll views actually should return `true`\n   * from `onStartShouldSetResponder`: Any time we are detecting a standard tap\n   * that gives priority to nested views.\n   *\n   * - If a single tap on the scroll view triggers an action such as\n   *   recentering a map style view yet wants to give priority to interaction\n   *   views inside (such as dropped pins or labels), then we would return true\n   *   from this method when there is a single touch.\n   *\n   * - Similar to the previous case, if a two finger \"tap\" should trigger a\n   *   zoom, we would check the `touches` count, and if `>= 2`, we would return\n   *   true.\n   *\n   */\n  scrollResponderHandleStartShouldSetResponder: function(e: Event): boolean {\n    var currentlyFocusedTextInput = TextInputState.currentlyFocusedField();\n\n    if (this.props.keyboardShouldPersistTaps === 'handled' &&\n      currentlyFocusedTextInput != null &&\n      e.target !== currentlyFocusedTextInput) {\n      return true;\n    }\n    return false;\n  },\n\n  /**\n   * There are times when the scroll view wants to become the responder\n   * (meaning respond to the next immediate `touchStart/touchEnd`), in a way\n   * that *doesn't* give priority to nested views (hence the capture phase):\n   *\n   * - Currently animating.\n   * - Tapping anywhere that is not a text input, while the keyboard is\n   *   up (which should dismiss the keyboard).\n   *\n   * Invoke this from an `onStartShouldSetResponderCapture` event.\n   */\n  scrollResponderHandleStartShouldSetResponderCapture: function(e: Event): boolean {\n    // First see if we want to eat taps while the keyboard is up\n    var currentlyFocusedTextInput = TextInputState.currentlyFocusedField();\n    var {keyboardShouldPersistTaps} = this.props;\n    var keyboardNeverPersistTaps = !keyboardShouldPersistTaps ||\n                                    keyboardShouldPersistTaps === 'never';\n    if (keyboardNeverPersistTaps &&\n      currentlyFocusedTextInput != null &&\n      !isTagInstanceOfTextInput(e.target)) {\n      return true;\n    }\n    return this.scrollResponderIsAnimating();\n  },\n\n  /**\n   * Invoke this from an `onResponderReject` event.\n   *\n   * Some other element is not yielding its role as responder. Normally, we'd\n   * just disable the `UIScrollView`, but a touch has already began on it, the\n   * `UIScrollView` will not accept being disabled after that. The easiest\n   * solution for now is to accept the limitation of disallowing this\n   * altogether. To improve this, find a way to disable the `UIScrollView` after\n   * a touch has already started.\n   */\n  scrollResponderHandleResponderReject: function() {\n  },\n\n  /**\n   * We will allow the scroll view to give up its lock iff it acquired the lock\n   * during an animation. This is a very useful default that happens to satisfy\n   * many common user experiences.\n   *\n   * - Stop a scroll on the left edge, then turn that into an outer view's\n   *   backswipe.\n   * - Stop a scroll mid-bounce at the top, continue pulling to have the outer\n   *   view dismiss.\n   * - However, without catching the scroll view mid-bounce (while it is\n   *   motionless), if you drag far enough for the scroll view to become\n   *   responder (and therefore drag the scroll view a bit), any backswipe\n   *   navigation of a swipe gesture higher in the view hierarchy, should be\n   *   rejected.\n   */\n  scrollResponderHandleTerminationRequest: function(): boolean {\n    return !this.state.observedScrollSinceBecomingResponder;\n  },\n\n  /**\n   * Invoke this from an `onTouchEnd` event.\n   *\n   * @param {SyntheticEvent} e Event.\n   */\n  scrollResponderHandleTouchEnd: function(e: Event) {\n    var nativeEvent = e.nativeEvent;\n    this.state.isTouching = nativeEvent.touches.length !== 0;\n    this.props.onTouchEnd && this.props.onTouchEnd(e);\n  },\n\n  /**\n   * Invoke this from an `onResponderRelease` event.\n   */\n  scrollResponderHandleResponderRelease: function(e: Event) {\n    this.props.onResponderRelease && this.props.onResponderRelease(e);\n\n    // By default scroll views will unfocus a textField\n    // if another touch occurs outside of it\n    var currentlyFocusedTextInput = TextInputState.currentlyFocusedField();\n    if (this.props.keyboardShouldPersistTaps !== true &&\n      this.props.keyboardShouldPersistTaps !== 'always' &&\n      currentlyFocusedTextInput != null &&\n      e.target !== currentlyFocusedTextInput  &&\n      !this.state.observedScrollSinceBecomingResponder &&\n      !this.state.becameResponderWhileAnimating) {\n      this.props.onScrollResponderKeyboardDismissed &&\n        this.props.onScrollResponderKeyboardDismissed(e);\n      TextInputState.blurTextInput(currentlyFocusedTextInput);\n    }\n  },\n\n  scrollResponderHandleScroll: function(e: Event) {\n    this.state.observedScrollSinceBecomingResponder = true;\n    this.props.onScroll && this.props.onScroll(e);\n  },\n\n  /**\n   * Invoke this from an `onResponderGrant` event.\n   */\n  scrollResponderHandleResponderGrant: function(e: Event) {\n    this.state.observedScrollSinceBecomingResponder = false;\n    this.props.onResponderGrant && this.props.onResponderGrant(e);\n    this.state.becameResponderWhileAnimating = this.scrollResponderIsAnimating();\n  },\n\n  /**\n   * Unfortunately, `onScrollBeginDrag` also fires when *stopping* the scroll\n   * animation, and there's not an easy way to distinguish a drag vs. stopping\n   * momentum.\n   *\n   * Invoke this from an `onScrollBeginDrag` event.\n   */\n  scrollResponderHandleScrollBeginDrag: function(e: Event) {\n    this.props.onScrollBeginDrag && this.props.onScrollBeginDrag(e);\n  },\n\n  /**\n   * Invoke this from an `onScrollEndDrag` event.\n   */\n  scrollResponderHandleScrollEndDrag: function(e: Event) {\n    this.props.onScrollEndDrag && this.props.onScrollEndDrag(e);\n  },\n\n  /**\n   * Invoke this from an `onMomentumScrollBegin` event.\n   */\n  scrollResponderHandleMomentumScrollBegin: function(e: Event) {\n    this.state.lastMomentumScrollBeginTime = Date.now();\n    this.props.onMomentumScrollBegin && this.props.onMomentumScrollBegin(e);\n  },\n\n  /**\n   * Invoke this from an `onMomentumScrollEnd` event.\n   */\n  scrollResponderHandleMomentumScrollEnd: function(e: Event) {\n    this.state.lastMomentumScrollEndTime = Date.now();\n    this.props.onMomentumScrollEnd && this.props.onMomentumScrollEnd(e);\n  },\n\n  /**\n   * Invoke this from an `onTouchStart` event.\n   *\n   * Since we know that the `SimpleEventPlugin` occurs later in the plugin\n   * order, after `ResponderEventPlugin`, we can detect that we were *not*\n   * permitted to be the responder (presumably because a contained view became\n   * responder). The `onResponderReject` won't fire in that case - it only\n   * fires when a *current* responder rejects our request.\n   *\n   * @param {SyntheticEvent} e Touch Start event.\n   */\n  scrollResponderHandleTouchStart: function(e: Event) {\n    this.state.isTouching = true;\n    this.props.onTouchStart && this.props.onTouchStart(e);\n  },\n\n  /**\n   * Invoke this from an `onTouchMove` event.\n   *\n   * Since we know that the `SimpleEventPlugin` occurs later in the plugin\n   * order, after `ResponderEventPlugin`, we can detect that we were *not*\n   * permitted to be the responder (presumably because a contained view became\n   * responder). The `onResponderReject` won't fire in that case - it only\n   * fires when a *current* responder rejects our request.\n   *\n   * @param {SyntheticEvent} e Touch Start event.\n   */\n  scrollResponderHandleTouchMove: function(e: Event) {\n    this.props.onTouchMove && this.props.onTouchMove(e);\n  },\n\n  /**\n   * A helper function for this class that lets us quickly determine if the\n   * view is currently animating. This is particularly useful to know when\n   * a touch has just started or ended.\n   */\n  scrollResponderIsAnimating: function(): boolean {\n    var now = Date.now();\n    var timeSinceLastMomentumScrollEnd = now - this.state.lastMomentumScrollEndTime;\n    var isAnimating = timeSinceLastMomentumScrollEnd < IS_ANIMATING_TOUCH_START_THRESHOLD_MS ||\n      this.state.lastMomentumScrollEndTime < this.state.lastMomentumScrollBeginTime;\n    return isAnimating;\n  },\n\n  /**\n   * Returns the node that represents native view that can be scrolled.\n   * Components can pass what node to use by defining a `getScrollableNode`\n   * function otherwise `this` is used.\n   */\n  scrollResponderGetScrollableNode: function(): any {\n    return this.getScrollableNode ?\n      this.getScrollableNode() :\n      ReactNative.findNodeHandle(this);\n  },\n\n  /**\n   * A helper function to scroll to a specific point in the ScrollView.\n   * This is currently used to help focus child TextViews, but can also\n   * be used to quickly scroll to any element we want to focus. Syntax:\n   *\n   * `scrollResponderScrollTo(options: {x: number = 0; y: number = 0; animated: boolean = true})`\n   *\n   * Note: The weird argument signature is due to the fact that, for historical reasons,\n   * the function also accepts separate arguments as as alternative to the options object.\n   * This is deprecated due to ambiguity (y before x), and SHOULD NOT BE USED.\n   */\n  scrollResponderScrollTo: function(\n    x?: number | { x?: number, y?: number, animated?: boolean },\n    y?: number,\n    animated?: boolean\n  ) {\n    if (typeof x === 'number') {\n      console.warn('`scrollResponderScrollTo(x, y, animated)` is deprecated. Use `scrollResponderScrollTo({x: 5, y: 5, animated: true})` instead.');\n    } else {\n      ({x, y, animated} = x || {});\n    }\n    UIManager.dispatchViewManagerCommand(\n      this.scrollResponderGetScrollableNode(),\n      UIManager.RCTScrollView.Commands.scrollTo,\n      [x || 0, y || 0, animated !== false],\n    );\n  },\n\n  /**\n   * Scrolls to the end of the ScrollView, either immediately or with a smooth\n   * animation.\n   *\n   * Example:\n   *\n   * `scrollResponderScrollToEnd({animated: true})`\n   */\n  scrollResponderScrollToEnd: function(\n    options?: { animated?: boolean },\n  ) {\n    // Default to true\n    const animated = (options && options.animated) !== false;\n    UIManager.dispatchViewManagerCommand(\n      this.scrollResponderGetScrollableNode(),\n      UIManager.RCTScrollView.Commands.scrollToEnd,\n      [animated],\n    );\n  },\n\n  /**\n   * Deprecated, do not use.\n   */\n  scrollResponderScrollWithoutAnimationTo: function(offsetX: number, offsetY: number) {\n    console.warn('`scrollResponderScrollWithoutAnimationTo` is deprecated. Use `scrollResponderScrollTo` instead');\n    this.scrollResponderScrollTo({x: offsetX, y: offsetY, animated: false});\n  },\n\n  /**\n   * A helper function to zoom to a specific rect in the scrollview. The argument has the shape\n   * {x: number; y: number; width: number; height: number; animated: boolean = true}\n   *\n   * @platform ios\n   */\n  scrollResponderZoomTo: function(\n    rect: { x: number, y: number, width: number, height: number, animated?: boolean },\n    animated?: boolean // deprecated, put this inside the rect argument instead\n  ) {\n    invariant(ScrollViewManager && ScrollViewManager.zoomToRect, 'zoomToRect is not implemented');\n    if ('animated' in rect) {\n      var { animated, ...rect } = rect;\n    } else if (typeof animated !== 'undefined') {\n      console.warn('`scrollResponderZoomTo` `animated` argument is deprecated. Use `options.animated` instead');\n    }\n    ScrollViewManager.zoomToRect(this.scrollResponderGetScrollableNode(), rect, animated !== false);\n  },\n\n  /**\n   * This method should be used as the callback to onFocus in a TextInputs'\n   * parent view. Note that any module using this mixin needs to return\n   * the parent view's ref in getScrollViewRef() in order to use this method.\n   * @param {any} nodeHandle The TextInput node handle\n   * @param {number} additionalOffset The scroll view's bottom \"contentInset\".\n   *        Default is 0.\n   * @param {bool} preventNegativeScrolling Whether to allow pulling the content\n   *        down to make it meet the keyboard's top. Default is false.\n   */\n  scrollResponderScrollNativeHandleToKeyboard: function(nodeHandle: any, additionalOffset?: number, preventNegativeScrollOffset?: bool) {\n    this.additionalScrollOffset = additionalOffset || 0;\n    this.preventNegativeScrollOffset = !!preventNegativeScrollOffset;\n    UIManager.measureLayout(\n      nodeHandle,\n      ReactNative.findNodeHandle(this.getInnerViewNode()),\n      this.scrollResponderTextInputFocusError,\n      this.scrollResponderInputMeasureAndScrollToKeyboard\n    );\n  },\n\n  /**\n   * The calculations performed here assume the scroll view takes up the entire\n   * screen - even if has some content inset. We then measure the offsets of the\n   * keyboard, and compensate both for the scroll view's \"contentInset\".\n   *\n   * @param {number} left Position of input w.r.t. table view.\n   * @param {number} top Position of input w.r.t. table view.\n   * @param {number} width Width of the text input.\n   * @param {number} height Height of the text input.\n   */\n  scrollResponderInputMeasureAndScrollToKeyboard: function(left: number, top: number, width: number, height: number) {\n    var keyboardScreenY = Dimensions.get('window').height;\n    if (this.keyboardWillOpenTo) {\n      keyboardScreenY = this.keyboardWillOpenTo.endCoordinates.screenY;\n    }\n    var scrollOffsetY = top - keyboardScreenY + height + this.additionalScrollOffset;\n\n    // By default, this can scroll with negative offset, pulling the content\n    // down so that the target component's bottom meets the keyboard's top.\n    // If requested otherwise, cap the offset at 0 minimum to avoid content\n    // shifting down.\n    if (this.preventNegativeScrollOffset) {\n      scrollOffsetY = Math.max(0, scrollOffsetY);\n    }\n    this.scrollResponderScrollTo({x: 0, y: scrollOffsetY, animated: true});\n\n    this.additionalOffset = 0;\n    this.preventNegativeScrollOffset = false;\n  },\n\n  scrollResponderTextInputFocusError: function(e: Event) {\n    console.error('Error measuring text field: ', e);\n  },\n\n  /**\n   * `componentWillMount` is the closest thing to a  standard \"constructor\" for\n   * React components.\n   *\n   * The `keyboardWillShow` is called before input focus.\n   */\n  componentWillMount: function() {\n    var {keyboardShouldPersistTaps} = this.props;\n    warning(\n      typeof keyboardShouldPersistTaps !== 'boolean',\n      `'keyboardShouldPersistTaps={${keyboardShouldPersistTaps}}' is deprecated. `\n      + `Use 'keyboardShouldPersistTaps=\"${keyboardShouldPersistTaps ? \"always\" : \"never\"}\"' instead`\n    );\n\n    this.keyboardWillOpenTo = null;\n    this.additionalScrollOffset = 0;\n    this.addListenerOn(Keyboard, 'keyboardWillShow', this.scrollResponderKeyboardWillShow);\n    this.addListenerOn(Keyboard, 'keyboardWillHide', this.scrollResponderKeyboardWillHide);\n    this.addListenerOn(Keyboard, 'keyboardDidShow', this.scrollResponderKeyboardDidShow);\n    this.addListenerOn(Keyboard, 'keyboardDidHide', this.scrollResponderKeyboardDidHide);\n  },\n\n  /**\n   * Warning, this may be called several times for a single keyboard opening.\n   * It's best to store the information in this method and then take any action\n   * at a later point (either in `keyboardDidShow` or other).\n   *\n   * Here's the order that events occur in:\n   * - focus\n   * - willShow {startCoordinates, endCoordinates} several times\n   * - didShow several times\n   * - blur\n   * - willHide {startCoordinates, endCoordinates} several times\n   * - didHide several times\n   *\n   * The `ScrollResponder` providesModule callbacks for each of these events.\n   * Even though any user could have easily listened to keyboard events\n   * themselves, using these `props` callbacks ensures that ordering of events\n   * is consistent - and not dependent on the order that the keyboard events are\n   * subscribed to. This matters when telling the scroll view to scroll to where\n   * the keyboard is headed - the scroll responder better have been notified of\n   * the keyboard destination before being instructed to scroll to where the\n   * keyboard will be. Stick to the `ScrollResponder` callbacks, and everything\n   * will work.\n   *\n   * WARNING: These callbacks will fire even if a keyboard is displayed in a\n   * different navigation pane. Filter out the events to determine if they are\n   * relevant to you. (For example, only if you receive these callbacks after\n   * you had explicitly focused a node etc).\n   */\n  scrollResponderKeyboardWillShow: function(e: Event) {\n    this.keyboardWillOpenTo = e;\n    this.props.onKeyboardWillShow && this.props.onKeyboardWillShow(e);\n  },\n\n  scrollResponderKeyboardWillHide: function(e: Event) {\n    this.keyboardWillOpenTo = null;\n    this.props.onKeyboardWillHide && this.props.onKeyboardWillHide(e);\n  },\n\n  scrollResponderKeyboardDidShow: function(e: Event) {\n    // TODO(7693961): The event for DidShow is not available on iOS yet.\n    // Use the one from WillShow and do not assign.\n    if (e) {\n      this.keyboardWillOpenTo = e;\n    }\n    this.props.onKeyboardDidShow && this.props.onKeyboardDidShow(e);\n  },\n\n  scrollResponderKeyboardDidHide: function(e: Event) {\n    this.keyboardWillOpenTo = null;\n    this.props.onKeyboardDidHide && this.props.onKeyboardDidHide(e);\n  }\n\n};\n\nvar ScrollResponder = {\n  Mixin: ScrollResponderMixin,\n};\n\nmodule.exports = ScrollResponder;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule Subscribable\n * @flow\n */\n'use strict';\n\nimport type EventEmitter from 'EventEmitter';\n\n/**\n * Subscribable provides a mixin for safely subscribing a component to an\n * eventEmitter\n *\n * This will be replaced with the observe interface that will be coming soon to\n * React Core\n */\n\nvar Subscribable = {};\n\nSubscribable.Mixin = {\n\n  componentWillMount: function() {\n    this._subscribableSubscriptions = [];\n  },\n\n  componentWillUnmount: function() {\n    this._subscribableSubscriptions.forEach(\n      (subscription) => subscription.remove()\n    );\n    this._subscribableSubscriptions = null;\n  },\n\n  /**\n   * Special form of calling `addListener` that *guarantees* that a\n   * subscription *must* be tied to a component instance, and therefore will\n   * be cleaned up when the component is unmounted. It is impossible to create\n   * the subscription and pass it in - this method must be the one to create\n   * the subscription and therefore can guarantee it is retained in a way that\n   * will be cleaned up.\n   *\n   * @param {EventEmitter} eventEmitter emitter to subscribe to.\n   * @param {string} eventType Type of event to listen to.\n   * @param {function} listener Function to invoke when event occurs.\n   * @param {object} context Object to use as listener context.\n   */\n  addListenerOn: function(\n    eventEmitter: EventEmitter,\n    eventType: string,\n    listener: Function,\n    context: Object\n  ) {\n    this._subscribableSubscriptions.push(\n      eventEmitter.addListener(eventType, listener, context)\n    );\n  }\n};\n\nmodule.exports = Subscribable;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule processDecelerationRate\n */\n'use strict';\n\nfunction processDecelerationRate(decelerationRate) {\n  if (decelerationRate === 'normal') {\n    decelerationRate = 0.998;\n  } else if (decelerationRate === 'fast') {\n    decelerationRate = 0.99;\n  }\n  return decelerationRate;\n}\n\nmodule.exports = processDecelerationRate;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule DatePickerIOS\n */\n\n'use strict';\n\nvar React = require('React');\nvar StyleSheet = require('StyleSheet');\nvar Text = require('Text');\nvar View = require('View');\n\nclass DummyDatePickerIOS extends React.Component {\n  render() {\n    return (\n      <View style={[styles.dummyDatePickerIOS, this.props.style]}>\n        <Text style={styles.datePickerText}>DatePickerIOS is not supported on this platform!</Text>\n      </View>\n    );\n  }\n}\n\nvar styles = StyleSheet.create({\n  dummyDatePickerIOS: {\n    height: 100,\n    width: 300,\n    backgroundColor: '#ffbcbc',\n    borderWidth: 1,\n    borderColor: 'red',\n    alignItems: 'center',\n    justifyContent: 'center',\n    margin: 10,\n  },\n  datePickerText: {\n    color: '#333333',\n    margin: 20,\n  }\n});\n\nmodule.exports = DummyDatePickerIOS;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule DrawerLayoutAndroid\n */\n'use strict';\n\nvar ColorPropType = require('ColorPropType');\nvar NativeMethodsMixin = require('NativeMethodsMixin');\nvar Platform = require('Platform');\nvar React = require('React');\nvar ReactNative = require('ReactNative');\nvar StatusBar = require('StatusBar');\nvar StyleSheet = require('StyleSheet');\nvar UIManager = require('UIManager');\nvar View = require('View');\n\nvar DrawerConsts = UIManager.AndroidDrawerLayout.Constants;\n\nvar dismissKeyboard = require('dismissKeyboard');\nvar requireNativeComponent = require('requireNativeComponent');\n\nvar ReactPropTypes = React.PropTypes;\n\nvar RK_DRAWER_REF = 'drawerlayout';\nvar INNERVIEW_REF = 'innerView';\n\nvar DRAWER_STATES = [\n  'Idle',\n  'Dragging',\n  'Settling',\n];\n\n/**\n * React component that wraps the platform `DrawerLayout` (Android only). The\n * Drawer (typically used for navigation) is rendered with `renderNavigationView`\n * and direct children are the main view (where your content goes). The navigation\n * view is initially not visible on the screen, but can be pulled in from the\n * side of the window specified by the `drawerPosition` prop and its width can\n * be set by the `drawerWidth` prop.\n *\n * Example:\n *\n * ```\n * render: function() {\n *   var navigationView = (\n *     <View style={{flex: 1, backgroundColor: '#fff'}}>\n *       <Text style={{margin: 10, fontSize: 15, textAlign: 'left'}}>I'm in the Drawer!</Text>\n *     </View>\n *   );\n *   return (\n *     <DrawerLayoutAndroid\n *       drawerWidth={300}\n *       drawerPosition={DrawerLayoutAndroid.positions.Left}\n *       renderNavigationView={() => navigationView}>\n *       <View style={{flex: 1, alignItems: 'center'}}>\n *         <Text style={{margin: 10, fontSize: 15, textAlign: 'right'}}>Hello</Text>\n *         <Text style={{margin: 10, fontSize: 15, textAlign: 'right'}}>World!</Text>\n *       </View>\n *     </DrawerLayoutAndroid>\n *   );\n * },\n * ```\n */\nvar DrawerLayoutAndroid = React.createClass({\n  statics: {\n    positions: DrawerConsts.DrawerPosition,\n  },\n\n  propTypes: {\n    ...View.propTypes,\n    /**\n     * Determines whether the keyboard gets dismissed in response to a drag.\n     *   - 'none' (the default), drags do not dismiss the keyboard.\n     *   - 'on-drag', the keyboard is dismissed when a drag begins.\n     */\n    keyboardDismissMode: ReactPropTypes.oneOf([\n      'none', // default\n      'on-drag',\n    ]),\n    /**\n     * Specifies the background color of the drawer. The default value is white.\n     * If you want to set the opacity of the drawer, use rgba. Example:\n     *\n     * ```\n     * return (\n     *   <DrawerLayoutAndroid drawerBackgroundColor=\"rgba(0,0,0,0.5)\">\n     *   </DrawerLayoutAndroid>\n     * );\n     * ```\n     */\n    drawerBackgroundColor: ColorPropType,\n    /**\n     * Specifies the side of the screen from which the drawer will slide in.\n     */\n    drawerPosition: ReactPropTypes.oneOf([\n      DrawerConsts.DrawerPosition.Left,\n      DrawerConsts.DrawerPosition.Right\n    ]),\n    /**\n     * Specifies the width of the drawer, more precisely the width of the view that be pulled in\n     * from the edge of the window.\n     */\n    drawerWidth: ReactPropTypes.number,\n    /**\n     * Specifies the lock mode of the drawer. The drawer can be locked in 3 states:\n     * - unlocked (default), meaning that the drawer will respond (open/close) to touch gestures.\n     * - locked-closed, meaning that the drawer will stay closed and not respond to gestures.\n     * - locked-open, meaning that the drawer will stay opened and not respond to gestures.\n     * The drawer may still be opened and closed programmatically (`openDrawer`/`closeDrawer`).\n     */\n    drawerLockMode: ReactPropTypes.oneOf([\n      'unlocked',\n      'locked-closed',\n      'locked-open'\n    ]),\n    /**\n     * Function called whenever there is an interaction with the navigation view.\n     */\n    onDrawerSlide: ReactPropTypes.func,\n    /**\n     * Function called when the drawer state has changed. The drawer can be in 3 states:\n     * - idle, meaning there is no interaction with the navigation view happening at the time\n     * - dragging, meaning there is currently an interaction with the navigation view\n     * - settling, meaning that there was an interaction with the navigation view, and the\n     * navigation view is now finishing its closing or opening animation\n     */\n    onDrawerStateChanged: ReactPropTypes.func,\n    /**\n     * Function called whenever the navigation view has been opened.\n     */\n    onDrawerOpen: ReactPropTypes.func,\n    /**\n     * Function called whenever the navigation view has been closed.\n     */\n    onDrawerClose: ReactPropTypes.func,\n    /**\n     * The navigation view that will be rendered to the side of the screen and can be pulled in.\n     */\n    renderNavigationView: ReactPropTypes.func.isRequired,\n\n    /**\n     * Make the drawer take the entire screen and draw the background of the\n     * status bar to allow it to open over the status bar. It will only have an\n     * effect on API 21+.\n     */\n    statusBarBackgroundColor: ColorPropType,\n  },\n\n  mixins: [NativeMethodsMixin],\n\n  getDefaultProps: function(): Object {\n    return {\n      drawerBackgroundColor: 'white',\n    };\n  },\n\n  getInitialState: function() {\n    return {statusBarBackgroundColor: undefined};\n  },\n\n  getInnerViewNode: function() {\n    return this.refs[INNERVIEW_REF].getInnerViewNode();\n  },\n\n  componentDidMount: function() {\n    this._updateStatusBarBackground();\n  },\n\n  componentDidReceiveProps: function() {\n    this._updateStatusBarBackground();\n  },\n\n  render: function() {\n    var drawStatusBar = Platform.Version >= 21 && this.props.statusBarBackgroundColor;\n    var drawerViewWrapper =\n      <View\n        style={[\n          styles.drawerSubview,\n          {width: this.props.drawerWidth, backgroundColor: this.props.drawerBackgroundColor}\n        ]}\n        collapsable={false}>\n        {this.props.renderNavigationView()}\n        {drawStatusBar && <View style={styles.drawerStatusBar} />}\n      </View>;\n    var childrenWrapper =\n      <View ref={INNERVIEW_REF} style={styles.mainSubview} collapsable={false}>\n        {drawStatusBar &&\n        <StatusBar\n          translucent\n          backgroundColor={this.state.statusBarBackgroundColor}\n        />}\n        {drawStatusBar &&\n        <View style={[\n          styles.statusBar,\n          {backgroundColor: this.props.statusBarBackgroundColor}\n        ]} />}\n        {this.props.children}\n      </View>;\n    return (\n      <AndroidDrawerLayout\n        {...this.props}\n        ref={RK_DRAWER_REF}\n        drawerWidth={this.props.drawerWidth}\n        drawerPosition={this.props.drawerPosition}\n        drawerLockMode={this.props.drawerLockMode}\n        style={[styles.base, this.props.style]}\n        onDrawerSlide={this._onDrawerSlide}\n        onDrawerOpen={this._onDrawerOpen}\n        onDrawerClose={this._onDrawerClose}\n        onDrawerStateChanged={this._onDrawerStateChanged}>\n        {childrenWrapper}\n        {drawerViewWrapper}\n      </AndroidDrawerLayout>\n    );\n  },\n\n  _onDrawerSlide: function(event) {\n    if (this.props.onDrawerSlide) {\n      this.props.onDrawerSlide(event);\n    }\n    if (this.props.keyboardDismissMode === 'on-drag') {\n      dismissKeyboard();\n    }\n  },\n\n  _onDrawerOpen: function() {\n    if (this.props.onDrawerOpen) {\n      this.props.onDrawerOpen();\n    }\n  },\n\n  _onDrawerClose: function() {\n    if (this.props.onDrawerClose) {\n      this.props.onDrawerClose();\n    }\n  },\n\n  _onDrawerStateChanged: function(event) {\n    if (this.props.onDrawerStateChanged) {\n      this.props.onDrawerStateChanged(DRAWER_STATES[event.nativeEvent.drawerState]);\n    }\n  },\n\n  /**\n   * Opens the drawer.\n   */\n  openDrawer: function() {\n    UIManager.dispatchViewManagerCommand(\n      this._getDrawerLayoutHandle(),\n      UIManager.AndroidDrawerLayout.Commands.openDrawer,\n      null\n    );\n  },\n\n  /**\n   * Closes the drawer.\n   */\n  closeDrawer: function() {\n    UIManager.dispatchViewManagerCommand(\n      this._getDrawerLayoutHandle(),\n      UIManager.AndroidDrawerLayout.Commands.closeDrawer,\n      null\n    );\n  },\n\n  _getDrawerLayoutHandle: function() {\n    return ReactNative.findNodeHandle(this.refs[RK_DRAWER_REF]);\n  },\n\n  // Update the StatusBar component background color one frame after creating the\n  // status bar background View to avoid a white flicker that happens because\n  // the StatusBar background becomes transparent before the status bar View\n  // from this component has rendered.\n  _updateStatusBarBackground: function() {\n    if (Platform.Version >= 21 && this.props.statusBarBackgroundColor) {\n      // Check if the value is not already transparent to avoid an extra render.\n      if (this.state.statusBarBackgroundColor !== 'transparent') {\n        requestAnimationFrame(() => {\n          this.setState({statusBarBackgroundColor: 'transparent'});\n        });\n      }\n    } else {\n      this.setState({statusBarBackgroundColor: undefined});\n    }\n  },\n});\n\nvar styles = StyleSheet.create({\n  base: {\n    flex: 1,\n    elevation: 16,\n  },\n  mainSubview: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n  },\n  drawerSubview: {\n    position: 'absolute',\n    top: 0,\n    bottom: 0,\n  },\n  statusBar: {\n    height: StatusBar.currentHeight,\n  },\n  drawerStatusBar: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    right: 0,\n    height: StatusBar.currentHeight,\n    backgroundColor: 'rgba(0, 0, 0, 0.251)',\n  },\n});\n\n// The View that contains both the actual drawer and the main view\nvar AndroidDrawerLayout = requireNativeComponent('AndroidDrawerLayout', DrawerLayoutAndroid);\n\nmodule.exports = DrawerLayoutAndroid;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule StatusBar\n * @flow\n */\n'use strict';\n\nconst React = require('React');\nconst ColorPropType = require('ColorPropType');\nconst Platform = require('Platform');\n\nconst processColor = require('processColor');\n\nconst StatusBarManager = require('NativeModules').StatusBarManager;\n\n/**\n * Status bar style\n */\nexport type StatusBarStyle = $Enum<{\n  /**\n   * Default status bar style (dark for iOS, light for Android)\n   */\n  'default': string,\n  /**\n   * Dark background, white texts and icons\n   */\n  'light-content': string,\n  /**\n   * Light background, dark texts and icons\n   */\n  'dark-content': string,\n}>;\n\n/**\n * Status bar animation\n */\nexport type StatusBarAnimation = $Enum<{\n  /**\n   * No animation\n   */\n  'none': string,\n  /**\n   * Fade animation\n   */\n  'fade': string,\n  /**\n   * Slide animation\n   */\n  'slide': string,\n}>;\n\ntype DefaultProps = {\n  animated: boolean,\n};\n\n/**\n * Merges the prop stack with the default values.\n */\nfunction mergePropsStack(propsStack: Array<Object>, defaultValues: Object): Object {\n  return propsStack.reduce((prev, cur) => {\n    for (const prop in cur) {\n      if (cur[prop] != null) {\n        prev[prop] = cur[prop];\n      }\n    }\n    return prev;\n  }, Object.assign({}, defaultValues));\n}\n\n/**\n * Returns an object to insert in the props stack from the props\n * and the transition/animation info.\n */\nfunction createStackEntry(props: any): any {\n  return {\n    backgroundColor: props.backgroundColor != null ? {\n      value: props.backgroundColor,\n      animated: props.animated,\n    } : null,\n    barStyle: props.barStyle != null ? {\n      value: props.barStyle,\n      animated: props.animated,\n    } : null,\n    translucent: props.translucent,\n    hidden: props.hidden != null ? {\n      value: props.hidden,\n      animated: props.animated,\n      transition: props.showHideTransition,\n    } : null,\n    networkActivityIndicatorVisible: props.networkActivityIndicatorVisible,\n  };\n}\n\n/**\n * Component to control the app status bar.\n *\n * ### Usage with Navigator\n *\n * It is possible to have multiple `StatusBar` components mounted at the same\n * time. The props will be merged in the order the `StatusBar` components were\n * mounted. One use case is to specify status bar styles per route using `Navigator`.\n *\n * ```\n *  <View>\n *    <StatusBar\n *      backgroundColor=\"blue\"\n *      barStyle=\"light-content\"\n *    />\n *    <Navigator\n *      initialRoute={{statusBarHidden: true}}\n *      renderScene={(route, navigator) =>\n *        <View>\n *          <StatusBar hidden={route.statusBarHidden} />\n *          ...\n *        </View>\n *      }\n *    />\n *  </View>\n * ```\n *\n * ### Imperative API\n *\n * For cases where using a component is not ideal, there is also an imperative\n * API exposed as static functions on the component. It is however not recommended\n * to use the static API and the component for the same prop because any value\n * set by the static API will get overriden by the one set by the component in\n * the next render.\n *\n * ###Constants\n *\n * `currentHeight` (Android only) The height of the status bar.\n */\nclass StatusBar extends React.Component {\n  props: {\n    hidden?: boolean,\n    animated?: boolean,\n    backgroundColor?: $FlowFixMe,\n    translucent?: boolean,\n    barStyle?: 'default' | 'light-content' | 'dark-content',\n    networkActivityIndicatorVisible?: boolean,\n    showHideTransition?: 'fade' | 'slide',\n  };\n\n  static _propsStack = [];\n\n  static _defaultProps = createStackEntry({\n    animated: false,\n    showHideTransition: 'fade',\n    backgroundColor: 'black',\n    barStyle: 'default',\n    translucent: false,\n    hidden: false,\n    networkActivityIndicatorVisible: false,\n  });\n\n  // Timer for updating the native module values at the end of the frame.\n  static _updateImmediate = null;\n\n  // The current merged values from the props stack.\n  static _currentValues = null;\n\n  // TODO(janic): Provide a real API to deal with status bar height. See the\n  // discussion in #6195.\n  /**\n   * The current height of the status bar on the device.\n   *\n   * @platform android\n   */\n  static currentHeight = StatusBarManager.HEIGHT;\n\n  // Provide an imperative API as static functions of the component.\n  // See the corresponding prop for more detail.\n\n  /**\n   * Show or hide the status bar\n   * @param hidden Hide the status bar.\n   * @param animation Optional animation when\n   *    changing the status bar hidden property.\n   */\n  static setHidden(hidden: boolean, animation?: StatusBarAnimation) {\n    animation = animation || 'none';\n    StatusBar._defaultProps.hidden.value = hidden;\n    if (Platform.OS === 'ios') {\n      StatusBarManager.setHidden(hidden, animation);\n    } else if (Platform.OS === 'android') {\n      StatusBarManager.setHidden(hidden);\n    }\n  }\n\n  /**\n   * Set the status bar style\n   * @param style Status bar style to set\n   * @param animated Animate the style change.\n   */\n  static setBarStyle(style: StatusBarStyle, animated?: boolean) {\n    animated = animated || false;\n    StatusBar._defaultProps.barStyle.value = style;\n    if (Platform.OS === 'ios') {\n      StatusBarManager.setStyle(style, animated);\n    } else if (Platform.OS === 'android') {\n      StatusBarManager.setStyle(style);\n    }\n  }\n\n  /**\n   * Control the visibility of the network activity indicator\n   * @param visible Show the indicator.\n   */\n  static setNetworkActivityIndicatorVisible(visible: boolean) {\n    if (Platform.OS !== 'ios') {\n      console.warn('`setNetworkActivityIndicatorVisible` is only available on iOS');\n      return;\n    }\n    StatusBar._defaultProps.networkActivityIndicatorVisible = visible;\n    StatusBarManager.setNetworkActivityIndicatorVisible(visible);\n  }\n\n  /**\n   * Set the background color for the status bar\n   * @param color Background color.\n   * @param animated Animate the style change.\n   */\n  static setBackgroundColor(color: string, animated?: boolean) {\n    if (Platform.OS !== 'android') {\n      console.warn('`setBackgroundColor` is only available on Android');\n      return;\n    }\n    animated = animated || false;\n    StatusBar._defaultProps.backgroundColor.value = color;\n    StatusBarManager.setColor(processColor(color), animated);\n  }\n\n  /**\n   * Control the translucency of the status bar\n   * @param translucent Set as translucent.\n   */\n  static setTranslucent(translucent: boolean) {\n    if (Platform.OS !== 'android') {\n      console.warn('`setTranslucent` is only available on Android');\n      return;\n    }\n    StatusBar._defaultProps.translucent = translucent;\n    StatusBarManager.setTranslucent(translucent);\n  }\n\n  static propTypes = {\n    /**\n     * If the status bar is hidden.\n     */\n    hidden: React.PropTypes.bool,\n    /**\n     * If the transition between status bar property changes should be animated.\n     * Supported for backgroundColor, barStyle and hidden.\n     */\n    animated: React.PropTypes.bool,\n    /**\n     * The background color of the status bar.\n     * @platform android\n     */\n    backgroundColor: ColorPropType,\n    /**\n     * If the status bar is translucent.\n     * When translucent is set to true, the app will draw under the status bar.\n     * This is useful when using a semi transparent status bar color.\n     *\n     * @platform android\n     */\n    translucent: React.PropTypes.bool,\n    /**\n     * Sets the color of the status bar text.\n     */\n    barStyle: React.PropTypes.oneOf([\n      'default',\n      'light-content',\n      'dark-content',\n    ]),\n    /**\n     * If the network activity indicator should be visible.\n     *\n     * @platform ios\n     */\n    networkActivityIndicatorVisible: React.PropTypes.bool,\n    /**\n     * The transition effect when showing and hiding the status bar using the `hidden`\n     * prop. Defaults to 'fade'.\n     *\n     * @platform ios\n     */\n    showHideTransition: React.PropTypes.oneOf([\n      'fade',\n      'slide',\n    ]),\n  };\n\n  static defaultProps = {\n    animated: false,\n    showHideTransition: 'fade',\n  };\n\n  _stackEntry = null;\n\n  componentDidMount() {\n    // Every time a StatusBar component is mounted, we push it's prop to a stack\n    // and always update the native status bar with the props from the top of then\n    // stack. This allows having multiple StatusBar components and the one that is\n    // added last or is deeper in the view hierachy will have priority.\n    this._stackEntry = createStackEntry(this.props);\n    StatusBar._propsStack.push(this._stackEntry);\n    this._updatePropsStack();\n  }\n\n  componentWillUnmount() {\n    // When a StatusBar is unmounted, remove itself from the stack and update\n    // the native bar with the next props.\n    // $FlowFixMe found when converting React.createClass to ES6\n    const index = StatusBar._propsStack.indexOf(this._stackEntry);\n    StatusBar._propsStack.splice(index, 1);\n\n    this._updatePropsStack();\n  }\n\n  componentDidUpdate() {\n    // $FlowFixMe found when converting React.createClass to ES6\n    const index = StatusBar._propsStack.indexOf(this._stackEntry);\n    this._stackEntry = createStackEntry(this.props);\n    StatusBar._propsStack[index] = this._stackEntry;\n\n    this._updatePropsStack();\n  }\n\n  /**\n   * Updates the native status bar with the props from the stack.\n   */\n  _updatePropsStack = () => {\n    // Send the update to the native module only once at the end of the frame.\n    clearImmediate(StatusBar._updateImmediate);\n    StatusBar._updateImmediate = setImmediate(() => {\n      const oldProps = StatusBar._currentValues;\n      const mergedProps = mergePropsStack(StatusBar._propsStack, StatusBar._defaultProps);\n\n      // Update the props that have changed using the merged values from the props stack.\n      if (Platform.OS === 'ios') {\n        if (!oldProps || oldProps.barStyle.value !== mergedProps.barStyle.value) {\n          StatusBarManager.setStyle(\n            mergedProps.barStyle.value,\n            mergedProps.barStyle.animated,\n          );\n        }\n        if (!oldProps || oldProps.hidden.value !== mergedProps.hidden.value) {\n          StatusBarManager.setHidden(\n            mergedProps.hidden.value,\n            mergedProps.hidden.animated ?\n              mergedProps.hidden.transition :\n              'none',\n          );\n        }\n\n        if (!oldProps || oldProps.networkActivityIndicatorVisible !== mergedProps.networkActivityIndicatorVisible) {\n          StatusBarManager.setNetworkActivityIndicatorVisible(\n            mergedProps.networkActivityIndicatorVisible\n          );\n        }\n      } else if (Platform.OS === 'android') {\n        if (!oldProps || oldProps.barStyle.value !== mergedProps.barStyle.value) {\n          StatusBarManager.setStyle(mergedProps.barStyle.value);\n        }\n        if (!oldProps || oldProps.backgroundColor.value !== mergedProps.backgroundColor.value) {\n          StatusBarManager.setColor(\n            processColor(mergedProps.backgroundColor.value),\n            mergedProps.backgroundColor.animated,\n          );\n        }\n        if (!oldProps || oldProps.hidden.value !== mergedProps.hidden.value) {\n          StatusBarManager.setHidden(mergedProps.hidden.value);\n        }\n        if (!oldProps || oldProps.translucent !== mergedProps.translucent) {\n          StatusBarManager.setTranslucent(mergedProps.translucent);\n        }\n      }\n      // Update the current prop values.\n      StatusBar._currentValues = mergedProps;\n    });\n  };\n\n  render(): ?React.Element<any> {\n    return null;\n  }\n}\n\nmodule.exports = StatusBar;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * Facebook, Inc. (\"Facebook\") owns all right, title and interest, including\n * all intellectual property and other proprietary rights, in and to the React\n * Native CustomComponents software (the \"Software\").  Subject to your\n * compliance with these terms, you are hereby granted a non-exclusive,\n * worldwide, royalty-free copyright license to (1) use and copy the Software;\n * and (2) reproduce and distribute the Software as part of your own software\n * (\"Your Software\").  Facebook reserves all rights not expressly granted to\n * you in this license agreement.\n *\n * THE SOFTWARE AND DOCUMENTATION, IF ANY, ARE PROVIDED \"AS IS\" AND ANY EXPRESS\n * OR IMPLIED WARRANTIES (INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES\n * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE) ARE DISCLAIMED.\n * IN NO EVENT SHALL FACEBOOK OR ITS AFFILIATES, OFFICERS, DIRECTORS OR\n * EMPLOYEES BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,\n * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,\n * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;\n * OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,\n * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR\n * OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THE SOFTWARE, EVEN IF\n * ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @providesModule FlatList\n * @flow\n */\n'use strict';\n\nconst MetroListView = require('MetroListView'); // Used as a fallback legacy option\nconst React = require('React');\nconst ReactNative = require('ReactNative');\nconst View = require('View');\nconst VirtualizedList = require('VirtualizedList');\n\nconst invariant = require('fbjs/lib/invariant');\n\nimport type {StyleObj} from 'StyleSheetTypes';\nimport type {ViewabilityConfig, ViewToken} from 'ViewabilityHelper';\nimport type {Props as VirtualizedListProps} from 'VirtualizedList';\n\ntype RequiredProps<ItemT> = {\n  /**\n   * Takes an item from `data` and renders it into the list. Typical usage:\n   *\n   *     _renderItem = ({item}) => (\n   *       <TouchableOpacity onPress={() => this._onPress(item)}>\n   *         <Text>{item.title}}</Text>\n   *       <TouchableOpacity/>\n   *     );\n   *     ...\n   *     <FlatList data={[{title: 'Title Text', key: 'item1'}]} renderItem={this._renderItem} />\n   *\n   * Provides additional metadata like `index` if you need it.\n   */\n  renderItem: (info: {item: ItemT, index: number}) => ?React.Element<any>,\n  /**\n   * For simplicity, data is just a plain array. If you want to use something else, like an\n   * immutable list, use the underlying `VirtualizedList` directly.\n   */\n  data: ?Array<ItemT>,\n};\ntype OptionalProps<ItemT> = {\n  /**\n   * Rendered in between each item, but not at the top or bottom.\n   */\n  ItemSeparatorComponent?: ?ReactClass<any>,\n  /**\n   * Rendered at the bottom of all the items.\n   */\n  ListFooterComponent?: ?ReactClass<any>,\n  /**\n   * Rendered at the top of all the items.\n   */\n  ListHeaderComponent?: ?ReactClass<any>,\n  /**\n   * `getItemLayout` is an optional optimizations that let us skip measurement of dynamic content if\n   * you know the height of items a priori. `getItemLayout` is the most efficient, and is easy to\n   * use if you have fixed height items, for example:\n   *\n   *     getItemLayout={(data, index) => (\n   *       {length: ITEM_HEIGHT, offset: ITEM_HEIGHT * index, index}\n   *     )}\n   *\n   * Remember to include separator length (height or width) in your offset calculation if you\n   * specify `ItemSeparatorComponent`.\n   */\n  getItemLayout?: (data: ?Array<ItemT>, index: number) =>\n    {length: number, offset: number, index: number},\n  /**\n   * If true, renders items next to each other horizontally instead of stacked vertically.\n   */\n  horizontal?: ?boolean,\n  /**\n   * Used to extract a unique key for a given item at the specified index. Key is used for caching\n   * and as the react key to track item re-ordering. The default extractor checks `item.key`, then\n   * falls back to using the index, like React does.\n   */\n  keyExtractor: (item: ItemT, index: number) => string,\n  /**\n   * Multiple columns can only be rendered with `horizontal={false}`` and will zig-zag like a\n   * `flexWrap` layout. Items should all be the same height - masonry layouts are not supported.\n   */\n  numColumns: number,\n  /**\n   * Called once when the scroll position gets within `onEndReachedThreshold` of the rendered\n   * content.\n   */\n  onEndReached?: ?(info: {distanceFromEnd: number}) => void,\n  onEndReachedThreshold?: ?number,\n  /**\n   * If provided, a standard RefreshControl will be added for \"Pull to Refresh\" functionality. Make\n   * sure to also set the `refreshing` prop correctly.\n   */\n  onRefresh?: ?() => void,\n  /**\n   * Called when the viewability of rows changes, as defined by the\n   * `viewablePercentThreshold` prop.\n   */\n  onViewableItemsChanged?: ?(info: {viewableItems: Array<ViewToken>, changed: Array<ViewToken>}) => void,\n  legacyImplementation?: ?boolean,\n  /**\n   * Set this true while waiting for new data from a refresh.\n   */\n  refreshing?: ?boolean,\n  /**\n   * Optional custom style for multi-item rows generated when numColumns > 1\n   */\n  columnWrapperStyle?: StyleObj,\n  /**\n   * See `ViewabilityHelper` for flow type and further documentation.\n   */\n  viewabilityConfig?: ViewabilityConfig,\n};\ntype Props<ItemT> = RequiredProps<ItemT> & OptionalProps<ItemT> & VirtualizedListProps;\n\nconst defaultProps = {\n  ...VirtualizedList.defaultProps,\n  getItem: undefined,\n  getItemCount: undefined,\n  numColumns: 1,\n};\ntype DefaultProps = typeof defaultProps;\n\n/**\n * A performant interface for rendering simple, flat lists, supporting the most handy features:\n *\n *  - Fully cross-platform.\n *  - Optional horizontal mode.\n *  - Configurable viewability callbacks.\n *  - Header support.\n *  - Footer support.\n *  - Separator support.\n *  - Pull to Refresh.\n *  - Scroll loading.\n *\n * If you need section support, use [`<SectionList>`](/react-native/docs/sectionlist.html).\n *\n * Minimal Example:\n *\n *     <FlatList\n *       data={[{key: 'a'}, {key: 'b'}]}\n *       renderItem={({item}) => <Text>{item.key}</Text>}\n *     />\n *\n * This is a convenience wrapper around [`<VirtualizedList>`](/react-native/docs/virtualizedlist.html),\n * and thus inherits the following caveats:\n *\n * - Internal state is not preserved when content scrolls out of the render window. Make sure all\n *   your data is captured in the item data or external stores like Flux, Redux, or Relay.\n * - This is a `PureComponent` which means that it will not re-render if `props` remain shallow-\n *   equal. Make sure that everything your `renderItem` function depends on is passed as a prop that\n *   is not `===` after updates, otherwise your UI may not update on changes. This includes the\n *   `data` prop and parent component state.\n * - In order to constrain memory and enable smooth scrolling, content is rendered asynchronously\n *   offscreen. This means it's possible to scroll faster than the fill rate ands momentarily see\n *   blank content. This is a tradeoff that can be adjusted to suit the needs of each application,\n *   and we are working on improving it behind the scenes.\n * - By default, the list looks for a `key` prop on each item and uses that for the React key.\n *   Alternatively, you can provide a custom `keyExtractor` prop.\n */\nclass FlatList<ItemT> extends React.PureComponent<DefaultProps, Props<ItemT>, void> {\n  static defaultProps: DefaultProps = defaultProps;\n  props: Props<ItemT>;\n  /**\n   * Scrolls to the end of the content. May be janky without `getItemLayout` prop.\n   */\n  scrollToEnd(params?: ?{animated?: ?boolean}) {\n    this._listRef.scrollToEnd(params);\n  }\n\n  /**\n   * Scrolls to the item at a the specified index such that it is positioned in the viewable area\n   * such that `viewPosition` 0 places it at the top, 1 at the bottom, and 0.5 centered in the\n   * middle.\n   *\n   * May be janky without `getItemLayout` prop.\n   */\n  scrollToIndex(params: {animated?: ?boolean, index: number, viewPosition?: number}) {\n    this._listRef.scrollToIndex(params);\n  }\n\n  /**\n   * Requires linear scan through data - use `scrollToIndex` instead if possible. May be janky\n   * without `getItemLayout` prop.\n   */\n  scrollToItem(params: {animated?: ?boolean, item: ItemT, viewPosition?: number}) {\n    this._listRef.scrollToItem(params);\n  }\n\n  /**\n   * Scroll to a specific content pixel offset, like a normal `ScrollView`.\n   */\n  scrollToOffset(params: {animated?: ?boolean, offset: number}) {\n    this._listRef.scrollToOffset(params);\n  }\n\n  /**\n   * Tells the list an interaction has occured, which should trigger viewability calculations, e.g.\n   * if `waitForInteractions` is true and the user has not scrolled. This is typically called by\n   * taps on items or by navigation actions.\n   */\n  recordInteraction() {\n    this._listRef.recordInteraction();\n  }\n\n  getScrollableNode() {\n    if (this._listRef && this._listRef.getScrollableNode) {\n      return this._listRef.getScrollableNode();\n    } else {\n      return ReactNative.findNodeHandle(this._listRef);\n    }\n  }\n\n  componentWillMount() {\n    this._checkProps(this.props);\n  }\n\n  componentWillReceiveProps(nextProps: Props<ItemT>) {\n    this._checkProps(nextProps);\n  }\n\n  _hasWarnedLegacy = false;\n  _listRef: VirtualizedList;\n\n  _captureRef = (ref) => { this._listRef = ref; };\n\n  _checkProps(props: Props<ItemT>) {\n    const {\n      getItem,\n      getItemCount,\n      horizontal,\n      legacyImplementation,\n      numColumns,\n      columnWrapperStyle,\n    } = props;\n    invariant(!getItem && !getItemCount, 'FlatList does not support custom data formats.');\n    if (numColumns > 1) {\n      invariant(!horizontal, 'numColumns does not support horizontal.');\n    } else {\n      invariant(!columnWrapperStyle, 'columnWrapperStyle not supported for single column lists');\n    }\n    if (legacyImplementation) {\n      invariant(numColumns === 1, 'Legacy list does not support multiple columns.');\n      // Warning: may not have full feature parity and is meant more for debugging and performance\n      // comparison.\n      if (!this._hasWarnedLegacy) {\n        console.warn(\n          'FlatList: Using legacyImplementation - some features not supported and performance ' +\n          'may suffer'\n        );\n        this._hasWarnedLegacy = true;\n      }\n    }\n  }\n\n  _getItem = (data: Array<ItemT>, index: number) => {\n    const {numColumns} = this.props;\n    if (numColumns > 1) {\n      const ret = [];\n      for (let kk = 0; kk < numColumns; kk++) {\n        const item = data[index * numColumns + kk];\n        item && ret.push(item);\n      }\n      return ret;\n    } else {\n      return data[index];\n    }\n  };\n\n  _getItemCount = (data: ?Array<ItemT>): number => {\n    return data ? Math.ceil(data.length / this.props.numColumns) : 0;\n  };\n\n  _keyExtractor = (items: ItemT | Array<ItemT>, index: number) => {\n    const {keyExtractor, numColumns} = this.props;\n    if (numColumns > 1) {\n      invariant(\n        Array.isArray(items),\n        'FlatList: Encountered internal consistency error, expected each item to consist of an ' +\n        'array with 1-%s columns; instead, received a single item.',\n        numColumns,\n      );\n      return items.map((it, kk) => keyExtractor(it, index * numColumns + kk)).join(':');\n    } else {\n      return keyExtractor(items, index);\n    }\n  };\n\n  _pushMultiColumnViewable(arr: Array<ViewToken>, v: ViewToken): void {\n    const {numColumns, keyExtractor} = this.props;\n    v.item.forEach((item, ii) => {\n      invariant(v.index != null, 'Missing index!');\n      const index = v.index * numColumns + ii;\n      arr.push({...v, item, key: keyExtractor(item, index), index});\n    });\n  }\n  _onViewableItemsChanged = (info) => {\n    const {numColumns, onViewableItemsChanged} = this.props;\n    if (!onViewableItemsChanged) {\n      return;\n    }\n    if (numColumns > 1) {\n      const changed = [];\n      const viewableItems = [];\n      info.viewableItems.forEach((v) => this._pushMultiColumnViewable(viewableItems, v));\n      info.changed.forEach((v) => this._pushMultiColumnViewable(changed, v));\n      onViewableItemsChanged({viewableItems, changed});\n    } else {\n      onViewableItemsChanged(info);\n    }\n  };\n\n  _renderItem = (info: {item: ItemT | Array<ItemT>, index: number}) => {\n    const {renderItem, numColumns, columnWrapperStyle} = this.props;\n    if (numColumns > 1) {\n      const {item, index} = info;\n      invariant(Array.isArray(item), 'Expected array of items with numColumns > 1');\n      return (\n        <View style={[{flexDirection: 'row'}, columnWrapperStyle]}>\n          {item.map((it, kk) => {\n            const element = renderItem({item: it, index:  index * numColumns + kk});\n            return element && React.cloneElement(element, {key: kk});\n          })}\n        </View>\n      );\n    } else {\n      return renderItem(info);\n    }\n  };\n\n  _shouldItemUpdate = (prev, next) => {\n    const {numColumns, shouldItemUpdate} = this.props;\n    if (numColumns > 1) {\n      return prev.item.length !== next.item.length ||\n        prev.item.some((prevItem, ii) => shouldItemUpdate(\n          {item: prevItem, index: prev.index + ii},\n          {item: next.item[ii], index: next.index + ii},\n        ));\n    } else {\n      return shouldItemUpdate(prev, next);\n    }\n  };\n\n  render() {\n    if (this.props.legacyImplementation) {\n      return <MetroListView {...this.props} items={this.props.data} ref={this._captureRef} />;\n    } else {\n      return (\n        <VirtualizedList\n          {...this.props}\n          renderItem={this._renderItem}\n          getItem={this._getItem}\n          getItemCount={this._getItemCount}\n          keyExtractor={this._keyExtractor}\n          ref={this._captureRef}\n          shouldItemUpdate={this._shouldItemUpdate}\n          onViewableItemsChanged={this.props.onViewableItemsChanged && this._onViewableItemsChanged}\n        />\n      );\n    }\n  }\n}\n\nmodule.exports = FlatList;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * Facebook, Inc. (\"Facebook\") owns all right, title and interest, including\n * all intellectual property and other proprietary rights, in and to the React\n * Native CustomComponents software (the \"Software\").  Subject to your\n * compliance with these terms, you are hereby granted a non-exclusive,\n * worldwide, royalty-free copyright license to (1) use and copy the Software;\n * and (2) reproduce and distribute the Software as part of your own software\n * (\"Your Software\").  Facebook reserves all rights not expressly granted to\n * you in this license agreement.\n *\n * THE SOFTWARE AND DOCUMENTATION, IF ANY, ARE PROVIDED \"AS IS\" AND ANY EXPRESS\n * OR IMPLIED WARRANTIES (INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES\n * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE) ARE DISCLAIMED.\n * IN NO EVENT SHALL FACEBOOK OR ITS AFFILIATES, OFFICERS, DIRECTORS OR\n * EMPLOYEES BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,\n * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,\n * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;\n * OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,\n * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR\n * OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THE SOFTWARE, EVEN IF\n * ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @providesModule MetroListView\n * @flow\n */\n'use strict';\n\nconst ListView = require('ListView');\nconst React = require('React');\nconst RefreshControl = require('RefreshControl');\nconst ScrollView = require('ScrollView');\n\nconst invariant = require('fbjs/lib/invariant');\n\ntype Item = any;\n\ntype NormalProps = {\n  FooterComponent?: ReactClass<*>,\n  renderItem: ({item: Item, index: number}) => ?React.Element<*>,\n  renderSectionHeader?: ({section: Object}) => ?React.Element<*>,\n  SeparatorComponent?: ?ReactClass<*>, // not supported yet\n\n  // Provide either `items` or `sections`\n  items?: ?Array<Item>, // By default, an Item is assumed to be {key: string}\n  sections?: ?Array<{key: string, data: Array<Item>}>,\n\n  /**\n   * If provided, a standard RefreshControl will be added for \"Pull to Refresh\" functionality. Make\n   * sure to also set the `refreshing` prop correctly.\n   */\n  onRefresh?: ?Function,\n  /**\n   * Set this true while waiting for new data from a refresh.\n   */\n  refreshing?: boolean,\n};\ntype DefaultProps = {\n  shouldItemUpdate: (curr: {item: Item}, next: {item: Item}) => boolean,\n  keyExtractor: (item: Item) => string,\n};\ntype Props = NormalProps & DefaultProps;\n\n/**\n * This is just a wrapper around the legacy ListView that matches the new API of FlatList, but with\n * some section support tacked on. It is recommended to just use FlatList directly, this component\n * is mostly for debugging and performance comparison.\n */\nclass MetroListView extends React.Component {\n  props: Props;\n  scrollToEnd(params?: ?{animated?: ?boolean}) {\n    throw new Error('scrollToEnd not supported in legacy ListView.');\n  }\n  scrollToIndex(params: {animated?: ?boolean, index: number, viewPosition?: number}) {\n    throw new Error('scrollToIndex not supported in legacy ListView.');\n  }\n  scrollToItem(params: {animated?: ?boolean, item: Item, viewPosition?: number}) {\n    throw new Error('scrollToItem not supported in legacy ListView.');\n  }\n  scrollToOffset(params: {animated?: ?boolean, offset: number}) {\n    const {animated, offset} = params;\n    this._listRef.scrollTo(\n      this.props.horizontal ? {x: offset, animated} : {y: offset, animated}\n    );\n  }\n  static defaultProps: DefaultProps = {\n    shouldItemUpdate: () => true,\n    keyExtractor: (item, index) => item.key || index,\n    renderScrollComponent: (props: Props) => {\n      if (props.onRefresh) {\n        return (\n          <ScrollView\n            {...props}\n            refreshControl={\n              <RefreshControl\n                refreshing={props.refreshing}\n                onRefresh={props.onRefresh}\n              />\n            }\n          />\n        );\n      } else {\n        return <ScrollView {...props} />;\n      }\n    },\n  };\n  state = this._computeState(\n    this.props,\n    {\n      ds: new ListView.DataSource({\n        rowHasChanged: (itemA, itemB) => this.props.shouldItemUpdate({item: itemA}, {item: itemB}),\n        sectionHeaderHasChanged: () => true,\n        getSectionHeaderData: (dataBlob, sectionID) => this.state.sectionHeaderData[sectionID],\n      }),\n      sectionHeaderData: {},\n    },\n  );\n  componentWillReceiveProps(newProps: Props) {\n    this.setState((state) => this._computeState(newProps, state));\n  }\n  render() {\n    return (\n      <ListView\n        {...this.props}\n        dataSource={this.state.ds}\n        ref={this._captureRef}\n        renderRow={this._renderRow}\n        renderFooter={this.props.FooterComponent && this._renderFooter}\n        renderSectionHeader={this.props.sections && this._renderSectionHeader}\n        renderSeparator={this.props.SeparatorComponent && this._renderSeparator}\n      />\n    );\n  }\n  _listRef: ListView;\n  _captureRef = (ref) => { this._listRef = ref; };\n  _computeState(props: Props, state) {\n    const sectionHeaderData = {};\n    if (props.sections) {\n      invariant(!props.items, 'Cannot have both sections and items props.');\n      const sections = {};\n      props.sections.forEach((sectionIn, ii) => {\n        const sectionID = 's' + ii;\n        sections[sectionID] = sectionIn.data;\n        sectionHeaderData[sectionID] = sectionIn;\n      });\n      return {\n        ds: state.ds.cloneWithRowsAndSections(sections),\n        sectionHeaderData,\n      };\n    } else {\n      invariant(!props.sections, 'Cannot have both sections and items props.');\n      return {\n        ds: state.ds.cloneWithRows(props.items),\n        sectionHeaderData,\n      };\n    }\n  }\n  _renderFooter = () => <this.props.FooterComponent key=\"$footer\" />;\n  _renderRow = (item, sectionID, rowID, highlightRow) => {\n    return this.props.renderItem({item, index: rowID});\n  };\n  _renderSectionHeader = (section, sectionID) => {\n    const {renderSectionHeader} = this.props;\n    invariant(renderSectionHeader, 'Must provide renderSectionHeader with sections prop');\n    return renderSectionHeader({section});\n  }\n  _renderSeparator = (sID, rID) => <this.props.SeparatorComponent key={sID + rID} />;\n}\n\nmodule.exports = MetroListView;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * Facebook, Inc. (\"Facebook\") owns all right, title and interest, including\n * all intellectual property and other proprietary rights, in and to the React\n * Native CustomComponents software (the \"Software\").  Subject to your\n * compliance with these terms, you are hereby granted a non-exclusive,\n * worldwide, royalty-free copyright license to (1) use and copy the Software;\n * and (2) reproduce and distribute the Software as part of your own software\n * (\"Your Software\").  Facebook reserves all rights not expressly granted to\n * you in this license agreement.\n *\n * THE SOFTWARE AND DOCUMENTATION, IF ANY, ARE PROVIDED \"AS IS\" AND ANY EXPRESS\n * OR IMPLIED WARRANTIES (INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES\n * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE) ARE DISCLAIMED.\n * IN NO EVENT SHALL FACEBOOK OR ITS AFFILIATES, OFFICERS, DIRECTORS OR\n * EMPLOYEES BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,\n * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,\n * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;\n * OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,\n * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR\n * OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THE SOFTWARE, EVEN IF\n * ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @providesModule ListView\n * @flow\n */\n'use strict';\n\nvar ListViewDataSource = require('ListViewDataSource');\nvar React = require('React');\nvar ReactNative = require('ReactNative');\nvar RCTScrollViewManager = require('NativeModules').ScrollViewManager;\nvar ScrollView = require('ScrollView');\nvar ScrollResponder = require('ScrollResponder');\nvar StaticRenderer = require('StaticRenderer');\nvar TimerMixin = require('react-timer-mixin');\nvar View = require('View');\n\nvar cloneReferencedElement = require('react-clone-referenced-element');\nvar isEmpty = require('isEmpty');\nvar merge = require('merge');\n\nvar PropTypes = React.PropTypes;\n\nvar DEFAULT_PAGE_SIZE = 1;\nvar DEFAULT_INITIAL_ROWS = 10;\nvar DEFAULT_SCROLL_RENDER_AHEAD = 1000;\nvar DEFAULT_END_REACHED_THRESHOLD = 1000;\nvar DEFAULT_SCROLL_CALLBACK_THROTTLE = 50;\n\n\n/**\n * ListView - A core component designed for efficient display of vertically\n * scrolling lists of changing data. The minimal API is to create a\n * [`ListView.DataSource`](docs/listviewdatasource.html), populate it with a simple\n * array of data blobs, and instantiate a `ListView` component with that data\n * source and a `renderRow` callback which takes a blob from the data array and\n * returns a renderable component.\n *\n * Minimal example:\n *\n * ```\n * class MyComponent extends Component {\n *   constructor() {\n *     super();\n *     const ds = new ListView.DataSource({rowHasChanged: (r1, r2) => r1 !== r2});\n *     this.state = {\n *       dataSource: ds.cloneWithRows(['row 1', 'row 2']),\n *     };\n *   }\n *\n *   render() {\n *     return (\n *       <ListView\n *         dataSource={this.state.dataSource}\n *         renderRow={(rowData) => <Text>{rowData}</Text>}\n *       />\n *     );\n *   }\n * }\n * ```\n *\n * ListView also supports more advanced features, including sections with sticky\n * section headers, header and footer support, callbacks on reaching the end of\n * the available data (`onEndReached`) and on the set of rows that are visible\n * in the device viewport change (`onChangeVisibleRows`), and several\n * performance optimizations.\n *\n * There are a few performance operations designed to make ListView scroll\n * smoothly while dynamically loading potentially very large (or conceptually\n * infinite) data sets:\n *\n *  * Only re-render changed rows - the rowHasChanged function provided to the\n *    data source tells the ListView if it needs to re-render a row because the\n *    source data has changed - see ListViewDataSource for more details.\n *\n *  * Rate-limited row rendering - By default, only one row is rendered per\n *    event-loop (customizable with the `pageSize` prop). This breaks up the\n *    work into smaller chunks to reduce the chance of dropping frames while\n *    rendering rows.\n */\n\nvar ListView = React.createClass({\n  _childFrames: ([]: Array<Object>),\n  _sentEndForContentLength: (null: ?number),\n  _scrollComponent: (null: any),\n  _prevRenderedRowsCount: 0,\n  _visibleRows: ({}: Object),\n  scrollProperties: ({}: Object),\n\n  mixins: [ScrollResponder.Mixin, TimerMixin],\n\n  statics: {\n    DataSource: ListViewDataSource,\n  },\n\n  /**\n   * You must provide a renderRow function. If you omit any of the other render\n   * functions, ListView will simply skip rendering them.\n   *\n   * - renderRow(rowData, sectionID, rowID, highlightRow);\n   * - renderSectionHeader(sectionData, sectionID);\n   */\n  propTypes: {\n    ...ScrollView.propTypes,\n    /**\n     * An instance of [ListView.DataSource](docs/listviewdatasource.html) to use\n     */\n    dataSource: PropTypes.instanceOf(ListViewDataSource).isRequired,\n    /**\n     * (sectionID, rowID, adjacentRowHighlighted) => renderable\n     *\n     * If provided, a renderable component to be rendered as the separator\n     * below each row but not the last row if there is a section header below.\n     * Take a sectionID and rowID of the row above and whether its adjacent row\n     * is highlighted.\n     */\n    renderSeparator: PropTypes.func,\n    /**\n     * (rowData, sectionID, rowID, highlightRow) => renderable\n     *\n     * Takes a data entry from the data source and its ids and should return\n     * a renderable component to be rendered as the row. By default the data\n     * is exactly what was put into the data source, but it's also possible to\n     * provide custom extractors. ListView can be notified when a row is\n     * being highlighted by calling `highlightRow(sectionID, rowID)`. This\n     * sets a boolean value of adjacentRowHighlighted in renderSeparator, allowing you\n     * to control the separators above and below the highlighted row. The highlighted\n     * state of a row can be reset by calling highlightRow(null).\n     */\n    renderRow: PropTypes.func.isRequired,\n    /**\n     * How many rows to render on initial component mount. Use this to make\n     * it so that the first screen worth of data appears at one time instead of\n     * over the course of multiple frames.\n     */\n    initialListSize: PropTypes.number.isRequired,\n    /**\n     * Called when all rows have been rendered and the list has been scrolled\n     * to within onEndReachedThreshold of the bottom. The native scroll\n     * event is provided.\n     */\n    onEndReached: PropTypes.func,\n    /**\n     * Threshold in pixels (virtual, not physical) for calling onEndReached.\n     */\n    onEndReachedThreshold: PropTypes.number.isRequired,\n    /**\n     * Number of rows to render per event loop. Note: if your 'rows' are actually\n     * cells, i.e. they don't span the full width of your view (as in the\n     * ListViewGridLayoutExample), you should set the pageSize to be a multiple\n     * of the number of cells per row, otherwise you're likely to see gaps at\n     * the edge of the ListView as new pages are loaded.\n     */\n    pageSize: PropTypes.number.isRequired,\n    /**\n     * () => renderable\n     *\n     * The header and footer are always rendered (if these props are provided)\n     * on every render pass. If they are expensive to re-render, wrap them\n     * in StaticContainer or other mechanism as appropriate. Footer is always\n     * at the bottom of the list, and header at the top, on every render pass.\n     */\n    renderFooter: PropTypes.func,\n    renderHeader: PropTypes.func,\n    /**\n     * (sectionData, sectionID) => renderable\n     *\n     * If provided, a header is rendered for this section.\n     */\n    renderSectionHeader: PropTypes.func,\n    /**\n     * (props) => renderable\n     *\n     * A function that returns the scrollable component in which the list rows\n     * are rendered. Defaults to returning a ScrollView with the given props.\n     */\n    renderScrollComponent: React.PropTypes.func.isRequired,\n    /**\n     * How early to start rendering rows before they come on screen, in\n     * pixels.\n     */\n    scrollRenderAheadDistance: React.PropTypes.number.isRequired,\n    /**\n     * (visibleRows, changedRows) => void\n     *\n     * Called when the set of visible rows changes. `visibleRows` maps\n     * { sectionID: { rowID: true }} for all the visible rows, and\n     * `changedRows` maps { sectionID: { rowID: true | false }} for the rows\n     * that have changed their visibility, with true indicating visible, and\n     * false indicating the view has moved out of view.\n     */\n    onChangeVisibleRows: React.PropTypes.func,\n    /**\n     * A performance optimization for improving scroll perf of\n     * large lists, used in conjunction with overflow: 'hidden' on the row\n     * containers. This is enabled by default.\n     */\n    removeClippedSubviews: React.PropTypes.bool,\n    /**\n     * Makes the sections headers sticky. The sticky behavior means that it\n     * will scroll with the content at the top of the section until it reaches\n     * the top of the screen, at which point it will stick to the top until it\n     * is pushed off the screen by the next section header.\n     * @platform ios\n     */\n    stickySectionHeadersEnabled: React.PropTypes.bool,\n    /**\n     * An array of child indices determining which children get docked to the\n     * top of the screen when scrolling. For example, passing\n     * `stickyHeaderIndices={[0]}` will cause the first child to be fixed to the\n     * top of the scroll view. This property is not supported in conjunction\n     * with `horizontal={true}`.\n     * @platform ios\n     */\n    stickyHeaderIndices: PropTypes.arrayOf(PropTypes.number).isRequired,\n    /**\n     * Flag indicating whether empty section headers should be rendered. In the future release\n     * empty section headers will be rendered by default, and the flag will be deprecated.\n     * If empty sections are not desired to be rendered their indices should be excluded from sectionID object.\n     */\n    enableEmptySections: PropTypes.bool,\n  },\n\n  /**\n   * Exports some data, e.g. for perf investigations or analytics.\n   */\n  getMetrics: function() {\n    return {\n      contentLength: this.scrollProperties.contentLength,\n      totalRows: (this.props.enableEmptySections ? this.props.dataSource.getRowAndSectionCount() : this.props.dataSource.getRowCount()),\n      renderedRows: this.state.curRenderedRowsCount,\n      visibleRows: Object.keys(this._visibleRows).length,\n    };\n  },\n\n  /**\n   * Provides a handle to the underlying scroll responder.\n   * Note that `this._scrollComponent` might not be a `ScrollView`, so we\n   * need to check that it responds to `getScrollResponder` before calling it.\n   */\n  getScrollResponder: function() {\n    if (this._scrollComponent && this._scrollComponent.getScrollResponder) {\n      return this._scrollComponent.getScrollResponder();\n    }\n  },\n\n  getScrollableNode: function() {\n    if (this._scrollComponent && this._scrollComponent.getScrollableNode) {\n      return this._scrollComponent.getScrollableNode();\n    } else {\n      return ReactNative.findNodeHandle(this._scrollComponent);\n    }\n  },\n\n  /**\n   * Scrolls to a given x, y offset, either immediately or with a smooth animation.\n   *\n   * See `ScrollView#scrollTo`.\n   */\n  scrollTo: function(...args: Array<mixed>) {\n    if (this._scrollComponent && this._scrollComponent.scrollTo) {\n      this._scrollComponent.scrollTo(...args);\n    }\n  },\n\n  /**\n   * If this is a vertical ListView scrolls to the bottom.\n   * If this is a horizontal ListView scrolls to the right.\n   *\n   * Use `scrollToEnd({animated: true})` for smooth animated scrolling,\n   * `scrollToEnd({animated: false})` for immediate scrolling.\n   * If no options are passed, `animated` defaults to true.\n   *\n   * See `ScrollView#scrollToEnd`.\n   */\n  scrollToEnd: function(options?: ?{ animated?: ?boolean }) {\n    if (this._scrollComponent) {\n      if (this._scrollComponent.scrollToEnd) {\n        this._scrollComponent.scrollToEnd(options);\n      } else {\n        console.warn(\n          'The scroll component used by the ListView does not support ' +\n          'scrollToEnd. Check the renderScrollComponent prop of your ListView.'\n        );\n      }\n    }\n  },\n\n  setNativeProps: function(props: Object) {\n    if (this._scrollComponent) {\n      this._scrollComponent.setNativeProps(props);\n    }\n  },\n\n  /**\n   * React life cycle hooks.\n   */\n\n  getDefaultProps: function() {\n    return {\n      initialListSize: DEFAULT_INITIAL_ROWS,\n      pageSize: DEFAULT_PAGE_SIZE,\n      renderScrollComponent: props => <ScrollView {...props} />,\n      scrollRenderAheadDistance: DEFAULT_SCROLL_RENDER_AHEAD,\n      onEndReachedThreshold: DEFAULT_END_REACHED_THRESHOLD,\n      stickySectionHeadersEnabled: true,\n      stickyHeaderIndices: [],\n    };\n  },\n\n  getInitialState: function() {\n    return {\n      curRenderedRowsCount: this.props.initialListSize,\n      highlightedRow: ({} : Object),\n    };\n  },\n\n  getInnerViewNode: function() {\n    return this._scrollComponent.getInnerViewNode();\n  },\n\n  componentWillMount: function() {\n    // this data should never trigger a render pass, so don't put in state\n    this.scrollProperties = {\n      visibleLength: null,\n      contentLength: null,\n      offset: 0\n    };\n    this._childFrames = [];\n    this._visibleRows = {};\n    this._prevRenderedRowsCount = 0;\n    this._sentEndForContentLength = null;\n  },\n\n  componentDidMount: function() {\n    // do this in animation frame until componentDidMount actually runs after\n    // the component is laid out\n    this.requestAnimationFrame(() => {\n      this._measureAndUpdateScrollProps();\n    });\n  },\n\n  componentWillReceiveProps: function(nextProps: Object) {\n    if (this.props.dataSource !== nextProps.dataSource ||\n        this.props.initialListSize !== nextProps.initialListSize) {\n      this.setState((state, props) => {\n        this._prevRenderedRowsCount = 0;\n        return {\n          curRenderedRowsCount: Math.min(\n            Math.max(\n              state.curRenderedRowsCount,\n              props.initialListSize\n            ),\n            props.enableEmptySections ? props.dataSource.getRowAndSectionCount() : props.dataSource.getRowCount()\n          ),\n        };\n      }, () => this._renderMoreRowsIfNeeded());\n    }\n  },\n\n  componentDidUpdate: function() {\n    this.requestAnimationFrame(() => {\n      this._measureAndUpdateScrollProps();\n    });\n  },\n\n  _onRowHighlighted: function(sectionID: string, rowID: string) {\n    this.setState({highlightedRow: {sectionID, rowID}});\n  },\n\n  render: function() {\n    var bodyComponents = [];\n\n    var dataSource = this.props.dataSource;\n    var allRowIDs = dataSource.rowIdentities;\n    var rowCount = 0;\n    var stickySectionHeaderIndices = [];\n\n    var header = this.props.renderHeader && this.props.renderHeader();\n    var footer = this.props.renderFooter && this.props.renderFooter();\n    var totalIndex = header ? 1 : 0;\n\n    for (var sectionIdx = 0; sectionIdx < allRowIDs.length; sectionIdx++) {\n      var sectionID = dataSource.sectionIdentities[sectionIdx];\n      var rowIDs = allRowIDs[sectionIdx];\n      if (rowIDs.length === 0) {\n        if (this.props.enableEmptySections === undefined) {\n          var warning = require('fbjs/lib/warning');\n          warning(false, 'In next release empty section headers will be rendered.'\n                  + ' In this release you can use \\'enableEmptySections\\' flag to render empty section headers.');\n          continue;\n        } else {\n          var invariant = require('fbjs/lib/invariant');\n          invariant(\n            this.props.enableEmptySections,\n            'In next release \\'enableEmptySections\\' flag will be deprecated, empty section headers will always be rendered.'\n            + ' If empty section headers are not desirable their indices should be excluded from sectionIDs object.'\n            + ' In this release \\'enableEmptySections\\' may only have value \\'true\\' to allow empty section headers rendering.');\n        }\n      }\n\n      if (this.props.renderSectionHeader) {\n        var shouldUpdateHeader = rowCount >= this._prevRenderedRowsCount &&\n          dataSource.sectionHeaderShouldUpdate(sectionIdx);\n        bodyComponents.push(\n          <StaticRenderer\n            key={'s_' + sectionID}\n            shouldUpdate={!!shouldUpdateHeader}\n            render={this.props.renderSectionHeader.bind(\n              null,\n              dataSource.getSectionHeaderData(sectionIdx),\n              sectionID\n            )}\n          />\n        );\n        if (this.props.stickySectionHeadersEnabled) {\n          stickySectionHeaderIndices.push(totalIndex++);\n        }\n      }\n\n      for (var rowIdx = 0; rowIdx < rowIDs.length; rowIdx++) {\n        var rowID = rowIDs[rowIdx];\n        var comboID = sectionID + '_' + rowID;\n        var shouldUpdateRow = rowCount >= this._prevRenderedRowsCount &&\n          dataSource.rowShouldUpdate(sectionIdx, rowIdx);\n        var row =\n          <StaticRenderer\n            key={'r_' + comboID}\n            shouldUpdate={!!shouldUpdateRow}\n            render={this.props.renderRow.bind(\n              null,\n              dataSource.getRowData(sectionIdx, rowIdx),\n              sectionID,\n              rowID,\n              this._onRowHighlighted\n            )}\n          />;\n        bodyComponents.push(row);\n        totalIndex++;\n\n        if (this.props.renderSeparator &&\n            (rowIdx !== rowIDs.length - 1 || sectionIdx === allRowIDs.length - 1)) {\n          var adjacentRowHighlighted =\n            this.state.highlightedRow.sectionID === sectionID && (\n              this.state.highlightedRow.rowID === rowID ||\n              this.state.highlightedRow.rowID === rowIDs[rowIdx + 1]\n            );\n          var separator = this.props.renderSeparator(\n            sectionID,\n            rowID,\n            adjacentRowHighlighted\n          );\n          if (separator) {\n            bodyComponents.push(\n              <View key={'s_' + comboID}>\n                {separator}\n              </View>\n            );\n            totalIndex++;\n          }\n        }\n        if (++rowCount === this.state.curRenderedRowsCount) {\n          break;\n        }\n      }\n      if (rowCount >= this.state.curRenderedRowsCount) {\n        break;\n      }\n    }\n\n    var {\n      renderScrollComponent,\n      ...props\n    } = this.props;\n    if (!props.scrollEventThrottle) {\n      props.scrollEventThrottle = DEFAULT_SCROLL_CALLBACK_THROTTLE;\n    }\n    if (props.removeClippedSubviews === undefined) {\n      props.removeClippedSubviews = true;\n    }\n    Object.assign(props, {\n      onScroll: this._onScroll,\n      stickyHeaderIndices: this.props.stickyHeaderIndices.concat(stickySectionHeaderIndices),\n\n      // Do not pass these events downstream to ScrollView since they will be\n      // registered in ListView's own ScrollResponder.Mixin\n      onKeyboardWillShow: undefined,\n      onKeyboardWillHide: undefined,\n      onKeyboardDidShow: undefined,\n      onKeyboardDidHide: undefined,\n    });\n\n    return cloneReferencedElement(renderScrollComponent(props), {\n      ref: this._setScrollComponentRef,\n      onContentSizeChange: this._onContentSizeChange,\n      onLayout: this._onLayout,\n    }, header, bodyComponents, footer);\n  },\n\n  /**\n   * Private methods\n   */\n\n  _measureAndUpdateScrollProps: function() {\n    var scrollComponent = this.getScrollResponder();\n    if (!scrollComponent || !scrollComponent.getInnerViewNode) {\n      return;\n    }\n\n    // RCTScrollViewManager.calculateChildFrames is not available on\n    // every platform\n    RCTScrollViewManager && RCTScrollViewManager.calculateChildFrames &&\n      RCTScrollViewManager.calculateChildFrames(\n        ReactNative.findNodeHandle(scrollComponent),\n        this._updateVisibleRows,\n      );\n  },\n\n  _setScrollComponentRef: function(scrollComponent: Object) {\n    this._scrollComponent = scrollComponent;\n  },\n\n  _onContentSizeChange: function(width: number, height: number) {\n    var contentLength = !this.props.horizontal ? height : width;\n    if (contentLength !== this.scrollProperties.contentLength) {\n      this.scrollProperties.contentLength = contentLength;\n      this._updateVisibleRows();\n      this._renderMoreRowsIfNeeded();\n    }\n    this.props.onContentSizeChange && this.props.onContentSizeChange(width, height);\n  },\n\n  _onLayout: function(event: Object) {\n    var {width, height} = event.nativeEvent.layout;\n    var visibleLength = !this.props.horizontal ? height : width;\n    if (visibleLength !== this.scrollProperties.visibleLength) {\n      this.scrollProperties.visibleLength = visibleLength;\n      this._updateVisibleRows();\n      this._renderMoreRowsIfNeeded();\n    }\n    this.props.onLayout && this.props.onLayout(event);\n  },\n\n  _maybeCallOnEndReached: function(event?: Object) {\n    if (this.props.onEndReached &&\n        this.scrollProperties.contentLength !== this._sentEndForContentLength &&\n        this._getDistanceFromEnd(this.scrollProperties) < this.props.onEndReachedThreshold &&\n        this.state.curRenderedRowsCount === (this.props.enableEmptySections ? this.props.dataSource.getRowAndSectionCount() : this.props.dataSource.getRowCount())) {\n      this._sentEndForContentLength = this.scrollProperties.contentLength;\n      this.props.onEndReached(event);\n      return true;\n    }\n    return false;\n  },\n\n  _renderMoreRowsIfNeeded: function() {\n    if (this.scrollProperties.contentLength === null ||\n      this.scrollProperties.visibleLength === null ||\n      this.state.curRenderedRowsCount === (this.props.enableEmptySections ? this.props.dataSource.getRowAndSectionCount() : this.props.dataSource.getRowCount())) {\n      this._maybeCallOnEndReached();\n      return;\n    }\n\n    var distanceFromEnd = this._getDistanceFromEnd(this.scrollProperties);\n    if (distanceFromEnd < this.props.scrollRenderAheadDistance) {\n      this._pageInNewRows();\n    }\n  },\n\n  _pageInNewRows: function() {\n    this.setState((state, props) => {\n      var rowsToRender = Math.min(\n        state.curRenderedRowsCount + props.pageSize,\n        (props.enableEmptySections ? props.dataSource.getRowAndSectionCount() : props.dataSource.getRowCount())\n      );\n      this._prevRenderedRowsCount = state.curRenderedRowsCount;\n      return {\n        curRenderedRowsCount: rowsToRender\n      };\n    }, () => {\n      this._measureAndUpdateScrollProps();\n      this._prevRenderedRowsCount = this.state.curRenderedRowsCount;\n    });\n  },\n\n  _getDistanceFromEnd: function(scrollProperties: Object) {\n    return scrollProperties.contentLength - scrollProperties.visibleLength - scrollProperties.offset;\n  },\n\n  _updateVisibleRows: function(updatedFrames?: Array<Object>) {\n    if (!this.props.onChangeVisibleRows) {\n      return; // No need to compute visible rows if there is no callback\n    }\n    if (updatedFrames) {\n      updatedFrames.forEach((newFrame) => {\n        this._childFrames[newFrame.index] = merge(newFrame);\n      });\n    }\n    var isVertical = !this.props.horizontal;\n    var dataSource = this.props.dataSource;\n    var visibleMin = this.scrollProperties.offset;\n    var visibleMax = visibleMin + this.scrollProperties.visibleLength;\n    var allRowIDs = dataSource.rowIdentities;\n\n    var header = this.props.renderHeader && this.props.renderHeader();\n    var totalIndex = header ? 1 : 0;\n    var visibilityChanged = false;\n    var changedRows = {};\n    for (var sectionIdx = 0; sectionIdx < allRowIDs.length; sectionIdx++) {\n      var rowIDs = allRowIDs[sectionIdx];\n      if (rowIDs.length === 0) {\n        continue;\n      }\n      var sectionID = dataSource.sectionIdentities[sectionIdx];\n      if (this.props.renderSectionHeader) {\n        totalIndex++;\n      }\n      var visibleSection = this._visibleRows[sectionID];\n      if (!visibleSection) {\n        visibleSection = {};\n      }\n      for (var rowIdx = 0; rowIdx < rowIDs.length; rowIdx++) {\n        var rowID = rowIDs[rowIdx];\n        var frame = this._childFrames[totalIndex];\n        totalIndex++;\n        if (this.props.renderSeparator &&\n           (rowIdx !== rowIDs.length - 1 || sectionIdx === allRowIDs.length - 1)){\n          totalIndex++;\n        }\n        if (!frame) {\n          break;\n        }\n        var rowVisible = visibleSection[rowID];\n        var min = isVertical ? frame.y : frame.x;\n        var max = min + (isVertical ? frame.height : frame.width);\n        if ((!min && !max) || (min === max)) {\n          break;\n        }\n        if (min > visibleMax || max < visibleMin) {\n          if (rowVisible) {\n            visibilityChanged = true;\n            delete visibleSection[rowID];\n            if (!changedRows[sectionID]) {\n              changedRows[sectionID] = {};\n            }\n            changedRows[sectionID][rowID] = false;\n          }\n        } else if (!rowVisible) {\n          visibilityChanged = true;\n          visibleSection[rowID] = true;\n          if (!changedRows[sectionID]) {\n            changedRows[sectionID] = {};\n          }\n          changedRows[sectionID][rowID] = true;\n        }\n      }\n      if (!isEmpty(visibleSection)) {\n        this._visibleRows[sectionID] = visibleSection;\n      } else if (this._visibleRows[sectionID]) {\n        delete this._visibleRows[sectionID];\n      }\n    }\n    visibilityChanged && this.props.onChangeVisibleRows(this._visibleRows, changedRows);\n  },\n\n  _onScroll: function(e: Object) {\n    var isVertical = !this.props.horizontal;\n    this.scrollProperties.visibleLength = e.nativeEvent.layoutMeasurement[\n      isVertical ? 'height' : 'width'\n    ];\n    this.scrollProperties.contentLength = e.nativeEvent.contentSize[\n      isVertical ? 'height' : 'width'\n    ];\n    this.scrollProperties.offset = e.nativeEvent.contentOffset[\n      isVertical ? 'y' : 'x'\n    ];\n    this._updateVisibleRows(e.nativeEvent.updatedChildFrames);\n    if (!this._maybeCallOnEndReached(e)) {\n      this._renderMoreRowsIfNeeded();\n    }\n\n    if (this.props.onEndReached &&\n        this._getDistanceFromEnd(this.scrollProperties) > this.props.onEndReachedThreshold) {\n      // Scrolled out of the end zone, so it should be able to trigger again.\n      this._sentEndForContentLength = null;\n    }\n\n    this.props.onScroll && this.props.onScroll(e);\n  },\n});\n\nmodule.exports = ListView;\n","/**\n * Copyright (c) 2015, Facebook, Inc.  All rights reserved.\n *\n * Facebook, Inc. (\"Facebook\") owns all right, title and interest, including\n * all intellectual property and other proprietary rights, in and to the React\n * Native CustomComponents software (the \"Software\").  Subject to your\n * compliance with these terms, you are hereby granted a non-exclusive,\n * worldwide, royalty-free copyright license to (1) use and copy the Software;\n * and (2) reproduce and distribute the Software as part of your own software\n * (\"Your Software\").  Facebook reserves all rights not expressly granted to\n * you in this license agreement.\n *\n * THE SOFTWARE AND DOCUMENTATION, IF ANY, ARE PROVIDED \"AS IS\" AND ANY EXPRESS\n * OR IMPLIED WARRANTIES (INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES\n * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE) ARE DISCLAIMED.\n * IN NO EVENT SHALL FACEBOOK OR ITS AFFILIATES, OFFICERS, DIRECTORS OR\n * EMPLOYEES BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,\n * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,\n * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;\n * OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,\n * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR\n * OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THE SOFTWARE, EVEN IF\n * ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @providesModule ListViewDataSource\n * @flow\n */\n'use strict';\n\nvar invariant = require('fbjs/lib/invariant');\nvar isEmpty = require('isEmpty');\nvar warning = require('fbjs/lib/warning');\n\nfunction defaultGetRowData(\n  dataBlob: any,\n  sectionID: number | string,\n  rowID: number | string\n): any {\n  return dataBlob[sectionID][rowID];\n}\n\nfunction defaultGetSectionHeaderData(\n  dataBlob: any,\n  sectionID: number | string\n): any {\n  return dataBlob[sectionID];\n}\n\ntype differType = (data1: any, data2: any) => bool;\n\ntype ParamType = {\n  rowHasChanged: differType,\n  getRowData?: ?typeof defaultGetRowData,\n  sectionHeaderHasChanged?: ?differType,\n  getSectionHeaderData?: ?typeof defaultGetSectionHeaderData,\n}\n\n/**\n * Provides efficient data processing and access to the\n * `ListView` component.  A `ListViewDataSource` is created with functions for\n * extracting data from the input blob, and comparing elements (with default\n * implementations for convenience).  The input blob can be as simple as an\n * array of strings, or an object with rows nested inside section objects.\n *\n * To update the data in the datasource, use `cloneWithRows` (or\n * `cloneWithRowsAndSections` if you care about sections).  The data in the\n * data source is immutable, so you can't modify it directly.  The clone methods\n * suck in the new data and compute a diff for each row so ListView knows\n * whether to re-render it or not.\n *\n * In this example, a component receives data in chunks, handled by\n * `_onDataArrived`, which concats the new data onto the old data and updates the\n * data source.  We use `concat` to create a new array - mutating `this._data`,\n * e.g. with `this._data.push(newRowData)`, would be an error. `_rowHasChanged`\n * understands the shape of the row data and knows how to efficiently compare\n * it.\n *\n * ```\n * getInitialState: function() {\n *   var ds = new ListViewDataSource({rowHasChanged: this._rowHasChanged});\n *   return {ds};\n * },\n * _onDataArrived(newData) {\n *   this._data = this._data.concat(newData);\n *   this.setState({\n *     ds: this.state.ds.cloneWithRows(this._data)\n *   });\n * }\n * ```\n */\n\nclass ListViewDataSource {\n\n  /**\n   * You can provide custom extraction and `hasChanged` functions for section\n   * headers and rows.  If absent, data will be extracted with the\n   * `defaultGetRowData` and `defaultGetSectionHeaderData` functions.\n   *\n   * The default extractor expects data of one of the following forms:\n   *\n   *      { sectionID_1: { rowID_1: <rowData1>, ... }, ... }\n   *\n   *    or\n   *\n   *      { sectionID_1: [ <rowData1>, <rowData2>, ... ], ... }\n   *\n   *    or\n   *\n   *      [ [ <rowData1>, <rowData2>, ... ], ... ]\n   *\n   * The constructor takes in a params argument that can contain any of the\n   * following:\n   *\n   * - getRowData(dataBlob, sectionID, rowID);\n   * - getSectionHeaderData(dataBlob, sectionID);\n   * - rowHasChanged(prevRowData, nextRowData);\n   * - sectionHeaderHasChanged(prevSectionData, nextSectionData);\n   */\n  constructor(params: ParamType) {\n    invariant(\n      params && typeof params.rowHasChanged === 'function',\n      'Must provide a rowHasChanged function.'\n    );\n    this._rowHasChanged = params.rowHasChanged;\n    this._getRowData = params.getRowData || defaultGetRowData;\n    this._sectionHeaderHasChanged = params.sectionHeaderHasChanged;\n    this._getSectionHeaderData =\n      params.getSectionHeaderData || defaultGetSectionHeaderData;\n\n    this._dataBlob = null;\n    this._dirtyRows = [];\n    this._dirtySections = [];\n    this._cachedRowCount = 0;\n\n    // These two private variables are accessed by outsiders because ListView\n    // uses them to iterate over the data in this class.\n    this.rowIdentities = [];\n    this.sectionIdentities = [];\n  }\n\n  /**\n   * Clones this `ListViewDataSource` with the specified `dataBlob` and\n   * `rowIdentities`. The `dataBlob` is just an arbitrary blob of data. At\n   * construction an extractor to get the interesting information was defined\n   * (or the default was used).\n   *\n   * The `rowIdentities` is a 2D array of identifiers for rows.\n   * ie. [['a1', 'a2'], ['b1', 'b2', 'b3'], ...].  If not provided, it's\n   * assumed that the keys of the section data are the row identities.\n   *\n   * Note: This function does NOT clone the data in this data source. It simply\n   * passes the functions defined at construction to a new data source with\n   * the data specified. If you wish to maintain the existing data you must\n   * handle merging of old and new data separately and then pass that into\n   * this function as the `dataBlob`.\n   */\n   cloneWithRows(\n       dataBlob: Array<any> | {[key: string]: any},\n       rowIdentities: ?Array<string>\n   ): ListViewDataSource {\n    var rowIds = rowIdentities ? [rowIdentities] : null;\n    if (!this._sectionHeaderHasChanged) {\n      this._sectionHeaderHasChanged = () => false;\n    }\n    return this.cloneWithRowsAndSections({s1: dataBlob}, ['s1'], rowIds);\n  }\n\n  /**\n   * This performs the same function as the `cloneWithRows` function but here\n   * you also specify what your `sectionIdentities` are. If you don't care\n   * about sections you should safely be able to use `cloneWithRows`.\n   *\n   * `sectionIdentities` is an array of identifiers for  sections.\n   * ie. ['s1', 's2', ...].  If not provided, it's assumed that the\n   * keys of dataBlob are the section identities.\n   *\n   * Note: this returns a new object!\n   */\n  cloneWithRowsAndSections(\n      dataBlob: any,\n      sectionIdentities: ?Array<string>,\n      rowIdentities: ?Array<Array<string>>\n  ): ListViewDataSource {\n    invariant(\n      typeof this._sectionHeaderHasChanged === 'function',\n      'Must provide a sectionHeaderHasChanged function with section data.'\n    );\n    invariant(\n      !sectionIdentities || !rowIdentities || sectionIdentities.length === rowIdentities.length,\n      'row and section ids lengths must be the same'\n    );\n\n    var newSource = new ListViewDataSource({\n      getRowData: this._getRowData,\n      getSectionHeaderData: this._getSectionHeaderData,\n      rowHasChanged: this._rowHasChanged,\n      sectionHeaderHasChanged: this._sectionHeaderHasChanged,\n    });\n    newSource._dataBlob = dataBlob;\n    if (sectionIdentities) {\n      newSource.sectionIdentities = sectionIdentities;\n    } else {\n      newSource.sectionIdentities = Object.keys(dataBlob);\n    }\n    if (rowIdentities) {\n      newSource.rowIdentities = rowIdentities;\n    } else {\n      newSource.rowIdentities = [];\n      newSource.sectionIdentities.forEach((sectionID) => {\n        newSource.rowIdentities.push(Object.keys(dataBlob[sectionID]));\n      });\n    }\n    newSource._cachedRowCount = countRows(newSource.rowIdentities);\n\n    newSource._calculateDirtyArrays(\n      this._dataBlob,\n      this.sectionIdentities,\n      this.rowIdentities\n    );\n\n    return newSource;\n  }\n\n  getRowCount(): number {\n    return this._cachedRowCount;\n  }\n\n  getRowAndSectionCount(): number {\n   return (this._cachedRowCount + this.sectionIdentities.length);\n  }\n\n  /**\n   * Returns if the row is dirtied and needs to be rerendered\n   */\n  rowShouldUpdate(sectionIndex: number, rowIndex: number): bool {\n    var needsUpdate = this._dirtyRows[sectionIndex][rowIndex];\n    warning(needsUpdate !== undefined,\n      'missing dirtyBit for section, row: ' + sectionIndex + ', ' + rowIndex);\n    return needsUpdate;\n  }\n\n  /**\n   * Gets the data required to render the row.\n   */\n  getRowData(sectionIndex: number, rowIndex: number): any {\n    var sectionID = this.sectionIdentities[sectionIndex];\n    var rowID = this.rowIdentities[sectionIndex][rowIndex];\n    warning(\n      sectionID !== undefined && rowID !== undefined,\n      'rendering invalid section, row: ' + sectionIndex + ', ' + rowIndex\n    );\n    return this._getRowData(this._dataBlob, sectionID, rowID);\n  }\n\n  /**\n   * Gets the rowID at index provided if the dataSource arrays were flattened,\n   * or null of out of range indexes.\n   */\n  getRowIDForFlatIndex(index: number): ?string {\n    var accessIndex = index;\n    for (var ii = 0; ii < this.sectionIdentities.length; ii++) {\n      if (accessIndex >= this.rowIdentities[ii].length) {\n        accessIndex -= this.rowIdentities[ii].length;\n      } else {\n        return this.rowIdentities[ii][accessIndex];\n      }\n    }\n    return null;\n  }\n\n  /**\n   * Gets the sectionID at index provided if the dataSource arrays were flattened,\n   * or null for out of range indexes.\n   */\n  getSectionIDForFlatIndex(index: number): ?string {\n    var accessIndex = index;\n    for (var ii = 0; ii < this.sectionIdentities.length; ii++) {\n      if (accessIndex >= this.rowIdentities[ii].length) {\n        accessIndex -= this.rowIdentities[ii].length;\n      } else {\n        return this.sectionIdentities[ii];\n      }\n    }\n    return null;\n  }\n\n  /**\n   * Returns an array containing the number of rows in each section\n   */\n  getSectionLengths(): Array<number> {\n    var results = [];\n    for (var ii = 0; ii < this.sectionIdentities.length; ii++) {\n      results.push(this.rowIdentities[ii].length);\n    }\n    return results;\n  }\n\n  /**\n   * Returns if the section header is dirtied and needs to be rerendered\n   */\n  sectionHeaderShouldUpdate(sectionIndex: number): bool {\n    var needsUpdate = this._dirtySections[sectionIndex];\n    warning(needsUpdate !== undefined,\n      'missing dirtyBit for section: ' + sectionIndex);\n    return needsUpdate;\n  }\n\n  /**\n   * Gets the data required to render the section header\n   */\n  getSectionHeaderData(sectionIndex: number): any {\n    if (!this._getSectionHeaderData) {\n      return null;\n    }\n    var sectionID = this.sectionIdentities[sectionIndex];\n    warning(sectionID !== undefined,\n      'renderSection called on invalid section: ' + sectionIndex);\n    return this._getSectionHeaderData(this._dataBlob, sectionID);\n  }\n\n  /**\n   * Private members and methods.\n   */\n\n  _getRowData: typeof defaultGetRowData;\n  _getSectionHeaderData: typeof defaultGetSectionHeaderData;\n  _rowHasChanged: differType;\n  _sectionHeaderHasChanged: ?differType;\n\n  _dataBlob: any;\n  _dirtyRows: Array<Array<bool>>;\n  _dirtySections: Array<bool>;\n  _cachedRowCount: number;\n\n  // These two 'protected' variables are accessed by ListView to iterate over\n  // the data in this class.\n  rowIdentities: Array<Array<string>>;\n  sectionIdentities: Array<string>;\n\n  _calculateDirtyArrays(\n    prevDataBlob: any,\n    prevSectionIDs: Array<string>,\n    prevRowIDs: Array<Array<string>>\n  ): void {\n    // construct a hashmap of the existing (old) id arrays\n    var prevSectionsHash = keyedDictionaryFromArray(prevSectionIDs);\n    var prevRowsHash = {};\n    for (var ii = 0; ii < prevRowIDs.length; ii++) {\n      var sectionID = prevSectionIDs[ii];\n      warning(\n        !prevRowsHash[sectionID],\n        'SectionID appears more than once: ' + sectionID\n      );\n      prevRowsHash[sectionID] = keyedDictionaryFromArray(prevRowIDs[ii]);\n    }\n\n    // compare the 2 identity array and get the dirtied rows\n    this._dirtySections = [];\n    this._dirtyRows = [];\n\n    var dirty;\n    for (var sIndex = 0; sIndex < this.sectionIdentities.length; sIndex++) {\n      var sectionID = this.sectionIdentities[sIndex];\n      // dirty if the sectionHeader is new or _sectionHasChanged is true\n      dirty = !prevSectionsHash[sectionID];\n      var sectionHeaderHasChanged = this._sectionHeaderHasChanged;\n      if (!dirty && sectionHeaderHasChanged) {\n        dirty = sectionHeaderHasChanged(\n          this._getSectionHeaderData(prevDataBlob, sectionID),\n          this._getSectionHeaderData(this._dataBlob, sectionID)\n        );\n      }\n      this._dirtySections.push(!!dirty);\n\n      this._dirtyRows[sIndex] = [];\n      for (var rIndex = 0; rIndex < this.rowIdentities[sIndex].length; rIndex++) {\n        var rowID = this.rowIdentities[sIndex][rIndex];\n        // dirty if the section is new, row is new or _rowHasChanged is true\n        dirty =\n          !prevSectionsHash[sectionID] ||\n          !prevRowsHash[sectionID][rowID] ||\n          this._rowHasChanged(\n            this._getRowData(prevDataBlob, sectionID, rowID),\n            this._getRowData(this._dataBlob, sectionID, rowID)\n          );\n        this._dirtyRows[sIndex].push(!!dirty);\n      }\n    }\n  }\n}\n\nfunction countRows(allRowIDs) {\n  var totalRows = 0;\n  for (var sectionIdx = 0; sectionIdx < allRowIDs.length; sectionIdx++) {\n    var rowIDs = allRowIDs[sectionIdx];\n    totalRows += rowIDs.length;\n  }\n  return totalRows;\n}\n\nfunction keyedDictionaryFromArray(arr) {\n  if (isEmpty(arr)) {\n    return {};\n  }\n  var result = {};\n  for (var ii = 0; ii < arr.length; ii++) {\n    var key = arr[ii];\n    warning(!result[key], 'Value appears more than once in array: ' + key);\n    result[key] = true;\n  }\n  return result;\n}\n\n\nmodule.exports = ListViewDataSource;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule isEmpty\n */\n'use strict';\n\n/**\n * Mimics empty from PHP.\n */\nfunction isEmpty(obj) {\n  if (Array.isArray(obj)) {\n    return obj.length === 0;\n  } else if (typeof obj === 'object') {\n    for (var i in obj) {\n      return false;\n    }\n    return true;\n  } else {\n    return !obj;\n  }\n}\n\nmodule.exports = isEmpty;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule StaticRenderer\n * @flow\n */\n'use strict';\n\nvar React = require('React');\n\nclass StaticRenderer extends React.Component {\n  props: {\n    shouldUpdate: boolean,\n    render: Function,\n  };\n\n  static propTypes = {\n    shouldUpdate: React.PropTypes.bool.isRequired,\n    render: React.PropTypes.func.isRequired,\n  };\n\n  shouldComponentUpdate(nextProps: { shouldUpdate: boolean }): boolean {\n    return nextProps.shouldUpdate;\n  }\n\n  render(): React.Element<any> {\n    return this.props.render();\n  }\n}\n\nmodule.exports = StaticRenderer;\n","'use strict';\n\nlet React = require('react');\n\nfunction cloneReferencedElement(element, config, ...children) {\n  let cloneRef = config.ref;\n  let originalRef = element.ref;\n  if (originalRef == null || cloneRef == null) {\n    return React.cloneElement(element, config, ...children);\n  }\n\n  if (typeof originalRef !== 'function') {\n    if (__DEV__) {\n      console.warn(\n        'Cloning an element with a ref that will be overwritten because it ' +\n        'is not a function. Use a composable callback-style ref instead. ' +\n        'Ignoring ref: ' + originalRef,\n      );\n    }\n    return React.cloneElement(element, config, ...children);\n  }\n\n  return React.cloneElement(element, {\n    ...config,\n    ref(component) {\n      cloneRef(component);\n      originalRef(component);\n    },\n  }, ...children);\n}\n\nmodule.exports = cloneReferencedElement;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule RefreshControl\n * @flow\n */\n'use strict';\n\nconst ColorPropType = require('ColorPropType');\nconst NativeMethodsMixin = require('NativeMethodsMixin');\nconst Platform = require('Platform');\nconst React = require('React');\nconst View = require('View');\n\nconst requireNativeComponent = require('requireNativeComponent');\n\nif (Platform.OS === 'android') {\n  var RefreshLayoutConsts = require('UIManager').AndroidSwipeRefreshLayout.Constants;\n} else {\n  var RefreshLayoutConsts = {SIZE: {}};\n}\n\n/**\n * This component is used inside a ScrollView or ListView to add pull to refresh\n * functionality. When the ScrollView is at `scrollY: 0`, swiping down\n * triggers an `onRefresh` event.\n *\n * ### Usage example\n *\n * ``` js\n * class RefreshableList extends Component {\n *   constructor(props) {\n *     super(props);\n *     this.state = {\n *       refreshing: false,\n *     };\n *   }\n *\n *   _onRefresh() {\n *     this.setState({refreshing: true});\n *     fetchData().then(() => {\n *       this.setState({refreshing: false});\n *     });\n *   }\n *\n *   render() {\n *     return (\n *       <ListView\n *         refreshControl={\n *           <RefreshControl\n *             refreshing={this.state.refreshing}\n *             onRefresh={this._onRefresh.bind(this)}\n *           />\n *         }\n *         ...\n *       >\n *       ...\n *       </ListView>\n *     );\n *   }\n *   ...\n * }\n * ```\n *\n * __Note:__ `refreshing` is a controlled prop, this is why it needs to be set to true\n * in the `onRefresh` function otherwise the refresh indicator will stop immediately.\n */\nconst RefreshControl = React.createClass({\n  statics: {\n    SIZE: RefreshLayoutConsts.SIZE,\n  },\n\n  mixins: [NativeMethodsMixin],\n\n  propTypes: {\n    ...View.propTypes,\n    /**\n     * Called when the view starts refreshing.\n     */\n    onRefresh: React.PropTypes.func,\n    /**\n     * Whether the view should be indicating an active refresh.\n     */\n    refreshing: React.PropTypes.bool.isRequired,\n    /**\n     * The color of the refresh indicator.\n     * @platform ios\n     */\n    tintColor: ColorPropType,\n    /**\n     * Title color.\n     * @platform ios\n     */\n    titleColor: ColorPropType,\n    /**\n     * The title displayed under the refresh indicator.\n     * @platform ios\n     */\n    title: React.PropTypes.string,\n    /**\n     * Whether the pull to refresh functionality is enabled.\n     * @platform android\n     */\n    enabled: React.PropTypes.bool,\n    /**\n     * The colors (at least one) that will be used to draw the refresh indicator.\n     * @platform android\n     */\n    colors: React.PropTypes.arrayOf(ColorPropType),\n    /**\n     * The background color of the refresh indicator.\n     * @platform android\n     */\n    progressBackgroundColor: ColorPropType,\n    /**\n     * Size of the refresh indicator, see RefreshControl.SIZE.\n     * @platform android\n     */\n    size: React.PropTypes.oneOf([RefreshLayoutConsts.SIZE.DEFAULT, RefreshLayoutConsts.SIZE.LARGE]),\n    /**\n     * Progress view top offset\n     * @platform android\n     */\n    progressViewOffset: React.PropTypes.number,\n  },\n\n  _nativeRef: (null: any),\n  _lastNativeRefreshing: false,\n\n  componentDidMount() {\n    this._lastNativeRefreshing = this.props.refreshing;\n  },\n\n  componentDidUpdate(prevProps: {refreshing: boolean}) {\n    // RefreshControl is a controlled component so if the native refreshing\n    // value doesn't match the current js refreshing prop update it to\n    // the js value.\n    if (this.props.refreshing !== prevProps.refreshing) {\n      this._lastNativeRefreshing = this.props.refreshing;\n    } else if (this.props.refreshing !== this._lastNativeRefreshing) {\n      this._nativeRef.setNativeProps({refreshing: this.props.refreshing});\n      this._lastNativeRefreshing = this.props.refreshing;\n    }\n  },\n\n  render() {\n    return (\n      <NativeRefreshControl\n        {...this.props}\n        ref={ref => {this._nativeRef = ref;}}\n        onRefresh={this._onRefresh}\n      />\n    );\n  },\n\n  _onRefresh() {\n    this._lastNativeRefreshing = true;\n\n    this.props.onRefresh && this.props.onRefresh();\n\n    // The native component will start refreshing so force an update to\n    // make sure it stays in sync with the js component.\n    this.forceUpdate();\n  },\n});\n\nif (Platform.OS === 'ios') {\n  var NativeRefreshControl = requireNativeComponent(\n    'RCTRefreshControl',\n    RefreshControl\n  );\n} else if (Platform.OS === 'android') {\n  var NativeRefreshControl = requireNativeComponent(\n    'AndroidSwipeRefreshLayout',\n    RefreshControl\n  );\n}\n\nmodule.exports = RefreshControl;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * Facebook, Inc. (\"Facebook\") owns all right, title and interest, including\n * all intellectual property and other proprietary rights, in and to the React\n * Native CustomComponents software (the \"Software\").  Subject to your\n * compliance with these terms, you are hereby granted a non-exclusive,\n * worldwide, royalty-free copyright license to (1) use and copy the Software;\n * and (2) reproduce and distribute the Software as part of your own software\n * (\"Your Software\").  Facebook reserves all rights not expressly granted to\n * you in this license agreement.\n *\n * THE SOFTWARE AND DOCUMENTATION, IF ANY, ARE PROVIDED \"AS IS\" AND ANY EXPRESS\n * OR IMPLIED WARRANTIES (INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES\n * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE) ARE DISCLAIMED.\n * IN NO EVENT SHALL FACEBOOK OR ITS AFFILIATES, OFFICERS, DIRECTORS OR\n * EMPLOYEES BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,\n * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,\n * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;\n * OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,\n * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR\n * OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THE SOFTWARE, EVEN IF\n * ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @providesModule VirtualizedList\n * @flow\n */\n'use strict';\n\nconst Batchinator = require('Batchinator');\nconst React = require('React');\nconst ReactNative = require('ReactNative');\nconst RefreshControl = require('RefreshControl');\nconst ScrollView = require('ScrollView');\nconst View = require('View');\nconst ViewabilityHelper = require('ViewabilityHelper');\n\nconst infoLog = require('infoLog');\nconst invariant = require('fbjs/lib/invariant');\n\nconst {computeWindowedRenderLimits} = require('VirtualizeUtils');\n\nimport type {ViewabilityConfig, ViewToken} from 'ViewabilityHelper';\n\ntype Item = any;\ntype renderItemType = (info: {item: Item, index: number}) => ?React.Element<any>;\n\ntype RequiredProps = {\n  renderItem: renderItemType,\n  /**\n   * The default accessor functions assume this is an Array<{key: string}> but you can override\n   * getItem, getItemCount, and keyExtractor to handle any type of index-based data.\n   */\n  data?: any,\n};\ntype OptionalProps = {\n  /**\n   * `debug` will turn on extra logging and visual overlays to aid with debugging both usage and\n   * implementation, but with a significant perf hit.\n   */\n  debug?: ?boolean,\n  /**\n   * DEPRECATED: Virtualization provides significant performance and memory optimizations, but fully\n   * unmounts react instances that are outside of the render window. You should only need to disable\n   * this for debugging purposes.\n   */\n  disableVirtualization: boolean,\n  /**\n   * A generic accessor for extracting an item from any sort of data blob.\n   */\n  getItem: (data: any, index: number) => ?Item,\n  /**\n   * Determines how many items are in the data blob.\n   */\n  getItemCount: (data: any) => number,\n  getItemLayout?: (data: any, index: number) =>\n    {length: number, offset: number, index: number}, // e.g. height, y\n  horizontal?: ?boolean,\n  /**\n   * How many items to render in the initial batch. This should be enough to fill the screen but not\n   * much more.\n   */\n  initialNumToRender: number,\n  keyExtractor: (item: Item, index: number) => string,\n  /**\n   * The maximum number of items to render in each incremental render batch. The more rendered at\n   * once, the better the fill rate, but responsiveness my suffer because rendering content may\n   * interfere with responding to button taps or other interactions.\n   */\n  maxToRenderPerBatch: number,\n  onEndReached?: ?(info: {distanceFromEnd: number}) => void,\n  onEndReachedThreshold?: ?number, // units of visible length\n  onLayout?: ?Function,\n  /**\n   * If provided, a standard RefreshControl will be added for \"Pull to Refresh\" functionality. Make\n   * sure to also set the `refreshing` prop correctly.\n   */\n  onRefresh?: ?Function,\n  /**\n   * Called when the viewability of rows changes, as defined by the\n   * `viewabilityConfig` prop.\n   */\n  onViewableItemsChanged?: ?(info: {viewableItems: Array<ViewToken>, changed: Array<ViewToken>}) => void,\n  /**\n   * Set this true while waiting for new data from a refresh.\n   */\n  refreshing?: ?boolean,\n  /**\n   * A native optimization that removes clipped subviews (those outside the parent) from the view\n   * hierarchy to offload work from the native rendering system. They are still kept around so no\n   * memory is saved and state is preserved.\n   */\n  removeClippedSubviews?: boolean,\n  /**\n   * Render a custom scroll component, e.g. with a differently styled `RefreshControl`.\n   */\n  renderScrollComponent: (props: Object) => React.Element<any>,\n  shouldItemUpdate: (\n    props: {item: Item, index: number},\n    nextProps: {item: Item, index: number}\n  ) => boolean,\n  /**\n   * Amount of time between low-pri item render batches, e.g. for rendering items quite a ways off\n   * screen. Similar fill rate/responsiveness tradeoff as `maxToRenderPerBatch`.\n   */\n  updateCellsBatchingPeriod: number,\n  viewabilityConfig?: ViewabilityConfig,\n  /**\n   * Determines the maximum number of items rendered outside of the visible area, in units of\n   * visible lengths. So if your list fills the screen, then `windowSize={21}` (the default) will\n   * render the visible screen area plus up to 10 screens above and 10 below the viewport. Reducing\n   * this number will reduce memory consumption and may improve performance, but will increase the\n   * chance that fast scrolling may reveal momentary blank areas of unrendered content.\n   */\n  windowSize: number,\n};\nexport type Props = RequiredProps & OptionalProps;\n\nlet _usedIndexForKey = false;\n\ntype State = {first: number, last: number};\n\n/**\n * Base implementation for the more convenient [`<FlatList>`](/react-native/docs/flatlist.html)\n * and [`<SectionList>`](/react-native/docs/sectionlist.html) components, which are also better\n * documented. In general, this should only really be used if you need more flexibility than\n * `FlatList` provides, e.g. for use with immutable data instead of plain arrays.\n *\n * Virtualization massively improves memory consumption and performance of large lists by\n * maintaining a finite render window of active items and replacing all items outside of the render\n * window with appropriately sized blank space. The window adapts to scrolling behavior, and items\n * are rendered incrementally with low-pri (after any running interactions) if they are far from the\n * visible area, or with hi-pri otherwise to minimize the potential of seeing blank space.\n *\n * Some caveats:\n *\n * - Internal state is not preserved when content scrolls out of the render window. Make sure all\n *   your data is captured in the item data or external stores like Flux, Redux, or Relay.\n * - This is a `PureComponent` which means that it will not re-render if `props` remain shallow-\n *   equal. Make sure that everything your `renderItem` function depends on is passed as a prop that\n *   is not `===` after updates, otherwise your UI may not update on changes. This includes the\n *   `data` prop and parent component state.\n * - In order to constrain memory and enable smooth scrolling, content is rendered asynchronously\n *   offscreen. This means it's possible to scroll faster than the fill rate ands momentarily see\n *   blank content. This is a tradeoff that can be adjusted to suit the needs of each application,\n *   and we are working on improving it behind the scenes.\n * - By default, the list looks for a `key` prop on each item and uses that for the React key.\n *   Alternatively, you can provide a custom `keyExtractor` prop.\n *\n * NOTE: `LayoutAnimation` and sticky section headers both have bugs when used with this and are\n * therefore not officially supported yet.\n *\n * NOTE: `removeClippedSubviews` might not be necessary and may cause bugs. If you see issues with\n * content not rendering, try disabling it, and we may change the default there.\n */\nclass VirtualizedList extends React.PureComponent<OptionalProps, Props, State> {\n  props: Props;\n\n  // scrollToEnd may be janky without getItemLayout prop\n  scrollToEnd(params?: ?{animated?: ?boolean}) {\n    const animated = params ? params.animated : true;\n    const veryLast = this.props.getItemCount(this.props.data) - 1;\n    const frame = this._getFrameMetricsApprox(veryLast);\n    const offset = frame.offset + frame.length + this._footerLength -\n      this._scrollMetrics.visibleLength;\n    this._scrollRef.scrollTo(\n      this.props.horizontal ? {x: offset, animated} : {y: offset, animated}\n    );\n  }\n\n  // scrollToIndex may be janky without getItemLayout prop\n  scrollToIndex(params: {animated?: ?boolean, index: number, viewPosition?: number}) {\n    const {data, horizontal, getItemCount} = this.props;\n    const {animated, index, viewPosition} = params;\n    if (!(index >= 0 && index < getItemCount(data))) {\n      console.warn('scrollToIndex out of range ' + index);\n      return;\n    }\n    const frame = this._getFrameMetricsApprox(index);\n    const offset = Math.max(\n      0,\n      frame.offset - (viewPosition || 0) * (this._scrollMetrics.visibleLength - frame.length),\n    );\n    this._scrollRef.scrollTo(horizontal ? {x: offset, animated} : {y: offset, animated});\n  }\n\n  // scrollToItem may be janky without getItemLayout prop. Required linear scan through items -\n  // use scrollToIndex instead if possible.\n  scrollToItem(params: {animated?: ?boolean, item: Item, viewPosition?: number}) {\n    const {item} = params;\n    const {data, getItem, getItemCount} = this.props;\n    const itemCount = getItemCount(data);\n    for (let index = 0; index < itemCount; index++) {\n      if (getItem(data, index) === item) {\n        this.scrollToIndex({...params, index});\n        break;\n      }\n    }\n  }\n\n  scrollToOffset(params: {animated?: ?boolean, offset: number}) {\n    const {animated, offset} = params;\n    this._scrollRef.scrollTo(\n      this.props.horizontal ? {x: offset, animated} : {y: offset, animated}\n    );\n  }\n\n  recordInteraction() {\n    this._viewabilityHelper.recordInteraction();\n    this._updateViewableItems(this.props.data);\n  }\n\n  getScrollableNode() {\n    if (this._scrollRef && this._scrollRef.getScrollableNode) {\n      return this._scrollRef.getScrollableNode();\n    } else {\n      return ReactNative.findNodeHandle(this._scrollRef);\n    }\n  }\n\n  static defaultProps = {\n    disableVirtualization: false,\n    getItem: (data: any, index: number) => data[index],\n    getItemCount: (data: any) => data ? data.length : 0,\n    horizontal: false,\n    initialNumToRender: 10,\n    keyExtractor: (item: Item, index: number) => {\n      if (item.key != null) {\n        return item.key;\n      }\n      _usedIndexForKey = true;\n      return String(index);\n    },\n    maxToRenderPerBatch: 10,\n    onEndReached: () => {},\n    onEndReachedThreshold: 2, // multiples of length\n    removeClippedSubviews: true,\n    renderScrollComponent: (props: Props) => {\n      if (props.onRefresh) {\n        invariant(\n          typeof props.refreshing === 'boolean',\n          '`refreshing` prop must be set as a boolean in order to use `onRefresh`, but got `' +\n            JSON.stringify(props.refreshing) + '`',\n        );\n        return (\n          <ScrollView\n            {...props}\n            refreshControl={\n              <RefreshControl\n                refreshing={props.refreshing}\n                onRefresh={props.onRefresh}\n              />\n            }\n          />\n        );\n      } else {\n        return <ScrollView {...props} />;\n      }\n    },\n    shouldItemUpdate: (\n      props: {item: Item, index: number},\n      nextProps: {item: Item, index: number},\n    ) => true,\n    updateCellsBatchingPeriod: 50,\n    windowSize: 21, // multiples of length\n  };\n\n  state: State = {\n    first: 0,\n    last: this.props.initialNumToRender,\n  };\n\n  constructor(props: Props) {\n    super(props);\n    invariant(\n      !props.onScroll || !props.onScroll.__isNative,\n      'Components based on VirtualizedList must be wrapped with Animated.createAnimatedComponent ' +\n      'to support native onScroll events with useNativeDriver',\n    );\n\n    this._updateCellsToRenderBatcher = new Batchinator(\n      this._updateCellsToRender,\n      this.props.updateCellsBatchingPeriod,\n    );\n    this._viewabilityHelper = new ViewabilityHelper(this.props.viewabilityConfig);\n    this.state = {\n      first: 0,\n      last: Math.min(this.props.getItemCount(this.props.data), this.props.initialNumToRender) - 1,\n    };\n  }\n\n  componentWillUnmount() {\n    this._updateViewableItems(null);\n    this._updateCellsToRenderBatcher.dispose();\n    this._viewabilityHelper.dispose();\n  }\n\n  componentWillReceiveProps(newProps: Props) {\n    const {data, getItemCount, maxToRenderPerBatch} = newProps;\n    // first and last could be stale (e.g. if a new, shorter items props is passed in), so we make\n    // sure we're rendering a reasonable range here.\n    this.setState({\n      first: Math.max(0, Math.min(this.state.first, getItemCount(data) - 1 - maxToRenderPerBatch)),\n      last: Math.max(0, Math.min(this.state.last, getItemCount(data) - 1)),\n    });\n    this._updateCellsToRenderBatcher.schedule();\n  }\n\n  _pushCells(cells, first, last) {\n    const {ItemSeparatorComponent, data, getItem, getItemCount, keyExtractor} = this.props;\n    const end = getItemCount(data) - 1;\n    last = Math.min(end, last);\n    for (let ii = first; ii <= last; ii++) {\n      const item = getItem(data, ii);\n      invariant(item, 'No item for index ' + ii);\n      const key = keyExtractor(item, ii);\n      cells.push(\n        <CellRenderer\n          cellKey={key}\n          index={ii}\n          item={item}\n          key={key}\n          onLayout={this._onCellLayout}\n          onUnmount={this._onCellUnmount}\n          parentProps={this.props}\n        />\n      );\n      if (ItemSeparatorComponent && ii < end) {\n        cells.push(<ItemSeparatorComponent key={'sep' + ii}/>);\n      }\n    }\n  }\n  render() {\n    const {ListFooterComponent, ListHeaderComponent} = this.props;\n    const {data, disableVirtualization, horizontal} = this.props;\n    const cells = [];\n    if (ListHeaderComponent) {\n      cells.push(\n        <View key=\"$header\" onLayout={this._onLayoutHeader}>\n          <ListHeaderComponent />\n        </View>\n      );\n    }\n    const itemCount = this.props.getItemCount(data);\n    if (itemCount > 0) {\n      _usedIndexForKey = false;\n      const lastInitialIndex = this.props.initialNumToRender - 1;\n      const {first, last} = this.state;\n      this._pushCells(cells, 0, lastInitialIndex);\n      if (!disableVirtualization && first > lastInitialIndex) {\n        const initBlock = this._getFrameMetricsApprox(lastInitialIndex);\n        const firstSpace = this._getFrameMetricsApprox(first).offset -\n          (initBlock.offset + initBlock.length);\n        cells.push(\n          <View key=\"$lead_spacer\" style={{[!horizontal ? 'height' : 'width']: firstSpace}} />\n        );\n      }\n      this._pushCells(cells, Math.max(lastInitialIndex + 1, first), last);\n      if (!this._hasWarned.keys && _usedIndexForKey) {\n        console.warn(\n          'VirtualizedList: missing keys for items, make sure to specify a key property on each ' +\n          'item or provide a custom keyExtractor.'\n        );\n        this._hasWarned.keys = true;\n      }\n      if (!disableVirtualization && last < itemCount - 1) {\n        const lastFrame = this._getFrameMetricsApprox(last);\n        const end = this.props.getItemLayout ?\n          itemCount - 1 :\n          Math.min(itemCount - 1, this._highestMeasuredFrameIndex);\n        const endFrame = this._getFrameMetricsApprox(end);\n        const tailSpacerLength =\n          (endFrame.offset + endFrame.length) -\n          (lastFrame.offset + lastFrame.length);\n        cells.push(\n          <View key=\"$tail_spacer\" style={{[!horizontal ? 'height' : 'width']: tailSpacerLength}} />\n        );\n      }\n    }\n    if (ListFooterComponent) {\n      cells.push(\n        <View key=\"$footer\" onLayout={this._onLayoutFooter}>\n          <ListFooterComponent />\n        </View>\n      );\n    }\n    const ret = React.cloneElement(\n      this.props.renderScrollComponent(this.props),\n      {\n        onContentSizeChange: this._onContentSizeChange,\n        onLayout: this._onLayout,\n        onScroll: this._onScroll,\n        onScrollBeginDrag: this._onScrollBeginDrag,\n        ref: this._captureScrollRef,\n        scrollEventThrottle: 50, // TODO: Android support\n      },\n      cells,\n    );\n    if (this.props.debug) {\n      return <View style={{flex: 1}}>{ret}{this._renderDebugOverlay()}</View>;\n    } else {\n      return ret;\n    }\n  }\n\n  componentDidUpdate() {\n    this._updateCellsToRenderBatcher.schedule();\n  }\n\n  _averageCellLength = 0;\n  _hasWarned = {};\n  _highestMeasuredFrameIndex = 0;\n  _headerLength = 0;\n  _frames = {};\n  _footerLength = 0;\n  _scrollMetrics = {\n    visibleLength: 0, contentLength: 0, offset: 0, dt: 10, velocity: 0, timestamp: 0,\n  };\n  _scrollRef = (null: any);\n  _sentEndForContentLength = 0;\n  _totalCellLength = 0;\n  _totalCellsMeasured = 0;\n  _updateCellsToRenderBatcher: Batchinator;\n  _viewabilityHelper: ViewabilityHelper;\n\n  _captureScrollRef = (ref) => {\n    this._scrollRef = ref;\n  };\n\n  _onCellLayout = (e, cellKey, index) => {\n    const layout = e.nativeEvent.layout;\n    const next = {\n      offset: this._selectOffset(layout),\n      length: this._selectLength(layout),\n      index,\n      inLayout: true,\n    };\n    const curr = this._frames[cellKey];\n    if (!curr ||\n      next.offset !== curr.offset ||\n      next.length !== curr.length ||\n      index !== curr.index\n    ) {\n      this._totalCellLength += next.length - (curr ? curr.length : 0);\n      this._totalCellsMeasured += (curr ? 0 : 1);\n      this._averageCellLength = this._totalCellLength / this._totalCellsMeasured;\n      this._frames[cellKey] = next;\n      this._highestMeasuredFrameIndex = Math.max(this._highestMeasuredFrameIndex, index);\n      this._updateCellsToRenderBatcher.schedule();\n    }\n  };\n\n  _onCellUnmount = (cellKey: string) => {\n    const curr = this._frames[cellKey];\n    if (curr) {\n      this._frames[cellKey] = {...curr, inLayout: false};\n    }\n  };\n\n  _onLayout = (e: Object) => {\n    this._scrollMetrics.visibleLength = this._selectLength(e.nativeEvent.layout);\n    this.props.onLayout && this.props.onLayout(e);\n    this._updateCellsToRenderBatcher.schedule();\n  };\n\n  _onLayoutFooter = (e) => {\n    this._footerLength = this._selectLength(e.nativeEvent.layout);\n  };\n\n  _onLayoutHeader = (e) => {\n    this._headerLength = this._selectLength(e.nativeEvent.layout);\n  };\n\n  _renderDebugOverlay() {\n    const normalize = this._scrollMetrics.visibleLength / this._scrollMetrics.contentLength;\n    const framesInLayout = [];\n    const itemCount = this.props.getItemCount(this.props.data);\n    for (let ii = 0; ii < itemCount; ii++) {\n      const frame = this._getFrameMetricsApprox(ii);\n      if (frame.inLayout) {\n        framesInLayout.push(frame);\n      }\n    }\n    const windowTop = this._getFrameMetricsApprox(this.state.first).offset;\n    const frameLast = this._getFrameMetricsApprox(this.state.last);\n    const windowLen = frameLast.offset + frameLast.length - windowTop;\n    const visTop = this._scrollMetrics.offset;\n    const visLen = this._scrollMetrics.visibleLength;\n    const baseStyle = {position: 'absolute', top: 0, right: 0};\n    return (\n      <View style={{...baseStyle, bottom: 0, width: 20, borderColor: 'blue', borderWidth: 1}}>\n        {framesInLayout.map((f, ii) =>\n          <View key={'f' + ii} style={{\n            ...baseStyle,\n            left: 0,\n            top: f.offset * normalize,\n            height: f.length * normalize,\n            backgroundColor: 'orange',\n          }} />\n        )}\n        <View style={{\n          ...baseStyle,\n          left: 0,\n          top: windowTop * normalize,\n          height: windowLen * normalize,\n          borderColor: 'green',\n          borderWidth: 2,\n        }} />\n        <View style={{\n          ...baseStyle,\n          left: 0,\n          top: visTop * normalize,\n          height: visLen * normalize,\n          borderColor: 'red',\n          borderWidth: 2,\n        }} />\n      </View>\n    );\n  }\n\n  _selectLength(metrics: {height: number, width: number}): number {\n    return !this.props.horizontal ? metrics.height : metrics.width;\n  }\n\n  _selectOffset(metrics: {x: number, y: number}): number {\n    return !this.props.horizontal ? metrics.y : metrics.x;\n  }\n\n  _onContentSizeChange = (width: number, height: number) => {\n    this._scrollMetrics.contentLength = this._selectLength({height, width});\n    this._updateCellsToRenderBatcher.schedule();\n  };\n\n  _onScroll = (e: Object) => {\n    if (this.props.onScroll) {\n      this.props.onScroll(e);\n    }\n    const timestamp = e.timeStamp;\n    const visibleLength = this._selectLength(e.nativeEvent.layoutMeasurement);\n    const contentLength = this._selectLength(e.nativeEvent.contentSize);\n    const offset = this._selectOffset(e.nativeEvent.contentOffset);\n    const dt = Math.max(1, timestamp - this._scrollMetrics.timestamp);\n    if (dt > 500 && this._scrollMetrics.dt > 500 && (contentLength > (5 * visibleLength)) &&\n        !this._hasWarned.perf) {\n      infoLog(\n        'VirtualizedList: You have a large list that is slow to update - make sure ' +\n        'shouldItemUpdate is implemented effectively and consider getItemLayout, PureComponent, ' +\n        'etc.',\n        {dt, prevDt: this._scrollMetrics.dt, contentLength},\n      );\n      this._hasWarned.perf = true;\n    }\n    const dOffset = offset - this._scrollMetrics.offset;\n    const velocity = dOffset / dt;\n    this._scrollMetrics = {contentLength, dt, offset, timestamp, velocity, visibleLength};\n    const {data, getItemCount, onEndReached, onEndReachedThreshold, windowSize} = this.props;\n    this._updateViewableItems(data);\n    if (!data) {\n      return;\n    }\n    const distanceFromEnd = contentLength - visibleLength - offset;\n    const itemCount = getItemCount(data);\n    if (distanceFromEnd < onEndReachedThreshold * visibleLength &&\n        this._scrollMetrics.contentLength !== this._sentEndForContentLength &&\n        this.state.last === itemCount - 1) {\n      // Only call onEndReached for a given content length once.\n      this._sentEndForContentLength = this._scrollMetrics.contentLength;\n      onEndReached({distanceFromEnd});\n    }\n    const {first, last} = this.state;\n    if ((first > 0 && velocity < 0) || (last < itemCount - 1 && velocity > 0)) {\n      const distanceToContentEdge = Math.min(\n        Math.abs(this._getFrameMetricsApprox(first).offset - offset),\n        Math.abs(this._getFrameMetricsApprox(last).offset - (offset + visibleLength)),\n      );\n      const hiPri = distanceToContentEdge < (windowSize * visibleLength / 4);\n      if (hiPri) {\n        // Don't worry about interactions when scrolling quickly; focus on filling content as fast\n        // as possible.\n        this._updateCellsToRenderBatcher.dispose({abort: true});\n        this._updateCellsToRender();\n        return;\n      }\n    }\n    this._updateCellsToRenderBatcher.schedule();\n  };\n\n  _onScrollBeginDrag = (e): void => {\n    this._viewabilityHelper.recordInteraction();\n    this.props.onScrollBeginDrag && this.props.onScrollBeginDrag(e);\n  };\n  _updateCellsToRender = () => {\n    const {data, disableVirtualization, getItemCount, onEndReachedThreshold} = this.props;\n    this._updateViewableItems(data);\n    if (!data) {\n      return;\n    }\n    this.setState((state) => {\n      let newState;\n      if (!disableVirtualization) {\n        newState = computeWindowedRenderLimits(\n          this.props, state, this._getFrameMetricsApprox, this._scrollMetrics,\n        );\n      } else {\n        const {contentLength, offset, visibleLength} = this._scrollMetrics;\n        const distanceFromEnd = contentLength - visibleLength - offset;\n        const renderAhead = distanceFromEnd < onEndReachedThreshold * visibleLength ?\n          this.props.maxToRenderPerBatch : 0;\n        newState = {\n          first: 0,\n          last: Math.min(state.last + renderAhead, getItemCount(data) - 1),\n        };\n      }\n      return newState;\n    });\n  };\n\n  _createViewToken = (index: number, isViewable: boolean) => {\n    const {data, getItem, keyExtractor} = this.props;\n    const item = getItem(data, index);\n    invariant(item, 'Missing item for index ' + index);\n    return {index, item, key: keyExtractor(item, index), isViewable};\n  };\n\n  _getFrameMetricsApprox = (index: number): {length: number, offset: number} => {\n    const frame = this._getFrameMetrics(index);\n    if (frame && frame.index === index) { // check for invalid frames due to row re-ordering\n      return frame;\n    } else {\n      const {getItemLayout} = this.props;\n      invariant(\n        !getItemLayout,\n        'Should not have to estimate frames when a measurement metrics function is provided'\n      );\n      return {\n        length: this._averageCellLength,\n        offset: this._averageCellLength * index,\n      };\n    }\n  };\n\n  _getFrameMetrics = (index: number): ?{length: number, offset: number, index: number} => {\n    const {data, getItem, getItemCount, getItemLayout, keyExtractor} = this.props;\n    invariant(getItemCount(data) > index, 'Tried to get frame for out of range index ' + index);\n    const item = getItem(data, index);\n    let frame = item && this._frames[keyExtractor(item, index)];\n    if (!frame || frame.index !== index) {\n      if (getItemLayout) {\n        frame = getItemLayout(data, index);\n      }\n    }\n    return frame;\n  };\n\n  _updateViewableItems(data: any) {\n    const {getItemCount, onViewableItemsChanged} = this.props;\n    if (!onViewableItemsChanged) {\n      return;\n    }\n    this._viewabilityHelper.onUpdate(\n      getItemCount(data),\n      this._scrollMetrics.offset,\n      this._scrollMetrics.visibleLength,\n      this._getFrameMetrics,\n      this._createViewToken,\n      onViewableItemsChanged,\n      this.state,\n    );\n  }\n}\n\nclass CellRenderer extends React.Component {\n  props: {\n    cellKey: string,\n    index: number,\n    item: Item,\n    onLayout: (event: Object, cellKey: string, index: number) => void,\n    onUnmount: (cellKey: string) => void,\n    parentProps: {\n      renderItem: renderItemType,\n      getItemLayout?: ?Function,\n      shouldItemUpdate: (\n        props: {item: Item, index: number},\n        nextProps: {item: Item, index: number}\n      ) => boolean,\n    },\n  };\n  _onLayout = (e) => {\n    this.props.onLayout(e, this.props.cellKey, this.props.index);\n  }\n  componentWillUnmount() {\n    this.props.onUnmount(this.props.cellKey);\n  }\n  shouldComponentUpdate(nextProps, nextState) {\n    const curr = {item: this.props.item, index: this.props.index};\n    const next = {item: nextProps.item, index: nextProps.index};\n    return nextProps.parentProps.shouldItemUpdate(curr, next);\n  }\n  render() {\n    const {item, index, parentProps} = this.props;\n    const {renderItem, getItemLayout} = parentProps;\n    invariant(renderItem, 'no renderItem!');\n    const element = renderItem({item, index});\n    if (getItemLayout && !parentProps.debug) {\n      return element;\n    }\n    return (\n      <View onLayout={this._onLayout}>\n        {element}\n      </View>\n    );\n  }\n}\n\nmodule.exports = VirtualizedList;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule Batchinator\n * @flow\n */\n'use strict';\n\nconst InteractionManager = require('InteractionManager');\n\n/**\n * A simple class for batching up invocations of a low-pri callback. A timeout is set to run the\n * callback once after a delay, no matter how many times it's scheduled. Once the delay is reached,\n * InteractionManager.runAfterInteractions is used to invoke the callback after any hi-pri\n * interactions are done running.\n *\n * Make sure to cleanup with dispose().  Example:\n *\n *   class Widget extends React.Component {\n *     _batchedSave: new Batchinator(() => this._saveState, 1000);\n *     _saveSate() {\n *       // save this.state to disk\n *     }\n *     componentDidUpdate() {\n *       this._batchedSave.schedule();\n *     }\n *     componentWillUnmount() {\n *       this._batchedSave.dispose();\n *     }\n *     ...\n *   }\n */\nclass Batchinator {\n  _callback: () => void;\n  _delay: number;\n  _taskHandle: ?{cancel: () => void};\n  constructor(callback: () => void, delayMS: number) {\n    this._delay = delayMS;\n    this._callback = callback;\n  }\n  /*\n   * Cleanup any pending tasks.\n   *\n   * By default, if there is a pending task the callback is run immediately. Set the option abort to\n   * true to not call the callback if it was pending.\n   */\n  dispose(options: {abort: boolean} = {abort: false}) {\n    if (this._taskHandle) {\n      this._taskHandle.cancel();\n      if (!options.abort) {\n        this._callback();\n      }\n      this._taskHandle = null;\n    }\n  }\n  schedule() {\n    if (this._taskHandle) {\n      return;\n    }\n    const timeoutHandle = setTimeout(() => {\n      this._taskHandle = InteractionManager.runAfterInteractions(() => {\n        // Note that we clear the handle before invoking the callback so that if the callback calls\n        // schedule again, it will actually schedule another task.\n        this._taskHandle = null;\n        this._callback();\n      });\n    }, this._delay);\n    this._taskHandle = {cancel: () => clearTimeout(timeoutHandle)};\n  }\n}\n\nmodule.exports = Batchinator;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule ViewabilityHelper\n * @flow\n */\n'use strict';\n\nconst invariant = require('fbjs/lib/invariant');\n\nexport type ViewToken = {item: any, key: string, index: ?number, isViewable: boolean, section?: any};\n\nexport type ViewabilityConfig = {|\n  /**\n   * Minimum amount of time (in milliseconds) that an item must be physically viewable before the\n   * viewability callback will be fired. A high number means that scrolling through content without\n   * stopping will not mark the content as viewable.\n   */\n  minimumViewTime?: number,\n\n  /**\n   * Percent of viewport that must be covered for a partially occluded item to count as\n   * \"viewable\", 0-100. Fully visible items are always considered viewable. A value of 0 means\n   * that a single pixel in the viewport makes the item viewable, and a value of 100 means that\n   * an item must be either entirely visible or cover the entire viewport to count as viewable.\n   */\n  viewAreaCoveragePercentThreshold?: number,\n\n  /**\n   * Similar to `viewAreaPercentThreshold`, but considers the percent of the item that is visible,\n   * rather than the fraction of the viewable area it covers.\n   */\n  itemVisiblePercentThreshold?: number,\n\n  /**\n   * Nothing is considered viewable until the user scrolls or `recordInteraction` is called after\n   * render.\n   */\n  waitForInteraction?: boolean,\n|};\n\n/**\n* A Utility class for calculating viewable items based on current metrics like scroll position and\n* layout.\n*\n* An item is said to be in a \"viewable\" state when any of the following\n* is true for longer than `minimumViewTime` milliseconds (after an interaction if `waitForInteraction`\n* is true):\n*\n* - Occupying >= `viewAreaCoveragePercentThreshold` of the view area XOR fraction of the item\n*   visible in the view area >= `itemVisiblePercentThreshold`.\n* - Entirely visible on screen\n*/\nclass ViewabilityHelper {\n  _config: ViewabilityConfig;\n  _hasInteracted: boolean = false;\n  _lastUpdateTime: number = 0;\n  _timers: Set<number> = new Set();\n  _viewableIndices: Array<number> = [];\n  _viewableItems: Map<string, ViewToken> = new Map();\n\n  constructor(config: ViewabilityConfig = {viewAreaCoveragePercentThreshold: 0}) {\n    this._config = config;\n  }\n\n  /**\n   * Cleanup, e.g. on unmount. Clears any pending timers.\n   */\n  dispose() {\n    this._timers.forEach(clearTimeout);\n  }\n\n  /**\n   * Determines which items are viewable based on the current metrics and config.\n   */\n  computeViewableItems(\n    itemCount: number,\n    scrollOffset: number,\n    viewportHeight: number,\n    getFrameMetrics: (index: number) => ?{length: number, offset: number},\n    renderRange?: {first: number, last: number}, // Optional optimization to reduce the scan size\n  ): Array<number> {\n    const {itemVisiblePercentThreshold, viewAreaCoveragePercentThreshold} = this._config;\n    const viewAreaMode = viewAreaCoveragePercentThreshold != null;\n    const viewablePercentThreshold = viewAreaMode ?\n      viewAreaCoveragePercentThreshold :\n      itemVisiblePercentThreshold;\n    invariant(\n      viewablePercentThreshold != null &&\n      (itemVisiblePercentThreshold != null) !== (viewAreaCoveragePercentThreshold != null),\n      'Must set exactly one of itemVisiblePercentThreshold or viewAreaCoveragePercentThreshold',\n    );\n    const viewableIndices = [];\n    if (itemCount === 0) {\n      return viewableIndices;\n    }\n    let firstVisible = -1;\n    const {first, last} = renderRange || {first: 0, last: itemCount - 1};\n    invariant(\n      last < itemCount,\n      'Invalid render range ' + JSON.stringify({renderRange, itemCount})\n    );\n    for (let idx = first; idx <= last; idx++) {\n      const metrics = getFrameMetrics(idx);\n      if (!metrics) {\n        continue;\n      }\n      const top = metrics.offset - scrollOffset;\n      const bottom = top + metrics.length;\n      if ((top < viewportHeight) && (bottom > 0)) {\n        firstVisible = idx;\n        if (_isViewable(\n          viewAreaMode,\n          viewablePercentThreshold,\n          top,\n          bottom,\n          viewportHeight,\n          metrics.length,\n        )) {\n          viewableIndices.push(idx);\n        }\n      } else if (firstVisible >= 0) {\n        break;\n      }\n    }\n    return viewableIndices;\n  }\n\n  /**\n   * Figures out which items are viewable and how that has changed from before and calls\n   * `onViewableItemsChanged` as appropriate.\n   */\n  onUpdate(\n    itemCount: number,\n    scrollOffset: number,\n    viewportHeight: number,\n    getFrameMetrics: (index: number) => ?{length: number, offset: number},\n    createViewToken: (index: number, isViewable: boolean) => ViewToken,\n    onViewableItemsChanged: ({viewableItems: Array<ViewToken>, changed: Array<ViewToken>}) => void,\n    renderRange?: {first: number, last: number}, // Optional optimization to reduce the scan size\n  ): void {\n    const updateTime = Date.now();\n    if (this._lastUpdateTime === 0 && itemCount > 0 && getFrameMetrics(0)) {\n      // Only count updates after the first item is rendered and has a frame.\n      this._lastUpdateTime = updateTime;\n    }\n    const updateElapsed = this._lastUpdateTime ? updateTime - this._lastUpdateTime : 0;\n    if (this._config.waitForInteraction && !this._hasInteracted) {\n      return;\n    }\n    let viewableIndices = [];\n    if (itemCount) {\n      viewableIndices = this.computeViewableItems(\n        itemCount,\n        scrollOffset,\n        viewportHeight,\n        getFrameMetrics,\n        renderRange,\n      );\n    }\n    if (this._viewableIndices.length === viewableIndices.length &&\n        this._viewableIndices.every((v, ii) => v === viewableIndices[ii])) {\n      // We might get a lot of scroll events where visibility doesn't change and we don't want to do\n      // extra work in those cases.\n      return;\n    }\n    this._viewableIndices = viewableIndices;\n    this._lastUpdateTime = updateTime;\n    if (this._config.minimumViewTime && updateElapsed < this._config.minimumViewTime) {\n      const handle = setTimeout(\n        () => {\n          this._timers.delete(handle);\n          this._onUpdateSync(viewableIndices, onViewableItemsChanged, createViewToken);\n        },\n        this._config.minimumViewTime,\n      );\n      this._timers.add(handle);\n    } else {\n      this._onUpdateSync(viewableIndices, onViewableItemsChanged, createViewToken);\n    }\n  }\n\n  /**\n   * Records that an interaction has happened even if there has been no scroll.\n   */\n  recordInteraction() {\n    this._hasInteracted = true;\n  }\n\n  _onUpdateSync(viewableIndicesToCheck, onViewableItemsChanged, createViewToken) {\n    // Filter out indices that have gone out of view since this call was scheduled.\n    viewableIndicesToCheck = viewableIndicesToCheck.filter(\n      (ii) => this._viewableIndices.includes(ii)\n    );\n    const prevItems = this._viewableItems;\n    const nextItems = new Map(\n      viewableIndicesToCheck.map(ii => {\n        const viewable = createViewToken(ii, true);\n        return [viewable.key, viewable];\n      })\n    );\n\n    const changed = [];\n    for (const [key, viewable] of nextItems) {\n      if (!prevItems.has(key)) {\n        changed.push(viewable);\n      }\n    }\n    for (const [key, viewable] of prevItems) {\n      if (!nextItems.has(key)) {\n        changed.push({...viewable, isViewable: false});\n      }\n    }\n    if (changed.length > 0) {\n      this._viewableItems = nextItems;\n      onViewableItemsChanged({viewableItems: Array.from(nextItems.values()), changed});\n    }\n  }\n}\n\n\nfunction _isViewable(\n  viewAreaMode: boolean,\n  viewablePercentThreshold: number,\n  top: number,\n  bottom: number,\n  viewportHeight: number,\n  itemLength: number,\n): bool {\n  if (_isEntirelyVisible(top, bottom, viewportHeight)) {\n    return true;\n  } else {\n    const pixels = _getPixelsVisible(top, bottom, viewportHeight);\n    const percent = 100 * (viewAreaMode ? pixels / viewportHeight : pixels / itemLength);\n    return percent >= viewablePercentThreshold;\n  }\n}\n\nfunction _getPixelsVisible(\n  top: number,\n  bottom: number,\n  viewportHeight: number\n): number {\n  const visibleHeight = Math.min(bottom, viewportHeight) - Math.max(top, 0);\n  return Math.max(0, visibleHeight);\n}\n\nfunction _isEntirelyVisible(\n  top: number,\n  bottom: number,\n  viewportHeight: number\n): bool {\n  return top >= 0 && bottom <= viewportHeight && bottom > top;\n}\n\nmodule.exports = ViewabilityHelper;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule VirtualizeUtils\n * @flow\n */\n'use strict';\n\nconst invariant = require('fbjs/lib/invariant');\n\n/**\n * Used to find the indices of the frames that overlap the given offsets. Useful for finding the\n * items that bound different windows of content, such as the visible area or the buffered overscan\n * area.\n */\nfunction elementsThatOverlapOffsets(\n  offsets: Array<number>,\n  itemCount: number,\n  getFrameMetrics: (index: number) => {length: number, offset: number},\n): Array<number> {\n  const out = [];\n  for (let ii = 0; ii < itemCount; ii++) {\n    const frame = getFrameMetrics(ii);\n    const trailingOffset = frame.offset + frame.length;\n    for (let kk = 0; kk < offsets.length; kk++) {\n      if (out[kk] == null && trailingOffset >= offsets[kk]) {\n        out[kk] = ii;\n        if (kk === offsets.length - 1) {\n          invariant(\n            out.length === offsets.length,\n            'bad offsets input, should be in increasing order ' + JSON.stringify(offsets)\n          );\n          return out;\n        }\n      }\n    }\n  }\n  return out;\n}\n\n/**\n * Computes the number of elements in the `next` range that are new compared to the `prev` range.\n * Handy for calculating how many new items will be rendered when the render window changes so we\n * can restrict the number of new items render at once so that content can appear on the screen\n * faster.\n */\nfunction newRangeCount(\n  prev: {first: number, last: number},\n  next: {first: number, last: number},\n): number {\n  return (next.last - next.first + 1) -\n    Math.max(\n      0,\n      1 + Math.min(next.last, prev.last) - Math.max(next.first, prev.first)\n    );\n}\n\n/**\n * Custom logic for determining which items should be rendered given the current frame and scroll\n * metrics, as well as the previous render state. The algorithm may evolve over time, but generally\n * prioritizes the visible area first, then expands that with overscan regions ahead and behind,\n * biased in the direction of scroll.\n */\nfunction computeWindowedRenderLimits(\n  props: {\n    data: any,\n    getItemCount: (data: any) => number,\n    maxToRenderPerBatch: number,\n    windowSize: number,\n  },\n  prev: {first: number, last: number},\n  getFrameMetricsApprox: (index: number) => {length: number, offset: number},\n  scrollMetrics: {dt: number, offset: number, velocity: number, visibleLength: number},\n): {first: number, last: number} {\n  const {data, getItemCount, maxToRenderPerBatch, windowSize} = props;\n  const itemCount = getItemCount(data);\n  if (itemCount === 0) {\n    return prev;\n  }\n  const {offset, velocity, visibleLength} = scrollMetrics;\n\n  // Start with visible area, then compute maximum overscan region by expanding from there, biased\n  // in the direction of scroll. Total overscan area is capped, which should cap memory consumption\n  // too.\n  const visibleBegin = Math.max(0, offset);\n  const visibleEnd = visibleBegin + visibleLength;\n  const overscanLength = (windowSize - 1) * visibleLength;\n  const leadFactor = Math.max(0, Math.min(1, velocity / 5 + 0.5));\n  const overscanBegin = Math.max(0, visibleBegin - (1 - leadFactor) * overscanLength);\n  const overscanEnd = Math.max(0, visibleEnd + leadFactor * overscanLength);\n\n  // Find the indices that correspond to the items at the render boundaries we're targetting.\n  let [overscanFirst, first, last, overscanLast] = elementsThatOverlapOffsets(\n    [overscanBegin, visibleBegin, visibleEnd, overscanEnd],\n    props.getItemCount(props.data),\n    getFrameMetricsApprox,\n  );\n  overscanFirst = overscanFirst == null ? 0 : overscanFirst;\n  first = first == null ? Math.max(0, overscanFirst) : first;\n  overscanLast = overscanLast == null ? (itemCount - 1) : overscanLast;\n  last = last == null ? Math.min(overscanLast, first + maxToRenderPerBatch - 1) : last;\n  const visible = {first, last};\n\n  // We want to limit the number of new cells we're rendering per batch so that we can fill the\n  // content on the screen quickly. If we rendered the entire overscan window at once, the user\n  // could be staring at white space for a long time waiting for a bunch of offscreen content to\n  // render.\n  let newCellCount = newRangeCount(prev, visible);\n\n  while (true) {\n    if (first <= overscanFirst && last >= overscanLast) {\n      // If we fill the entire overscan range, we're done.\n      break;\n    }\n    const maxNewCells = newCellCount >= maxToRenderPerBatch;\n    const firstWillAddMore = first <= prev.first || first > prev.last;\n    const firstShouldIncrement = first > overscanFirst && (!maxNewCells || !firstWillAddMore);\n    const lastWillAddMore = last >= prev.last || last < prev.first;\n    const lastShouldIncrement = last < overscanLast && (!maxNewCells || !lastWillAddMore);\n    if (maxNewCells && !firstShouldIncrement && !lastShouldIncrement) {\n      // We only want to stop if we've hit maxNewCells AND we cannot increment first or last\n      // without rendering new items. This let's us preserve as many already rendered items as\n      // possible, reducing render churn and keeping the rendered overscan range as large as\n      // possible.\n      break;\n    }\n    if (firstShouldIncrement) {\n      if (firstWillAddMore) {\n        newCellCount++;\n      }\n      first--;\n    }\n    if (lastShouldIncrement) {\n      if (lastWillAddMore) {\n        newCellCount++;\n      }\n      last++;\n    }\n  }\n  if (!(\n    last >= first &&\n    first >= 0 && last < itemCount &&\n    first >= overscanFirst && last <= overscanLast &&\n    first <= visible.first && last >= visible.last\n  )) {\n    throw new Error('Bad window calculation ' +\n      JSON.stringify({first, last, itemCount, overscanFirst, overscanLast, visible}));\n  }\n  return {first, last};\n}\n\nconst VirtualizeUtils = {\n  computeWindowedRenderLimits,\n  elementsThatOverlapOffsets,\n  newRangeCount,\n};\n\nmodule.exports = VirtualizeUtils;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule ImageEditor\n * @flow\n */\n'use strict';\n\nconst RCTImageEditingManager = require('NativeModules').ImageEditingManager;\n\ntype ImageCropData = {\n  /**\n   * The top-left corner of the cropped image, specified in the original\n   * image's coordinate space.\n   */\n  offset: {\n    x: number,\n    y: number,\n  },\n  /**\n   * The size (dimensions) of the cropped image, specified in the original\n   * image's coordinate space.\n   */\n  size: {\n    width: number,\n    height: number,\n  },\n  /**\n   * (Optional) size to scale the cropped image to.\n   */\n  displaySize?: ?{\n    width: number,\n    height: number,\n  },\n  /**\n   * (Optional) the resizing mode to use when scaling the image. If the\n   * `displaySize` param is not specified, this has no effect.\n   */\n  resizeMode?: ?$Enum<{\n    contain: string,\n    cover: string,\n    stretch: string,\n  }>,\n};\n\nclass ImageEditor {\n  /**\n   * Crop the image specified by the URI param. If URI points to a remote\n   * image, it will be downloaded automatically. If the image cannot be\n   * loaded/downloaded, the failure callback will be called.\n   *\n   * If the cropping process is successful, the resultant cropped image\n   * will be stored in the ImageStore, and the URI returned in the success\n   * callback will point to the image in the store. Remember to delete the\n   * cropped image from the ImageStore when you are done with it.\n   */\n  static cropImage(\n    uri: string,\n    cropData: ImageCropData,\n    success: (uri: string) => void,\n    failure: (error: Object) => void\n  ) {\n    RCTImageEditingManager.cropImage(uri, cropData, success, failure);\n  }\n}\n\nmodule.exports = ImageEditor;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule ImageStore\n * @flow\n */\n'use strict';\n\nconst RCTImageStoreManager = require('NativeModules').ImageStoreManager;\n\nclass ImageStore {\n  /**\n   * Check if the ImageStore contains image data for the specified URI.\n   * @platform ios\n   */\n  static hasImageForTag(uri: string, callback: (hasImage: bool) => void) {\n    if (RCTImageStoreManager.hasImageForTag) {\n      RCTImageStoreManager.hasImageForTag(uri, callback);\n    } else {\n      console.warn('hasImageForTag() not implemented');\n    }\n  }\n\n  /**\n   * Delete an image from the ImageStore. Images are stored in memory and\n   * must be manually removed when you are finished with them, otherwise they\n   * will continue to use up RAM until the app is terminated. It is safe to\n   * call `removeImageForTag()` without first calling `hasImageForTag()`, it\n   * will simply fail silently.\n   * @platform ios\n   */\n  static removeImageForTag(uri: string) {\n    if (RCTImageStoreManager.removeImageForTag) {\n      RCTImageStoreManager.removeImageForTag(uri);\n    } else {\n      console.warn('removeImageForTag() not implemented');\n    }\n  }\n\n  /**\n   * Stores a base64-encoded image in the ImageStore, and returns a URI that\n   * can be used to access or display the image later. Images are stored in\n   * memory only, and must be manually deleted when you are finished with\n   * them by calling `removeImageForTag()`.\n   *\n   * Note that it is very inefficient to transfer large quantities of binary\n   * data between JS and native code, so you should avoid calling this more\n   * than necessary.\n   * @platform ios\n   */\n  static addImageFromBase64(\n    base64ImageData: string,\n    success: (uri: string) => void,\n    failure: (error: any) => void\n  ) {\n    RCTImageStoreManager.addImageFromBase64(base64ImageData, success, failure);\n  }\n\n  /**\n   * Retrieves the base64-encoded data for an image in the ImageStore. If the\n   * specified URI does not match an image in the store, the failure callback\n   * will be called.\n   *\n   * Note that it is very inefficient to transfer large quantities of binary\n   * data between JS and native code, so you should avoid calling this more\n   * than necessary. To display an image in the ImageStore, you can just pass\n   * the URI to an `<Image/>` component; there is no need to retrieve the\n   * base64 data.\n   */\n  static getBase64ForTag(\n    uri: string,\n    success: (base64ImageData: string) => void,\n    failure: (error: any) => void\n  ) {\n    RCTImageStoreManager.getBase64ForTag(uri, success, failure);\n  }\n}\n\nmodule.exports = ImageStore;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule KeyboardAvoidingView\n * @flow\n */\n'use strict';\n\nconst Keyboard = require('Keyboard');\nconst LayoutAnimation = require('LayoutAnimation');\nconst Platform = require('Platform');\nconst React = require('React');\nconst TimerMixin = require('react-timer-mixin');\nconst View = require('View');\n\nconst PropTypes = React.PropTypes;\n\nimport type EmitterSubscription from 'EmitterSubscription';\n\ntype Rect = {\n  x: number,\n  y: number,\n  width: number,\n  height: number,\n};\ntype ScreenRect = {\n  screenX: number,\n  screenY: number,\n  width: number,\n  height: number,\n};\ntype KeyboardChangeEvent = {\n  startCoordinates?: ScreenRect,\n  endCoordinates: ScreenRect,\n  duration?: number,\n  easing?: string,\n};\ntype LayoutEvent = {\n  nativeEvent: {\n    layout: Rect,\n  }\n};\n\nconst viewRef = 'VIEW';\n\n/**\n * It is a component to solve the common problem of views that need to move out of the way of the virtual keyboard.\n * It can automatically adjust either its position or bottom padding based on the position of the keyboard.\n */\nconst KeyboardAvoidingView = React.createClass({\n  mixins: [TimerMixin],\n\n  propTypes: {\n    ...View.propTypes,\n    behavior: PropTypes.oneOf(['height', 'position', 'padding']),\n\n    /**\n     * The style of the content container(View) when behavior is 'position'.\n     */\n    contentContainerStyle: View.propTypes.style,\n\n    /**\n     * This is the distance between the top of the user screen and the react native view,\n     * may be non-zero in some use cases.\n     */\n    keyboardVerticalOffset: PropTypes.number.isRequired,\n  },\n\n  getDefaultProps() {\n    return {\n      keyboardVerticalOffset: 0,\n    };\n  },\n\n  getInitialState() {\n    return {\n      bottom: 0,\n    };\n  },\n\n  subscriptions: ([]: Array<EmitterSubscription>),\n  frame: (null: ?Rect),\n\n  relativeKeyboardHeight(keyboardFrame: ScreenRect): number {\n    const frame = this.frame;\n    if (!frame || !keyboardFrame) {\n      return 0;\n    }\n\n    const y1 = Math.max(frame.y, keyboardFrame.screenY - this.props.keyboardVerticalOffset);\n    const y2 = Math.min(frame.y + frame.height, keyboardFrame.screenY + keyboardFrame.height - this.props.keyboardVerticalOffset);\n    if (frame.y > keyboardFrame.screenY) {\n      return frame.y + frame.height - keyboardFrame.screenY - this.props.keyboardVerticalOffset;\n    }\n    return Math.max(y2 - y1, 0);\n  },\n\n  onKeyboardChange(event: ?KeyboardChangeEvent) {\n    if (!event) {\n      this.setState({bottom: 0});\n      return;\n    }\n\n    const {duration, easing, endCoordinates} = event;\n    const height = this.relativeKeyboardHeight(endCoordinates);\n\n    if (duration && easing) {\n      LayoutAnimation.configureNext({\n        duration: duration,\n        update: {\n          duration: duration,\n          type: LayoutAnimation.Types[easing] || 'keyboard',\n        },\n      });\n    }\n    this.setState({bottom: height});\n  },\n\n  onLayout(event: LayoutEvent) {\n    this.frame = event.nativeEvent.layout;\n  },\n\n  componentWillUpdate(nextProps: Object, nextState: Object, nextContext?: Object): void {\n    if (nextState.bottom === this.state.bottom &&\n        this.props.behavior === 'height' &&\n        nextProps.behavior === 'height') {\n      // If the component rerenders without an internal state change, e.g.\n      // triggered by parent component re-rendering, no need for bottom to change.\n      nextState.bottom = 0;\n    }\n  },\n\n  componentWillMount() {\n    if (Platform.OS === 'ios') {\n      this.subscriptions = [\n        Keyboard.addListener('keyboardWillChangeFrame', this.onKeyboardChange),\n      ];\n    } else {\n      this.subscriptions = [\n        Keyboard.addListener('keyboardDidHide', this.onKeyboardChange),\n        Keyboard.addListener('keyboardDidShow', this.onKeyboardChange),\n      ];\n    }\n  },\n\n  componentWillUnmount() {\n    this.subscriptions.forEach((sub) => sub.remove());\n  },\n\n  render(): React.Element<any> {\n    const {behavior, children, style, ...props} = this.props;\n\n    switch (behavior) {\n      case 'height':\n        let heightStyle;\n        if (this.frame) {\n          // Note that we only apply a height change when there is keyboard present,\n          // i.e. this.state.bottom is greater than 0. If we remove that condition,\n          // this.frame.height will never go back to its original value.\n          // When height changes, we need to disable flex.\n          heightStyle = {height: this.frame.height - this.state.bottom, flex: 0};\n        }\n        return (\n          <View ref={viewRef} style={[style, heightStyle]} onLayout={this.onLayout} {...props}>\n            {children}\n          </View>\n        );\n\n      case 'position':\n        const positionStyle = {bottom: this.state.bottom};\n        const { contentContainerStyle } = this.props;\n\n        return (\n          <View ref={viewRef} style={style} onLayout={this.onLayout} {...props}>\n            <View style={[contentContainerStyle, positionStyle]}>\n              {children}\n            </View>\n          </View>\n        );\n\n      case 'padding':\n        const paddingStyle = {paddingBottom: this.state.bottom};\n        return (\n          <View ref={viewRef} style={[style, paddingStyle]} onLayout={this.onLayout} {...props}>\n            {children}\n          </View>\n        );\n\n      default:\n        return (\n          <View ref={viewRef} onLayout={this.onLayout} style={style} {...props}>\n            {children}\n          </View>\n        );\n    }\n  },\n});\n\nmodule.exports = KeyboardAvoidingView;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule LayoutAnimation\n * @flow\n */\n'use strict';\n\nvar UIManager = require('UIManager');\n\nvar keyMirror = require('fbjs/lib/keyMirror');\n\n// $FlowFixMe checkPropTypes not yet landed to Flow\nvar {checkPropTypes, PropTypes} = require('react');\n\nvar TypesEnum = {\n  spring: true,\n  linear: true,\n  easeInEaseOut: true,\n  easeIn: true,\n  easeOut: true,\n  keyboard: true,\n};\nvar Types = keyMirror(TypesEnum);\n\nvar PropertiesEnum = {\n  opacity: true,\n  scaleXY: true,\n};\nvar Properties = keyMirror(PropertiesEnum);\n\nvar animType = PropTypes.shape({\n  duration: PropTypes.number,\n  delay: PropTypes.number,\n  springDamping: PropTypes.number,\n  initialVelocity: PropTypes.number,\n  type: PropTypes.oneOf(\n    Object.keys(Types)\n  ).isRequired,\n  property: PropTypes.oneOf( // Only applies to create/delete\n    Object.keys(Properties)\n  ),\n});\n\ntype Anim = {\n  duration?: number,\n  delay?: number,\n  springDamping?: number,\n  initialVelocity?: number,\n  type?: $Enum<typeof TypesEnum>,\n  property?: $Enum<typeof PropertiesEnum>,\n}\n\nvar configType = PropTypes.shape({\n  duration: PropTypes.number.isRequired,\n  create: animType,\n  update: animType,\n  delete: animType,\n});\n\ntype Config = {\n  duration: number,\n  create?: Anim,\n  update?: Anim,\n  delete?: Anim,\n}\n\nfunction checkConfig(config: Config, location: string, name: string) {\n  checkPropTypes({config: configType}, {config}, location, name);\n}\n\nfunction configureNext(config: Config, onAnimationDidEnd?: Function) {\n  if (__DEV__) {\n    checkConfig(config, 'config', 'LayoutAnimation.configureNext');\n  }\n  UIManager.configureNextLayoutAnimation(\n    config, onAnimationDidEnd || function() {}, function() { /* unused */ }\n  );\n}\n\nfunction create(duration: number, type, creationProp): Config {\n  return {\n    duration,\n    create: {\n      type,\n      property: creationProp,\n    },\n    update: {\n      type,\n    },\n    delete: {\n      type,\n      property: creationProp,\n    },\n  };\n}\n\nvar Presets = {\n  easeInEaseOut: create(\n    300, Types.easeInEaseOut, Properties.opacity\n  ),\n  linear: create(\n    500, Types.linear, Properties.opacity\n  ),\n  spring: {\n    duration: 700,\n    create: {\n      type: Types.linear,\n      property: Properties.opacity,\n    },\n    update: {\n      type: Types.spring,\n      springDamping: 0.4,\n    },\n    delete: {\n      type: Types.linear,\n      property: Properties.opacity,\n    },\n  },\n};\n\n/**\n * Automatically animates views to their new positions when the\n * next layout happens.\n *\n * A common way to use this API is to call it before calling `setState`.\n *\n * Note that in order to get this to work on **Android** you need to set the following flags via `UIManager`:\n *\n *     UIManager.setLayoutAnimationEnabledExperimental && UIManager.setLayoutAnimationEnabledExperimental(true);\n */\nvar LayoutAnimation = {\n  /**\n   * Schedules an animation to happen on the next layout.\n   *\n   * @param config Specifies animation properties:\n   *\n   *   - `duration` in milliseconds\n   *   - `create`, config for animating in new views (see `Anim` type)\n   *   - `update`, config for animating views that have been updated\n   * (see `Anim` type)\n   *\n   * @param onAnimationDidEnd Called when the animation finished.\n   * Only supported on iOS.\n   * @param onError Called on error. Only supported on iOS.\n   */\n  configureNext,\n  /**\n   * Helper for creating a config for `configureNext`.\n   */\n  create,\n  Types,\n  Properties,\n  checkConfig,\n  Presets,\n  easeInEaseOut: configureNext.bind(\n    null, Presets.easeInEaseOut\n  ),\n  linear: configureNext.bind(\n    null, Presets.linear\n  ),\n  spring: configureNext.bind(\n    null, Presets.spring\n  ),\n};\n\nmodule.exports = LayoutAnimation;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule MapView\n * @flow\n */\n'use strict';\n\nconst ColorPropType = require('ColorPropType');\nconst EdgeInsetsPropType = require('EdgeInsetsPropType');\nconst Image = require('Image');\nconst NativeMethodsMixin = require('NativeMethodsMixin');\nconst React = require('React');\nconst StyleSheet = require('StyleSheet');\nconst View = require('View');\n\nconst deprecatedPropType = require('deprecatedPropType');\nconst processColor = require('processColor');\nconst resolveAssetSource = require('resolveAssetSource');\nconst requireNativeComponent = require('requireNativeComponent');\n\ntype Event = Object;\n\n/**\n * State of an annotation on the map.\n */\nexport type AnnotationDragState = $Enum<{\n  /**\n   * Annotation is not being touched.\n   */\n  idle: string,\n  /**\n   * Annotation dragging has began.\n   */\n  starting: string,\n  /**\n   * Annotation is being dragged.\n   */\n  dragging: string,\n  /**\n   * Annotation dragging is being canceled.\n   */\n  canceling: string,\n  /**\n   * Annotation dragging has ended.\n   */\n  ending: string,\n}>;\n\n/**\n * **IMPORTANT: This component is now DEPRECATED and will be removed\n * in January 2017 (React Native version 0.42). This component only supports\n * iOS.**\n *\n * **Please use\n * [react-native-maps](https://github.com/airbnb/react-native-maps) by Airbnb\n * instead of this component.** Our friends at Airbnb have done an amazing job\n * building a cross-platform `MapView` component that is more feature\n * complete. It is used extensively (over 9k installs / month).\n *\n * `MapView` is used to display embeddable maps and annotations using\n * `MKMapView`.\n *\n * ```\n * import React, { Component } from 'react';\n * import { MapView } from 'react-native';\n *\n * class MapMyRide extends Component {\n *   render() {\n *     return (\n *       <MapView\n *         style={{height: 200, margin: 40}}\n *         showsUserLocation={true}\n *       />\n *     );\n *   }\n * }\n * ```\n *\n */\n\nconst MapView = React.createClass({\n\n  mixins: [NativeMethodsMixin],\n\n  propTypes: {\n    ...View.propTypes,\n    /**\n     * Used to style and layout the `MapView`.\n     */\n    style: View.propTypes.style,\n\n    /**\n     * If `true` the app will ask for the user's location and display it on\n     * the map. Default value is `false`.\n     *\n     * **NOTE**: You'll need to add the `NSLocationWhenInUseUsageDescription`\n     * key in Info.plist to enable geolocation, otherwise it will fail silently.\n     */\n    showsUserLocation: React.PropTypes.bool,\n\n    /**\n     * If `true` the map will follow the user's location whenever it changes.\n     * Note that this has no effect unless `showsUserLocation` is enabled.\n     * Default value is `true`.\n     */\n    followUserLocation: React.PropTypes.bool,\n\n    /**\n     * If `false` points of interest won't be displayed on the map.\n     * Default value is `true`.\n     */\n    showsPointsOfInterest: React.PropTypes.bool,\n\n    /**\n     * If `false`, compass won't be displayed on the map.\n     * Default value is `true`.\n     */\n    showsCompass: React.PropTypes.bool,\n\n    /**\n     * If `true` the map will show the callouts for all annotations without\n     * the user having to click on the annotation.\n     * Default value is `false`.\n     */\n    showsAnnotationCallouts: React.PropTypes.bool,\n\n    /**\n     * If `false` the user won't be able to pinch/zoom the map.\n     * Default value is `true`.\n     */\n    zoomEnabled: React.PropTypes.bool,\n\n    /**\n     * When this property is set to `true` and a valid camera is associated with\n     * the map, the camera's heading angle is used to rotate the plane of the\n     * map around its center point.\n     *\n     * When this property is set to `false`, the\n     * camera's heading angle is ignored and the map is always oriented so\n     * that true north is situated at the top of the map view\n     */\n    rotateEnabled: React.PropTypes.bool,\n\n    /**\n     * When this property is set to `true` and a valid camera is associated\n     * with the map, the camera's pitch angle is used to tilt the plane\n     * of the map.\n     *\n     * When this property is set to `false`, the camera's pitch\n     * angle is ignored and the map is always displayed as if the user\n     * is looking straight down onto it.\n     */\n    pitchEnabled: React.PropTypes.bool,\n\n    /**\n     * If `false` the user won't be able to change the map region being displayed.\n     * Default value is `true`.\n     */\n    scrollEnabled: React.PropTypes.bool,\n\n    /**\n     * The map type to be displayed.\n     *\n     * - `standard`: Standard road map (default).\n     * - `satellite`: Satellite view.\n     * - `hybrid`: Satellite view with roads and points of interest overlaid.\n     */\n    mapType: React.PropTypes.oneOf([\n      'standard',\n      'satellite',\n      'hybrid',\n    ]),\n\n    /**\n     * The region to be displayed by the map.\n     *\n     * The region is defined by the center coordinates and the span of\n     * coordinates to display.\n     */\n    region: React.PropTypes.shape({\n      /**\n       * Coordinates for the center of the map.\n       */\n      latitude: React.PropTypes.number.isRequired,\n      longitude: React.PropTypes.number.isRequired,\n\n      /**\n       * Distance between the minimum and the maximum latitude/longitude\n       * to be displayed.\n       */\n      latitudeDelta: React.PropTypes.number,\n      longitudeDelta: React.PropTypes.number,\n    }),\n\n    /**\n     * Map annotations with title and subtitle.\n     */\n    annotations: React.PropTypes.arrayOf(React.PropTypes.shape({\n      /**\n       * The location of the annotation.\n       */\n      latitude: React.PropTypes.number.isRequired,\n      longitude: React.PropTypes.number.isRequired,\n\n      /**\n       * Whether the pin drop should be animated or not\n       */\n      animateDrop: React.PropTypes.bool,\n\n      /**\n       * Whether the pin should be draggable or not\n       */\n      draggable: React.PropTypes.bool,\n\n      /**\n       * Event that fires when the annotation drag state changes.\n       */\n      onDragStateChange: React.PropTypes.func,\n\n      /**\n       * Event that fires when the annotation gets was tapped by the user\n       * and the callout view was displayed.\n       */\n      onFocus: React.PropTypes.func,\n\n      /**\n       * Event that fires when another annotation or the mapview itself\n       * was tapped and a previously shown annotation will be closed.\n       */\n      onBlur: React.PropTypes.func,\n\n      /**\n       * Annotation title and subtile.\n       */\n      title: React.PropTypes.string,\n      subtitle: React.PropTypes.string,\n\n      /**\n       * Callout views.\n       */\n      leftCalloutView: React.PropTypes.element,\n      rightCalloutView: React.PropTypes.element,\n      detailCalloutView: React.PropTypes.element,\n\n      /**\n       * The pin color. This can be any valid color string, or you can use one\n       * of the predefined PinColors constants. Applies to both standard pins\n       * and custom pin images.\n       *\n       * Note that on iOS 8 and earlier, only the standard PinColor constants\n       * are supported for regular pins. For custom pin images, any tintColor\n       * value is supported on all iOS versions.\n       */\n      tintColor: ColorPropType,\n\n      /**\n       * Custom pin image. This must be a static image resource inside the app.\n       */\n      image: Image.propTypes.source,\n\n      /**\n       * Custom pin view. If set, this replaces the pin or custom pin image.\n       */\n      view: React.PropTypes.element,\n\n      /**\n       * annotation id\n       */\n      id: React.PropTypes.string,\n\n      /**\n       * Deprecated. Use the left/right/detailsCalloutView props instead.\n       */\n      hasLeftCallout: deprecatedPropType(\n        React.PropTypes.bool,\n        'Use `leftCalloutView` instead.'\n      ),\n      hasRightCallout: deprecatedPropType(\n        React.PropTypes.bool,\n        'Use `rightCalloutView` instead.'\n      ),\n      onLeftCalloutPress: deprecatedPropType(\n        React.PropTypes.func,\n        'Use `leftCalloutView` instead.'\n      ),\n      onRightCalloutPress: deprecatedPropType(\n        React.PropTypes.func,\n        'Use `rightCalloutView` instead.'\n      ),\n    })),\n\n    /**\n     * Map overlays\n     */\n    overlays: React.PropTypes.arrayOf(React.PropTypes.shape({\n      /**\n       * Polyline coordinates\n       */\n      coordinates: React.PropTypes.arrayOf(React.PropTypes.shape({\n        latitude: React.PropTypes.number.isRequired,\n        longitude: React.PropTypes.number.isRequired\n      })),\n\n      /**\n       * Line attributes\n       */\n      lineWidth: React.PropTypes.number,\n      strokeColor: ColorPropType,\n      fillColor: ColorPropType,\n\n      /**\n       * Overlay id\n       */\n      id: React.PropTypes.string\n    })),\n\n    /**\n     * Maximum size of the area that can be displayed.\n     */\n    maxDelta: React.PropTypes.number,\n\n    /**\n     * Minimum size of the area that can be displayed.\n     */\n    minDelta: React.PropTypes.number,\n\n    /**\n     * Insets for the map's legal label, originally at bottom left of the map.\n     */\n    legalLabelInsets: EdgeInsetsPropType,\n\n    /**\n     * Callback that is called continuously when the user is dragging the map.\n     */\n    onRegionChange: React.PropTypes.func,\n\n    /**\n     * Callback that is called once, when the user is done moving the map.\n     */\n    onRegionChangeComplete: React.PropTypes.func,\n\n    /**\n     * Deprecated. Use annotation `onFocus` and `onBlur` instead.\n     */\n    onAnnotationPress: React.PropTypes.func,\n\n    /**\n     * @platform android\n     */\n    active: React.PropTypes.bool,\n  },\n\n  statics: {\n    /**\n     * Standard iOS MapView pin color constants, to be used with the\n     * `annotation.tintColor` property. On iOS 8 and earlier these are the\n     * only supported values when using regular pins. On iOS 9 and later\n     * you are not obliged to use these, but they are useful for matching\n     * the standard iOS look and feel.\n     */\n    PinColors: {\n      RED: '#ff3b30',\n      GREEN: '#4cd964',\n      PURPLE: '#c969e0',\n    },\n  },\n\n  render: function() {\n    let children = [], {annotations, overlays, followUserLocation} = this.props;\n    annotations = annotations && annotations.map((annotation: Object) => {\n      let {\n        id,\n        image,\n        tintColor,\n        view,\n        leftCalloutView,\n        rightCalloutView,\n        detailCalloutView,\n      } = annotation;\n\n      if (!view && image && tintColor) {\n        view = <Image\n          style={{\n            tintColor: processColor(tintColor),\n          }}\n          source={image}\n        />;\n        image = undefined;\n      }\n      if (view) {\n        if (image) {\n          console.warn('`image` and `view` both set on annotation. Image will be ignored.');\n        }\n        var viewIndex = children.length;\n        children.push(React.cloneElement(view, {\n          // $FlowFixMe - An array of styles should be fine\n          style: [styles.annotationView, view.props.style || {}]\n        }));\n      }\n      if (leftCalloutView) {\n        var leftCalloutViewIndex = children.length;\n        children.push(React.cloneElement(leftCalloutView, {\n          style: [styles.calloutView, leftCalloutView.props.style || {}]\n        }));\n      }\n      if (rightCalloutView) {\n        var rightCalloutViewIndex = children.length;\n        children.push(React.cloneElement(rightCalloutView, {\n          style: [styles.calloutView, rightCalloutView.props.style || {}]\n        }));\n      }\n      if (detailCalloutView) {\n        var detailCalloutViewIndex = children.length;\n        children.push(React.cloneElement(detailCalloutView, {\n          style: [styles.calloutView, detailCalloutView.props.style || {}]\n        }));\n      }\n\n      const result = {\n        ...annotation,\n        tintColor: tintColor && processColor(tintColor),\n        image,\n        viewIndex,\n        leftCalloutViewIndex,\n        rightCalloutViewIndex,\n        detailCalloutViewIndex,\n        view: undefined,\n        leftCalloutView: undefined,\n        rightCalloutView: undefined,\n        detailCalloutView: undefined,\n      };\n      result.id = id || encodeURIComponent(JSON.stringify(result));\n      result.image = image && resolveAssetSource(image);\n      return result;\n    });\n    overlays = overlays && overlays.map((overlay: Object) => {\n      const {id, fillColor, strokeColor} = overlay;\n      const result = {\n        ...overlay,\n        strokeColor: strokeColor && processColor(strokeColor),\n        fillColor: fillColor && processColor(fillColor),\n      };\n      result.id = id || encodeURIComponent(JSON.stringify(result));\n      return result;\n    });\n\n    const findByAnnotationId = (annotationId: string) => {\n      if (!annotations) {\n        return null;\n      }\n      for (let i = 0, l = annotations.length; i < l; i++) {\n        if (annotations[i].id === annotationId) {\n          return annotations[i];\n        }\n      }\n      return null;\n    };\n\n    // TODO: these should be separate events, to reduce bridge traffic\n    let onPress, onAnnotationDragStateChange, onAnnotationFocus, onAnnotationBlur;\n    if (annotations) {\n      onPress = (event: Event) => {\n        if (event.nativeEvent.action === 'annotation-click') {\n          // TODO: Remove deprecated onAnnotationPress API call later.\n          this.props.onAnnotationPress &&\n            this.props.onAnnotationPress(event.nativeEvent.annotation);\n        } else if (event.nativeEvent.action === 'callout-click') {\n          const annotation = findByAnnotationId(event.nativeEvent.annotationId);\n          if (annotation) {\n            // Pass the right function\n            if (event.nativeEvent.side === 'left' && annotation.onLeftCalloutPress) {\n              annotation.onLeftCalloutPress(event.nativeEvent);\n            } else if (event.nativeEvent.side === 'right' && annotation.onRightCalloutPress) {\n              annotation.onRightCalloutPress(event.nativeEvent);\n            }\n          }\n        }\n      };\n      onAnnotationDragStateChange = (event: Event) => {\n        const annotation = findByAnnotationId(event.nativeEvent.annotationId);\n        if (annotation) {\n          // Call callback\n          annotation.onDragStateChange &&\n            annotation.onDragStateChange(event.nativeEvent);\n        }\n      };\n      onAnnotationFocus = (event: Event) => {\n        const annotation = findByAnnotationId(event.nativeEvent.annotationId);\n        if (annotation && annotation.onFocus) {\n          annotation.onFocus(event.nativeEvent);\n        }\n      };\n      onAnnotationBlur = (event: Event) => {\n        const annotation = findByAnnotationId(event.nativeEvent.annotationId);\n        if (annotation && annotation.onBlur) {\n          annotation.onBlur(event.nativeEvent);\n        }\n      };\n    }\n\n    // TODO: these should be separate events, to reduce bridge traffic\n    if (this.props.onRegionChange || this.props.onRegionChangeComplete) {\n      var onChange = (event: Event) => {\n        if (event.nativeEvent.continuous) {\n          this.props.onRegionChange &&\n            this.props.onRegionChange(event.nativeEvent.region);\n        } else {\n          this.props.onRegionChangeComplete &&\n            this.props.onRegionChangeComplete(event.nativeEvent.region);\n        }\n      };\n    }\n\n    // followUserLocation defaults to true if showUserLocation is set\n    if (followUserLocation === undefined) {\n      followUserLocation = this.props.showUserLocation;\n    }\n\n    return (\n      <RCTMap\n        {...this.props}\n        annotations={annotations}\n        children={children}\n        followUserLocation={followUserLocation}\n        overlays={overlays}\n        onPress={onPress}\n        onChange={onChange}\n        onAnnotationDragStateChange={onAnnotationDragStateChange}\n        onAnnotationFocus={onAnnotationFocus}\n        onAnnotationBlur={onAnnotationBlur}\n      />\n    );\n  },\n});\n\nconst styles = StyleSheet.create({\n  annotationView: {\n    position: 'absolute',\n    backgroundColor: 'transparent',\n  },\n  calloutView: {\n    position: 'absolute',\n    backgroundColor: 'white',\n  },\n});\n\nconst RCTMap = requireNativeComponent('RCTMap', MapView, {\n  nativeOnly: {\n    onAnnotationDragStateChange: true,\n    onAnnotationFocus: true,\n    onAnnotationBlur: true,\n    onChange: true,\n    onPress: true\n  }\n});\n\nmodule.exports = MapView;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule Modal\n * @flow\n */\n'use strict';\n\nconst AppContainer = require('AppContainer');\nconst I18nManager = require('I18nManager');\nconst Platform = require('Platform');\nconst React = require('React');\nconst StyleSheet = require('StyleSheet');\nconst View = require('View');\n\nconst deprecatedPropType = require('deprecatedPropType');\nconst requireNativeComponent = require('requireNativeComponent');\nconst RCTModalHostView = requireNativeComponent('RCTModalHostView', null);\n\nconst PropTypes = React.PropTypes;\n\n/**\n * The Modal component is a simple way to present content above an enclosing view.\n *\n * _Note: If you need more control over how to present modals over the rest of your app,\n * then consider using a top-level Navigator._\n *\n * ```javascript\n * import React, { Component } from 'react';\n * import { Modal, Text, TouchableHighlight, View } from 'react-native';\n *\n * class ModalExample extends Component {\n *\n *   state = {\n *     modalVisible: false,\n *   }\n *\n *   setModalVisible(visible) {\n *     this.setState({modalVisible: visible});\n *   }\n *\n *   render() {\n *     return (\n *       <View style={{marginTop: 22}}>\n *         <Modal\n *           animationType={\"slide\"}\n *           transparent={false}\n *           visible={this.state.modalVisible}\n *           onRequestClose={() => {alert(\"Modal has been closed.\")}}\n *           >\n *          <View style={{marginTop: 22}}>\n *           <View>\n *             <Text>Hello World!</Text>\n *\n *             <TouchableHighlight onPress={() => {\n *               this.setModalVisible(!this.state.modalVisible)\n *             }}>\n *               <Text>Hide Modal</Text>\n *             </TouchableHighlight>\n *\n *           </View>\n *          </View>\n *         </Modal>\n *\n *         <TouchableHighlight onPress={() => {\n *           this.setModalVisible(true)\n *         }}>\n *           <Text>Show Modal</Text>\n *         </TouchableHighlight>\n *\n *       </View>\n *     );\n *   }\n * }\n * ```\n */\nclass Modal extends React.Component {\n  static propTypes = {\n    /**\n     * The `animationType` prop controls how the modal animates.\n     *\n     * - `slide` slides in from the bottom\n     * - `fade` fades into view\n     * - `none` appears without an animation\n     */\n    animationType: PropTypes.oneOf(['none', 'slide', 'fade']),\n    /**\n     * The `transparent` prop determines whether your modal will fill the entire view. Setting this to `true` will render the modal over a transparent background.\n     */\n    transparent: PropTypes.bool,\n    /**\n     * The `hardwareAccelerated` prop controls whether to force hardware acceleration for the underlying window.\n     * @platform android\n     */\n    hardwareAccelerated: PropTypes.bool,\n    /**\n     * The `visible` prop determines whether your modal is visible.\n     */\n    visible: PropTypes.bool,\n    /**\n     * The `onRequestClose` callback is called when the user taps the hardware back button.\n     * @platform android\n     */\n    onRequestClose: Platform.OS === 'android' ? PropTypes.func.isRequired : PropTypes.func,\n    /**\n     * The `onShow` prop allows passing a function that will be called once the modal has been shown.\n     */\n    onShow: PropTypes.func,\n    animated: deprecatedPropType(\n      PropTypes.bool,\n      'Use the `animationType` prop instead.'\n    ),\n    /**\n     * The `supportedOrientations` prop allows the modal to be rotated to any of the specified orientations.\n     * On iOS, the modal is still restricted by what's specified in your app's Info.plist's UISupportedInterfaceOrientations field.\n     * @platform ios\n     */\n    supportedOrientations: PropTypes.arrayOf(PropTypes.oneOf(['portrait', 'portrait-upside-down', 'landscape', 'landscape-left', 'landscape-right'])),\n    /**\n     * The `onOrientationChange` callback is called when the orientation changes while the modal is being displayed.\n     * The orientation provided is only 'portrait' or 'landscape'. This callback is also called on initial render, regardless of the current orientation.\n     * @platform ios\n     */\n    onOrientationChange: PropTypes.func,\n  };\n\n  static defaultProps = {\n    visible: true,\n    hardwareAccelerated: false,\n  };\n\n  static contextTypes = {\n    rootTag: React.PropTypes.number,\n  };\n\n  render(): ?React.Element<any> {\n    if (this.props.visible === false) {\n      return null;\n    }\n\n    const containerStyles = {\n      backgroundColor: this.props.transparent ? 'transparent' : 'white',\n    };\n\n    let animationType = this.props.animationType;\n    if (!animationType) {\n      // manually setting default prop here to keep support for the deprecated 'animated' prop\n      animationType = 'none';\n      if (this.props.animated) {\n        animationType = 'slide';\n      }\n    }\n\n    const innerChildren = __DEV__ ?\n      ( <AppContainer rootTag={this.context.rootTag}>\n          {this.props.children}\n        </AppContainer>) :\n      this.props.children;\n\n    return (\n      <RCTModalHostView\n        animationType={animationType}\n        transparent={this.props.transparent}\n        hardwareAccelerated={this.props.hardwareAccelerated}\n        onRequestClose={this.props.onRequestClose}\n        onShow={this.props.onShow}\n        style={styles.modal}\n        onStartShouldSetResponder={this._shouldSetResponder}\n        supportedOrientations={this.props.supportedOrientations}\n        onOrientationChange={this.props.onOrientationChange}\n        >\n        <View style={[styles.container, containerStyles]}>\n          {innerChildren}\n        </View>\n      </RCTModalHostView>\n    );\n  }\n\n  // We don't want any responder events bubbling out of the modal.\n  _shouldSetResponder(): boolean {\n    return true;\n  }\n}\n\nconst side = I18nManager.isRTL ? 'right' : 'left';\nconst styles = StyleSheet.create({\n  modal: {\n    position: 'absolute',\n  },\n  container: {\n    position: 'absolute',\n    [side] : 0,\n    top: 0,\n  }\n});\n\nmodule.exports = Modal;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule AppContainer\n * @flow\n */\n\n'use strict';\n\nconst EmitterSubscription = require('EmitterSubscription');\nconst RCTDeviceEventEmitter = require('RCTDeviceEventEmitter');\nconst React = require('React');\nconst ReactNative = require('ReactNative');\nconst StyleSheet = require('StyleSheet');\nconst View = require('View');\n\ntype Context = {\n  rootTag: number,\n};\ntype Props = {\n  children?: React.Children,\n  rootTag: number,\n};\ntype State = {\n  inspector: ?React.Element<*>,\n  mainKey: number,\n};\n\nclass AppContainer extends React.Component {\n  props: Props;\n  state: State = {\n    inspector: null,\n    mainKey: 1,\n  };\n  _mainRef: ?React.Element<*>;\n  _subscription: ?EmitterSubscription = null;\n\n  static childContextTypes = {\n    rootTag: React.PropTypes.number,\n  };\n\n  getChildContext(): Context {\n    return {\n      rootTag: this.props.rootTag,\n    };\n  }\n\n  componentDidMount(): void {\n    if (__DEV__) {\n      this._subscription = RCTDeviceEventEmitter.addListener(\n        'toggleElementInspector',\n        () => {\n          const Inspector = require('Inspector');\n          const inspector = this.state.inspector\n            ? null\n            : <Inspector\n                inspectedViewTag={ReactNative.findNodeHandle(this._mainRef)}\n                onRequestRerenderApp={(updateInspectedViewTag) => {\n                  this.setState(\n                    (s) => ({mainKey: s.mainKey + 1}),\n                    () => updateInspectedViewTag(\n                      ReactNative.findNodeHandle(this._mainRef)\n                    )\n                  );\n                }}\n              />;\n          this.setState({inspector});\n        },\n      );\n    }\n  }\n\n  componentWillUnmount(): void {\n    if (this._subscription) {\n      this._subscription.remove();\n    }\n  }\n\n  render(): React.Element<*> {\n    let yellowBox = null;\n    if (__DEV__) {\n      const YellowBox = require('YellowBox');\n      yellowBox = <YellowBox />;\n    }\n\n    return (\n      <View style={styles.appContainer} pointerEvents=\"box-none\">\n        <View\n          collapsable={!this.state.inspector}\n          key={this.state.mainKey}\n          pointerEvents=\"box-none\"\n          style={styles.appContainer} ref={(ref) => {this._mainRef = ref;}}>\n          {this.props.children}\n        </View>\n        {yellowBox}\n        {this.state.inspector}\n      </View>\n    );\n  }\n}\n\nconst styles = StyleSheet.create({\n  appContainer: {\n    flex: 1,\n  },\n});\n\nmodule.exports = AppContainer;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule Inspector\n * @flow\n */\n\n/* eslint-disable dot-notation, no-dimensions-get-window */\n\n'use strict';\n\nconst Dimensions = require('Dimensions');\nconst InspectorOverlay = require('InspectorOverlay');\nconst InspectorPanel = require('InspectorPanel');\nconst InspectorUtils = require('InspectorUtils');\nconst Platform = require('Platform');\nconst React = require('React');\nconst StyleSheet = require('StyleSheet');\nconst Touchable = require('Touchable');\nconst UIManager = require('UIManager');\nconst View = require('View');\n\nif (window.__REACT_DEVTOOLS_GLOBAL_HOOK__) {\n  // required for devtools to be able to edit react native styles\n  window.__REACT_DEVTOOLS_GLOBAL_HOOK__.resolveRNStyle = require('flattenStyle');\n}\n\nclass Inspector extends React.Component {\n  props: {\n    inspectedViewTag: ?number,\n    onRequestRerenderApp: (callback: (tag: ?number) => void) => void\n  };\n\n  state: {\n    devtoolsAgent: ?Object,\n    hierarchy: any,\n    panelPos: string,\n    inspecting: bool,\n    selection: ?number,\n    perfing: bool,\n    inspected: any,\n    inspectedViewTag: any,\n    networking: bool,\n  };\n\n  _subs: ?Array<() => void>;\n\n  constructor(props: Object) {\n    super(props);\n\n    this.state = {\n      devtoolsAgent: null,\n      hierarchy: null,\n      panelPos: 'bottom',\n      inspecting: true,\n      perfing: false,\n      inspected: null,\n      selection: null,\n      inspectedViewTag: this.props.inspectedViewTag,\n      networking: false,\n    };\n  }\n\n  componentDidMount() {\n    if (window.__REACT_DEVTOOLS_GLOBAL_HOOK__) {\n      (this : any).attachToDevtools = this.attachToDevtools.bind(this);\n      window.__REACT_DEVTOOLS_GLOBAL_HOOK__.on('react-devtools', this.attachToDevtools);\n      // if devtools is already started\n      if (window.__REACT_DEVTOOLS_GLOBAL_HOOK__.reactDevtoolsAgent) {\n        this.attachToDevtools(window.__REACT_DEVTOOLS_GLOBAL_HOOK__.reactDevtoolsAgent);\n      }\n    }\n  }\n\n  componentWillUnmount() {\n    if (this._subs) {\n      this._subs.map(fn => fn());\n    }\n    if (window.__REACT_DEVTOOLS_GLOBAL_HOOK__) {\n      window.__REACT_DEVTOOLS_GLOBAL_HOOK__.off('react-devtools', this.attachToDevtools);\n    }\n  }\n\n  componentWillReceiveProps(newProps: Object) {\n    this.setState({inspectedViewTag: newProps.inspectedViewTag});\n  }\n\n  attachToDevtools = (agent: Object) => {\n    let _hideWait = null;\n    const hlSub = agent.sub('highlight', ({node, name, props}) => {\n      clearTimeout(_hideWait);\n      UIManager.measure(node, (x, y, width, height, left, top) => {\n        this.setState({\n          hierarchy: [],\n          inspected: {\n            frame: {left, top, width, height},\n            style: props ? props.style : {},\n          },\n        });\n      });\n    });\n    const hideSub = agent.sub('hideHighlight', () => {\n      if (this.state.inspected === null) {\n        return;\n      }\n      // we wait to actually hide in order to avoid flicker\n      _hideWait = setTimeout(() => {\n        this.setState({\n          inspected: null,\n        });\n      }, 100);\n    });\n    this._subs = [hlSub, hideSub];\n\n    agent.on('shutdown', () => {\n      this.setState({devtoolsAgent: null});\n      this._subs = null;\n    });\n    this.setState({\n      devtoolsAgent: agent,\n    });\n  };\n\n  setSelection(i: number) {\n    const instance = this.state.hierarchy[i];\n    // if we inspect a stateless component we can't use the getPublicInstance method\n    // therefore we use the internal _instance property directly.\n    const publicInstance = instance['_instance'] || {};\n    const source = instance['_currentElement'] && instance['_currentElement']['_source'];\n    UIManager.measure(instance.getHostNode(), (x, y, width, height, left, top) => {\n      this.setState({\n        inspected: {\n          frame: {left, top, width, height},\n          style: publicInstance.props ? publicInstance.props.style : {},\n          source,\n        },\n        selection: i,\n      });\n    });\n  }\n\n  onTouchInstance(touched: Object, frame: Object, pointerY: number) {\n    // Most likely the touched instance is a native wrapper (like RCTView)\n    // which is not very interesting. Most likely user wants a composite\n    // instance that contains it (like View)\n    const hierarchy = InspectorUtils.getOwnerHierarchy(touched);\n    const instance = InspectorUtils.lastNotNativeInstance(hierarchy);\n\n    if (this.state.devtoolsAgent) {\n      this.state.devtoolsAgent.selectFromReactInstance(instance, true);\n    }\n\n    // if we inspect a stateless component we can't use the getPublicInstance method\n    // therefore we use the internal _instance property directly.\n    const publicInstance = instance['_instance'] || {};\n    const props = publicInstance.props || {};\n    const source = instance['_currentElement'] && instance['_currentElement']['_source'];\n    this.setState({\n      panelPos: pointerY > Dimensions.get('window').height / 2 ? 'top' : 'bottom',\n      selection: hierarchy.indexOf(instance),\n      hierarchy,\n      inspected: {\n        style: props.style || {},\n        frame,\n        source,\n      },\n    });\n  }\n\n  setPerfing(val: bool) {\n    this.setState({\n      perfing: val,\n      inspecting: false,\n      inspected: null,\n      networking: false,\n    });\n  }\n\n  setInspecting(val: bool) {\n    this.setState({\n      inspecting: val,\n      inspected: null\n    });\n  }\n\n  setTouchTargetting(val: bool) {\n    Touchable.TOUCH_TARGET_DEBUG = val;\n    this.props.onRequestRerenderApp((inspectedViewTag) => {\n      this.setState({inspectedViewTag});\n    });\n  }\n\n  setNetworking(val: bool) {\n    this.setState({\n      networking: val,\n      perfing: false,\n      inspecting: false,\n      inspected: null,\n    });\n  }\n\n  render() {\n    const panelContainerStyle = (this.state.panelPos === 'bottom') ?\n      {bottom: 0} :\n      {top: Platform.OS === 'ios' ? 20 : 0};\n    return (\n      <View style={styles.container} pointerEvents=\"box-none\">\n        {this.state.inspecting &&\n          <InspectorOverlay\n            inspected={this.state.inspected}\n            inspectedViewTag={this.state.inspectedViewTag}\n            onTouchInstance={this.onTouchInstance.bind(this)}\n          />}\n        <View style={[styles.panelContainer, panelContainerStyle]}>\n          <InspectorPanel\n            devtoolsIsOpen={!!this.state.devtoolsAgent}\n            inspecting={this.state.inspecting}\n            perfing={this.state.perfing}\n            setPerfing={this.setPerfing.bind(this)}\n            setInspecting={this.setInspecting.bind(this)}\n            inspected={this.state.inspected}\n            hierarchy={this.state.hierarchy}\n            selection={this.state.selection}\n            setSelection={this.setSelection.bind(this)}\n            touchTargetting={Touchable.TOUCH_TARGET_DEBUG}\n            setTouchTargetting={this.setTouchTargetting.bind(this)}\n            networking={this.state.networking}\n            setNetworking={this.setNetworking.bind(this)}\n          />\n        </View>\n      </View>\n    );\n  }\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    position: 'absolute',\n    backgroundColor: 'transparent',\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n  },\n  panelContainer: {\n    position: 'absolute',\n    left: 0,\n    right: 0,\n  },\n});\n\nmodule.exports = Inspector;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule InspectorOverlay\n * @flow\n */\n'use strict';\n\nvar Dimensions = require('Dimensions');\nvar InspectorUtils = require('InspectorUtils');\nvar React = require('React');\nvar StyleSheet = require('StyleSheet');\nvar UIManager = require('UIManager');\nvar View = require('View');\nvar ElementBox = require('ElementBox');\n\nvar PropTypes = React.PropTypes;\n\ntype EventLike = {\n  nativeEvent: Object,\n};\n\nclass InspectorOverlay extends React.Component {\n  props: {\n    inspected?: {\n      frame?: Object,\n      style?: any,\n    },\n    inspectedViewTag?: number,\n    onTouchInstance: Function,\n  };\n\n  static propTypes = {\n    inspected: PropTypes.shape({\n      frame: PropTypes.object,\n      style: PropTypes.any,\n    }),\n    inspectedViewTag: PropTypes.number,\n    onTouchInstance: PropTypes.func.isRequired,\n  };\n\n  findViewForTouchEvent = (e: EventLike) => {\n    var {locationX, locationY} = e.nativeEvent.touches[0];\n    UIManager.findSubviewIn(\n      this.props.inspectedViewTag,\n      [locationX, locationY],\n      (nativeViewTag, left, top, width, height) => {\n        var instance = InspectorUtils.findInstanceByNativeTag(nativeViewTag);\n        if (!instance) {\n          return;\n        }\n        this.props.onTouchInstance(instance, {left, top, width, height}, locationY);\n      }\n    );\n  };\n\n  shouldSetResponser = (e: EventLike): bool => {\n    this.findViewForTouchEvent(e);\n    return true;\n  };\n\n  render() {\n    var content = null;\n    if (this.props.inspected) {\n      content = <ElementBox frame={this.props.inspected.frame} style={this.props.inspected.style} />;\n    }\n\n    return (\n      <View\n        onStartShouldSetResponder={this.shouldSetResponser}\n        onResponderMove={this.findViewForTouchEvent}\n        style={[styles.inspector, {height: Dimensions.get('window').height}]}>\n        {content}\n      </View>\n    );\n  }\n}\n\nvar styles = StyleSheet.create({\n  inspector: {\n    backgroundColor: 'transparent',\n    position: 'absolute',\n    left: 0,\n    top: 0,\n    right: 0,\n  },\n});\n\nmodule.exports = InspectorOverlay;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule InspectorUtils\n */\n'use strict';\n\nvar ReactNativeComponentTree = require('ReactNativeComponentTree');\n\nfunction traverseOwnerTreeUp(hierarchy, instance) {\n  if (instance) {\n    hierarchy.unshift(instance);\n    traverseOwnerTreeUp(hierarchy, instance._currentElement._owner);\n  }\n}\n\nfunction findInstanceByNativeTag(nativeTag) {\n  var instance = ReactNativeComponentTree.getInstanceFromNode(nativeTag);\n  if (!instance || typeof instance.tag === 'number') {\n    // TODO(sema): We've disabled the inspector when using Fiber. Fix #15953531\n    return null;\n  }\n  return instance;\n}\n\nfunction getOwnerHierarchy(instance) {\n  var hierarchy = [];\n  traverseOwnerTreeUp(hierarchy, instance);\n  return hierarchy;\n}\n\nfunction lastNotNativeInstance(hierarchy) {\n  for (let i = hierarchy.length - 1; i > 1; i--) {\n    const instance = hierarchy[i];\n    if (!instance.viewConfig) {\n      return instance;\n    }\n  }\n  return hierarchy[0];\n}\n\nmodule.exports = {findInstanceByNativeTag, getOwnerHierarchy, lastNotNativeInstance};\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule ElementBox\n * @flow\n */\n'use strict';\n\nvar React = require('React');\nvar View = require('View');\nvar StyleSheet = require('StyleSheet');\nvar BorderBox = require('BorderBox');\nvar resolveBoxStyle = require('resolveBoxStyle');\n\nvar flattenStyle = require('flattenStyle');\n\nclass ElementBox extends React.Component {\n  render() {\n    var style = flattenStyle(this.props.style) || {};\n    var margin = resolveBoxStyle('margin', style);\n    var padding = resolveBoxStyle('padding', style);\n    var frameStyle = this.props.frame;\n    if (margin) {\n      frameStyle = {\n        top: frameStyle.top - margin.top,\n        left: frameStyle.left - margin.left,\n        height: frameStyle.height + margin.top + margin.bottom,\n        width: frameStyle.width + margin.left + margin.right,\n      };\n    }\n    var contentStyle = {\n      width: this.props.frame.width,\n      height: this.props.frame.height,\n    };\n    if (padding) {\n      contentStyle = {\n        width: contentStyle.width - padding.left - padding.right,\n        height: contentStyle.height - padding.top - padding.bottom,\n      };\n    }\n    return (\n      <View style={[styles.frame, frameStyle]} pointerEvents=\"none\">\n        <BorderBox box={margin} style={styles.margin}>\n          <BorderBox box={padding} style={styles.padding}>\n            <View style={[styles.content, contentStyle]} />\n          </BorderBox>\n        </BorderBox>\n      </View>\n    );\n  }\n}\n\nvar styles = StyleSheet.create({\n  frame: {\n    position: 'absolute',\n  },\n  content: {\n    backgroundColor: 'rgba(200, 230, 255, 0.8)',\n  },\n  padding: {\n    borderColor: 'rgba(77, 255, 0, 0.3)',\n  },\n  margin: {\n    borderColor: 'rgba(255, 132, 0, 0.3)',\n  },\n});\n\nmodule.exports = ElementBox;\n\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule BorderBox\n * @flow\n */\n'use strict';\n\nvar React = require('React');\nvar View = require('View');\n\nclass BorderBox extends React.Component {\n  render() {\n    var box = this.props.box;\n    if (!box) {\n      return this.props.children;\n    }\n    var style = {\n      borderTopWidth: box.top,\n      borderBottomWidth: box.bottom,\n      borderLeftWidth: box.left,\n      borderRightWidth: box.right,\n    };\n    return (\n      <View style={[style, this.props.style]}>\n        {this.props.children}\n      </View>\n    );\n  }\n}\n\nmodule.exports = BorderBox;\n\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule resolveBoxStyle\n * @flow\n */\n'use strict';\n\n/**\n * Resolve a style property into it's component parts, e.g.\n *\n * resolveProperties('margin', {margin: 5, marginBottom: 10})\n * ->\n * {top: 5, left: 5, right: 5, bottom: 10}\n *\n * If none are set, returns false.\n */\nfunction resolveBoxStyle(prefix: string, style: Object): ?Object {\n  var res = {};\n  var subs = ['top', 'left', 'bottom', 'right'];\n  var set = false;\n  subs.forEach(sub => {\n    res[sub] = style[prefix] || 0;\n  });\n  if (style[prefix]) {\n    set = true;\n  }\n  if (style[prefix + 'Vertical']) {\n    res.top = res.bottom = style[prefix + 'Vertical'];\n    set = true;\n  }\n  if (style[prefix + 'Horizontal']) {\n    res.left = res.right = style[prefix + 'Horizontal'];\n    set = true;\n  }\n  subs.forEach(sub => {\n    var val = style[prefix + capFirst(sub)];\n    if (val) {\n      res[sub] = val;\n      set = true;\n    }\n  });\n  if (!set) {\n    return;\n  }\n  return res;\n}\n\nfunction capFirst(text) {\n  return text[0].toUpperCase() + text.slice(1);\n}\n\nmodule.exports = resolveBoxStyle;\n\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule InspectorPanel\n * @flow\n */\n'use strict';\n\nconst ElementProperties = require('ElementProperties');\nconst NetworkOverlay = require('NetworkOverlay');\nconst PerformanceOverlay = require('PerformanceOverlay');\nconst React = require('React');\nconst ScrollView = require('ScrollView');\nconst StyleSheet = require('StyleSheet');\nconst Text = require('Text');\nconst TouchableHighlight = require('TouchableHighlight');\nconst View = require('View');\n\nconst PropTypes = React.PropTypes;\n\nclass InspectorPanel extends React.Component {\n  renderWaiting() {\n    if (this.props.inspecting) {\n      return (\n        <Text style={styles.waitingText}>\n          Tap something to inspect it\n        </Text>\n      );\n    }\n    return <Text style={styles.waitingText}>Nothing is inspected</Text>;\n  }\n\n  render() {\n    let contents;\n    if (this.props.inspected) {\n      contents = (\n        <ScrollView style={styles.properties}>\n          <ElementProperties\n            style={this.props.inspected.style}\n            frame={this.props.inspected.frame}\n            source={this.props.inspected.source}\n            hierarchy={this.props.hierarchy}\n            selection={this.props.selection}\n            setSelection={this.props.setSelection}\n          />\n        </ScrollView>\n      );\n    } else if (this.props.perfing) {\n      contents = (\n        <PerformanceOverlay />\n      );\n    } else if (this.props.networking) {\n      contents = (\n        <NetworkOverlay />\n      );\n    } else {\n      contents = (\n        <View style={styles.waiting}>\n          {this.renderWaiting()}\n        </View>\n      );\n    }\n    return (\n      <View style={styles.container}>\n        {!this.props.devtoolsIsOpen && contents}\n        <View style={styles.buttonRow}>\n          <Button\n            title={'Inspect'}\n            pressed={this.props.inspecting}\n            onClick={this.props.setInspecting}\n          />\n          <Button title={'Perf'}\n            pressed={this.props.perfing}\n            onClick={this.props.setPerfing}\n          />\n          <Button title={'Network'}\n            pressed={this.props.networking}\n            onClick={this.props.setNetworking}\n          />\n          <Button title={'Touchables'}\n            pressed={this.props.touchTargetting}\n            onClick={this.props.setTouchTargetting}\n          />\n        </View>\n      </View>\n    );\n  }\n}\n\nInspectorPanel.propTypes = {\n  devtoolsIsOpen: PropTypes.bool,\n  inspecting: PropTypes.bool,\n  setInspecting: PropTypes.func,\n  inspected: PropTypes.object,\n  perfing: PropTypes.bool,\n  setPerfing: PropTypes.func,\n  touchTargetting: PropTypes.bool,\n  setTouchTargetting: PropTypes.func,\n  networking: PropTypes.bool,\n  setNetworking: PropTypes.func,\n};\n\nclass Button extends React.Component {\n  render() {\n    return (\n      <TouchableHighlight onPress={() => this.props.onClick(!this.props.pressed)} style={[\n        styles.button,\n        this.props.pressed && styles.buttonPressed\n      ]}>\n        <Text style={styles.buttonText}>{this.props.title}</Text>\n      </TouchableHighlight>\n    );\n  }\n}\n\nconst styles = StyleSheet.create({\n  buttonRow: {\n    flexDirection: 'row',\n  },\n  button: {\n    backgroundColor: 'rgba(0, 0, 0, 0.3)',\n    margin: 2,\n    height: 30,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  buttonPressed: {\n    backgroundColor: 'rgba(255, 255, 255, 0.3)',\n  },\n  buttonText: {\n    textAlign: 'center',\n    color: 'white',\n    margin: 5,\n  },\n  container: {\n    backgroundColor: 'rgba(0, 0, 0, 0.7)',\n  },\n  properties: {\n    height: 200,\n  },\n  waiting: {\n    height: 100,\n  },\n  waitingText: {\n    fontSize: 20,\n    textAlign: 'center',\n    marginVertical: 20,\n    color: 'white',\n  },\n});\n\nmodule.exports = InspectorPanel;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule ElementProperties\n * @flow\n */\n'use strict';\n\nconst BoxInspector = require('BoxInspector');\nconst React = require('React');\nconst StyleInspector = require('StyleInspector');\nconst StyleSheet = require('StyleSheet');\nconst Text = require('Text');\nconst TouchableHighlight = require('TouchableHighlight');\nconst TouchableWithoutFeedback = require('TouchableWithoutFeedback');\nconst View = require('View');\n\nconst flattenStyle = require('flattenStyle');\nconst mapWithSeparator = require('mapWithSeparator');\nconst openFileInEditor = require('openFileInEditor');\n\nconst PropTypes = React.PropTypes;\n\nclass ElementProperties extends React.Component {\n  props: {\n    hierarchy: Array<$FlowFixMe>,\n    style?: Object | Array<$FlowFixMe> | number,\n    source?: {\n      fileName?: string,\n      lineNumber?: number,\n    },\n  };\n\n  static propTypes = {\n    hierarchy: PropTypes.array.isRequired,\n    style: PropTypes.oneOfType([\n      PropTypes.object,\n      PropTypes.array,\n      PropTypes.number,\n    ]),\n    source: PropTypes.shape({\n      fileName: PropTypes.string,\n      lineNumber: PropTypes.number,\n    }),\n  };\n\n  render() {\n    const style = flattenStyle(this.props.style);\n    // $FlowFixMe found when converting React.createClass to ES6\n    const selection = this.props.selection;\n    let openFileButton;\n    const source = this.props.source;\n    const {fileName, lineNumber} = source || {};\n    if (fileName && lineNumber) {\n      const parts = fileName.split('/');\n      const fileNameShort = parts[parts.length - 1];\n      openFileButton = (\n        <TouchableHighlight\n          style={styles.openButton}\n          onPress={openFileInEditor.bind(null, fileName, lineNumber)}>\n          <Text style={styles.openButtonTitle} numberOfLines={1}>\n            {fileNameShort}:{lineNumber}\n          </Text>\n        </TouchableHighlight>\n      );\n    }\n    // Without the `TouchableWithoutFeedback`, taps on this inspector pane\n    // would change the inspected element to whatever is under the inspector\n    return (\n      <TouchableWithoutFeedback>\n        <View style={styles.info}>\n          <View style={styles.breadcrumb}>\n            {mapWithSeparator(\n              this.props.hierarchy,\n              (item, i) => (\n                <TouchableHighlight\n                  key={'item-' + i}\n                  style={[styles.breadItem, i === selection && styles.selected]}\n                  // $FlowFixMe found when converting React.createClass to ES6\n                  onPress={() => this.props.setSelection(i)}>\n                  <Text style={styles.breadItemText}>\n                    {getInstanceName(item)}\n                  </Text>\n                </TouchableHighlight>\n              ),\n              (i) => (\n                <Text key={'sep-' + i} style={styles.breadSep}>\n                  &#9656;\n                </Text>\n              )\n            )}\n          </View>\n          <View style={styles.row}>\n            <View style={styles.col}>\n              <StyleInspector style={style} />\n              {openFileButton}\n            </View>\n            {\n              // $FlowFixMe found when converting React.createClass to ES6\n            <BoxInspector style={style} frame={this.props.frame} />}\n          </View>\n        </View>\n      </TouchableWithoutFeedback>\n    );\n  }\n}\n\nfunction getInstanceName(instance) {\n  if (instance.getName) {\n    return instance.getName();\n  }\n  if (instance.constructor && instance.constructor.displayName) {\n    return instance.constructor.displayName;\n  }\n  return 'Unknown';\n}\n\nconst styles = StyleSheet.create({\n  breadSep: {\n    fontSize: 8,\n    color: 'white',\n  },\n  breadcrumb: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    alignItems: 'flex-start',\n    marginBottom: 5,\n  },\n  selected: {\n    borderColor: 'white',\n    borderRadius: 5,\n  },\n  breadItem: {\n    borderWidth: 1,\n    borderColor: 'transparent',\n    marginHorizontal: 2,\n  },\n  breadItemText: {\n    fontSize: 10,\n    color: 'white',\n    marginHorizontal: 5,\n  },\n  row: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n  },\n  col: {\n    flex: 1,\n  },\n  info: {\n    padding: 10,\n  },\n  openButton: {\n    padding: 10,\n    backgroundColor: '#000',\n    marginVertical: 5,\n    marginRight: 5,\n    borderRadius: 2,\n  },\n  openButtonTitle: {\n    color: 'white',\n    fontSize: 8,\n  }\n});\n\nmodule.exports = ElementProperties;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule BoxInspector\n * @flow\n */\n'use strict';\n\nvar React = require('React');\nvar StyleSheet = require('StyleSheet');\nvar Text = require('Text');\nvar View = require('View');\nvar resolveBoxStyle = require('resolveBoxStyle');\n\nvar blank = {\n  top: 0,\n  left: 0,\n  right: 0,\n  bottom: 0,\n};\n\nclass BoxInspector extends React.Component {\n  render() {\n    var frame = this.props.frame;\n    var style = this.props.style;\n    var margin = style && resolveBoxStyle('margin', style) || blank;\n    var padding = style && resolveBoxStyle('padding', style) || blank;\n    return (\n      <BoxContainer title=\"margin\" titleStyle={styles.marginLabel} box={margin}>\n        <BoxContainer title=\"padding\" box={padding}>\n          <View>\n            <Text style={styles.innerText}>\n              ({frame.left}, {frame.top})\n            </Text>\n            <Text style={styles.innerText}>\n              {frame.width} &times; {frame.height}\n            </Text>\n          </View>\n        </BoxContainer>\n      </BoxContainer>\n    );\n  }\n}\n\nclass BoxContainer extends React.Component {\n  render() {\n    var box = this.props.box;\n    return (\n      <View style={styles.box}>\n        <View style={styles.row}>\n          <Text style={[this.props.titleStyle, styles.label]}>{this.props.title}</Text>\n          <Text style={styles.boxText}>{box.top}</Text>\n        </View>\n        <View style={styles.row}>\n          <Text style={styles.boxText}>{box.left}</Text>\n          {this.props.children}\n          <Text style={styles.boxText}>{box.right}</Text>\n        </View>\n        <Text style={styles.boxText}>{box.bottom}</Text>\n      </View>\n    );\n  }\n}\n\nvar styles = StyleSheet.create({\n  row: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-around',\n  },\n  marginLabel: {\n    width: 60,\n  },\n  label: {\n    fontSize: 10,\n    color: 'rgb(255,100,0)',\n    marginLeft: 5,\n    flex: 1,\n    textAlign: 'left',\n    top: -3,\n  },\n  buffer: {\n    fontSize: 10,\n    color: 'yellow',\n    flex: 1,\n    textAlign: 'center',\n  },\n  innerText: {\n    color: 'yellow',\n    fontSize: 12,\n    textAlign: 'center',\n    width: 70,\n  },\n  box: {\n    borderWidth: 1,\n    borderColor: 'grey',\n  },\n  boxText: {\n    color: 'white',\n    fontSize: 12,\n    marginHorizontal: 3,\n    marginVertical: 2,\n    textAlign: 'center',\n  },\n});\n\nmodule.exports = BoxInspector;\n\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule StyleInspector\n * @flow\n */\n'use strict';\n\nvar React = require('React');\nvar StyleSheet = require('StyleSheet');\nvar Text = require('Text');\nvar View = require('View');\n\nclass StyleInspector extends React.Component {\n  render() {\n    if (!this.props.style) {\n      return <Text style={styles.noStyle}>No style</Text>;\n    }\n    var names = Object.keys(this.props.style);\n    return (\n      <View style={styles.container}>\n        <View>\n          {names.map(name => <Text key={name} style={styles.attr}>{name}:</Text>)}\n        </View>\n\n        <View>\n          {names.map(name => {\n            var value = typeof this.props.style[name] === 'object' ? JSON.stringify(this.props.style[name]) : this.props.style[name];\n            return <Text key={name} style={styles.value}>{value}</Text>;\n          } ) }\n        </View>\n      </View>\n    );\n  }\n}\n\nvar styles = StyleSheet.create({\n  container: {\n    flexDirection: 'row',\n  },\n  row: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-around',\n  },\n  attr: {\n    fontSize: 10,\n    color: '#ccc',\n  },\n  value: {\n    fontSize: 10,\n    color: 'white',\n    marginLeft: 10,\n  },\n  noStyle: {\n    color: 'white',\n    fontSize: 10,\n  },\n});\n\nmodule.exports = StyleInspector;\n\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule TouchableHighlight\n * @noflow\n */\n'use strict';\n\n// Note (avik): add @flow when Flow supports spread properties in propTypes\n\nvar ColorPropType = require('ColorPropType');\nvar NativeMethodsMixin = require('NativeMethodsMixin');\nvar React = require('React');\nvar ReactNativeViewAttributes = require('ReactNativeViewAttributes');\nvar StyleSheet = require('StyleSheet');\nvar TimerMixin = require('react-timer-mixin');\nvar Touchable = require('Touchable');\nvar TouchableWithoutFeedback = require('TouchableWithoutFeedback');\nvar View = require('View');\n\nvar ensureComponentIsNative = require('ensureComponentIsNative');\nvar ensurePositiveDelayProps = require('ensurePositiveDelayProps');\nvar keyOf = require('fbjs/lib/keyOf');\nvar merge = require('merge');\n\ntype Event = Object;\n\nvar DEFAULT_PROPS = {\n  activeOpacity: 0.85,\n  underlayColor: 'black',\n};\n\nvar PRESS_RETENTION_OFFSET = {top: 20, left: 20, right: 20, bottom: 30};\n\n/**\n * A wrapper for making views respond properly to touches.\n * On press down, the opacity of the wrapped view is decreased, which allows\n * the underlay color to show through, darkening or tinting the view.\n *\n * The underlay comes from wrapping the child in a new View, which can affect\n * layout, and sometimes cause unwanted visual artifacts if not used correctly,\n * for example if the backgroundColor of the wrapped view isn't explicitly set\n * to an opaque color.\n *\n * TouchableHighlight must have one child (not zero or more than one).\n * If you wish to have several child components, wrap them in a View.\n *\n * Example:\n *\n * ```\n * renderButton: function() {\n *   return (\n *     <TouchableHighlight onPress={this._onPressButton}>\n *       <Image\n *         style={styles.button}\n *         source={require('./myButton.png')}\n *       />\n *     </TouchableHighlight>\n *   );\n * },\n * ```\n */\n\nvar TouchableHighlight = React.createClass({\n  propTypes: {\n    ...TouchableWithoutFeedback.propTypes,\n    /**\n     * Determines what the opacity of the wrapped view should be when touch is\n     * active.\n     */\n    activeOpacity: React.PropTypes.number,\n    /**\n     * The color of the underlay that will show through when the touch is\n     * active.\n     */\n    underlayColor: ColorPropType,\n    style: View.propTypes.style,\n    /**\n     * Called immediately after the underlay is shown\n     */\n    onShowUnderlay: React.PropTypes.func,\n    /**\n     * Called immediately after the underlay is hidden\n     */\n    onHideUnderlay: React.PropTypes.func,\n    /**\n     * *(Apple TV only)* TV preferred focus (see documentation for the View component).\n     *\n     * @platform ios\n     */\n    hasTVPreferredFocus: React.PropTypes.bool,\n    /**\n     * *(Apple TV only)* Object with properties to control Apple TV parallax effects.\n     *\n     * enabled: If true, parallax effects are enabled.  Defaults to true.\n     * shiftDistanceX: Defaults to 2.0.\n     * shiftDistanceY: Defaults to 2.0.\n     * tiltAngle: Defaults to 0.05.\n     * magnification: Defaults to 1.0.\n     *\n     * @platform ios\n     */\n    tvParallaxProperties: React.PropTypes.object,\n\n  },\n\n  mixins: [NativeMethodsMixin, TimerMixin, Touchable.Mixin],\n\n  getDefaultProps: () => DEFAULT_PROPS,\n\n  // Performance optimization to avoid constantly re-generating these objects.\n  _computeSyntheticState: function(props) {\n    return {\n      activeProps: {\n        style: {\n          opacity: props.activeOpacity,\n        }\n      },\n      activeUnderlayProps: {\n        style: {\n          backgroundColor: props.underlayColor,\n        }\n      },\n      underlayStyle: [\n        INACTIVE_UNDERLAY_PROPS.style,\n        props.style,\n      ],\n      hasTVPreferredFocus: props.hasTVPreferredFocus\n    };\n  },\n\n  getInitialState: function() {\n    return merge(\n      this.touchableGetInitialState(), this._computeSyntheticState(this.props)\n    );\n  },\n\n  componentDidMount: function() {\n    ensurePositiveDelayProps(this.props);\n    ensureComponentIsNative(this.refs[CHILD_REF]);\n  },\n\n  componentDidUpdate: function() {\n    ensureComponentIsNative(this.refs[CHILD_REF]);\n  },\n\n  componentWillReceiveProps: function(nextProps) {\n    ensurePositiveDelayProps(nextProps);\n    if (nextProps.activeOpacity !== this.props.activeOpacity ||\n        nextProps.underlayColor !== this.props.underlayColor ||\n        nextProps.style !== this.props.style) {\n      this.setState(this._computeSyntheticState(nextProps));\n    }\n  },\n\n  viewConfig: {\n    uiViewClassName: 'RCTView',\n    validAttributes: ReactNativeViewAttributes.RCTView\n  },\n\n  /**\n   * `Touchable.Mixin` self callbacks. The mixin will invoke these if they are\n   * defined on your component.\n   */\n  touchableHandleActivePressIn: function(e: Event) {\n    this.clearTimeout(this._hideTimeout);\n    this._hideTimeout = null;\n    this._showUnderlay();\n    this.props.onPressIn && this.props.onPressIn(e);\n  },\n\n  touchableHandleActivePressOut: function(e: Event) {\n    if (!this._hideTimeout) {\n      this._hideUnderlay();\n    }\n    this.props.onPressOut && this.props.onPressOut(e);\n  },\n\n  touchableHandlePress: function(e: Event) {\n    this.clearTimeout(this._hideTimeout);\n    this._showUnderlay();\n    this._hideTimeout = this.setTimeout(this._hideUnderlay,\n      this.props.delayPressOut || 100);\n    this.props.onPress && this.props.onPress(e);\n  },\n\n  touchableHandleLongPress: function(e: Event) {\n    this.props.onLongPress && this.props.onLongPress(e);\n  },\n\n  touchableGetPressRectOffset: function() {\n    return this.props.pressRetentionOffset || PRESS_RETENTION_OFFSET;\n  },\n\n  touchableGetHitSlop: function() {\n    return this.props.hitSlop;\n  },\n\n  touchableGetHighlightDelayMS: function() {\n    return this.props.delayPressIn;\n  },\n\n  touchableGetLongPressDelayMS: function() {\n    return this.props.delayLongPress;\n  },\n\n  touchableGetPressOutDelayMS: function() {\n    return this.props.delayPressOut;\n  },\n\n  _showUnderlay: function() {\n    if (!this.isMounted() || !this._hasPressHandler()) {\n      return;\n    }\n\n    this.refs[UNDERLAY_REF].setNativeProps(this.state.activeUnderlayProps);\n    this.refs[CHILD_REF].setNativeProps(this.state.activeProps);\n    this.props.onShowUnderlay && this.props.onShowUnderlay();\n  },\n\n  _hideUnderlay: function() {\n    this.clearTimeout(this._hideTimeout);\n    this._hideTimeout = null;\n    if (this._hasPressHandler() && this.refs[UNDERLAY_REF]) {\n      this.refs[CHILD_REF].setNativeProps(INACTIVE_CHILD_PROPS);\n      this.refs[UNDERLAY_REF].setNativeProps({\n        ...INACTIVE_UNDERLAY_PROPS,\n        style: this.state.underlayStyle,\n      });\n      this.props.onHideUnderlay && this.props.onHideUnderlay();\n    }\n  },\n\n  _hasPressHandler: function() {\n    return !!(\n      this.props.onPress ||\n      this.props.onPressIn ||\n      this.props.onPressOut ||\n      this.props.onLongPress\n    );\n  },\n\n  render: function() {\n    return (\n      <View\n        accessible={this.props.accessible !== false}\n        accessibilityLabel={this.props.accessibilityLabel}\n        accessibilityComponentType={this.props.accessibilityComponentType}\n        accessibilityTraits={this.props.accessibilityTraits}\n        ref={UNDERLAY_REF}\n        style={this.state.underlayStyle}\n        onLayout={this.props.onLayout}\n        hitSlop={this.props.hitSlop}\n        isTVSelectable={true}\n        tvParallaxProperties={this.props.tvParallaxProperties}\n        hasTVPreferredFocus={this.state.hasTVPreferredFocus}\n        onStartShouldSetResponder={this.touchableHandleStartShouldSetResponder}\n        onResponderTerminationRequest={this.touchableHandleResponderTerminationRequest}\n        onResponderGrant={this.touchableHandleResponderGrant}\n        onResponderMove={this.touchableHandleResponderMove}\n        onResponderRelease={this.touchableHandleResponderRelease}\n        onResponderTerminate={this.touchableHandleResponderTerminate}\n        testID={this.props.testID}>\n        {React.cloneElement(\n          React.Children.only(this.props.children),\n          {\n            ref: CHILD_REF,\n          }\n        )}\n        {Touchable.renderDebugView({color: 'green', hitSlop: this.props.hitSlop})}\n      </View>\n    );\n  }\n});\n\nvar CHILD_REF = keyOf({childRef: null});\nvar UNDERLAY_REF = keyOf({underlayRef: null});\nvar INACTIVE_CHILD_PROPS = {\n  style: StyleSheet.create({x: {opacity: 1.0}}).x,\n};\nvar INACTIVE_UNDERLAY_PROPS = {\n  style: StyleSheet.create({x: {backgroundColor: 'transparent'}}).x,\n};\n\nmodule.exports = TouchableHighlight;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule ensureComponentIsNative\n * @flow\n */\n'use strict';\n\nvar invariant = require('fbjs/lib/invariant');\n\nvar ensureComponentIsNative = function(component: any) {\n  invariant(\n    component && typeof component.setNativeProps === 'function',\n    'Touchable child must either be native or forward setNativeProps to a ' +\n    'native component'\n  );\n};\n\nmodule.exports = ensureComponentIsNative;\n","\"use strict\";\n\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n/**\n * Allows extraction of a minified key. Let's the build system minify keys\n * without losing the ability to dynamically use key strings as values\n * themselves. Pass in an object with a single key/val pair and it will return\n * you the string key of that single record. Suppose you want to grab the\n * value for a key 'className' inside of an object. Key/val minification may\n * have aliased that key to be 'xa12'. keyOf({className: null}) will return\n * 'xa12' in that case. Resolve keys you want to use once at startup time, then\n * reuse those resolutions.\n */\nvar keyOf = function keyOf(oneKeyObj) {\n  var key;\n  for (key in oneKeyObj) {\n    if (!oneKeyObj.hasOwnProperty(key)) {\n      continue;\n    }\n    return key;\n  }\n  return null;\n};\n\nmodule.exports = keyOf;","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule mapWithSeparator\n * @flow\n */\n'use strict';\n\nfunction mapWithSeparator<TFrom, TTo>(\n  items: Array<TFrom>,\n  itemRenderer: (item: TFrom, index: number, items: Array<TFrom>) => TTo,\n  spacerRenderer: (index: number) => TTo,\n): Array<TTo> {\n  const mapped = [];\n  if (items.length > 0) {\n    mapped.push(itemRenderer(items[0], 0, items));\n    for (let ii = 1; ii < items.length; ii++) {\n      mapped.push(spacerRenderer(ii - 1), itemRenderer(items[ii], ii, items));\n    }\n  }\n  return mapped;\n}\n\nmodule.exports = mapWithSeparator;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule openFileInEditor\n * @flow\n */\n'use strict';\n\nconst getDevServer = require('getDevServer');\n\nfunction openFileInEditor(file: string, lineNumber: number) {\n  fetch(getDevServer().url + 'open-stack-frame', {\n    method: 'POST',\n    body: JSON.stringify({file, lineNumber}),\n  });\n}\n\nmodule.exports = openFileInEditor;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule NetworkOverlay\n * @flow\n */\n'use strict';\n\nconst ListView = require('ListView');\nconst React = require('React');\nconst ScrollView = require('ScrollView');\nconst StyleSheet = require('StyleSheet');\nconst Text = require('Text');\nconst TouchableHighlight = require('TouchableHighlight');\nconst View = require('View');\nconst WebSocketInterceptor = require('WebSocketInterceptor');\nconst XHRInterceptor = require('XHRInterceptor');\n\nconst LISTVIEW_CELL_HEIGHT = 15;\nconst SEPARATOR_THICKNESS = 2;\n\n// Global id for the intercepted XMLHttpRequest objects.\nlet nextXHRId = 0;\n\ntype NetworkRequestInfo = {\n  type?: string,\n  url?: string,\n  method?: string,\n  status?: number,\n  dataSent?: any,\n  responseContentType?: string,\n  responseSize?: number,\n  requestHeaders?: Object,\n  responseHeaders?: string,\n  response?: Object | string,\n  responseURL?: string,\n  responseType?: string,\n  timeout?: number,\n  closeReason?: string,\n  messages?: string,\n  serverClose?: Object,\n  serverError?: Object,\n};\n\n/**\n * Show all the intercepted network requests over the InspectorPanel.\n */\nclass NetworkOverlay extends React.Component {\n  _requests: Array<NetworkRequestInfo>;\n  _listViewDataSource: ListView.DataSource;\n  _listView: ?ListView;\n  _listViewHighlighted: bool;\n  _listViewHeight: number;\n  _scrollView: ?ScrollView;\n  _detailViewItems: Array<Array<React.Element<any>>>;\n  _listViewOnLayout: (event: Event) => void;\n  _captureRequestListView: (listRef: ?ListView) => void;\n  _captureDetailScrollView: (scrollRef: ?ScrollView) => void;\n  _renderRow: (\n    rowData: NetworkRequestInfo,\n    sectionID: number,\n    rowID: number,\n    highlightRow: (sectionID: number, rowID: number) => void,\n  ) => React.Element<any>;\n  _closeButtonClicked: () => void;\n  // Map of `socketId` -> `index in `_requests``.\n  _socketIdMap: Object;\n  // Map of `xhr._index` -> `index in `_requests``.\n  _xhrIdMap: {[key: number]: number};\n\n  state: {\n    dataSource: ListView.DataSource,\n    newDetailInfo: bool,\n    detailRowID: ?number,\n  };\n\n  constructor(props: Object) {\n    super(props);\n    this._requests = [];\n    this._detailViewItems = [];\n    this._listViewDataSource =\n      new ListView.DataSource({rowHasChanged: (r1, r2) => r1 !== r2});\n    this.state = {\n      dataSource: this._listViewDataSource.cloneWithRows([]),\n      newDetailInfo: false,\n      detailRowID: null,\n    };\n    this._listViewHighlighted = false;\n    this._listViewHeight = 0;\n    this._captureRequestListView = this._captureRequestListView.bind(this);\n    this._captureDetailScrollView = this._captureDetailScrollView.bind(this);\n    this._listViewOnLayout = this._listViewOnLayout.bind(this);\n    this._renderRow = this._renderRow.bind(this);\n    this._closeButtonClicked = this._closeButtonClicked.bind(this);\n    this._socketIdMap = {};\n    this._xhrIdMap = {};\n  }\n\n  _enableXHRInterception(): void {\n    if (XHRInterceptor.isInterceptorEnabled()) {\n      return;\n    }\n    // Show the XHR request item in listView as soon as it was opened.\n    XHRInterceptor.setOpenCallback((method, url, xhr) => {\n      // Generate a global id for each intercepted xhr object, add this id\n      // to the xhr object as a private `_index` property to identify it,\n      // so that we can distinguish different xhr objects in callbacks.\n      xhr._index = nextXHRId++;\n      const xhrIndex = this._requests.length;\n      this._xhrIdMap[xhr._index] = xhrIndex;\n\n      const _xhr: NetworkRequestInfo = {\n        'type': 'XMLHttpRequest',\n        'method': method,\n        'url': url\n      };\n      this._requests.push(_xhr);\n      this._detailViewItems.push([]);\n      this._genDetailViewItem(xhrIndex);\n      this.setState(\n        {dataSource: this._listViewDataSource.cloneWithRows(this._requests)},\n        this._scrollToBottom(),\n      );\n    });\n\n    XHRInterceptor.setRequestHeaderCallback((header, value, xhr) => {\n      const xhrIndex = this._getRequestIndexByXHRID(xhr._index);\n      if (xhrIndex === -1) {\n        return;\n      }\n      const networkInfo = this._requests[xhrIndex];\n      if (!networkInfo.requestHeaders) {\n        networkInfo.requestHeaders = {};\n      }\n      networkInfo.requestHeaders[header] = value;\n      this._genDetailViewItem(xhrIndex);\n    });\n\n    XHRInterceptor.setSendCallback((data, xhr) => {\n      const xhrIndex = this._getRequestIndexByXHRID(xhr._index);\n      if (xhrIndex === -1) {\n        return;\n      }\n      this._requests[xhrIndex].dataSent = data;\n      this._genDetailViewItem(xhrIndex);\n    });\n\n    XHRInterceptor.setHeaderReceivedCallback(\n      (type, size, responseHeaders, xhr) => {\n        const xhrIndex = this._getRequestIndexByXHRID(xhr._index);\n        if (xhrIndex === -1) {\n          return;\n        }\n        const networkInfo = this._requests[xhrIndex];\n        networkInfo.responseContentType = type;\n        networkInfo.responseSize = size;\n        networkInfo.responseHeaders = responseHeaders;\n        this._genDetailViewItem(xhrIndex);\n      }\n    );\n\n    XHRInterceptor.setResponseCallback((\n        status,\n        timeout,\n        response,\n        responseURL,\n        responseType,\n        xhr,\n      ) => {\n        const xhrIndex = this._getRequestIndexByXHRID(xhr._index);\n        if (xhrIndex === -1) {\n          return;\n        }\n        const networkInfo = this._requests[xhrIndex];\n        networkInfo.status = status;\n        networkInfo.timeout = timeout;\n        networkInfo.response = response;\n        networkInfo.responseURL = responseURL;\n        networkInfo.responseType = responseType;\n        this._genDetailViewItem(xhrIndex);\n      }\n    );\n\n    // Fire above callbacks.\n    XHRInterceptor.enableInterception();\n  }\n\n  _enableWebSocketInterception(): void {\n    if (WebSocketInterceptor.isInterceptorEnabled()) {\n      return;\n    }\n    // Show the WebSocket request item in listView when 'connect' is called.\n    WebSocketInterceptor.setConnectCallback(\n      (url, protocols, options, socketId) => {\n        const socketIndex = this._requests.length;\n        this._socketIdMap[socketId] = socketIndex;\n        const _webSocket: NetworkRequestInfo = {\n          'type': 'WebSocket',\n          'url': url,\n          'protocols': protocols,\n        };\n        this._requests.push(_webSocket);\n        this._detailViewItems.push([]);\n        this._genDetailViewItem(socketIndex);\n        this.setState(\n          {dataSource: this._listViewDataSource.cloneWithRows(this._requests)},\n          this._scrollToBottom(),\n        );\n      }\n    );\n\n    WebSocketInterceptor.setCloseCallback(\n      (statusCode, closeReason, socketId) => {\n        const socketIndex = this._socketIdMap[socketId];\n        if (socketIndex === undefined) {\n          return;\n        }\n        if (statusCode !== null && closeReason !== null) {\n          this._requests[socketIndex].status = statusCode;\n          this._requests[socketIndex].closeReason = closeReason;\n        }\n        this._genDetailViewItem(socketIndex);\n      }\n    );\n\n    WebSocketInterceptor.setSendCallback((data, socketId) => {\n      const socketIndex = this._socketIdMap[socketId];\n      if (socketIndex === undefined) {\n        return;\n      }\n      if (!this._requests[socketIndex].messages) {\n        this._requests[socketIndex].messages = '';\n      }\n      this._requests[socketIndex].messages +=\n        'Sent: ' + JSON.stringify(data) + '\\n';\n      this._genDetailViewItem(socketIndex);\n    });\n\n    WebSocketInterceptor.setOnMessageCallback((socketId, message) => {\n      const socketIndex = this._socketIdMap[socketId];\n      if (socketIndex === undefined) {\n        return;\n      }\n      if (!this._requests[socketIndex].messages) {\n        this._requests[socketIndex].messages = '';\n      }\n      this._requests[socketIndex].messages +=\n        'Received: ' + JSON.stringify(message) + '\\n';\n      this._genDetailViewItem(socketIndex);\n    });\n\n    WebSocketInterceptor.setOnCloseCallback((socketId, message) => {\n      const socketIndex = this._socketIdMap[socketId];\n      if (socketIndex === undefined) {\n        return;\n      }\n      this._requests[socketIndex].serverClose = message;\n      this._genDetailViewItem(socketIndex);\n    });\n\n    WebSocketInterceptor.setOnErrorCallback((socketId, message) => {\n      const socketIndex = this._socketIdMap[socketId];\n      if (socketIndex === undefined) {\n        return;\n      }\n      this._requests[socketIndex].serverError = message;\n      this._genDetailViewItem(socketIndex);\n    });\n\n    // Fire above callbacks.\n    WebSocketInterceptor.enableInterception();\n  }\n\n  componentDidMount() {\n    this._enableXHRInterception();\n    this._enableWebSocketInterception();\n  }\n\n  componentWillUnmount() {\n    XHRInterceptor.disableInterception();\n    WebSocketInterceptor.disableInterception();\n  }\n\n  _renderRow(\n    rowData: NetworkRequestInfo,\n    sectionID: number,\n    rowID: number,\n    highlightRow: (sectionID: number, rowID: number) => void,\n  ): React.Element<any> {\n    let urlCellViewStyle = styles.urlEvenCellView;\n    let methodCellViewStyle = styles.methodEvenCellView;\n    if (rowID % 2 === 1) {\n      urlCellViewStyle = styles.urlOddCellView;\n      methodCellViewStyle = styles.methodOddCellView;\n    }\n    return (\n      <TouchableHighlight onPress={() => {\n          this._pressRow(rowID);\n          highlightRow(sectionID, rowID);\n        }}>\n        <View>\n          <View style={styles.tableRow}>\n            <View style={urlCellViewStyle}>\n              <Text style={styles.cellText} numberOfLines={1}>\n                {rowData.url}\n              </Text>\n            </View>\n            <View style={methodCellViewStyle}>\n              <Text style={styles.cellText} numberOfLines={1}>\n                {this._getTypeShortName(rowData.type)}\n              </Text>\n            </View>\n          </View>\n        </View>\n      </TouchableHighlight>\n    );\n  }\n\n  _renderSeperator(\n    sectionID: number,\n    rowID: number,\n    adjacentRowHighlighted: bool): React.Element<any> {\n    return (\n      <View\n        key={`${sectionID}-${rowID}`}\n        style={{\n          height: adjacentRowHighlighted ? SEPARATOR_THICKNESS : 0,\n          backgroundColor: adjacentRowHighlighted ? '#3B5998' : '#CCCCCC',\n        }}\n      />\n    );\n  }\n\n  _scrollToBottom(): void {\n    if (this._listView) {\n      const scrollResponder = this._listView.getScrollResponder();\n      if (scrollResponder) {\n        const scrollY = Math.max(\n          this._requests.length * LISTVIEW_CELL_HEIGHT +\n          (this._listViewHighlighted ? 2 * SEPARATOR_THICKNESS : 0) -\n          this._listViewHeight,\n          0,\n        );\n        scrollResponder.scrollResponderScrollTo({\n          x: 0,\n          y: scrollY,\n          animated: true\n        });\n      }\n    }\n  }\n\n  _captureRequestListView(listRef: ?ListView): void {\n    this._listView = listRef;\n  }\n\n  _listViewOnLayout(event: any): void {\n    const {height} = event.nativeEvent.layout;\n    this._listViewHeight = height;\n  }\n\n  /**\n   * Popup a scrollView to dynamically show detailed information of\n   * the request, when pressing a row in the network flow listView.\n   */\n  _pressRow(rowID: number): void {\n    this._listViewHighlighted = true;\n    this.setState(\n      {detailRowID: rowID},\n      this._scrollToTop(),\n    );\n  }\n\n  _scrollToTop(): void {\n    if (this._scrollView) {\n      this._scrollView.scrollTo({\n        y: 0,\n        animated: false,\n      });\n    }\n  }\n\n  _captureDetailScrollView(scrollRef: ?ScrollView): void {\n    this._scrollView = scrollRef;\n  }\n\n  _closeButtonClicked() {\n    this.setState({detailRowID: null});\n  }\n\n  _getStringByValue(value: any): string {\n    if (value === undefined) {\n      return 'undefined';\n    }\n    if (typeof value === 'object') {\n      return JSON.stringify(value);\n    }\n    if (typeof value === 'string' && value.length > 500) {\n      return String(value).substr(0, 500).concat(\n        '\\n***TRUNCATED TO 500 CHARACTERS***');\n    }\n    return value;\n  }\n\n  _getRequestIndexByXHRID(index: number): number {\n    if (index === undefined) {\n      return -1;\n    }\n    const xhrIndex = this._xhrIdMap[index];\n    if (xhrIndex === undefined) {\n      return -1;\n    } else {\n      return xhrIndex;\n    }\n  }\n\n  _getTypeShortName(type: any): string {\n    if (type === 'XMLHttpRequest') {\n      return 'XHR';\n    } else if (type === 'WebSocket') {\n      return 'WS';\n    }\n\n    return '';\n  }\n\n  /**\n   * Generate a list of views containing network request information for\n   * a XHR object, to be shown in the detail scrollview. This function\n   * should be called every time there is a new update of the XHR object,\n   * in order to show network request/response information in real time.\n   */\n  _genDetailViewItem(index: number): void {\n    this._detailViewItems[index] = [];\n    const detailViewItem = this._detailViewItems[index];\n    const requestItem = this._requests[index];\n    for (let key in requestItem) {\n      detailViewItem.push(\n        <View style={styles.detailViewRow} key={key}>\n          <Text style={[styles.detailViewText, styles.detailKeyCellView]}>\n            {key}\n          </Text>\n          <Text style={[styles.detailViewText, styles.detailValueCellView]}>\n            {this._getStringByValue(requestItem[key])}\n          </Text>\n        </View>\n      );\n    }\n    // Re-render if this network request is showing in the detail view.\n    if (this.state.detailRowID != null &&\n        Number(this.state.detailRowID) === index) {\n      this.setState({newDetailInfo: true});\n    }\n  }\n\n  render() {\n    return (\n      <View style={styles.container}>\n        {this.state.detailRowID != null &&\n        <TouchableHighlight\n          style={styles.closeButton}\n          onPress={this._closeButtonClicked}>\n          <View>\n            <Text style={styles.clostButtonText}>v</Text>\n          </View>\n        </TouchableHighlight>}\n        {this.state.detailRowID != null &&\n        <ScrollView\n          style={styles.detailScrollView}\n          ref={this._captureDetailScrollView}>\n          {this._detailViewItems[this.state.detailRowID]}\n        </ScrollView>}\n        <View style={styles.listViewTitle}>\n          {this._requests.length > 0 &&\n          <View style={styles.tableRow}>\n            <View style={styles.urlTitleCellView}>\n              <Text style={styles.cellText} numberOfLines={1}>URL</Text>\n            </View>\n            <View style={styles.methodTitleCellView}>\n              <Text style={styles.cellText} numberOfLines={1}>Type</Text>\n            </View>\n          </View>}\n        </View>\n        <ListView\n          style={styles.listView}\n          ref={this._captureRequestListView}\n          dataSource={this.state.dataSource}\n          renderRow={this._renderRow}\n          enableEmptySections={true}\n          renderSeparator={this._renderSeperator}\n          onLayout={this._listViewOnLayout}\n        />\n      </View>\n    );\n  }\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    paddingTop: 10,\n    paddingBottom: 10,\n    paddingLeft: 5,\n    paddingRight: 5,\n  },\n  listViewTitle: {\n    height: 20,\n  },\n  listView: {\n    flex: 1,\n    height: 60,\n  },\n  tableRow: {\n    flexDirection: 'row',\n    flex: 1,\n  },\n  cellText: {\n    color: 'white',\n    fontSize: 12,\n  },\n  methodTitleCellView: {\n    height: 18,\n    borderColor: '#DCD7CD',\n    borderTopWidth: 1,\n    borderBottomWidth: 1,\n    borderRightWidth: 1,\n    alignItems: 'center',\n    justifyContent: 'center',\n    backgroundColor: '#444',\n    flex: 1,\n  },\n  urlTitleCellView: {\n    height: 18,\n    borderColor: '#DCD7CD',\n    borderTopWidth: 1,\n    borderBottomWidth: 1,\n    borderLeftWidth: 1,\n    borderRightWidth: 1,\n    justifyContent: 'center',\n    backgroundColor: '#444',\n    flex: 5,\n    paddingLeft: 3,\n  },\n  methodOddCellView: {\n    height: 15,\n    borderColor: '#DCD7CD',\n    borderRightWidth: 1,\n    alignItems: 'center',\n    justifyContent: 'center',\n    backgroundColor: '#000',\n    flex: 1,\n  },\n  urlOddCellView: {\n    height: 15,\n    borderColor: '#DCD7CD',\n    borderLeftWidth: 1,\n    borderRightWidth: 1,\n    justifyContent: 'center',\n    backgroundColor: '#000',\n    flex: 5,\n    paddingLeft: 3,\n  },\n  methodEvenCellView: {\n    height: 15,\n    borderColor: '#DCD7CD',\n    borderRightWidth: 1,\n    alignItems: 'center',\n    justifyContent: 'center',\n    backgroundColor: '#888',\n    flex: 1,\n  },\n  urlEvenCellView: {\n    height: 15,\n    borderColor: '#DCD7CD',\n    borderLeftWidth: 1,\n    borderRightWidth: 1,\n    justifyContent: 'center',\n    backgroundColor: '#888',\n    flex: 5,\n    paddingLeft: 3,\n  },\n  detailScrollView: {\n    flex: 1,\n    height: 180,\n    marginTop: 5,\n    marginBottom: 5,\n  },\n  detailKeyCellView: {\n    flex: 1.3,\n  },\n  detailValueCellView: {\n    flex: 2,\n  },\n  detailViewRow: {\n    flexDirection: 'row',\n    paddingHorizontal: 3,\n  },\n  detailViewText: {\n    color: 'white',\n    fontSize: 11,\n  },\n  clostButtonText: {\n    color: 'white',\n    fontSize: 10,\n  },\n  closeButton: {\n    marginTop: 5,\n    backgroundColor: '#888',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n});\n\nmodule.exports = NetworkOverlay;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule WebSocketInterceptor\n */\n 'use strict';\n\nconst RCTWebSocketModule = require('NativeModules').WebSocketModule;\nconst NativeEventEmitter = require('NativeEventEmitter');\n\nconst base64 = require('base64-js');\n\nconst originalRCTWebSocketConnect = RCTWebSocketModule.connect;\nconst originalRCTWebSocketSend = RCTWebSocketModule.send;\nconst originalRCTWebSocketSendBinary = RCTWebSocketModule.sendBinary;\nconst originalRCTWebSocketClose = RCTWebSocketModule.close;\n\nlet eventEmitter: NativeEventEmitter;\nlet subscriptions: Array<EventSubscription>;\n\nlet closeCallback;\nlet sendCallback;\nlet connectCallback;\nlet onOpenCallback;\nlet onMessageCallback;\nlet onErrorCallback;\nlet onCloseCallback;\n\nlet isInterceptorEnabled = false;\n\n/**\n * A network interceptor which monkey-patches RCTWebSocketModule methods\n * to gather all websocket network requests/responses, in order to show\n * their information in the React Native inspector development tool.\n */\n\nconst WebSocketInterceptor = {\n  /**\n   * Invoked when RCTWebSocketModule.close(...) is called.\n   */\n  setCloseCallback(callback) {\n    closeCallback = callback;\n  },\n\n  /**\n   * Invoked when RCTWebSocketModule.send(...) or sendBinary(...) is called.\n   */\n  setSendCallback(callback) {\n    sendCallback = callback;\n  },\n\n  /**\n   * Invoked when RCTWebSocketModule.connect(...) is called.\n   */\n  setConnectCallback(callback) {\n    connectCallback = callback;\n  },\n\n  /**\n   * Invoked when event \"websocketOpen\" happens.\n   */\n  setOnOpenCallback(callback) {\n    onOpenCallback = callback;\n  },\n\n  /**\n   * Invoked when event \"websocketMessage\" happens.\n   */\n  setOnMessageCallback(callback) {\n    onMessageCallback = callback;\n  },\n\n  /**\n   * Invoked when event \"websocketFailed\" happens.\n   */\n  setOnErrorCallback(callback) {\n    onErrorCallback = callback;\n  },\n\n  /**\n   * Invoked when event \"websocketClosed\" happens.\n   */\n  setOnCloseCallback(callback) {\n    onCloseCallback = callback;\n  },\n\n  isInterceptorEnabled() {\n    return isInterceptorEnabled;\n  },\n\n  _unregisterEvents() {\n    subscriptions.forEach(e => e.remove());\n    subscriptions = [];\n  },\n\n  /**\n   * Add listeners to the RCTWebSocketModule events to intercept them.\n   */\n  _registerEvents() {\n    subscriptions = [\n      eventEmitter.addListener('websocketMessage', ev => {\n        if (onMessageCallback) {\n          onMessageCallback(\n            ev.id,\n            (ev.type === 'binary') ?\n            WebSocketInterceptor._arrayBufferToString(ev.data) : ev.data,\n          );\n        }\n      }),\n      eventEmitter.addListener('websocketOpen', ev => {\n        if (onOpenCallback) {\n          onOpenCallback(ev.id);\n        }\n      }),\n      eventEmitter.addListener('websocketClosed', ev => {\n        if (onCloseCallback) {\n          onCloseCallback(ev.id, {code: ev.code, reason: ev.reason});\n        }\n      }),\n      eventEmitter.addListener('websocketFailed', ev => {\n        if (onErrorCallback) {\n          onErrorCallback(ev.id, {message: ev.message});\n        }\n      })\n    ];\n  },\n\n  enableInterception() {\n    if (isInterceptorEnabled) {\n      return;\n    }\n    eventEmitter = new NativeEventEmitter(RCTWebSocketModule);\n    WebSocketInterceptor._registerEvents();\n\n    // Override `connect` method for all RCTWebSocketModule requests\n    // to intercept the request url, protocols, options and socketId,\n    // then pass them through the `connectCallback`.\n    RCTWebSocketModule.connect = function(url, protocols, options, socketId) {\n      if (connectCallback) {\n        connectCallback(url, protocols, options, socketId);\n      }\n      originalRCTWebSocketConnect.apply(this, arguments);\n    };\n\n    // Override `send` method for all RCTWebSocketModule requests to intercept\n    // the data sent, then pass them through the `sendCallback`.\n    RCTWebSocketModule.send = function(data, socketId) {\n      if (sendCallback) {\n        sendCallback(data, socketId);\n      }\n      originalRCTWebSocketSend.apply(this, arguments);\n    };\n\n    // Override `sendBinary` method for all RCTWebSocketModule requests to\n    // intercept the data sent, then pass them through the `sendCallback`.\n    RCTWebSocketModule.sendBinary = function(data, socketId) {\n      if (sendCallback) {\n        sendCallback(WebSocketInterceptor._arrayBufferToString(data), socketId);\n      }\n      originalRCTWebSocketSendBinary.apply(this, arguments);\n    };\n\n    // Override `close` method for all RCTWebSocketModule requests to intercept\n    // the close information, then pass them through the `closeCallback`.\n    RCTWebSocketModule.close = function() {\n      if (closeCallback) {\n        if (arguments.length === 3) {\n          closeCallback(arguments[0], arguments[1], arguments[2]);\n        } else {\n          closeCallback(null, null, arguments[0]);\n        }\n      }\n      originalRCTWebSocketClose.apply(this, arguments);\n    };\n\n    isInterceptorEnabled = true;\n  },\n\n   _arrayBufferToString(data) {\n    const value = base64.toByteArray(data).buffer;\n    if (value === undefined || value === null) {\n      return '(no value)';\n    }\n    if (typeof ArrayBuffer !== 'undefined' &&\n        typeof Uint8Array !== 'undefined' &&\n        value instanceof ArrayBuffer) {\n      return `ArrayBuffer {${String(Array.from(new Uint8Array(value)))}}`;\n    }\n    return value;\n  },\n\n  // Unpatch RCTWebSocketModule methods and remove the callbacks.\n  disableInterception() {\n    if (!isInterceptorEnabled) {\n      return;\n    }\n    isInterceptorEnabled = false;\n    RCTWebSocketModule.send = originalRCTWebSocketSend;\n    RCTWebSocketModule.sendBinary = originalRCTWebSocketSendBinary;\n    RCTWebSocketModule.close = originalRCTWebSocketClose;\n    RCTWebSocketModule.connect = originalRCTWebSocketConnect;\n\n    connectCallback = null;\n    closeCallback = null;\n    sendCallback = null;\n    onOpenCallback = null;\n    onMessageCallback = null;\n    onCloseCallback = null;\n    onErrorCallback = null;\n\n    WebSocketInterceptor._unregisterEvents();\n  },\n};\n\nmodule.exports = WebSocketInterceptor;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule XHRInterceptor\n */\n 'use strict';\n\nconst XMLHttpRequest = require('XMLHttpRequest');\nconst originalXHROpen = XMLHttpRequest.prototype.open;\nconst originalXHRSend = XMLHttpRequest.prototype.send;\nconst originalXHRSetRequestHeader = XMLHttpRequest.prototype.setRequestHeader;\n\nvar openCallback;\nvar sendCallback;\nvar requestHeaderCallback;\nvar headerReceivedCallback;\nvar responseCallback;\n\nvar isInterceptorEnabled = false;\n\n/**\n * A network interceptor which monkey-patches XMLHttpRequest methods\n * to gather all network requests/responses, in order to show their\n * information in the React Native inspector development tool.\n * This supports interception with XMLHttpRequest API, including Fetch API\n * and any other third party libraries that depend on XMLHttpRequest.\n */\nconst XHRInterceptor = {\n  /**\n   * Invoked before XMLHttpRequest.open(...) is called.\n   */\n  setOpenCallback(callback) {\n    openCallback = callback;\n  },\n\n  /**\n   * Invoked before XMLHttpRequest.send(...) is called.\n   */\n  setSendCallback(callback) {\n    sendCallback = callback;\n  },\n\n  /**\n   * Invoked after xhr's readyState becomes xhr.HEADERS_RECEIVED.\n   */\n  setHeaderReceivedCallback(callback) {\n    headerReceivedCallback = callback;\n  },\n\n  /**\n   * Invoked after xhr's readyState becomes xhr.DONE.\n   */\n  setResponseCallback(callback) {\n    responseCallback = callback;\n  },\n\n  /**\n   * Invoked before XMLHttpRequest.setRequestHeader(...) is called.\n   */\n  setRequestHeaderCallback(callback) {\n    requestHeaderCallback = callback;\n  },\n\n  isInterceptorEnabled() {\n    return isInterceptorEnabled;\n  },\n\n  enableInterception() {\n    if (isInterceptorEnabled) {\n      return;\n    }\n    // Override `open` method for all XHR requests to intercept the request\n    // method and url, then pass them through the `openCallback`.\n    XMLHttpRequest.prototype.open = function(method, url) {\n      if (openCallback) {\n        openCallback(method, url, this);\n      }\n      originalXHROpen.apply(this, arguments);\n    };\n\n    // Override `setRequestHeader` method for all XHR requests to intercept\n    // the request headers, then pass them through the `requestHeaderCallback`.\n    XMLHttpRequest.prototype.setRequestHeader = function(header, value) {\n      if (requestHeaderCallback) {\n        requestHeaderCallback(header, value, this);\n      }\n      originalXHRSetRequestHeader.apply(this, arguments);\n    };\n\n    // Override `send` method of all XHR requests to intercept the data sent,\n    // register listeners to intercept the response, and invoke the callbacks.\n    XMLHttpRequest.prototype.send = function(data) {\n      if (sendCallback) {\n        sendCallback(data, this);\n      }\n      if (this.addEventListener) {\n        this.addEventListener('readystatechange', () => {\n          if (!isInterceptorEnabled) {\n            return;\n          }\n          if (this.readyState === this.HEADERS_RECEIVED) {\n            const contentTypeString = this.getResponseHeader('Content-Type');\n            const contentLengthString =\n              this.getResponseHeader('Content-Length');\n            let responseContentType, responseSize;\n            if (contentTypeString) {\n              responseContentType = contentTypeString.split(';')[0];\n            }\n            if (contentLengthString) {\n              responseSize = parseInt(contentLengthString, 10);\n            }\n            if (headerReceivedCallback) {\n              headerReceivedCallback(\n                responseContentType,\n                responseSize,\n                this.getAllResponseHeaders(),\n                this,\n              );\n            }\n          }\n          if (this.readyState === this.DONE) {\n            if (responseCallback) {\n              responseCallback(\n                this.status,\n                this.timeout,\n                this.response,\n                this.responseURL,\n                this.responseType,\n                this,\n              );\n            }\n          }\n        }, false);\n      }\n      originalXHRSend.apply(this, arguments);\n    };\n    isInterceptorEnabled = true;\n  },\n\n  // Unpatch XMLHttpRequest methods and remove the callbacks.\n  disableInterception() {\n    if (!isInterceptorEnabled) {\n      return;\n    }\n    isInterceptorEnabled = false;\n    XMLHttpRequest.prototype.send = originalXHRSend;\n    XMLHttpRequest.prototype.open = originalXHROpen;\n    XMLHttpRequest.prototype.setRequestHeader = originalXHRSetRequestHeader;\n    responseCallback = null;\n    openCallback = null;\n    sendCallback = null;\n    headerReceivedCallback = null;\n    requestHeaderCallback = null;\n  },\n};\n\nmodule.exports = XHRInterceptor;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule PerformanceOverlay\n * @flow\n */\n'use strict';\n\nvar PerformanceLogger = require('PerformanceLogger');\nvar React = require('React');\nvar StyleSheet = require('StyleSheet');\nvar Text = require('Text');\nvar View = require('View');\n\nclass PerformanceOverlay extends React.Component {\n  render() {\n    var perfLogs = PerformanceLogger.getTimespans();\n    var items = [];\n\n    for (var key in perfLogs) {\n      if (perfLogs[key].totalTime) {\n        var unit = (key === 'BundleSize') ? 'b' : 'ms';\n        items.push(\n          <View style={styles.row} key={key}>\n            <Text style={[styles.text, styles.label]}>{key}</Text>\n            <Text style={[styles.text, styles.totalTime]}>\n              {perfLogs[key].totalTime + unit}\n            </Text>\n          </View>\n        );\n      }\n    }\n\n    return (\n      <View style={styles.container}>\n        {items}\n      </View>\n    );\n  }\n}\n\nvar styles = StyleSheet.create({\n  container: {\n    height: 100,\n    paddingTop: 10,\n  },\n  label: {\n    flex: 1,\n  },\n  row: {\n    flexDirection: 'row',\n    paddingHorizontal: 10,\n  },\n  text: {\n    color: 'white',\n    fontSize: 12,\n  },\n  totalTime: {\n    paddingRight: 100,\n  },\n});\n\nmodule.exports = PerformanceOverlay;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule YellowBox\n * @flow\n */\n\n'use strict';\n\nconst EventEmitter = require('EventEmitter');\nconst Platform = require('Platform');\nconst React = require('React');\nconst StyleSheet = require('StyleSheet');\n\nconst infoLog = require('infoLog');\nconst openFileInEditor = require('openFileInEditor');\nconst parseErrorStack = require('parseErrorStack');\nconst symbolicateStackTrace = require('symbolicateStackTrace');\n\nimport type EmitterSubscription from 'EmitterSubscription';\nimport type {StackFrame} from 'parseErrorStack';\n\ntype WarningInfo = {\n  count: number,\n  stacktrace: Array<StackFrame>,\n  symbolicated: boolean,\n};\n\nconst _warningEmitter = new EventEmitter();\nconst _warningMap: Map<string, WarningInfo> = new Map();\n\n/**\n * YellowBox renders warnings at the bottom of the app being developed.\n *\n * Warnings help guard against subtle yet significant issues that can impact the\n * quality of the app. This \"in your face\" style of warning allows developers to\n * notice and correct these issues as quickly as possible.\n *\n * By default, the warning box is enabled in `__DEV__`. Set the following flag\n * to disable it (and call `console.warn` to update any rendered <YellowBox>):\n *\n *   console.disableYellowBox = true;\n *   console.warn('YellowBox is disabled.');\n *\n * Warnings can be ignored programmatically by setting the array:\n *\n *   console.ignoredYellowBox = ['Warning: ...'];\n *\n * Strings in `console.ignoredYellowBox` can be a prefix of the warning that\n * should be ignored.\n */\n\nif (__DEV__) {\n  const {error, warn} = console;\n\n  (console: any).error = function() {\n    error.apply(console, arguments);\n    // Show yellow box for the `warning` module.\n    if (typeof arguments[0] === 'string' &&\n        arguments[0].startsWith('Warning: ')) {\n      updateWarningMap.apply(null, arguments);\n    }\n  };\n\n  (console: any).warn = function() {\n    warn.apply(console, arguments);\n\n    if (typeof arguments[0] === 'string' &&\n        arguments[0].startsWith('(ADVICE)')) {\n      return;\n    }\n\n    updateWarningMap.apply(null, arguments);\n  };\n\n  if (Platform.isTesting) {\n    (console: any).disableYellowBox = true;\n  }\n}\n\n/**\n * Simple function for formatting strings.\n *\n * Replaces placeholders with values passed as extra arguments\n *\n * @param {string} format the base string\n * @param ...args the values to insert\n * @return {string} the replaced string\n */\nfunction sprintf(format, ...args) {\n  let index = 0;\n  return format.replace(/%s/g, match => args[index++]);\n}\n\nfunction updateWarningMap(format, ...args): void {\n  if (console.disableYellowBox) {\n    return;\n  }\n  const stringifySafe = require('stringifySafe');\n\n  format = String(format);\n  const argCount = (format.match(/%s/g) || []).length;\n  const warning = [\n    sprintf(format, ...args.slice(0, argCount)),\n    ...args.slice(argCount).map(stringifySafe),\n  ].join(' ');\n\n  const warningInfo = _warningMap.get(warning);\n  if (warningInfo) {\n    warningInfo.count += 1;\n  } else {\n    const error: any = new Error();\n    error.framesToPop = 2;\n\n    _warningMap.set(warning, {\n      count: 1,\n      stacktrace: parseErrorStack(error),\n      symbolicated: false,\n    });\n  }\n\n  _warningEmitter.emit('warning', _warningMap);\n}\n\nfunction ensureSymbolicatedWarning(warning: string): void {\n  const prevWarningInfo = _warningMap.get(warning);\n  if (!prevWarningInfo || prevWarningInfo.symbolicated) {\n    return;\n  }\n  prevWarningInfo.symbolicated = true;\n\n  symbolicateStackTrace(prevWarningInfo.stacktrace).then(\n    stack => {\n      const nextWarningInfo = _warningMap.get(warning);\n      if (nextWarningInfo) {\n        nextWarningInfo.stacktrace = stack;\n        _warningEmitter.emit('warning', _warningMap);\n      }\n    },\n    error => {\n      const nextWarningInfo = _warningMap.get(warning);\n      if (nextWarningInfo) {\n        infoLog('Failed to symbolicate warning, \"%s\":', warning, error);\n        _warningEmitter.emit('warning', _warningMap);\n      }\n    }\n  );\n}\n\nfunction isWarningIgnored(warning: string): boolean {\n  return (\n    Array.isArray(console.ignoredYellowBox) &&\n    console.ignoredYellowBox.some(\n      ignorePrefix => warning.startsWith(String(ignorePrefix))\n    )\n  );\n}\n\nconst WarningRow = ({count, warning, onPress}) => {\n  const Text = require('Text');\n  const TouchableHighlight = require('TouchableHighlight');\n  const View = require('View');\n\n  const countText = count > 1 ?\n    <Text style={styles.listRowCount}>{'(' + count + ') '}</Text> :\n    null;\n\n  return (\n    <View style={styles.listRow}>\n      <TouchableHighlight\n        activeOpacity={0.5}\n        onPress={onPress}\n        style={styles.listRowContent}\n        underlayColor=\"transparent\">\n        <Text style={styles.listRowText} numberOfLines={2}>\n          {countText}\n          {warning}\n        </Text>\n      </TouchableHighlight>\n    </View>\n  );\n};\n\ntype StackRowProps = { frame: StackFrame };\nconst StackRow = ({frame}: StackRowProps) => {\n  const Text = require('Text');\n  const TouchableHighlight = require('TouchableHighlight');\n  const {file, lineNumber} = frame;\n  const fileParts = file.split('/');\n  const fileName = fileParts[fileParts.length - 1];\n\n  return (\n    <TouchableHighlight\n      activeOpacity={0.5}\n      style={styles.openInEditorButton}\n      underlayColor=\"transparent\"\n      onPress={openFileInEditor.bind(null, file, lineNumber)}>\n      <Text style={styles.inspectorCountText}>\n        {fileName}:{lineNumber}\n      </Text>\n    </TouchableHighlight>\n  );\n};\n\nconst WarningInspector = ({\n  warningInfo,\n  warning,\n  stacktraceVisible,\n  onDismiss,\n  onDismissAll,\n  onMinimize,\n  toggleStacktrace,\n}) => {\n  const ScrollView = require('ScrollView');\n  const Text = require('Text');\n  const TouchableHighlight = require('TouchableHighlight');\n  const View = require('View');\n  const {count, stacktrace} = warningInfo || {};\n\n  const countSentence =\n    'Warning encountered ' + count + ' time' + (count - 1 ? 's' : '') + '.';\n\n  let stacktraceList;\n  if (stacktraceVisible && stacktrace) {\n    stacktraceList = (\n      <View style={styles.stacktraceList}>\n        {stacktrace.map((frame, ii) => <StackRow frame={frame} key={ii} />)}\n      </View>\n    );\n  }\n\n  return (\n    <View style={styles.inspector}>\n      <View style={styles.inspectorCount}>\n        <Text style={styles.inspectorCountText}>{countSentence}</Text>\n        <TouchableHighlight onPress={toggleStacktrace} underlayColor=\"transparent\">\n          <Text style={styles.inspectorButtonText}>\n            {stacktraceVisible ? '\\u{25BC}' : '\\u{25B6}'} Stacktrace\n          </Text>\n        </TouchableHighlight>\n      </View>\n      <ScrollView style={styles.inspectorWarning}>\n        {stacktraceList}\n        <Text style={styles.inspectorWarningText}>{warning}</Text>\n      </ScrollView>\n      <View style={styles.inspectorButtons}>\n        <TouchableHighlight\n          activeOpacity={0.5}\n          onPress={onMinimize}\n          style={styles.inspectorButton}\n          underlayColor=\"transparent\">\n          <Text style={styles.inspectorButtonText}>\n            Minimize\n          </Text>\n        </TouchableHighlight>\n        <TouchableHighlight\n          activeOpacity={0.5}\n          onPress={onDismiss}\n          style={styles.inspectorButton}\n          underlayColor=\"transparent\">\n          <Text style={styles.inspectorButtonText}>\n            Dismiss\n          </Text>\n        </TouchableHighlight>\n        <TouchableHighlight\n          activeOpacity={0.5}\n          onPress={onDismissAll}\n          style={styles.inspectorButton}\n          underlayColor=\"transparent\">\n          <Text style={styles.inspectorButtonText}>\n            Dismiss All\n          </Text>\n        </TouchableHighlight>\n      </View>\n    </View>\n  );\n};\n\nclass YellowBox extends React.Component {\n  state: {\n    stacktraceVisible: boolean,\n    inspecting: ?string,\n    warningMap: Map<any, any>,\n  };\n  _listener: ?EmitterSubscription;\n  dismissWarning: (warning: ?string) => void;\n\n  constructor(props: mixed, context: mixed) {\n    super(props, context);\n    this.state = {\n      inspecting: null,\n      stacktraceVisible: false,\n      warningMap: _warningMap,\n    };\n    this.dismissWarning = warning => {\n      const {inspecting, warningMap} = this.state;\n      if (warning) {\n        warningMap.delete(warning);\n      } else {\n        warningMap.clear();\n      }\n      this.setState({\n        inspecting: (warning && inspecting !== warning) ? inspecting : null,\n        warningMap,\n      });\n    };\n  }\n\n  componentDidMount() {\n    let scheduled = null;\n    this._listener = _warningEmitter.addListener('warning', warningMap => {\n      // Use `setImmediate` because warnings often happen during render, but\n      // state cannot be set while rendering.\n      scheduled = scheduled || setImmediate(() => {\n        scheduled = null;\n        this.setState({\n          warningMap,\n        });\n      });\n    });\n  }\n\n  componentDidUpdate() {\n    const {inspecting} = this.state;\n    if (inspecting != null) {\n      ensureSymbolicatedWarning(inspecting);\n    }\n  }\n\n  componentWillUnmount() {\n    if (this._listener) {\n      this._listener.remove();\n    }\n  }\n\n  render() {\n    if (console.disableYellowBox || this.state.warningMap.size === 0) {\n      return null;\n    }\n    const ScrollView = require('ScrollView');\n    const View = require('View');\n\n    const {inspecting, stacktraceVisible} = this.state;\n    const inspector = inspecting !== null ?\n      <WarningInspector\n        warningInfo={this.state.warningMap.get(inspecting)}\n        warning={inspecting}\n        stacktraceVisible={stacktraceVisible}\n        onDismiss={() => this.dismissWarning(inspecting)}\n        onDismissAll={() => this.dismissWarning(null)}\n        onMinimize={() => this.setState({inspecting: null})}\n        toggleStacktrace={() => this.setState({stacktraceVisible: !stacktraceVisible})}\n      /> :\n      null;\n\n    const rows = [];\n    this.state.warningMap.forEach((warningInfo, warning) => {\n      if (!isWarningIgnored(warning)) {\n        rows.push(\n          <WarningRow\n            key={warning}\n            count={warningInfo.count}\n            warning={warning}\n            onPress={() => this.setState({inspecting: warning})}\n            onDismiss={() => this.dismissWarning(warning)}\n          />\n        );\n      }\n    });\n\n    const listStyle = [\n      styles.list,\n      // Additional `0.4` so the 5th row can peek into view.\n      {height: Math.min(rows.length, 4.4) * (rowGutter + rowHeight)},\n    ];\n    return (\n      <View style={inspector ? styles.fullScreen : listStyle}>\n        <ScrollView style={listStyle} scrollsToTop={false}>\n          {rows}\n        </ScrollView>\n        {inspector}\n      </View>\n    );\n  }\n}\n\nconst backgroundColor = opacity => 'rgba(250, 186, 48, ' + opacity + ')';\nconst textColor = 'white';\nconst rowGutter = 1;\nconst rowHeight = 46;\n\n// For unknown reasons, setting elevation: Number.MAX_VALUE causes remote debugging to\n// hang on iOS (some sort of overflow maybe). Setting it to Number.MAX_SAFE_INTEGER fixes the iOS issue, but since\n// elevation is an android-only style property we might as well remove it altogether for iOS.\n// See: https://github.com/facebook/react-native/issues/12223\nconst elevation = Platform.OS === 'android' ? Number.MAX_SAFE_INTEGER : undefined;\n\nvar styles = StyleSheet.create({\n  fullScreen: {\n    height: '100%',\n    elevation: elevation\n  },\n  inspector: {\n    backgroundColor: backgroundColor(0.95),\n    height: '100%',\n    paddingTop: 5,\n    elevation:elevation\n  },\n  inspectorButtons: {\n    flexDirection: 'row',\n  },\n  inspectorButton: {\n    flex: 1,\n    paddingVertical: 22,\n    backgroundColor: backgroundColor(1),\n  },\n  stacktraceList: {\n    paddingBottom: 5,\n  },\n  inspectorButtonText: {\n    color: textColor,\n    fontSize: 14,\n    opacity: 0.8,\n    textAlign: 'center',\n  },\n  openInEditorButton: {\n    paddingTop: 5,\n    paddingBottom: 5,\n  },\n  inspectorCount: {\n    padding: 15,\n    paddingBottom: 0,\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n  },\n  inspectorCountText: {\n    color: textColor,\n    fontSize: 14,\n  },\n  inspectorWarning: {\n    flex: 1,\n    paddingHorizontal: 15,\n  },\n  inspectorWarningText: {\n    color: textColor,\n    fontSize: 16,\n    fontWeight: '600',\n  },\n  list: {\n    backgroundColor: 'transparent',\n    position: 'absolute',\n    left: 0,\n    right: 0,\n    bottom: 0,\n    elevation: elevation\n  },\n  listRow: {\n    backgroundColor: backgroundColor(0.95),\n    height: rowHeight,\n    marginTop: rowGutter,\n  },\n  listRowContent: {\n    flex: 1,\n  },\n  listRowCount: {\n    color: 'rgba(255, 255, 255, 0.5)',\n  },\n  listRowText: {\n    color: textColor,\n    position: 'absolute',\n    left: 0,\n    top: Platform.OS === 'android' ? 5 : 7,\n    marginLeft: 15,\n    marginRight: 15,\n  },\n});\n\nmodule.exports = YellowBox;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule I18nManager\n * @flow\n */\n'use strict';\n\ntype I18nManagerStatus = {\n  isRTL: boolean,\n  allowRTL: (allowRTL: boolean) => {},\n  forceRTL: (forceRTL: boolean) => {},\n};\n\nconst I18nManager : I18nManagerStatus = require('NativeModules').I18nManager || {\n  isRTL: false,\n  allowRTL: () => {},\n  forceRTL: () => {},\n};\n\nmodule.exports = I18nManager;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * Facebook, Inc. (\"Facebook\") owns all right, title and interest, including\n * all intellectual property and other proprietary rights, in and to the React\n * Native CustomComponents software (the \"Software\").  Subject to your\n * compliance with these terms, you are hereby granted a non-exclusive,\n * worldwide, royalty-free copyright license to (1) use and copy the Software;\n * and (2) reproduce and distribute the Software as part of your own software\n * (\"Your Software\").  Facebook reserves all rights not expressly granted to\n * you in this license agreement.\n *\n * THE SOFTWARE AND DOCUMENTATION, IF ANY, ARE PROVIDED \"AS IS\" AND ANY EXPRESS\n * OR IMPLIED WARRANTIES (INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES\n * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE) ARE DISCLAIMED.\n * IN NO EVENT SHALL FACEBOOK OR ITS AFFILIATES, OFFICERS, DIRECTORS OR\n * EMPLOYEES BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,\n * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,\n * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;\n * OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,\n * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR\n * OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THE SOFTWARE, EVEN IF\n * ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @providesModule Navigator\n */\n /* eslint-disable no-extra-boolean-cast*/\n'use strict';\n\nvar AnimationsDebugModule = require('NativeModules').AnimationsDebugModule;\nvar Dimensions = require('Dimensions');\nvar InteractionMixin = require('InteractionMixin');\nvar NavigationContext = require('NavigationContext');\nvar NavigatorBreadcrumbNavigationBar = require('NavigatorBreadcrumbNavigationBar');\nvar NavigatorNavigationBar = require('NavigatorNavigationBar');\nvar NavigatorSceneConfigs = require('NavigatorSceneConfigs');\nvar PanResponder = require('PanResponder');\nvar React = require('React');\nvar StyleSheet = require('StyleSheet');\nvar Subscribable = require('Subscribable');\nvar TVEventHandler = require('TVEventHandler');\nvar TimerMixin = require('react-timer-mixin');\nvar View = require('View');\n\nvar clamp = require('clamp');\nvar flattenStyle = require('flattenStyle');\nvar invariant = require('fbjs/lib/invariant');\nvar rebound = require('rebound');\n\nvar PropTypes = React.PropTypes;\n\n// TODO: this is not ideal because there is no guarantee that the navigator\n// is full screen, however we don't have a good way to measure the actual\n// size of the navigator right now, so this is the next best thing.\nvar SCREEN_WIDTH = Dimensions.get('window').width;\nvar SCREEN_HEIGHT = Dimensions.get('window').height;\nvar SCENE_DISABLED_NATIVE_PROPS = {\n  pointerEvents: 'none',\n  style: {\n    top: SCREEN_HEIGHT,\n    bottom: -SCREEN_HEIGHT,\n    opacity: 0,\n  },\n};\n\nvar __uid = 0;\nfunction getuid() {\n  return __uid++;\n}\n\nfunction getRouteID(route) {\n  if (route === null || typeof route !== 'object') {\n    return String(route);\n  }\n\n  var key = '__navigatorRouteID';\n\n  if (!route.hasOwnProperty(key)) {\n    Object.defineProperty(route, key, {\n      enumerable: false,\n      configurable: false,\n      writable: false,\n      value: getuid(),\n    });\n  }\n  return route[key];\n}\n\n// styles moved to the top of the file so getDefaultProps can refer to it\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    overflow: 'hidden',\n  },\n  defaultSceneStyle: {\n    position: 'absolute',\n    left: 0,\n    right: 0,\n    bottom: 0,\n    top: 0,\n    transform: [\n      {translateX: 0},\n      {translateY: 0},\n      {scaleX: 1},\n      {scaleY: 1},\n      {rotate: '0deg'},\n      {skewX: '0deg'},\n      {skewY: '0deg'},\n    ],\n  },\n  baseScene: {\n    position: 'absolute',\n    overflow: 'hidden',\n    left: 0,\n    right: 0,\n    bottom: 0,\n    top: 0,\n  },\n  disabledScene: {\n    top: SCREEN_HEIGHT,\n    bottom: -SCREEN_HEIGHT,\n  },\n  transitioner: {\n    flex: 1,\n    backgroundColor: 'transparent',\n    overflow: 'hidden',\n  }\n});\n\nvar GESTURE_ACTIONS = [\n  'pop',\n  'jumpBack',\n  'jumpForward',\n];\n\n/**\n * `Navigator` handles the transition between different scenes in your app.\n * It is implemented in JavaScript and is available on both iOS and Android. If\n * you are targeting iOS only, you may also want to consider using\n * [`NavigatorIOS`](docs/navigatorios.html) as it leverages native UIKit\n * navigation.\n *\n * To set up the `Navigator` you provide one or more objects called routes,\n * to identify each scene. You also provide a `renderScene` function that\n * renders the scene for each route object.\n *\n * ```\n * import React, { Component } from 'react';\n * import { Text, Navigator, TouchableHighlight } from 'react-native';\n *\n * export default class NavAllDay extends Component {\n *   render() {\n *     return (\n *       <Navigator\n *         initialRoute={{ title: 'Awesome Scene', index: 0 }}\n *         renderScene={(route, navigator) =>\n *           <Text>Hello {route.title}!</Text>\n *         }\n *         style={{padding: 100}}\n *       />\n *     );\n *   }\n * }\n * ```\n *\n * In the above example, `initialRoute` is used to specify the first route. It\n * contains a `title` property that identifies the route. The `renderScene`\n * prop returns a function that displays text based on the route's title.\n *\n * ### Additional Scenes\n *\n * The first example demonstrated one scene. To set up multiple scenes, you pass\n * the `initialRouteStack` prop to `Navigator`:\n *\n * ```\n * render() {\n *   const routes = [\n *     {title: 'First Scene', index: 0},\n *     {title: 'Second Scene', index: 1},\n *   ];\n *   return (\n *     <Navigator\n *       initialRoute={routes[0]}\n *       initialRouteStack={routes}\n *       renderScene={(route, navigator) =>\n *         <TouchableHighlight onPress={() => {\n *           if (route.index === 0) {\n *             navigator.push(routes[1]);\n *           } else {\n *             navigator.pop();\n *           }\n *         }}>\n *         <Text>Hello {route.title}!</Text>\n *         </TouchableHighlight>\n *       }\n *       style={{padding: 100}}\n *     />\n *   );\n * }\n * ```\n *\n * In the above example, a `routes` variable is defined with two route objects\n * representing two scenes. Each route has an `index` property that is used to\n * manage the scene being rendered. The `renderScene` method is changed to\n * either push or pop the navigator depending on the current route's index.\n * Finally, the `Text` component in the scene is now wrapped in a\n * `TouchableHighlight` component to help trigger the navigator transitions.\n *\n * ### Navigation Bar\n *\n * You can optionally pass in your own navigation bar by returning a\n * `Navigator.NavigationBar` component to the `navigationBar` prop in\n * `Navigator`. You can configure the navigation bar properties, through\n * the `routeMapper` prop. There you set up the left, right, and title\n * properties of the navigation bar:\n *\n * ```\n * <Navigator\n *   renderScene={(route, navigator) =>\n *     // ...\n *   }\n *   navigationBar={\n *      <Navigator.NavigationBar\n *        routeMapper={{\n *          LeftButton: (route, navigator, index, navState) =>\n *           { return (<Text>Cancel</Text>); },\n *          RightButton: (route, navigator, index, navState) =>\n *            { return (<Text>Done</Text>); },\n *          Title: (route, navigator, index, navState) =>\n *            { return (<Text>Awesome Nav Bar</Text>); },\n *        }}\n *        style={{backgroundColor: 'gray'}}\n *      />\n *   }\n * />\n * ```\n *\n * When configuring the left, right, and title items for the navigation bar,\n * you have access to info such as the current route object and navigation\n * state. This allows you to customize the title for each scene as well as\n * the buttons. For example, you can choose to hide the left button for one of\n * the scenes.\n *\n * Typically you want buttons to represent the left and right buttons. Building\n * on the previous example, you can set this up as follows:\n *\n * ```\n * LeftButton: (route, navigator, index, navState) =>\n *   {\n *     if (route.index === 0) {\n *       return null;\n *     } else {\n *       return (\n *         <TouchableHighlight onPress={() => navigator.pop()}>\n *           <Text>Back</Text>\n *         </TouchableHighlight>\n *       );\n *     }\n *   },\n * ```\n *\n * This sets up a left navigator bar button that's visible on scenes after the\n * the first one. When the button is tapped the navigator is popped.\n *\n * Another type of navigation bar, with breadcrumbs, is provided by\n * `Navigator.BreadcrumbNavigationBar`. You can also provide your own navigation\n * bar by passing it through the `navigationBar` prop. See the\n * [UIExplorer](https://github.com/facebook/react-native/tree/master/Examples/UIExplorer)\n * demo to try out both built-in navigation bars out and see how to use them.\n *\n * ### Scene Transitions\n *\n * To change the animation or gesture properties of the scene, provide a\n * `configureScene` prop to get the config object for a given route:\n *\n * ```\n * <Navigator\n *   renderScene={(route, navigator) =>\n *     // ...\n *   }\n *   configureScene={(route, routeStack) =>\n *     Navigator.SceneConfigs.FloatFromBottom}\n * />\n * ```\n * In the above example, the newly pushed scene will float up from the bottom.\n * See `Navigator.SceneConfigs` for default animations and more info on\n * available [scene config options](docs/navigator.html#configurescene).\n */\nvar Navigator = React.createClass({\n\n  propTypes: {\n    /**\n     * Optional function where you can configure scene animations and\n     * gestures. Will be invoked with `route` and `routeStack` parameters,\n     * where `route` corresponds to the current scene being rendered by the\n     * `Navigator` and `routeStack` is the set of currently mounted routes\n     * that the navigator could transition to.\n     *\n     * The function should return a scene configuration object.\n     *\n     * ```\n     * (route, routeStack) => Navigator.SceneConfigs.FloatFromRight\n     * ```\n     *\n     * Available scene configuration options are:\n     *\n     *  - Navigator.SceneConfigs.PushFromRight (default)\n     *  - Navigator.SceneConfigs.FloatFromRight\n     *  - Navigator.SceneConfigs.FloatFromLeft\n     *  - Navigator.SceneConfigs.FloatFromBottom\n     *  - Navigator.SceneConfigs.FloatFromBottomAndroid\n     *  - Navigator.SceneConfigs.FadeAndroid\n     *  - Navigator.SceneConfigs.SwipeFromLeft\n     *  - Navigator.SceneConfigs.HorizontalSwipeJump\n     *  - Navigator.SceneConfigs.HorizontalSwipeJumpFromRight\n     *  - Navigator.SceneConfigs.HorizontalSwipeJumpFromLeft\n     *  - Navigator.SceneConfigs.VerticalUpSwipeJump\n     *  - Navigator.SceneConfigs.VerticalDownSwipeJump\n     *\n     */\n    configureScene: PropTypes.func,\n\n    /**\n     * Required function which renders the scene for a given route. Will be\n     * invoked with the `route` and the `navigator` object.\n     *\n     * ```\n     * (route, navigator) =>\n     *   <MySceneComponent title={route.title} navigator={navigator} />\n     * ```\n     */\n    renderScene: PropTypes.func.isRequired,\n\n    /**\n     * The initial route for navigation. A route is an object that the navigator\n     * will use to identify each scene it renders.\n     *\n     * If both `initialRoute` and `initialRouteStack` props are passed to\n     * `Navigator`, then `initialRoute` must be in a route in\n     * `initialRouteStack`. If `initialRouteStack` is passed as a prop but\n     * `initialRoute` is not, then `initialRoute` will default internally to\n     * the last item in `initialRouteStack`.\n     */\n    initialRoute: PropTypes.object,\n\n    /**\n     * Pass this in to provide a set of routes to initially mount. This prop\n     * is required if `initialRoute` is not provided to the navigator. If this\n     * prop is not passed in, it will default internally to an array\n     * containing only `initialRoute`.\n     */\n    initialRouteStack: PropTypes.arrayOf(PropTypes.object),\n\n    /**\n     * Pass in a function to get notified with the target route when\n     * the navigator component is mounted and before each navigator transition.\n     */\n    onWillFocus: PropTypes.func,\n\n    /**\n     * Will be called with the new route of each scene after the transition is\n     * complete or after the initial mounting.\n     */\n    onDidFocus: PropTypes.func,\n\n    /**\n     * Use this to provide an optional component representing a navigation bar\n     * that is persisted across scene transitions. This component will receive\n     * two props: `navigator` and `navState` representing the navigator\n     * component and its state. The component is re-rendered when the route\n     * changes.\n     */\n    navigationBar: PropTypes.node,\n\n    /**\n     * Optionally pass in the navigator object from a parent `Navigator`.\n     */\n    navigator: PropTypes.object,\n\n    /**\n     * Styles to apply to the container of each scene.\n     */\n    sceneStyle: View.propTypes.style,\n  },\n\n  statics: {\n    BreadcrumbNavigationBar: NavigatorBreadcrumbNavigationBar,\n    NavigationBar: NavigatorNavigationBar,\n    SceneConfigs: NavigatorSceneConfigs,\n  },\n\n  mixins: [TimerMixin, InteractionMixin, Subscribable.Mixin],\n\n  getDefaultProps: function() {\n    return {\n      configureScene: () => NavigatorSceneConfigs.PushFromRight,\n      sceneStyle: styles.defaultSceneStyle,\n    };\n  },\n\n  getInitialState: function() {\n    this._navigationBarNavigator = this.props.navigationBarNavigator || this;\n\n    this._renderedSceneMap = new Map();\n\n    this._sceneRefs = [];\n\n    var routeStack = this.props.initialRouteStack || [this.props.initialRoute];\n    invariant(\n      routeStack.length >= 1,\n      'Navigator requires props.initialRoute or props.initialRouteStack.'\n    );\n    var initialRouteIndex = routeStack.length - 1;\n    if (this.props.initialRoute) {\n      initialRouteIndex = routeStack.indexOf(this.props.initialRoute);\n      invariant(\n        initialRouteIndex !== -1,\n        'initialRoute is not in initialRouteStack.'\n      );\n    }\n    return {\n      sceneConfigStack: routeStack.map(\n        (route) => this.props.configureScene(route, routeStack)\n      ),\n      routeStack,\n      presentedIndex: initialRouteIndex,\n      transitionFromIndex: null,\n      activeGesture: null,\n      pendingGestureProgress: null,\n      transitionQueue: [],\n    };\n  },\n\n  componentWillMount: function() {\n    // TODO(t7489503): Don't need this once ES6 Class landed.\n    this.__defineGetter__('navigationContext', this._getNavigationContext);\n\n    this._subRouteFocus = [];\n    this.parentNavigator = this.props.navigator;\n    this._handlers = {};\n    this.springSystem = new rebound.SpringSystem();\n    this.spring = this.springSystem.createSpring();\n    this.spring.setRestSpeedThreshold(0.05);\n    this.spring.setCurrentValue(0).setAtRest();\n    this.spring.addListener({\n      onSpringEndStateChange: () => {\n        if (!this._interactionHandle) {\n          this._interactionHandle = this.createInteractionHandle();\n        }\n      },\n      onSpringUpdate: () => {\n        this._handleSpringUpdate();\n      },\n      onSpringAtRest: () => {\n        this._completeTransition();\n      },\n    });\n    this.panGesture = PanResponder.create({\n      onMoveShouldSetPanResponder: this._handleMoveShouldSetPanResponder,\n      onPanResponderRelease: this._handlePanResponderRelease,\n      onPanResponderMove: this._handlePanResponderMove,\n      onPanResponderTerminate: this._handlePanResponderTerminate,\n    });\n    this._interactionHandle = null;\n    this._emitWillFocus(this.state.routeStack[this.state.presentedIndex]);\n  },\n\n  componentDidMount: function() {\n    this._handleSpringUpdate();\n    this._emitDidFocus(this.state.routeStack[this.state.presentedIndex]);\n    this._enableTVEventHandler();\n  },\n\n  componentWillUnmount: function() {\n    if (this._navigationContext) {\n      this._navigationContext.dispose();\n      this._navigationContext = null;\n    }\n\n    this.spring.destroy();\n\n    if (this._interactionHandle) {\n      this.clearInteractionHandle(this._interactionHandle);\n    }\n\n    this._disableTVEventHandler();\n  },\n\n  /**\n   * Reset every scene with an array of routes.\n   *\n   * @param {RouteStack} nextRouteStack Next route stack to reinitialize.\n   * All existing route stacks are destroyed and potentially recreated. There\n   * is no accompanying animation and this method immediately replaces and\n   * re-renders the navigation bar and the stack items.\n   */\n  immediatelyResetRouteStack: function(nextRouteStack) {\n    var destIndex = nextRouteStack.length - 1;\n    this._emitWillFocus(nextRouteStack[destIndex]);\n    this.setState({\n      routeStack: nextRouteStack,\n      sceneConfigStack: nextRouteStack.map(\n        route => this.props.configureScene(route, nextRouteStack)\n      ),\n      presentedIndex: destIndex,\n      activeGesture: null,\n      transitionFromIndex: null,\n      transitionQueue: [],\n    }, () => {\n      this._handleSpringUpdate();\n      var navBar = this._navBar;\n      if (navBar && navBar.immediatelyRefresh) {\n        navBar.immediatelyRefresh();\n      }\n      this._emitDidFocus(this.state.routeStack[this.state.presentedIndex]);\n    });\n  },\n\n  _transitionTo: function(destIndex, velocity, jumpSpringTo, cb) {\n    if (this.state.presentedIndex === destIndex) {\n      cb && cb();\n      return;\n    }\n\n    if (this.state.transitionFromIndex !== null) {\n      // Navigation is still transitioning, put the `destIndex` into queue.\n      this.state.transitionQueue.push({\n        destIndex,\n        velocity,\n        cb,\n      });\n      return;\n    }\n\n    this.state.transitionFromIndex = this.state.presentedIndex;\n    this.state.presentedIndex = destIndex;\n    this.state.transitionCb = cb;\n    this._onAnimationStart();\n    if (AnimationsDebugModule) {\n      AnimationsDebugModule.startRecordingFps();\n    }\n    var sceneConfig = this.state.sceneConfigStack[this.state.transitionFromIndex] ||\n      this.state.sceneConfigStack[this.state.presentedIndex];\n    invariant(\n      sceneConfig,\n      'Cannot configure scene at index ' + this.state.transitionFromIndex\n    );\n    if (jumpSpringTo != null) {\n      this.spring.setCurrentValue(jumpSpringTo);\n    }\n    this.spring.setOvershootClampingEnabled(true);\n    this.spring.getSpringConfig().friction = sceneConfig.springFriction;\n    this.spring.getSpringConfig().tension = sceneConfig.springTension;\n    this.spring.setVelocity(velocity || sceneConfig.defaultTransitionVelocity);\n    this.spring.setEndValue(1);\n  },\n\n  /**\n   * This happens for each frame of either a gesture or a transition. If both are\n   * happening, we only set values for the transition and the gesture will catch up later\n   */\n  _handleSpringUpdate: function() {\n    if (!this.isMounted()) {\n      return;\n    }\n    // Prioritize handling transition in progress over a gesture:\n    if (this.state.transitionFromIndex != null) {\n      this._transitionBetween(\n        this.state.transitionFromIndex,\n        this.state.presentedIndex,\n        this.spring.getCurrentValue()\n      );\n    } else if (this.state.activeGesture != null) {\n      var presentedToIndex = this.state.presentedIndex + this._deltaForGestureAction(this.state.activeGesture);\n      this._transitionBetween(\n        this.state.presentedIndex,\n        presentedToIndex,\n        this.spring.getCurrentValue()\n      );\n    }\n  },\n\n  /**\n   * This happens at the end of a transition started by transitionTo, and when the spring catches up to a pending gesture\n   */\n  _completeTransition: function() {\n    if (!this.isMounted()) {\n      return;\n    }\n\n    if (this.spring.getCurrentValue() !== 1 && this.spring.getCurrentValue() !== 0) {\n      // The spring has finished catching up to a gesture in progress. Remove the pending progress\n      // and we will be in a normal activeGesture state\n      if (this.state.pendingGestureProgress) {\n        this.state.pendingGestureProgress = null;\n      }\n      return;\n    }\n    this._onAnimationEnd();\n    var presentedIndex = this.state.presentedIndex;\n    var didFocusRoute = this._subRouteFocus[presentedIndex] || this.state.routeStack[presentedIndex];\n\n    if (AnimationsDebugModule) {\n      AnimationsDebugModule.stopRecordingFps(Date.now());\n    }\n    this.state.transitionFromIndex = null;\n    this.spring.setCurrentValue(0).setAtRest();\n    this._hideScenes();\n    if (this.state.transitionCb) {\n      this.state.transitionCb();\n      this.state.transitionCb = null;\n    }\n\n    this._emitDidFocus(didFocusRoute);\n\n    if (this._interactionHandle) {\n      this.clearInteractionHandle(this._interactionHandle);\n      this._interactionHandle = null;\n    }\n    if (this.state.pendingGestureProgress) {\n      // A transition completed, but there is already another gesture happening.\n      // Enable the scene and set the spring to catch up with the new gesture\n      var gestureToIndex = this.state.presentedIndex + this._deltaForGestureAction(this.state.activeGesture);\n      this._enableScene(gestureToIndex);\n      this.spring.setEndValue(this.state.pendingGestureProgress);\n      return;\n    }\n    if (this.state.transitionQueue.length) {\n      var queuedTransition = this.state.transitionQueue.shift();\n      this._enableScene(queuedTransition.destIndex);\n      this._emitWillFocus(this.state.routeStack[queuedTransition.destIndex]);\n      this._transitionTo(\n        queuedTransition.destIndex,\n        queuedTransition.velocity,\n        null,\n        queuedTransition.cb\n      );\n    }\n  },\n\n  _emitDidFocus: function(route) {\n    this.navigationContext.emit('didfocus', {route: route});\n\n    if (this.props.onDidFocus) {\n      this.props.onDidFocus(route);\n    }\n  },\n\n  _emitWillFocus: function(route) {\n    this.navigationContext.emit('willfocus', {route: route});\n\n    var navBar = this._navBar;\n    if (navBar && navBar.handleWillFocus) {\n      navBar.handleWillFocus(route);\n    }\n    if (this.props.onWillFocus) {\n      this.props.onWillFocus(route);\n    }\n  },\n\n  /**\n   * Hides all scenes that we are not currently on, gesturing to, or transitioning from\n   */\n  _hideScenes: function() {\n    var gesturingToIndex = null;\n    if (this.state.activeGesture) {\n      gesturingToIndex = this.state.presentedIndex + this._deltaForGestureAction(this.state.activeGesture);\n    }\n    for (var i = 0; i < this.state.routeStack.length; i++) {\n      if (i === this.state.presentedIndex ||\n          i === this.state.transitionFromIndex ||\n          i === gesturingToIndex) {\n        continue;\n      }\n      this._disableScene(i);\n    }\n  },\n\n  /**\n   * Push a scene off the screen, so that opacity:0 scenes will not block touches sent to the presented scenes\n   */\n  _disableScene: function(sceneIndex) {\n    this._sceneRefs[sceneIndex] &&\n      this._sceneRefs[sceneIndex].setNativeProps(SCENE_DISABLED_NATIVE_PROPS);\n  },\n\n  /**\n   * Put the scene back into the state as defined by props.sceneStyle, so transitions can happen normally\n   */\n  _enableScene: function(sceneIndex) {\n    // First, determine what the defined styles are for scenes in this navigator\n    var sceneStyle = flattenStyle([styles.baseScene, this.props.sceneStyle]);\n    // Then restore the pointer events and top value for this scene\n    var enabledSceneNativeProps = {\n      pointerEvents: 'auto',\n      style: {\n        top: sceneStyle.top,\n        bottom: sceneStyle.bottom,\n      },\n    };\n    if (sceneIndex !== this.state.transitionFromIndex &&\n        sceneIndex !== this.state.presentedIndex) {\n      // If we are not in a transition from this index, make sure opacity is 0\n      // to prevent the enabled scene from flashing over the presented scene\n      enabledSceneNativeProps.style.opacity = 0;\n    }\n    this._sceneRefs[sceneIndex] &&\n      this._sceneRefs[sceneIndex].setNativeProps(enabledSceneNativeProps);\n  },\n\n  _clearTransformations: function(sceneIndex) {\n    const defaultStyle = flattenStyle([styles.defaultSceneStyle]);\n    this._sceneRefs[sceneIndex].setNativeProps({ style: defaultStyle });\n  },\n\n  _onAnimationStart: function() {\n    var fromIndex = this.state.presentedIndex;\n    var toIndex = this.state.presentedIndex;\n    if (this.state.transitionFromIndex != null) {\n      fromIndex = this.state.transitionFromIndex;\n    } else if (this.state.activeGesture) {\n      toIndex = this.state.presentedIndex + this._deltaForGestureAction(this.state.activeGesture);\n    }\n    this._setRenderSceneToHardwareTextureAndroid(fromIndex, true);\n    this._setRenderSceneToHardwareTextureAndroid(toIndex, true);\n    var navBar = this._navBar;\n    if (navBar && navBar.onAnimationStart) {\n      navBar.onAnimationStart(fromIndex, toIndex);\n    }\n  },\n\n  _onAnimationEnd: function() {\n    var max = this.state.routeStack.length - 1;\n    for (var index = 0; index <= max; index++) {\n      this._setRenderSceneToHardwareTextureAndroid(index, false);\n    }\n\n    var navBar = this._navBar;\n    if (navBar && navBar.onAnimationEnd) {\n      navBar.onAnimationEnd();\n    }\n  },\n\n  _setRenderSceneToHardwareTextureAndroid: function(sceneIndex, shouldRenderToHardwareTexture) {\n    var viewAtIndex = this._sceneRefs[sceneIndex];\n    if (viewAtIndex === null || viewAtIndex === undefined) {\n      return;\n    }\n    viewAtIndex.setNativeProps({renderToHardwareTextureAndroid: shouldRenderToHardwareTexture});\n  },\n\n  _handleTouchStart: function() {\n    this._eligibleGestures = GESTURE_ACTIONS;\n  },\n\n  _handleMoveShouldSetPanResponder: function(e, gestureState) {\n    var sceneConfig = this.state.sceneConfigStack[this.state.presentedIndex];\n    if (!sceneConfig) {\n      return false;\n    }\n    this._expectingGestureGrant =\n      this._matchGestureAction(this._eligibleGestures, sceneConfig.gestures, gestureState);\n    return !!this._expectingGestureGrant;\n  },\n\n  _doesGestureOverswipe: function(gestureName) {\n    var wouldOverswipeBack = this.state.presentedIndex <= 0 &&\n      (gestureName === 'pop' || gestureName === 'jumpBack');\n    var wouldOverswipeForward = this.state.presentedIndex >= this.state.routeStack.length - 1 &&\n      gestureName === 'jumpForward';\n    return wouldOverswipeForward || wouldOverswipeBack;\n  },\n\n  _deltaForGestureAction: function(gestureAction) {\n    switch (gestureAction) {\n      case 'pop':\n      case 'jumpBack':\n        return -1;\n      case 'jumpForward':\n        return 1;\n      default:\n        invariant(false, 'Unsupported gesture action ' + gestureAction);\n        return;\n    }\n  },\n\n  _handlePanResponderRelease: function(e, gestureState) {\n    var sceneConfig = this.state.sceneConfigStack[this.state.presentedIndex];\n    var releaseGestureAction = this.state.activeGesture;\n    if (!releaseGestureAction) {\n      // The gesture may have been detached while responder, so there is no action here\n      return;\n    }\n    var releaseGesture = sceneConfig.gestures[releaseGestureAction];\n    var destIndex = this.state.presentedIndex + this._deltaForGestureAction(this.state.activeGesture);\n    if (this.spring.getCurrentValue() === 0) {\n      // The spring is at zero, so the gesture is already complete\n      this.spring.setCurrentValue(0).setAtRest();\n      this._completeTransition();\n      return;\n    }\n    var isTravelVertical = releaseGesture.direction === 'top-to-bottom' || releaseGesture.direction === 'bottom-to-top';\n    var isTravelInverted = releaseGesture.direction === 'right-to-left' || releaseGesture.direction === 'bottom-to-top';\n    var velocity, gestureDistance;\n    if (isTravelVertical) {\n      velocity = isTravelInverted ? -gestureState.vy : gestureState.vy;\n      gestureDistance = isTravelInverted ? -gestureState.dy : gestureState.dy;\n    } else {\n      velocity = isTravelInverted ? -gestureState.vx : gestureState.vx;\n      gestureDistance = isTravelInverted ? -gestureState.dx : gestureState.dx;\n    }\n    var transitionVelocity = clamp(-10, velocity, 10);\n    if (Math.abs(velocity) < releaseGesture.notMoving) {\n      // The gesture velocity is so slow, is \"not moving\"\n      var hasGesturedEnoughToComplete = gestureDistance > releaseGesture.fullDistance * releaseGesture.stillCompletionRatio;\n      transitionVelocity = hasGesturedEnoughToComplete ? releaseGesture.snapVelocity : -releaseGesture.snapVelocity;\n    }\n    if (transitionVelocity < 0 || this._doesGestureOverswipe(releaseGestureAction)) {\n      // This gesture is to an overswiped region or does not have enough velocity to complete\n      // If we are currently mid-transition, then this gesture was a pending gesture. Because this gesture takes no action, we can stop here\n      if (this.state.transitionFromIndex == null) {\n        // There is no current transition, so we need to transition back to the presented index\n        var transitionBackToPresentedIndex = this.state.presentedIndex;\n        // slight hack: change the presented index for a moment in order to transitionTo correctly\n        this.state.presentedIndex = destIndex;\n        this._transitionTo(\n          transitionBackToPresentedIndex,\n          -transitionVelocity,\n          1 - this.spring.getCurrentValue()\n        );\n      }\n    } else {\n      // The gesture has enough velocity to complete, so we transition to the gesture's destination\n      this._emitWillFocus(this.state.routeStack[destIndex]);\n      this._transitionTo(\n        destIndex,\n        transitionVelocity,\n        null,\n        () => {\n          if (releaseGestureAction === 'pop') {\n            this._cleanScenesPastIndex(destIndex);\n          }\n        }\n      );\n    }\n    this._detachGesture();\n  },\n\n  _handlePanResponderTerminate: function(e, gestureState) {\n    if (this.state.activeGesture == null) {\n      return;\n    }\n    var destIndex = this.state.presentedIndex + this._deltaForGestureAction(this.state.activeGesture);\n    this._detachGesture();\n    var transitionBackToPresentedIndex = this.state.presentedIndex;\n    // slight hack: change the presented index for a moment in order to transitionTo correctly\n    this.state.presentedIndex = destIndex;\n    this._transitionTo(\n      transitionBackToPresentedIndex,\n      null,\n      1 - this.spring.getCurrentValue()\n    );\n  },\n\n  _attachGesture: function(gestureId) {\n    this.state.activeGesture = gestureId;\n    var gesturingToIndex = this.state.presentedIndex + this._deltaForGestureAction(this.state.activeGesture);\n    this._enableScene(gesturingToIndex);\n  },\n\n  _detachGesture: function() {\n    this.state.activeGesture = null;\n    this.state.pendingGestureProgress = null;\n    this._hideScenes();\n  },\n\n  _handlePanResponderMove: function(e, gestureState) {\n    if (this._isMoveGestureAttached !== undefined) {\n      invariant(\n        this._expectingGestureGrant,\n        'Responder granted unexpectedly.'\n      );\n      this._attachGesture(this._expectingGestureGrant);\n      this._onAnimationStart();\n      this._expectingGestureGrant = undefined;\n    }\n\n    var sceneConfig = this.state.sceneConfigStack[this.state.presentedIndex];\n    if (this.state.activeGesture) {\n      var gesture = sceneConfig.gestures[this.state.activeGesture];\n      return this._moveAttachedGesture(gesture, gestureState);\n    }\n    var matchedGesture = this._matchGestureAction(GESTURE_ACTIONS, sceneConfig.gestures, gestureState);\n    if (matchedGesture) {\n      this._attachGesture(matchedGesture);\n    }\n  },\n\n  _moveAttachedGesture: function(gesture, gestureState) {\n    var isTravelVertical = gesture.direction === 'top-to-bottom' || gesture.direction === 'bottom-to-top';\n    var isTravelInverted = gesture.direction === 'right-to-left' || gesture.direction === 'bottom-to-top';\n    var distance = isTravelVertical ? gestureState.dy : gestureState.dx;\n    distance = isTravelInverted ? -distance : distance;\n    var gestureDetectMovement = gesture.gestureDetectMovement;\n    var nextProgress = (distance - gestureDetectMovement) /\n      (gesture.fullDistance - gestureDetectMovement);\n    if (nextProgress < 0 && gesture.isDetachable) {\n      var gesturingToIndex = this.state.presentedIndex + this._deltaForGestureAction(this.state.activeGesture);\n      this._transitionBetween(this.state.presentedIndex, gesturingToIndex, 0);\n      this._detachGesture();\n      if (this.state.pendingGestureProgress != null) {\n        this.spring.setCurrentValue(0);\n      }\n      return;\n    }\n    if (gesture.overswipe && this._doesGestureOverswipe(this.state.activeGesture)) {\n      var frictionConstant = gesture.overswipe.frictionConstant;\n      var frictionByDistance = gesture.overswipe.frictionByDistance;\n      var frictionRatio = 1 / ((frictionConstant) + (Math.abs(nextProgress) * frictionByDistance));\n      nextProgress *= frictionRatio;\n    }\n    nextProgress = clamp(0, nextProgress, 1);\n    if (this.state.transitionFromIndex != null) {\n      this.state.pendingGestureProgress = nextProgress;\n    } else if (this.state.pendingGestureProgress) {\n      this.spring.setEndValue(nextProgress);\n    } else {\n      this.spring.setCurrentValue(nextProgress);\n    }\n  },\n\n  _matchGestureAction: function(eligibleGestures, gestures, gestureState) {\n    if (!gestures || !eligibleGestures || !eligibleGestures.some) {\n      return null;\n    }\n    var matchedGesture = null;\n    eligibleGestures.some((gestureName, gestureIndex) => {\n      var gesture = gestures[gestureName];\n      if (!gesture) {\n        return;\n      }\n      if (gesture.overswipe == null && this._doesGestureOverswipe(gestureName)) {\n        // cannot swipe past first or last scene without overswiping\n        return false;\n      }\n      var isTravelVertical = gesture.direction === 'top-to-bottom' || gesture.direction === 'bottom-to-top';\n      var isTravelInverted = gesture.direction === 'right-to-left' || gesture.direction === 'bottom-to-top';\n      var startedLoc = isTravelVertical ? gestureState.y0 : gestureState.x0;\n      var currentLoc = isTravelVertical ? gestureState.moveY : gestureState.moveX;\n      var travelDist = isTravelVertical ? gestureState.dy : gestureState.dx;\n      var oppositeAxisTravelDist =\n        isTravelVertical ? gestureState.dx : gestureState.dy;\n      var edgeHitWidth = gesture.edgeHitWidth;\n      if (isTravelInverted) {\n        startedLoc = -startedLoc;\n        currentLoc = -currentLoc;\n        travelDist = -travelDist;\n        oppositeAxisTravelDist = -oppositeAxisTravelDist;\n        edgeHitWidth = isTravelVertical ?\n          -(SCREEN_HEIGHT - edgeHitWidth) :\n          -(SCREEN_WIDTH - edgeHitWidth);\n      }\n      if (startedLoc === 0) {\n        startedLoc = currentLoc;\n      }\n      var moveStartedInRegion = gesture.edgeHitWidth == null ||\n        startedLoc < edgeHitWidth;\n      if (!moveStartedInRegion) {\n        return false;\n      }\n      var moveTravelledFarEnough = travelDist >= gesture.gestureDetectMovement;\n      if (!moveTravelledFarEnough) {\n        return false;\n      }\n      var directionIsCorrect = Math.abs(travelDist) > Math.abs(oppositeAxisTravelDist) * gesture.directionRatio;\n      if (directionIsCorrect) {\n        matchedGesture = gestureName;\n        return true;\n      } else {\n        this._eligibleGestures = this._eligibleGestures.slice().splice(gestureIndex, 1);\n      }\n    });\n    return matchedGesture || null;\n  },\n\n  _transitionSceneStyle: function(fromIndex, toIndex, progress, index) {\n    var viewAtIndex = this._sceneRefs[index];\n    if (viewAtIndex === null || viewAtIndex === undefined) {\n      return;\n    }\n    // Use toIndex animation when we move forwards. Use fromIndex when we move back\n    var sceneConfigIndex = fromIndex < toIndex ? toIndex : fromIndex;\n    var sceneConfig = this.state.sceneConfigStack[sceneConfigIndex];\n    // this happens for overswiping when there is no scene at toIndex\n    if (!sceneConfig) {\n      sceneConfig = this.state.sceneConfigStack[sceneConfigIndex - 1];\n    }\n    var styleToUse = {};\n    var useFn = index < fromIndex || index < toIndex ?\n      sceneConfig.animationInterpolators.out :\n      sceneConfig.animationInterpolators.into;\n    var directionAdjustedProgress = fromIndex < toIndex ? progress : 1 - progress;\n    var didChange = useFn(styleToUse, directionAdjustedProgress);\n    if (didChange) {\n      viewAtIndex.setNativeProps({style: styleToUse});\n    }\n  },\n\n  _transitionBetween: function(fromIndex, toIndex, progress) {\n    this._transitionSceneStyle(fromIndex, toIndex, progress, fromIndex);\n    this._transitionSceneStyle(fromIndex, toIndex, progress, toIndex);\n    var navBar = this._navBar;\n    if (navBar && navBar.updateProgress && toIndex >= 0 && fromIndex >= 0) {\n      navBar.updateProgress(progress, fromIndex, toIndex);\n    }\n  },\n\n  _handleResponderTerminationRequest: function() {\n    return false;\n  },\n\n  _getDestIndexWithinBounds: function(n) {\n    var currentIndex = this.state.presentedIndex;\n    var destIndex = currentIndex + n;\n    invariant(\n      destIndex >= 0,\n      'Cannot jump before the first route.'\n    );\n    var maxIndex = this.state.routeStack.length - 1;\n    invariant(\n      maxIndex >= destIndex,\n      'Cannot jump past the last route.'\n    );\n    return destIndex;\n  },\n\n  _jumpN: function(n) {\n    var destIndex = this._getDestIndexWithinBounds(n);\n    this._enableScene(destIndex);\n    this._emitWillFocus(this.state.routeStack[destIndex]);\n    this._transitionTo(destIndex);\n  },\n\n  /**\n   * Transition to an existing scene without unmounting.\n   * @param {object} route Route to transition to. The specified route must\n   * be in the currently mounted set of routes defined in `routeStack`.\n   */\n  jumpTo: function(route) {\n    var destIndex = this.state.routeStack.indexOf(route);\n    invariant(\n      destIndex !== -1,\n      'Cannot jump to route that is not in the route stack'\n    );\n    this._jumpN(destIndex - this.state.presentedIndex);\n  },\n\n  /**\n   * Jump forward to the next scene in the route stack.\n   */\n  jumpForward: function() {\n    this._jumpN(1);\n  },\n\n  /**\n   * Jump backward without unmounting the current scene.\n   */\n  jumpBack: function() {\n    this._jumpN(-1);\n  },\n\n  /**\n   * Navigate forward to a new scene, squashing any scenes that you could\n   * jump forward to.\n   * @param {object} route Route to push into the navigator stack.\n   */\n  push: function(route) {\n    invariant(!!route, 'Must supply route to push');\n    var activeLength = this.state.presentedIndex + 1;\n    var activeStack = this.state.routeStack.slice(0, activeLength);\n    var activeAnimationConfigStack = this.state.sceneConfigStack.slice(0, activeLength);\n    var nextStack = activeStack.concat([route]);\n    var destIndex = nextStack.length - 1;\n    var nextSceneConfig = this.props.configureScene(route, nextStack);\n    var nextAnimationConfigStack = activeAnimationConfigStack.concat([nextSceneConfig]);\n    this._emitWillFocus(nextStack[destIndex]);\n    this.setState({\n      routeStack: nextStack,\n      sceneConfigStack: nextAnimationConfigStack,\n    }, () => {\n      this._enableScene(destIndex);\n      this._transitionTo(destIndex, nextSceneConfig.defaultTransitionVelocity);\n    });\n  },\n\n  /**\n   * Go back N scenes at once. When N=1, behavior matches `pop()`.\n   * When N is invalid(negative or bigger than current routes count), do nothing.\n   * @param {number} n The number of scenes to pop. Should be an integer.\n   */\n  popN: function(n) {\n    invariant(typeof n === 'number', 'Must supply a number to popN');\n    n = parseInt(n, 10);\n    if (n <= 0 || this.state.presentedIndex - n < 0) {\n      return;\n    }\n    var popIndex = this.state.presentedIndex - n;\n    var presentedRoute = this.state.routeStack[this.state.presentedIndex];\n    var popSceneConfig = this.props.configureScene(presentedRoute); // using the scene config of the currently presented view\n    this._enableScene(popIndex);\n    // This is needed because scene at the pop index may be transformed\n    // with a configuration different from the configuration on the presented\n    // route.\n    this._clearTransformations(popIndex);\n    this._emitWillFocus(this.state.routeStack[popIndex]);\n    this._transitionTo(\n      popIndex,\n      popSceneConfig.defaultTransitionVelocity,\n      null, // no spring jumping\n      () => {\n        this._cleanScenesPastIndex(popIndex);\n      }\n    );\n  },\n\n  /**\n   * Transition back and unmount the current scene.\n   */\n  pop: function() {\n    if (this.state.transitionQueue.length) {\n      // This is the workaround to prevent user from firing multiple `pop()`\n      // calls that may pop the routes beyond the limit.\n      // Because `this.state.presentedIndex` does not update until the\n      // transition starts, we can't reliably use `this.state.presentedIndex`\n      // to know whether we can safely keep popping the routes or not at this\n      //  moment.\n      return;\n    }\n\n    this.popN(1);\n  },\n\n  /**\n   * Replace a scene as specified by an index.\n   * @param {object} route Route representing the new scene to render.\n   * @param {number} index The route in the stack that should be replaced.\n   *   If negative, it counts from the back of the stack.\n   * @param {Function} cb Callback function when the scene has been replaced.\n   */\n  replaceAtIndex: function(route, index, cb) {\n    invariant(!!route, 'Must supply route to replace');\n    if (index < 0) {\n      index += this.state.routeStack.length;\n    }\n\n    if (this.state.routeStack.length <= index) {\n      return;\n    }\n\n    var nextRouteStack = this.state.routeStack.slice();\n    var nextAnimationModeStack = this.state.sceneConfigStack.slice();\n    nextRouteStack[index] = route;\n    nextAnimationModeStack[index] = this.props.configureScene(route, nextRouteStack);\n\n    if (index === this.state.presentedIndex) {\n      this._emitWillFocus(route);\n    }\n    this.setState({\n      routeStack: nextRouteStack,\n      sceneConfigStack: nextAnimationModeStack,\n    }, () => {\n      if (index === this.state.presentedIndex) {\n        this._emitDidFocus(route);\n      }\n      cb && cb();\n    });\n  },\n\n  /**\n   * Replace the current scene with a new route.\n   * @param {object} route Route that replaces the current scene.\n   */\n  replace: function(route) {\n    this.replaceAtIndex(route, this.state.presentedIndex);\n  },\n\n  /**\n   * Replace the previous scene.\n   * @param {object} route Route that replaces the previous scene.\n   */\n  replacePrevious: function(route) {\n    this.replaceAtIndex(route, this.state.presentedIndex - 1);\n  },\n\n  /**\n   * Pop to the first scene in the stack, unmounting every other scene.\n   */\n  popToTop: function() {\n    this.popToRoute(this.state.routeStack[0]);\n  },\n\n  /**\n   * Pop to a particular scene, as specified by its route.\n   * All scenes after it will be unmounted.\n   * @param {object} route Route to pop to.\n   */\n  popToRoute: function(route) {\n    var indexOfRoute = this.state.routeStack.indexOf(route);\n    invariant(\n      indexOfRoute !== -1,\n      'Calling popToRoute for a route that doesn\\'t exist!'\n    );\n    var numToPop = this.state.presentedIndex - indexOfRoute;\n    this.popN(numToPop);\n  },\n\n  /**\n   * Replace the previous scene and pop to it.\n   * @param {object} route Route that replaces the previous scene.\n   */\n  replacePreviousAndPop: function(route) {\n    if (this.state.routeStack.length < 2) {\n      return;\n    }\n    this.replacePrevious(route);\n    this.pop();\n  },\n\n  /**\n   * Navigate to a new scene and reset route stack.\n   * @param {object} route Route to navigate to.\n   */\n  resetTo: function(route) {\n    invariant(!!route, 'Must supply route to push');\n    this.replaceAtIndex(route, 0, () => {\n      // Do not use popToRoute here, because race conditions could prevent the\n      // route from existing at this time. Instead, just go to index 0\n      this.popN(this.state.presentedIndex);\n    });\n  },\n\n  /**\n   * Returns the current list of routes.\n   */\n  getCurrentRoutes: function() {\n    // Clone before returning to avoid caller mutating the stack\n    return this.state.routeStack.slice();\n  },\n\n  _cleanScenesPastIndex: function(index) {\n    var newStackLength = index + 1;\n    // Remove any unneeded rendered routes.\n    if (newStackLength < this.state.routeStack.length) {\n      this.setState({\n        sceneConfigStack: this.state.sceneConfigStack.slice(0, newStackLength),\n        routeStack: this.state.routeStack.slice(0, newStackLength),\n      });\n    }\n  },\n\n  _renderScene: function(route, i) {\n    var disabledSceneStyle = null;\n    var disabledScenePointerEvents = 'auto';\n    if (i !== this.state.presentedIndex) {\n      disabledSceneStyle = styles.disabledScene;\n      disabledScenePointerEvents = 'none';\n    }\n    return (\n      <View\n        collapsable={false}\n        key={'scene_' + getRouteID(route)}\n        ref={(scene) => {\n          this._sceneRefs[i] = scene;\n        }}\n        onStartShouldSetResponderCapture={() => {\n          return (this.state.transitionFromIndex != null);\n        }}\n        pointerEvents={disabledScenePointerEvents}\n        style={[styles.baseScene, this.props.sceneStyle, disabledSceneStyle]}>\n        {this.props.renderScene(\n          route,\n          this\n        )}\n      </View>\n    );\n  },\n\n  _renderNavigationBar: function() {\n    const { navigationBar } = this.props;\n    if (!navigationBar) {\n      return null;\n    }\n    return React.cloneElement(navigationBar, {\n      ref: (navBar) => {\n        this._navBar = navBar;\n        if (navigationBar && typeof navigationBar.ref === 'function') {\n          navigationBar.ref(navBar);\n        }\n      },\n      navigator: this._navigationBarNavigator,\n      navState: this.state,\n    });\n  },\n\n  _tvEventHandler: TVEventHandler,\n\n  _enableTVEventHandler: function() {\n    this._tvEventHandler = new TVEventHandler();\n    this._tvEventHandler.enable(this, function(cmp, evt) {\n      if (evt && evt.eventType === 'menu') {\n        cmp.pop();\n      }\n    });\n  },\n\n  _disableTVEventHandler: function() {\n    if (this._tvEventHandler) {\n      this._tvEventHandler.disable();\n      delete this._tvEventHandler;\n    }\n  },\n\n  render: function() {\n    var newRenderedSceneMap = new Map();\n    var scenes = this.state.routeStack.map((route, index) => {\n      var renderedScene;\n      if (this._renderedSceneMap.has(route) &&\n          index !== this.state.presentedIndex) {\n        renderedScene = this._renderedSceneMap.get(route);\n      } else {\n        renderedScene = this._renderScene(route, index);\n      }\n      newRenderedSceneMap.set(route, renderedScene);\n      return renderedScene;\n    });\n    this._renderedSceneMap = newRenderedSceneMap;\n    return (\n      <View style={[styles.container, this.props.style]}>\n        <View\n          style={styles.transitioner}\n          {...this.panGesture.panHandlers}\n          onTouchStart={this._handleTouchStart}\n          onResponderTerminationRequest={\n            this._handleResponderTerminationRequest\n          }>\n          {scenes}\n        </View>\n        {this._renderNavigationBar()}\n      </View>\n    );\n  },\n\n  _getNavigationContext: function() {\n    if (!this._navigationContext) {\n      this._navigationContext = new NavigationContext();\n    }\n    return this._navigationContext;\n  }\n});\n\nmodule.exports = Navigator;\n","/**\n * Copyright 2004-present Facebook. All Rights Reserved.\n *\n * @providesModule InteractionMixin\n * @flow\n */\n'use strict';\n\nvar InteractionManager = require('InteractionManager');\n\n/**\n * This mixin provides safe versions of InteractionManager start/end methods\n * that ensures `clearInteractionHandle` is always called\n * once per start, even if the component is unmounted.\n */\nvar InteractionMixin = {\n  componentWillUnmount: function() {\n    while (this._interactionMixinHandles.length) {\n      InteractionManager.clearInteractionHandle(\n        this._interactionMixinHandles.pop()\n      );\n    }\n  },\n\n  _interactionMixinHandles: ([]: Array<number>),\n\n  createInteractionHandle: function() {\n    var handle = InteractionManager.createInteractionHandle();\n    this._interactionMixinHandles.push(handle);\n    return handle;\n  },\n\n  clearInteractionHandle: function(clearHandle: number) {\n    InteractionManager.clearInteractionHandle(clearHandle);\n    this._interactionMixinHandles = this._interactionMixinHandles.filter(\n      handle => handle !== clearHandle\n    );\n  },\n\n  /**\n   * Schedule work for after all interactions have completed.\n   *\n   * @param {function} callback\n   */\n  runAfterInteractions: function(callback: Function) {\n    InteractionManager.runAfterInteractions(callback);\n  },\n};\n\nmodule.exports = InteractionMixin;\n","/**\n * Copyright (c) 2015, Facebook, Inc.  All rights reserved.\n *\n * Facebook, Inc. (\"Facebook\") owns all right, title and interest, including\n * all intellectual property and other proprietary rights, in and to the React\n * Native CustomComponents software (the \"Software\").  Subject to your\n * compliance with these terms, you are hereby granted a non-exclusive,\n * worldwide, royalty-free copyright license to (1) use and copy the Software;\n * and (2) reproduce and distribute the Software as part of your own software\n * (\"Your Software\").  Facebook reserves all rights not expressly granted to\n * you in this license agreement.\n *\n * THE SOFTWARE AND DOCUMENTATION, IF ANY, ARE PROVIDED \"AS IS\" AND ANY EXPRESS\n * OR IMPLIED WARRANTIES (INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES\n * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE) ARE DISCLAIMED.\n * IN NO EVENT SHALL FACEBOOK OR ITS AFFILIATES, OFFICERS, DIRECTORS OR\n * EMPLOYEES BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,\n * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,\n * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;\n * OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,\n * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR\n * OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THE SOFTWARE, EVEN IF\n * ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @providesModule NavigationContext\n * @noflow\n */\n'use strict';\n\nvar NavigationEvent = require('NavigationEvent');\nvar NavigationEventEmitter = require('NavigationEventEmitter');\nvar NavigationTreeNode = require('NavigationTreeNode');\n\nvar Set = require('Set');\n\nvar emptyFunction = require('fbjs/lib/emptyFunction');\nvar invariant = require('fbjs/lib/invariant');\n\nimport type EventSubscription from 'EventSubscription';\n\nvar {\n  AT_TARGET,\n  BUBBLING_PHASE,\n  CAPTURING_PHASE,\n} = NavigationEvent;\n\n// Event types that do not support event bubbling, capturing and\n// reconciliation API (e.g event.preventDefault(), event.stopPropagation()).\nvar LegacyEventTypes = new Set([\n  'willfocus',\n  'didfocus',\n]);\n\n/**\n * Class that contains the info and methods for app navigation.\n */\nclass NavigationContext {\n  __node: NavigationTreeNode;\n  _bubbleEventEmitter: ?NavigationEventEmitter;\n  _captureEventEmitter: ?NavigationEventEmitter;\n  _currentRoute: any;\n  _emitCounter: number;\n  _emitQueue: Array<any>;\n\n  constructor() {\n    this._bubbleEventEmitter = new NavigationEventEmitter(this);\n    this._captureEventEmitter = new NavigationEventEmitter(this);\n    this._currentRoute = null;\n\n    // Sets the protected property `__node`.\n    this.__node = new NavigationTreeNode(this);\n\n    this._emitCounter = 0;\n    this._emitQueue = [];\n\n    this.addListener('willfocus', this._onFocus);\n    this.addListener('didfocus', this._onFocus);\n  }\n\n  /* $FlowFixMe - get/set properties not yet supported */\n  get parent(): ?NavigationContext {\n    var parent = this.__node.getParent();\n    return parent ? parent.getValue() : null;\n  }\n\n  /* $FlowFixMe - get/set properties not yet supported */\n  get top(): ?NavigationContext {\n    var result = null;\n    var parentNode = this.__node.getParent();\n    while (parentNode) {\n      result = parentNode.getValue();\n      parentNode = parentNode.getParent();\n    }\n    return result;\n  }\n\n  /* $FlowFixMe - get/set properties not yet supported */\n  get currentRoute(): any {\n    return this._currentRoute;\n  }\n\n  appendChild(childContext: NavigationContext): void {\n    this.__node.appendChild(childContext.__node);\n  }\n\n  addListener(\n    eventType: string,\n    listener: Function,\n    useCapture: ?boolean\n  ): EventSubscription {\n    if (LegacyEventTypes.has(eventType)) {\n      useCapture = false;\n    }\n\n    var emitter = useCapture ?\n      this._captureEventEmitter :\n      this._bubbleEventEmitter;\n\n    if (emitter) {\n      return emitter.addListener(eventType, listener, this);\n    } else {\n      return {remove: emptyFunction};\n    }\n  }\n\n  emit(eventType: String, data: any, didEmitCallback: ?Function): void {\n    if (this._emitCounter > 0) {\n      // An event cycle that was previously created hasn't finished yet.\n      // Put this event cycle into the queue and will finish them later.\n      var args: any = Array.prototype.slice.call(arguments);\n      this._emitQueue.push(args);\n      return;\n    }\n\n    this._emitCounter++;\n\n    if (LegacyEventTypes.has(eventType)) {\n      // Legacy events does not support event bubbling and reconciliation.\n      this.__emit(\n        eventType,\n        data,\n        null,\n        {\n          defaultPrevented: false,\n          eventPhase: AT_TARGET,\n          propagationStopped: true,\n          target: this,\n        }\n      );\n    } else {\n      var targets = [this];\n      var parentTarget = this.parent;\n      while (parentTarget) {\n        targets.unshift(parentTarget);\n        parentTarget = parentTarget.parent;\n      }\n\n      var propagationStopped = false;\n      var defaultPrevented = false;\n      var callback = (event) => {\n        propagationStopped = propagationStopped || event.isPropagationStopped();\n        defaultPrevented = defaultPrevented || event.defaultPrevented;\n      };\n\n      // Capture phase\n      targets.some((currentTarget) => {\n        if (propagationStopped) {\n          return true;\n        }\n\n        var extraInfo = {\n          defaultPrevented,\n          eventPhase: CAPTURING_PHASE,\n          propagationStopped,\n          target: this,\n        };\n\n        currentTarget.__emit(eventType, data, callback, extraInfo);\n      }, this);\n\n      // bubble phase\n      targets.reverse().some((currentTarget) => {\n        if (propagationStopped) {\n          return true;\n        }\n        var extraInfo = {\n          defaultPrevented,\n          eventPhase: BUBBLING_PHASE,\n          propagationStopped,\n          target: this,\n        };\n        currentTarget.__emit(eventType, data, callback, extraInfo);\n      }, this);\n    }\n\n    if (didEmitCallback) {\n      var event = NavigationEvent.pool(eventType, this, data);\n      propagationStopped && event.stopPropagation();\n      defaultPrevented && event.preventDefault();\n      didEmitCallback.call(this, event);\n      event.dispose();\n    }\n\n    this._emitCounter--;\n    while (this._emitQueue.length) {\n      var args: any = this._emitQueue.shift();\n      this.emit.apply(this, args);\n    }\n  }\n\n  dispose(): void {\n    // clean up everything.\n    this._bubbleEventEmitter && this._bubbleEventEmitter.removeAllListeners();\n    this._captureEventEmitter && this._captureEventEmitter.removeAllListeners();\n    this._bubbleEventEmitter = null;\n    this._captureEventEmitter = null;\n    this._currentRoute = null;\n  }\n\n  // This method `__method` is protected.\n  __emit(\n    eventType: String,\n    data: any,\n    didEmitCallback: ?Function,\n    extraInfo: Object,\n  ): void {\n    var emitter;\n    switch (extraInfo.eventPhase) {\n      case CAPTURING_PHASE: // phase = 1\n        emitter = this._captureEventEmitter;\n        break;\n\n      case AT_TARGET: // phase = 2\n        emitter = this._bubbleEventEmitter;\n        break;\n\n      case BUBBLING_PHASE: // phase = 3\n        emitter = this._bubbleEventEmitter;\n        break;\n\n      default:\n        invariant(false, 'invalid event phase %s', extraInfo.eventPhase);\n    }\n\n    if (extraInfo.target === this) {\n      // phase = 2\n      extraInfo.eventPhase = AT_TARGET;\n    }\n\n    if (emitter) {\n      emitter.emit(\n        eventType,\n        data,\n        didEmitCallback,\n        extraInfo\n      );\n    }\n  }\n\n  _onFocus(event: NavigationEvent): void {\n    invariant(\n      event.data && event.data.hasOwnProperty('route'),\n      'event type \"%s\" should provide route',\n      event.type\n    );\n\n    this._currentRoute = event.data.route;\n  }\n}\n\nmodule.exports = NavigationContext;\n","/**\n * Copyright (c) 2015, Facebook, Inc.  All rights reserved.\n *\n * Facebook, Inc. (\"Facebook\") owns all right, title and interest, including\n * all intellectual property and other proprietary rights, in and to the React\n * Native CustomComponents software (the \"Software\").  Subject to your\n * compliance with these terms, you are hereby granted a non-exclusive,\n * worldwide, royalty-free copyright license to (1) use and copy the Software;\n * and (2) reproduce and distribute the Software as part of your own software\n * (\"Your Software\").  Facebook reserves all rights not expressly granted to\n * you in this license agreement.\n *\n * THE SOFTWARE AND DOCUMENTATION, IF ANY, ARE PROVIDED \"AS IS\" AND ANY EXPRESS\n * OR IMPLIED WARRANTIES (INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES\n * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE) ARE DISCLAIMED.\n * IN NO EVENT SHALL FACEBOOK OR ITS AFFILIATES, OFFICERS, DIRECTORS OR\n * EMPLOYEES BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,\n * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,\n * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;\n * OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,\n * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR\n * OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THE SOFTWARE, EVEN IF\n * ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @providesModule NavigationEvent\n * @flow\n */\n'use strict';\n\nconst invariant = require('fbjs/lib/invariant');\n\nclass NavigationEventPool {\n  _list: Array<any>;\n\n  constructor() {\n    this._list = [];\n  }\n\n  get(type: string, currentTarget: Object, data: any): NavigationEvent {\n    let event;\n    if (this._list.length > 0) {\n      event = this._list.pop();\n      event.constructor.call(event, type, currentTarget, data);\n    } else {\n      event = new NavigationEvent(type, currentTarget, data);\n    }\n    return event;\n  }\n\n  put(event: NavigationEvent) {\n    this._list.push(event);\n  }\n}\n\nconst _navigationEventPool = new NavigationEventPool();\n\n/**\n * The NavigationEvent interface represents any event of the navigation.\n * It contains common properties and methods to any event.\n *\n * == Important Properties ==\n *\n * - target:\n *   A reference to the navigation context that dispatched the event. It is\n *   different from event.currentTarget when the event handler is called during\n *   the bubbling or capturing phase of the event.\n *\n * - currentTarget:\n *   Identifies the current target for the event, as the event traverses the\n *   navigation context tree. It always refers to the navigation context the\n *   event handler has been attached to as opposed to event.target which\n *   identifies the navigation context on which the event occurred.\n *\n * - eventPhase:\n *   Returns an integer value which specifies the current evaluation phase of\n *   the event flow; possible values are listed in NavigationEvent phase\n *   constants below.\n */\nclass NavigationEvent {\n  static AT_TARGET: number;\n  static BUBBLING_PHASE: number;\n  static CAPTURING_PHASE: number;\n  static NONE: number;\n\n  _currentTarget: ?Object;\n  _data: any;\n  _defaultPrevented: boolean;\n  _disposed: boolean;\n  _propagationStopped: boolean;\n  _type: string;\n\n  target: ?Object;\n\n  // Returns an integer value which specifies the current evaluation phase of\n  // the event flow.\n  eventPhase: number;\n\n  static pool(type: string, currentTarget: Object, data: any): NavigationEvent {\n    return _navigationEventPool.get(type, currentTarget, data);\n  }\n\n  constructor(type: string, currentTarget: Object, data: any) {\n    this.target = currentTarget;\n    this.eventPhase = NavigationEvent.NONE;\n\n    this._type = type;\n    this._currentTarget = currentTarget;\n    this._data = data;\n    this._defaultPrevented = false;\n    this._disposed = false;\n    this._propagationStopped = false;\n  }\n\n  get type(): string {\n    return this._type;\n  }\n\n  get currentTarget(): ?Object {\n    return this._currentTarget;\n  }\n\n  get data(): any {\n    return this._data;\n  }\n\n  get defaultPrevented(): boolean {\n    return this._defaultPrevented;\n  }\n\n  preventDefault(): void {\n    this._defaultPrevented = true;\n  }\n\n  stopPropagation(): void {\n    this._propagationStopped = true;\n  }\n\n  stop(): void {\n    this.preventDefault();\n    this.stopPropagation();\n  }\n\n  isPropagationStopped(): boolean {\n    return this._propagationStopped;\n  }\n\n  /**\n   * Dispose the event.\n   * NavigationEvent shall be disposed after being emitted by\n   * `NavigationEventEmitter`.\n   */\n  dispose(): void {\n    invariant(!this._disposed, 'NavigationEvent is already disposed');\n    this._disposed = true;\n\n    // Clean up.\n    this.target = null;\n    this.eventPhase = NavigationEvent.NONE;\n    this._type = '';\n    this._currentTarget = null;\n    this._data = null;\n    this._defaultPrevented = false;\n\n    // Put this back to the pool to reuse the instance.\n    _navigationEventPool.put(this);\n  }\n}\n\n/**\n * Event phase constants.\n * These values describe which phase the event flow is currently being\n * evaluated.\n */\n\n// No event is being processed at this time.\nNavigationEvent.NONE = 0;\n\n// The event is being propagated through the currentTarget's ancestor objects.\nNavigationEvent.CAPTURING_PHASE = 1;\n\n// The event has arrived at the event's currentTarget. Event listeners registered for\n// this phase are called at this time.\nNavigationEvent.AT_TARGET = 2;\n\n// The event is propagating back up through the currentTarget's ancestors in reverse\n// order, starting with the parent. This is known as bubbling, and occurs only\n// if event propagation isn't prevented. Event listeners registered for this\n// phase are triggered during this process.\nNavigationEvent.BUBBLING_PHASE = 3;\n\nmodule.exports = NavigationEvent;\n","/**\n * Copyright (c) 2015, Facebook, Inc.  All rights reserved.\n *\n * Facebook, Inc. (\"Facebook\") owns all right, title and interest, including\n * all intellectual property and other proprietary rights, in and to the React\n * Native CustomComponents software (the \"Software\").  Subject to your\n * compliance with these terms, you are hereby granted a non-exclusive,\n * worldwide, royalty-free copyright license to (1) use and copy the Software;\n * and (2) reproduce and distribute the Software as part of your own software\n * (\"Your Software\").  Facebook reserves all rights not expressly granted to\n * you in this license agreement.\n *\n * THE SOFTWARE AND DOCUMENTATION, IF ANY, ARE PROVIDED \"AS IS\" AND ANY EXPRESS\n * OR IMPLIED WARRANTIES (INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES\n * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE) ARE DISCLAIMED.\n * IN NO EVENT SHALL FACEBOOK OR ITS AFFILIATES, OFFICERS, DIRECTORS OR\n * EMPLOYEES BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,\n * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,\n * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;\n * OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,\n * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR\n * OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THE SOFTWARE, EVEN IF\n * ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n  *\n * @providesModule NavigationEventEmitter\n * @flow\n */\n'use strict';\n\nvar EventEmitter = require('EventEmitter');\nvar NavigationEvent = require('NavigationEvent');\n\ntype ExtraInfo = {\n  defaultPrevented: ?boolean,\n  eventPhase: ?number,\n  propagationStopped: ?boolean,\n  target: ?Object,\n};\n\nclass NavigationEventEmitter extends EventEmitter {\n  _emitQueue: Array<any>;\n  _emitting: boolean;\n  _target: Object;\n\n  constructor(target: Object) {\n    super();\n    this._emitting = false;\n    this._emitQueue = [];\n    this._target = target;\n  }\n\n  emit(\n    eventType: string,\n    data: any,\n    didEmitCallback: ?Function,\n    extraInfo: ?ExtraInfo\n  ): void {\n    if (this._emitting) {\n      // An event cycle that was previously created hasn't finished yet.\n      // Put this event cycle into the queue and will finish them later.\n      var args: any = Array.prototype.slice.call(arguments);\n      this._emitQueue.push(args);\n      return;\n    }\n\n    this._emitting = true;\n\n    var event = NavigationEvent.pool(eventType, this._target, data);\n\n    if (extraInfo) {\n      if (extraInfo.target) {\n        event.target = extraInfo.target;\n      }\n\n      if (extraInfo.eventPhase) {\n        event.eventPhase = extraInfo.eventPhase;\n      }\n\n      if (extraInfo.defaultPrevented) {\n        event.preventDefault();\n      }\n\n      if (extraInfo.propagationStopped) {\n        event.stopPropagation();\n      }\n    }\n\n    // EventEmitter#emit only takes `eventType` as `String`. Casting `eventType`\n    // to `String` to make @flow happy.\n    super.emit(String(eventType), event);\n\n    if (typeof didEmitCallback === 'function') {\n      didEmitCallback.call(this._target, event);\n    }\n    event.dispose();\n\n    this._emitting = false;\n\n    while (this._emitQueue.length) {\n      var args: any = this._emitQueue.shift();\n      this.emit.apply(this, args);\n    }\n  }\n}\n\nmodule.exports = NavigationEventEmitter;\n","/**\n * Copyright (c) 2015, Facebook, Inc.  All rights reserved.\n *\n * @providesModule NavigationTreeNode\n * @flow\n */\n\n'use strict';\n\nvar invariant = require('fbjs/lib/invariant');\nvar immutable = require('immutable');\n\nvar {List} = immutable;\n\n/**\n * Utility to build a tree of nodes.\n * Note that this tree does not perform cyclic redundancy check\n * while appending child node.\n */\nclass NavigationTreeNode {\n  __parent: ?NavigationTreeNode;\n\n  _children: List<NavigationTreeNode>;\n\n  _value: any;\n\n  constructor(value: any) {\n    this.__parent = null;\n    this._children = new List();\n    this._value = value;\n  }\n\n  getValue(): any {\n    return this._value;\n  }\n\n  getParent(): ?NavigationTreeNode {\n    return this.__parent;\n  }\n\n  getChildrenCount(): number {\n    return this._children.size;\n  }\n\n  getChildAt(index: number): ?NavigationTreeNode {\n    return index > -1 && index < this._children.size ?\n      this._children.get(index) :\n      null;\n  }\n\n  appendChild(child: NavigationTreeNode): void {\n    if (child.__parent) {\n      child.__parent.removeChild(child);\n    }\n    child.__parent = this;\n    this._children = this._children.push(child);\n  }\n\n  removeChild(child: NavigationTreeNode): void {\n    var index = this._children.indexOf(child);\n\n    invariant(\n      index > -1,\n      'The node to be removed is not a child of this node.'\n    );\n\n    child.__parent = null;\n\n    this._children = this._children.splice(index, 1);\n  }\n\n  indexOf(child: NavigationTreeNode): number {\n    return this._children.indexOf(child);\n  }\n\n  forEach(callback: Function, context: any): void {\n    this._children.forEach(callback, context);\n  }\n\n  map(callback: Function, context: any): Array<NavigationTreeNode> {\n    return this._children.map(callback, context).toJS();\n  }\n\n  some(callback: Function, context: any): boolean {\n    return this._children.some(callback, context);\n  }\n}\n\n\nmodule.exports = NavigationTreeNode;\n","/**\n *  Copyright (c) 2014-2015, Facebook, Inc.\n *  All rights reserved.\n *\n *  This source code is licensed under the BSD-style license found in the\n *  LICENSE file in the root directory of this source tree. An additional grant\n *  of patent rights can be found in the PATENTS file in the same directory.\n */\n\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  global.Immutable = factory();\n}(this, function () { 'use strict';var SLICE$0 = Array.prototype.slice;\n\n  function createClass(ctor, superClass) {\n    if (superClass) {\n      ctor.prototype = Object.create(superClass.prototype);\n    }\n    ctor.prototype.constructor = ctor;\n  }\n\n  function Iterable(value) {\n      return isIterable(value) ? value : Seq(value);\n    }\n\n\n  createClass(KeyedIterable, Iterable);\n    function KeyedIterable(value) {\n      return isKeyed(value) ? value : KeyedSeq(value);\n    }\n\n\n  createClass(IndexedIterable, Iterable);\n    function IndexedIterable(value) {\n      return isIndexed(value) ? value : IndexedSeq(value);\n    }\n\n\n  createClass(SetIterable, Iterable);\n    function SetIterable(value) {\n      return isIterable(value) && !isAssociative(value) ? value : SetSeq(value);\n    }\n\n\n\n  function isIterable(maybeIterable) {\n    return !!(maybeIterable && maybeIterable[IS_ITERABLE_SENTINEL]);\n  }\n\n  function isKeyed(maybeKeyed) {\n    return !!(maybeKeyed && maybeKeyed[IS_KEYED_SENTINEL]);\n  }\n\n  function isIndexed(maybeIndexed) {\n    return !!(maybeIndexed && maybeIndexed[IS_INDEXED_SENTINEL]);\n  }\n\n  function isAssociative(maybeAssociative) {\n    return isKeyed(maybeAssociative) || isIndexed(maybeAssociative);\n  }\n\n  function isOrdered(maybeOrdered) {\n    return !!(maybeOrdered && maybeOrdered[IS_ORDERED_SENTINEL]);\n  }\n\n  Iterable.isIterable = isIterable;\n  Iterable.isKeyed = isKeyed;\n  Iterable.isIndexed = isIndexed;\n  Iterable.isAssociative = isAssociative;\n  Iterable.isOrdered = isOrdered;\n\n  Iterable.Keyed = KeyedIterable;\n  Iterable.Indexed = IndexedIterable;\n  Iterable.Set = SetIterable;\n\n\n  var IS_ITERABLE_SENTINEL = '@@__IMMUTABLE_ITERABLE__@@';\n  var IS_KEYED_SENTINEL = '@@__IMMUTABLE_KEYED__@@';\n  var IS_INDEXED_SENTINEL = '@@__IMMUTABLE_INDEXED__@@';\n  var IS_ORDERED_SENTINEL = '@@__IMMUTABLE_ORDERED__@@';\n\n  // Used for setting prototype methods that IE8 chokes on.\n  var DELETE = 'delete';\n\n  // Constants describing the size of trie nodes.\n  var SHIFT = 5; // Resulted in best performance after ______?\n  var SIZE = 1 << SHIFT;\n  var MASK = SIZE - 1;\n\n  // A consistent shared value representing \"not set\" which equals nothing other\n  // than itself, and nothing that could be provided externally.\n  var NOT_SET = {};\n\n  // Boolean references, Rough equivalent of `bool &`.\n  var CHANGE_LENGTH = { value: false };\n  var DID_ALTER = { value: false };\n\n  function MakeRef(ref) {\n    ref.value = false;\n    return ref;\n  }\n\n  function SetRef(ref) {\n    ref && (ref.value = true);\n  }\n\n  // A function which returns a value representing an \"owner\" for transient writes\n  // to tries. The return value will only ever equal itself, and will not equal\n  // the return of any subsequent call of this function.\n  function OwnerID() {}\n\n  // http://jsperf.com/copy-array-inline\n  function arrCopy(arr, offset) {\n    offset = offset || 0;\n    var len = Math.max(0, arr.length - offset);\n    var newArr = new Array(len);\n    for (var ii = 0; ii < len; ii++) {\n      newArr[ii] = arr[ii + offset];\n    }\n    return newArr;\n  }\n\n  function ensureSize(iter) {\n    if (iter.size === undefined) {\n      iter.size = iter.__iterate(returnTrue);\n    }\n    return iter.size;\n  }\n\n  function wrapIndex(iter, index) {\n    // This implements \"is array index\" which the ECMAString spec defines as:\n    //\n    //     A String property name P is an array index if and only if\n    //     ToString(ToUint32(P)) is equal to P and ToUint32(P) is not equal\n    //     to 2^321.\n    //\n    // http://www.ecma-international.org/ecma-262/6.0/#sec-array-exotic-objects\n    if (typeof index !== 'number') {\n      var uint32Index = index >>> 0; // N >>> 0 is shorthand for ToUint32\n      if ('' + uint32Index !== index || uint32Index === 4294967295) {\n        return NaN;\n      }\n      index = uint32Index;\n    }\n    return index < 0 ? ensureSize(iter) + index : index;\n  }\n\n  function returnTrue() {\n    return true;\n  }\n\n  function wholeSlice(begin, end, size) {\n    return (begin === 0 || (size !== undefined && begin <= -size)) &&\n      (end === undefined || (size !== undefined && end >= size));\n  }\n\n  function resolveBegin(begin, size) {\n    return resolveIndex(begin, size, 0);\n  }\n\n  function resolveEnd(end, size) {\n    return resolveIndex(end, size, size);\n  }\n\n  function resolveIndex(index, size, defaultIndex) {\n    return index === undefined ?\n      defaultIndex :\n      index < 0 ?\n        Math.max(0, size + index) :\n        size === undefined ?\n          index :\n          Math.min(size, index);\n  }\n\n  /* global Symbol */\n\n  var ITERATE_KEYS = 0;\n  var ITERATE_VALUES = 1;\n  var ITERATE_ENTRIES = 2;\n\n  var REAL_ITERATOR_SYMBOL = typeof Symbol === 'function' && Symbol.iterator;\n  var FAUX_ITERATOR_SYMBOL = '@@iterator';\n\n  var ITERATOR_SYMBOL = REAL_ITERATOR_SYMBOL || FAUX_ITERATOR_SYMBOL;\n\n\n  function Iterator(next) {\n      this.next = next;\n    }\n\n    Iterator.prototype.toString = function() {\n      return '[Iterator]';\n    };\n\n\n  Iterator.KEYS = ITERATE_KEYS;\n  Iterator.VALUES = ITERATE_VALUES;\n  Iterator.ENTRIES = ITERATE_ENTRIES;\n\n  Iterator.prototype.inspect =\n  Iterator.prototype.toSource = function () { return this.toString(); }\n  Iterator.prototype[ITERATOR_SYMBOL] = function () {\n    return this;\n  };\n\n\n  function iteratorValue(type, k, v, iteratorResult) {\n    var value = type === 0 ? k : type === 1 ? v : [k, v];\n    iteratorResult ? (iteratorResult.value = value) : (iteratorResult = {\n      value: value, done: false\n    });\n    return iteratorResult;\n  }\n\n  function iteratorDone() {\n    return { value: undefined, done: true };\n  }\n\n  function hasIterator(maybeIterable) {\n    return !!getIteratorFn(maybeIterable);\n  }\n\n  function isIterator(maybeIterator) {\n    return maybeIterator && typeof maybeIterator.next === 'function';\n  }\n\n  function getIterator(iterable) {\n    var iteratorFn = getIteratorFn(iterable);\n    return iteratorFn && iteratorFn.call(iterable);\n  }\n\n  function getIteratorFn(iterable) {\n    var iteratorFn = iterable && (\n      (REAL_ITERATOR_SYMBOL && iterable[REAL_ITERATOR_SYMBOL]) ||\n      iterable[FAUX_ITERATOR_SYMBOL]\n    );\n    if (typeof iteratorFn === 'function') {\n      return iteratorFn;\n    }\n  }\n\n  function isArrayLike(value) {\n    return value && typeof value.length === 'number';\n  }\n\n  createClass(Seq, Iterable);\n    function Seq(value) {\n      return value === null || value === undefined ? emptySequence() :\n        isIterable(value) ? value.toSeq() : seqFromValue(value);\n    }\n\n    Seq.of = function(/*...values*/) {\n      return Seq(arguments);\n    };\n\n    Seq.prototype.toSeq = function() {\n      return this;\n    };\n\n    Seq.prototype.toString = function() {\n      return this.__toString('Seq {', '}');\n    };\n\n    Seq.prototype.cacheResult = function() {\n      if (!this._cache && this.__iterateUncached) {\n        this._cache = this.entrySeq().toArray();\n        this.size = this._cache.length;\n      }\n      return this;\n    };\n\n    // abstract __iterateUncached(fn, reverse)\n\n    Seq.prototype.__iterate = function(fn, reverse) {\n      return seqIterate(this, fn, reverse, true);\n    };\n\n    // abstract __iteratorUncached(type, reverse)\n\n    Seq.prototype.__iterator = function(type, reverse) {\n      return seqIterator(this, type, reverse, true);\n    };\n\n\n\n  createClass(KeyedSeq, Seq);\n    function KeyedSeq(value) {\n      return value === null || value === undefined ?\n        emptySequence().toKeyedSeq() :\n        isIterable(value) ?\n          (isKeyed(value) ? value.toSeq() : value.fromEntrySeq()) :\n          keyedSeqFromValue(value);\n    }\n\n    KeyedSeq.prototype.toKeyedSeq = function() {\n      return this;\n    };\n\n\n\n  createClass(IndexedSeq, Seq);\n    function IndexedSeq(value) {\n      return value === null || value === undefined ? emptySequence() :\n        !isIterable(value) ? indexedSeqFromValue(value) :\n        isKeyed(value) ? value.entrySeq() : value.toIndexedSeq();\n    }\n\n    IndexedSeq.of = function(/*...values*/) {\n      return IndexedSeq(arguments);\n    };\n\n    IndexedSeq.prototype.toIndexedSeq = function() {\n      return this;\n    };\n\n    IndexedSeq.prototype.toString = function() {\n      return this.__toString('Seq [', ']');\n    };\n\n    IndexedSeq.prototype.__iterate = function(fn, reverse) {\n      return seqIterate(this, fn, reverse, false);\n    };\n\n    IndexedSeq.prototype.__iterator = function(type, reverse) {\n      return seqIterator(this, type, reverse, false);\n    };\n\n\n\n  createClass(SetSeq, Seq);\n    function SetSeq(value) {\n      return (\n        value === null || value === undefined ? emptySequence() :\n        !isIterable(value) ? indexedSeqFromValue(value) :\n        isKeyed(value) ? value.entrySeq() : value\n      ).toSetSeq();\n    }\n\n    SetSeq.of = function(/*...values*/) {\n      return SetSeq(arguments);\n    };\n\n    SetSeq.prototype.toSetSeq = function() {\n      return this;\n    };\n\n\n\n  Seq.isSeq = isSeq;\n  Seq.Keyed = KeyedSeq;\n  Seq.Set = SetSeq;\n  Seq.Indexed = IndexedSeq;\n\n  var IS_SEQ_SENTINEL = '@@__IMMUTABLE_SEQ__@@';\n\n  Seq.prototype[IS_SEQ_SENTINEL] = true;\n\n\n\n  createClass(ArraySeq, IndexedSeq);\n    function ArraySeq(array) {\n      this._array = array;\n      this.size = array.length;\n    }\n\n    ArraySeq.prototype.get = function(index, notSetValue) {\n      return this.has(index) ? this._array[wrapIndex(this, index)] : notSetValue;\n    };\n\n    ArraySeq.prototype.__iterate = function(fn, reverse) {\n      var array = this._array;\n      var maxIndex = array.length - 1;\n      for (var ii = 0; ii <= maxIndex; ii++) {\n        if (fn(array[reverse ? maxIndex - ii : ii], ii, this) === false) {\n          return ii + 1;\n        }\n      }\n      return ii;\n    };\n\n    ArraySeq.prototype.__iterator = function(type, reverse) {\n      var array = this._array;\n      var maxIndex = array.length - 1;\n      var ii = 0;\n      return new Iterator(function() \n        {return ii > maxIndex ?\n          iteratorDone() :\n          iteratorValue(type, ii, array[reverse ? maxIndex - ii++ : ii++])}\n      );\n    };\n\n\n\n  createClass(ObjectSeq, KeyedSeq);\n    function ObjectSeq(object) {\n      var keys = Object.keys(object);\n      this._object = object;\n      this._keys = keys;\n      this.size = keys.length;\n    }\n\n    ObjectSeq.prototype.get = function(key, notSetValue) {\n      if (notSetValue !== undefined && !this.has(key)) {\n        return notSetValue;\n      }\n      return this._object[key];\n    };\n\n    ObjectSeq.prototype.has = function(key) {\n      return this._object.hasOwnProperty(key);\n    };\n\n    ObjectSeq.prototype.__iterate = function(fn, reverse) {\n      var object = this._object;\n      var keys = this._keys;\n      var maxIndex = keys.length - 1;\n      for (var ii = 0; ii <= maxIndex; ii++) {\n        var key = keys[reverse ? maxIndex - ii : ii];\n        if (fn(object[key], key, this) === false) {\n          return ii + 1;\n        }\n      }\n      return ii;\n    };\n\n    ObjectSeq.prototype.__iterator = function(type, reverse) {\n      var object = this._object;\n      var keys = this._keys;\n      var maxIndex = keys.length - 1;\n      var ii = 0;\n      return new Iterator(function()  {\n        var key = keys[reverse ? maxIndex - ii : ii];\n        return ii++ > maxIndex ?\n          iteratorDone() :\n          iteratorValue(type, key, object[key]);\n      });\n    };\n\n  ObjectSeq.prototype[IS_ORDERED_SENTINEL] = true;\n\n\n  createClass(IterableSeq, IndexedSeq);\n    function IterableSeq(iterable) {\n      this._iterable = iterable;\n      this.size = iterable.length || iterable.size;\n    }\n\n    IterableSeq.prototype.__iterateUncached = function(fn, reverse) {\n      if (reverse) {\n        return this.cacheResult().__iterate(fn, reverse);\n      }\n      var iterable = this._iterable;\n      var iterator = getIterator(iterable);\n      var iterations = 0;\n      if (isIterator(iterator)) {\n        var step;\n        while (!(step = iterator.next()).done) {\n          if (fn(step.value, iterations++, this) === false) {\n            break;\n          }\n        }\n      }\n      return iterations;\n    };\n\n    IterableSeq.prototype.__iteratorUncached = function(type, reverse) {\n      if (reverse) {\n        return this.cacheResult().__iterator(type, reverse);\n      }\n      var iterable = this._iterable;\n      var iterator = getIterator(iterable);\n      if (!isIterator(iterator)) {\n        return new Iterator(iteratorDone);\n      }\n      var iterations = 0;\n      return new Iterator(function()  {\n        var step = iterator.next();\n        return step.done ? step : iteratorValue(type, iterations++, step.value);\n      });\n    };\n\n\n\n  createClass(IteratorSeq, IndexedSeq);\n    function IteratorSeq(iterator) {\n      this._iterator = iterator;\n      this._iteratorCache = [];\n    }\n\n    IteratorSeq.prototype.__iterateUncached = function(fn, reverse) {\n      if (reverse) {\n        return this.cacheResult().__iterate(fn, reverse);\n      }\n      var iterator = this._iterator;\n      var cache = this._iteratorCache;\n      var iterations = 0;\n      while (iterations < cache.length) {\n        if (fn(cache[iterations], iterations++, this) === false) {\n          return iterations;\n        }\n      }\n      var step;\n      while (!(step = iterator.next()).done) {\n        var val = step.value;\n        cache[iterations] = val;\n        if (fn(val, iterations++, this) === false) {\n          break;\n        }\n      }\n      return iterations;\n    };\n\n    IteratorSeq.prototype.__iteratorUncached = function(type, reverse) {\n      if (reverse) {\n        return this.cacheResult().__iterator(type, reverse);\n      }\n      var iterator = this._iterator;\n      var cache = this._iteratorCache;\n      var iterations = 0;\n      return new Iterator(function()  {\n        if (iterations >= cache.length) {\n          var step = iterator.next();\n          if (step.done) {\n            return step;\n          }\n          cache[iterations] = step.value;\n        }\n        return iteratorValue(type, iterations, cache[iterations++]);\n      });\n    };\n\n\n\n\n  // # pragma Helper functions\n\n  function isSeq(maybeSeq) {\n    return !!(maybeSeq && maybeSeq[IS_SEQ_SENTINEL]);\n  }\n\n  var EMPTY_SEQ;\n\n  function emptySequence() {\n    return EMPTY_SEQ || (EMPTY_SEQ = new ArraySeq([]));\n  }\n\n  function keyedSeqFromValue(value) {\n    var seq =\n      Array.isArray(value) ? new ArraySeq(value).fromEntrySeq() :\n      isIterator(value) ? new IteratorSeq(value).fromEntrySeq() :\n      hasIterator(value) ? new IterableSeq(value).fromEntrySeq() :\n      typeof value === 'object' ? new ObjectSeq(value) :\n      undefined;\n    if (!seq) {\n      throw new TypeError(\n        'Expected Array or iterable object of [k, v] entries, '+\n        'or keyed object: ' + value\n      );\n    }\n    return seq;\n  }\n\n  function indexedSeqFromValue(value) {\n    var seq = maybeIndexedSeqFromValue(value);\n    if (!seq) {\n      throw new TypeError(\n        'Expected Array or iterable object of values: ' + value\n      );\n    }\n    return seq;\n  }\n\n  function seqFromValue(value) {\n    var seq = maybeIndexedSeqFromValue(value) ||\n      (typeof value === 'object' && new ObjectSeq(value));\n    if (!seq) {\n      throw new TypeError(\n        'Expected Array or iterable object of values, or keyed object: ' + value\n      );\n    }\n    return seq;\n  }\n\n  function maybeIndexedSeqFromValue(value) {\n    return (\n      isArrayLike(value) ? new ArraySeq(value) :\n      isIterator(value) ? new IteratorSeq(value) :\n      hasIterator(value) ? new IterableSeq(value) :\n      undefined\n    );\n  }\n\n  function seqIterate(seq, fn, reverse, useKeys) {\n    var cache = seq._cache;\n    if (cache) {\n      var maxIndex = cache.length - 1;\n      for (var ii = 0; ii <= maxIndex; ii++) {\n        var entry = cache[reverse ? maxIndex - ii : ii];\n        if (fn(entry[1], useKeys ? entry[0] : ii, seq) === false) {\n          return ii + 1;\n        }\n      }\n      return ii;\n    }\n    return seq.__iterateUncached(fn, reverse);\n  }\n\n  function seqIterator(seq, type, reverse, useKeys) {\n    var cache = seq._cache;\n    if (cache) {\n      var maxIndex = cache.length - 1;\n      var ii = 0;\n      return new Iterator(function()  {\n        var entry = cache[reverse ? maxIndex - ii : ii];\n        return ii++ > maxIndex ?\n          iteratorDone() :\n          iteratorValue(type, useKeys ? entry[0] : ii - 1, entry[1]);\n      });\n    }\n    return seq.__iteratorUncached(type, reverse);\n  }\n\n  function fromJS(json, converter) {\n    return converter ?\n      fromJSWith(converter, json, '', {'': json}) :\n      fromJSDefault(json);\n  }\n\n  function fromJSWith(converter, json, key, parentJSON) {\n    if (Array.isArray(json)) {\n      return converter.call(parentJSON, key, IndexedSeq(json).map(function(v, k)  {return fromJSWith(converter, v, k, json)}));\n    }\n    if (isPlainObj(json)) {\n      return converter.call(parentJSON, key, KeyedSeq(json).map(function(v, k)  {return fromJSWith(converter, v, k, json)}));\n    }\n    return json;\n  }\n\n  function fromJSDefault(json) {\n    if (Array.isArray(json)) {\n      return IndexedSeq(json).map(fromJSDefault).toList();\n    }\n    if (isPlainObj(json)) {\n      return KeyedSeq(json).map(fromJSDefault).toMap();\n    }\n    return json;\n  }\n\n  function isPlainObj(value) {\n    return value && (value.constructor === Object || value.constructor === undefined);\n  }\n\n  /**\n   * An extension of the \"same-value\" algorithm as [described for use by ES6 Map\n   * and Set](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map#Key_equality)\n   *\n   * NaN is considered the same as NaN, however -0 and 0 are considered the same\n   * value, which is different from the algorithm described by\n   * [`Object.is`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is).\n   *\n   * This is extended further to allow Objects to describe the values they\n   * represent, by way of `valueOf` or `equals` (and `hashCode`).\n   *\n   * Note: because of this extension, the key equality of Immutable.Map and the\n   * value equality of Immutable.Set will differ from ES6 Map and Set.\n   *\n   * ### Defining custom values\n   *\n   * The easiest way to describe the value an object represents is by implementing\n   * `valueOf`. For example, `Date` represents a value by returning a unix\n   * timestamp for `valueOf`:\n   *\n   *     var date1 = new Date(1234567890000); // Fri Feb 13 2009 ...\n   *     var date2 = new Date(1234567890000);\n   *     date1.valueOf(); // 1234567890000\n   *     assert( date1 !== date2 );\n   *     assert( Immutable.is( date1, date2 ) );\n   *\n   * Note: overriding `valueOf` may have other implications if you use this object\n   * where JavaScript expects a primitive, such as implicit string coercion.\n   *\n   * For more complex types, especially collections, implementing `valueOf` may\n   * not be performant. An alternative is to implement `equals` and `hashCode`.\n   *\n   * `equals` takes another object, presumably of similar type, and returns true\n   * if the it is equal. Equality is symmetrical, so the same result should be\n   * returned if this and the argument are flipped.\n   *\n   *     assert( a.equals(b) === b.equals(a) );\n   *\n   * `hashCode` returns a 32bit integer number representing the object which will\n   * be used to determine how to store the value object in a Map or Set. You must\n   * provide both or neither methods, one must not exist without the other.\n   *\n   * Also, an important relationship between these methods must be upheld: if two\n   * values are equal, they *must* return the same hashCode. If the values are not\n   * equal, they might have the same hashCode; this is called a hash collision,\n   * and while undesirable for performance reasons, it is acceptable.\n   *\n   *     if (a.equals(b)) {\n   *       assert( a.hashCode() === b.hashCode() );\n   *     }\n   *\n   * All Immutable collections implement `equals` and `hashCode`.\n   *\n   */\n  function is(valueA, valueB) {\n    if (valueA === valueB || (valueA !== valueA && valueB !== valueB)) {\n      return true;\n    }\n    if (!valueA || !valueB) {\n      return false;\n    }\n    if (typeof valueA.valueOf === 'function' &&\n        typeof valueB.valueOf === 'function') {\n      valueA = valueA.valueOf();\n      valueB = valueB.valueOf();\n      if (valueA === valueB || (valueA !== valueA && valueB !== valueB)) {\n        return true;\n      }\n      if (!valueA || !valueB) {\n        return false;\n      }\n    }\n    if (typeof valueA.equals === 'function' &&\n        typeof valueB.equals === 'function' &&\n        valueA.equals(valueB)) {\n      return true;\n    }\n    return false;\n  }\n\n  function deepEqual(a, b) {\n    if (a === b) {\n      return true;\n    }\n\n    if (\n      !isIterable(b) ||\n      a.size !== undefined && b.size !== undefined && a.size !== b.size ||\n      a.__hash !== undefined && b.__hash !== undefined && a.__hash !== b.__hash ||\n      isKeyed(a) !== isKeyed(b) ||\n      isIndexed(a) !== isIndexed(b) ||\n      isOrdered(a) !== isOrdered(b)\n    ) {\n      return false;\n    }\n\n    if (a.size === 0 && b.size === 0) {\n      return true;\n    }\n\n    var notAssociative = !isAssociative(a);\n\n    if (isOrdered(a)) {\n      var entries = a.entries();\n      return b.every(function(v, k)  {\n        var entry = entries.next().value;\n        return entry && is(entry[1], v) && (notAssociative || is(entry[0], k));\n      }) && entries.next().done;\n    }\n\n    var flipped = false;\n\n    if (a.size === undefined) {\n      if (b.size === undefined) {\n        if (typeof a.cacheResult === 'function') {\n          a.cacheResult();\n        }\n      } else {\n        flipped = true;\n        var _ = a;\n        a = b;\n        b = _;\n      }\n    }\n\n    var allEqual = true;\n    var bSize = b.__iterate(function(v, k)  {\n      if (notAssociative ? !a.has(v) :\n          flipped ? !is(v, a.get(k, NOT_SET)) : !is(a.get(k, NOT_SET), v)) {\n        allEqual = false;\n        return false;\n      }\n    });\n\n    return allEqual && a.size === bSize;\n  }\n\n  createClass(Repeat, IndexedSeq);\n\n    function Repeat(value, times) {\n      if (!(this instanceof Repeat)) {\n        return new Repeat(value, times);\n      }\n      this._value = value;\n      this.size = times === undefined ? Infinity : Math.max(0, times);\n      if (this.size === 0) {\n        if (EMPTY_REPEAT) {\n          return EMPTY_REPEAT;\n        }\n        EMPTY_REPEAT = this;\n      }\n    }\n\n    Repeat.prototype.toString = function() {\n      if (this.size === 0) {\n        return 'Repeat []';\n      }\n      return 'Repeat [ ' + this._value + ' ' + this.size + ' times ]';\n    };\n\n    Repeat.prototype.get = function(index, notSetValue) {\n      return this.has(index) ? this._value : notSetValue;\n    };\n\n    Repeat.prototype.includes = function(searchValue) {\n      return is(this._value, searchValue);\n    };\n\n    Repeat.prototype.slice = function(begin, end) {\n      var size = this.size;\n      return wholeSlice(begin, end, size) ? this :\n        new Repeat(this._value, resolveEnd(end, size) - resolveBegin(begin, size));\n    };\n\n    Repeat.prototype.reverse = function() {\n      return this;\n    };\n\n    Repeat.prototype.indexOf = function(searchValue) {\n      if (is(this._value, searchValue)) {\n        return 0;\n      }\n      return -1;\n    };\n\n    Repeat.prototype.lastIndexOf = function(searchValue) {\n      if (is(this._value, searchValue)) {\n        return this.size;\n      }\n      return -1;\n    };\n\n    Repeat.prototype.__iterate = function(fn, reverse) {\n      for (var ii = 0; ii < this.size; ii++) {\n        if (fn(this._value, ii, this) === false) {\n          return ii + 1;\n        }\n      }\n      return ii;\n    };\n\n    Repeat.prototype.__iterator = function(type, reverse) {var this$0 = this;\n      var ii = 0;\n      return new Iterator(function() \n        {return ii < this$0.size ? iteratorValue(type, ii++, this$0._value) : iteratorDone()}\n      );\n    };\n\n    Repeat.prototype.equals = function(other) {\n      return other instanceof Repeat ?\n        is(this._value, other._value) :\n        deepEqual(other);\n    };\n\n\n  var EMPTY_REPEAT;\n\n  function invariant(condition, error) {\n    if (!condition) throw new Error(error);\n  }\n\n  createClass(Range, IndexedSeq);\n\n    function Range(start, end, step) {\n      if (!(this instanceof Range)) {\n        return new Range(start, end, step);\n      }\n      invariant(step !== 0, 'Cannot step a Range by 0');\n      start = start || 0;\n      if (end === undefined) {\n        end = Infinity;\n      }\n      step = step === undefined ? 1 : Math.abs(step);\n      if (end < start) {\n        step = -step;\n      }\n      this._start = start;\n      this._end = end;\n      this._step = step;\n      this.size = Math.max(0, Math.ceil((end - start) / step - 1) + 1);\n      if (this.size === 0) {\n        if (EMPTY_RANGE) {\n          return EMPTY_RANGE;\n        }\n        EMPTY_RANGE = this;\n      }\n    }\n\n    Range.prototype.toString = function() {\n      if (this.size === 0) {\n        return 'Range []';\n      }\n      return 'Range [ ' +\n        this._start + '...' + this._end +\n        (this._step > 1 ? ' by ' + this._step : '') +\n      ' ]';\n    };\n\n    Range.prototype.get = function(index, notSetValue) {\n      return this.has(index) ?\n        this._start + wrapIndex(this, index) * this._step :\n        notSetValue;\n    };\n\n    Range.prototype.includes = function(searchValue) {\n      var possibleIndex = (searchValue - this._start) / this._step;\n      return possibleIndex >= 0 &&\n        possibleIndex < this.size &&\n        possibleIndex === Math.floor(possibleIndex);\n    };\n\n    Range.prototype.slice = function(begin, end) {\n      if (wholeSlice(begin, end, this.size)) {\n        return this;\n      }\n      begin = resolveBegin(begin, this.size);\n      end = resolveEnd(end, this.size);\n      if (end <= begin) {\n        return new Range(0, 0);\n      }\n      return new Range(this.get(begin, this._end), this.get(end, this._end), this._step);\n    };\n\n    Range.prototype.indexOf = function(searchValue) {\n      var offsetValue = searchValue - this._start;\n      if (offsetValue % this._step === 0) {\n        var index = offsetValue / this._step;\n        if (index >= 0 && index < this.size) {\n          return index\n        }\n      }\n      return -1;\n    };\n\n    Range.prototype.lastIndexOf = function(searchValue) {\n      return this.indexOf(searchValue);\n    };\n\n    Range.prototype.__iterate = function(fn, reverse) {\n      var maxIndex = this.size - 1;\n      var step = this._step;\n      var value = reverse ? this._start + maxIndex * step : this._start;\n      for (var ii = 0; ii <= maxIndex; ii++) {\n        if (fn(value, ii, this) === false) {\n          return ii + 1;\n        }\n        value += reverse ? -step : step;\n      }\n      return ii;\n    };\n\n    Range.prototype.__iterator = function(type, reverse) {\n      var maxIndex = this.size - 1;\n      var step = this._step;\n      var value = reverse ? this._start + maxIndex * step : this._start;\n      var ii = 0;\n      return new Iterator(function()  {\n        var v = value;\n        value += reverse ? -step : step;\n        return ii > maxIndex ? iteratorDone() : iteratorValue(type, ii++, v);\n      });\n    };\n\n    Range.prototype.equals = function(other) {\n      return other instanceof Range ?\n        this._start === other._start &&\n        this._end === other._end &&\n        this._step === other._step :\n        deepEqual(this, other);\n    };\n\n\n  var EMPTY_RANGE;\n\n  createClass(Collection, Iterable);\n    function Collection() {\n      throw TypeError('Abstract');\n    }\n\n\n  createClass(KeyedCollection, Collection);function KeyedCollection() {}\n\n  createClass(IndexedCollection, Collection);function IndexedCollection() {}\n\n  createClass(SetCollection, Collection);function SetCollection() {}\n\n\n  Collection.Keyed = KeyedCollection;\n  Collection.Indexed = IndexedCollection;\n  Collection.Set = SetCollection;\n\n  var imul =\n    typeof Math.imul === 'function' && Math.imul(0xffffffff, 2) === -2 ?\n    Math.imul :\n    function imul(a, b) {\n      a = a | 0; // int\n      b = b | 0; // int\n      var c = a & 0xffff;\n      var d = b & 0xffff;\n      // Shift by 0 fixes the sign on the high part.\n      return (c * d) + ((((a >>> 16) * d + c * (b >>> 16)) << 16) >>> 0) | 0; // int\n    };\n\n  // v8 has an optimization for storing 31-bit signed numbers.\n  // Values which have either 00 or 11 as the high order bits qualify.\n  // This function drops the highest order bit in a signed number, maintaining\n  // the sign bit.\n  function smi(i32) {\n    return ((i32 >>> 1) & 0x40000000) | (i32 & 0xBFFFFFFF);\n  }\n\n  function hash(o) {\n    if (o === false || o === null || o === undefined) {\n      return 0;\n    }\n    if (typeof o.valueOf === 'function') {\n      o = o.valueOf();\n      if (o === false || o === null || o === undefined) {\n        return 0;\n      }\n    }\n    if (o === true) {\n      return 1;\n    }\n    var type = typeof o;\n    if (type === 'number') {\n      var h = o | 0;\n      if (h !== o) {\n        h ^= o * 0xFFFFFFFF;\n      }\n      while (o > 0xFFFFFFFF) {\n        o /= 0xFFFFFFFF;\n        h ^= o;\n      }\n      return smi(h);\n    }\n    if (type === 'string') {\n      return o.length > STRING_HASH_CACHE_MIN_STRLEN ? cachedHashString(o) : hashString(o);\n    }\n    if (typeof o.hashCode === 'function') {\n      return o.hashCode();\n    }\n    if (type === 'object') {\n      return hashJSObj(o);\n    }\n    if (typeof o.toString === 'function') {\n      return hashString(o.toString());\n    }\n    throw new Error('Value type ' + type + ' cannot be hashed.');\n  }\n\n  function cachedHashString(string) {\n    var hash = stringHashCache[string];\n    if (hash === undefined) {\n      hash = hashString(string);\n      if (STRING_HASH_CACHE_SIZE === STRING_HASH_CACHE_MAX_SIZE) {\n        STRING_HASH_CACHE_SIZE = 0;\n        stringHashCache = {};\n      }\n      STRING_HASH_CACHE_SIZE++;\n      stringHashCache[string] = hash;\n    }\n    return hash;\n  }\n\n  // http://jsperf.com/hashing-strings\n  function hashString(string) {\n    // This is the hash from JVM\n    // The hash code for a string is computed as\n    // s[0] * 31 ^ (n - 1) + s[1] * 31 ^ (n - 2) + ... + s[n - 1],\n    // where s[i] is the ith character of the string and n is the length of\n    // the string. We \"mod\" the result to make it between 0 (inclusive) and 2^31\n    // (exclusive) by dropping high bits.\n    var hash = 0;\n    for (var ii = 0; ii < string.length; ii++) {\n      hash = 31 * hash + string.charCodeAt(ii) | 0;\n    }\n    return smi(hash);\n  }\n\n  function hashJSObj(obj) {\n    var hash;\n    if (usingWeakMap) {\n      hash = weakMap.get(obj);\n      if (hash !== undefined) {\n        return hash;\n      }\n    }\n\n    hash = obj[UID_HASH_KEY];\n    if (hash !== undefined) {\n      return hash;\n    }\n\n    if (!canDefineProperty) {\n      hash = obj.propertyIsEnumerable && obj.propertyIsEnumerable[UID_HASH_KEY];\n      if (hash !== undefined) {\n        return hash;\n      }\n\n      hash = getIENodeHash(obj);\n      if (hash !== undefined) {\n        return hash;\n      }\n    }\n\n    hash = ++objHashUID;\n    if (objHashUID & 0x40000000) {\n      objHashUID = 0;\n    }\n\n    if (usingWeakMap) {\n      weakMap.set(obj, hash);\n    } else if (isExtensible !== undefined && isExtensible(obj) === false) {\n      throw new Error('Non-extensible objects are not allowed as keys.');\n    } else if (canDefineProperty) {\n      Object.defineProperty(obj, UID_HASH_KEY, {\n        'enumerable': false,\n        'configurable': false,\n        'writable': false,\n        'value': hash\n      });\n    } else if (obj.propertyIsEnumerable !== undefined &&\n               obj.propertyIsEnumerable === obj.constructor.prototype.propertyIsEnumerable) {\n      // Since we can't define a non-enumerable property on the object\n      // we'll hijack one of the less-used non-enumerable properties to\n      // save our hash on it. Since this is a function it will not show up in\n      // `JSON.stringify` which is what we want.\n      obj.propertyIsEnumerable = function() {\n        return this.constructor.prototype.propertyIsEnumerable.apply(this, arguments);\n      };\n      obj.propertyIsEnumerable[UID_HASH_KEY] = hash;\n    } else if (obj.nodeType !== undefined) {\n      // At this point we couldn't get the IE `uniqueID` to use as a hash\n      // and we couldn't use a non-enumerable property to exploit the\n      // dontEnum bug so we simply add the `UID_HASH_KEY` on the node\n      // itself.\n      obj[UID_HASH_KEY] = hash;\n    } else {\n      throw new Error('Unable to set a non-enumerable property on object.');\n    }\n\n    return hash;\n  }\n\n  // Get references to ES5 object methods.\n  var isExtensible = Object.isExtensible;\n\n  // True if Object.defineProperty works as expected. IE8 fails this test.\n  var canDefineProperty = (function() {\n    try {\n      Object.defineProperty({}, '@', {});\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }());\n\n  // IE has a `uniqueID` property on DOM nodes. We can construct the hash from it\n  // and avoid memory leaks from the IE cloneNode bug.\n  function getIENodeHash(node) {\n    if (node && node.nodeType > 0) {\n      switch (node.nodeType) {\n        case 1: // Element\n          return node.uniqueID;\n        case 9: // Document\n          return node.documentElement && node.documentElement.uniqueID;\n      }\n    }\n  }\n\n  // If possible, use a WeakMap.\n  var usingWeakMap = typeof WeakMap === 'function';\n  var weakMap;\n  if (usingWeakMap) {\n    weakMap = new WeakMap();\n  }\n\n  var objHashUID = 0;\n\n  var UID_HASH_KEY = '__immutablehash__';\n  if (typeof Symbol === 'function') {\n    UID_HASH_KEY = Symbol(UID_HASH_KEY);\n  }\n\n  var STRING_HASH_CACHE_MIN_STRLEN = 16;\n  var STRING_HASH_CACHE_MAX_SIZE = 255;\n  var STRING_HASH_CACHE_SIZE = 0;\n  var stringHashCache = {};\n\n  function assertNotInfinite(size) {\n    invariant(\n      size !== Infinity,\n      'Cannot perform this action with an infinite size.'\n    );\n  }\n\n  createClass(Map, KeyedCollection);\n\n    // @pragma Construction\n\n    function Map(value) {\n      return value === null || value === undefined ? emptyMap() :\n        isMap(value) && !isOrdered(value) ? value :\n        emptyMap().withMutations(function(map ) {\n          var iter = KeyedIterable(value);\n          assertNotInfinite(iter.size);\n          iter.forEach(function(v, k)  {return map.set(k, v)});\n        });\n    }\n\n    Map.prototype.toString = function() {\n      return this.__toString('Map {', '}');\n    };\n\n    // @pragma Access\n\n    Map.prototype.get = function(k, notSetValue) {\n      return this._root ?\n        this._root.get(0, undefined, k, notSetValue) :\n        notSetValue;\n    };\n\n    // @pragma Modification\n\n    Map.prototype.set = function(k, v) {\n      return updateMap(this, k, v);\n    };\n\n    Map.prototype.setIn = function(keyPath, v) {\n      return this.updateIn(keyPath, NOT_SET, function()  {return v});\n    };\n\n    Map.prototype.remove = function(k) {\n      return updateMap(this, k, NOT_SET);\n    };\n\n    Map.prototype.deleteIn = function(keyPath) {\n      return this.updateIn(keyPath, function()  {return NOT_SET});\n    };\n\n    Map.prototype.update = function(k, notSetValue, updater) {\n      return arguments.length === 1 ?\n        k(this) :\n        this.updateIn([k], notSetValue, updater);\n    };\n\n    Map.prototype.updateIn = function(keyPath, notSetValue, updater) {\n      if (!updater) {\n        updater = notSetValue;\n        notSetValue = undefined;\n      }\n      var updatedValue = updateInDeepMap(\n        this,\n        forceIterator(keyPath),\n        notSetValue,\n        updater\n      );\n      return updatedValue === NOT_SET ? undefined : updatedValue;\n    };\n\n    Map.prototype.clear = function() {\n      if (this.size === 0) {\n        return this;\n      }\n      if (this.__ownerID) {\n        this.size = 0;\n        this._root = null;\n        this.__hash = undefined;\n        this.__altered = true;\n        return this;\n      }\n      return emptyMap();\n    };\n\n    // @pragma Composition\n\n    Map.prototype.merge = function(/*...iters*/) {\n      return mergeIntoMapWith(this, undefined, arguments);\n    };\n\n    Map.prototype.mergeWith = function(merger) {var iters = SLICE$0.call(arguments, 1);\n      return mergeIntoMapWith(this, merger, iters);\n    };\n\n    Map.prototype.mergeIn = function(keyPath) {var iters = SLICE$0.call(arguments, 1);\n      return this.updateIn(\n        keyPath,\n        emptyMap(),\n        function(m ) {return typeof m.merge === 'function' ?\n          m.merge.apply(m, iters) :\n          iters[iters.length - 1]}\n      );\n    };\n\n    Map.prototype.mergeDeep = function(/*...iters*/) {\n      return mergeIntoMapWith(this, deepMerger, arguments);\n    };\n\n    Map.prototype.mergeDeepWith = function(merger) {var iters = SLICE$0.call(arguments, 1);\n      return mergeIntoMapWith(this, deepMergerWith(merger), iters);\n    };\n\n    Map.prototype.mergeDeepIn = function(keyPath) {var iters = SLICE$0.call(arguments, 1);\n      return this.updateIn(\n        keyPath,\n        emptyMap(),\n        function(m ) {return typeof m.mergeDeep === 'function' ?\n          m.mergeDeep.apply(m, iters) :\n          iters[iters.length - 1]}\n      );\n    };\n\n    Map.prototype.sort = function(comparator) {\n      // Late binding\n      return OrderedMap(sortFactory(this, comparator));\n    };\n\n    Map.prototype.sortBy = function(mapper, comparator) {\n      // Late binding\n      return OrderedMap(sortFactory(this, comparator, mapper));\n    };\n\n    // @pragma Mutability\n\n    Map.prototype.withMutations = function(fn) {\n      var mutable = this.asMutable();\n      fn(mutable);\n      return mutable.wasAltered() ? mutable.__ensureOwner(this.__ownerID) : this;\n    };\n\n    Map.prototype.asMutable = function() {\n      return this.__ownerID ? this : this.__ensureOwner(new OwnerID());\n    };\n\n    Map.prototype.asImmutable = function() {\n      return this.__ensureOwner();\n    };\n\n    Map.prototype.wasAltered = function() {\n      return this.__altered;\n    };\n\n    Map.prototype.__iterator = function(type, reverse) {\n      return new MapIterator(this, type, reverse);\n    };\n\n    Map.prototype.__iterate = function(fn, reverse) {var this$0 = this;\n      var iterations = 0;\n      this._root && this._root.iterate(function(entry ) {\n        iterations++;\n        return fn(entry[1], entry[0], this$0);\n      }, reverse);\n      return iterations;\n    };\n\n    Map.prototype.__ensureOwner = function(ownerID) {\n      if (ownerID === this.__ownerID) {\n        return this;\n      }\n      if (!ownerID) {\n        this.__ownerID = ownerID;\n        this.__altered = false;\n        return this;\n      }\n      return makeMap(this.size, this._root, ownerID, this.__hash);\n    };\n\n\n  function isMap(maybeMap) {\n    return !!(maybeMap && maybeMap[IS_MAP_SENTINEL]);\n  }\n\n  Map.isMap = isMap;\n\n  var IS_MAP_SENTINEL = '@@__IMMUTABLE_MAP__@@';\n\n  var MapPrototype = Map.prototype;\n  MapPrototype[IS_MAP_SENTINEL] = true;\n  MapPrototype[DELETE] = MapPrototype.remove;\n  MapPrototype.removeIn = MapPrototype.deleteIn;\n\n\n  // #pragma Trie Nodes\n\n\n\n    function ArrayMapNode(ownerID, entries) {\n      this.ownerID = ownerID;\n      this.entries = entries;\n    }\n\n    ArrayMapNode.prototype.get = function(shift, keyHash, key, notSetValue) {\n      var entries = this.entries;\n      for (var ii = 0, len = entries.length; ii < len; ii++) {\n        if (is(key, entries[ii][0])) {\n          return entries[ii][1];\n        }\n      }\n      return notSetValue;\n    };\n\n    ArrayMapNode.prototype.update = function(ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n      var removed = value === NOT_SET;\n\n      var entries = this.entries;\n      var idx = 0;\n      for (var len = entries.length; idx < len; idx++) {\n        if (is(key, entries[idx][0])) {\n          break;\n        }\n      }\n      var exists = idx < len;\n\n      if (exists ? entries[idx][1] === value : removed) {\n        return this;\n      }\n\n      SetRef(didAlter);\n      (removed || !exists) && SetRef(didChangeSize);\n\n      if (removed && entries.length === 1) {\n        return; // undefined\n      }\n\n      if (!exists && !removed && entries.length >= MAX_ARRAY_MAP_SIZE) {\n        return createNodes(ownerID, entries, key, value);\n      }\n\n      var isEditable = ownerID && ownerID === this.ownerID;\n      var newEntries = isEditable ? entries : arrCopy(entries);\n\n      if (exists) {\n        if (removed) {\n          idx === len - 1 ? newEntries.pop() : (newEntries[idx] = newEntries.pop());\n        } else {\n          newEntries[idx] = [key, value];\n        }\n      } else {\n        newEntries.push([key, value]);\n      }\n\n      if (isEditable) {\n        this.entries = newEntries;\n        return this;\n      }\n\n      return new ArrayMapNode(ownerID, newEntries);\n    };\n\n\n\n\n    function BitmapIndexedNode(ownerID, bitmap, nodes) {\n      this.ownerID = ownerID;\n      this.bitmap = bitmap;\n      this.nodes = nodes;\n    }\n\n    BitmapIndexedNode.prototype.get = function(shift, keyHash, key, notSetValue) {\n      if (keyHash === undefined) {\n        keyHash = hash(key);\n      }\n      var bit = (1 << ((shift === 0 ? keyHash : keyHash >>> shift) & MASK));\n      var bitmap = this.bitmap;\n      return (bitmap & bit) === 0 ? notSetValue :\n        this.nodes[popCount(bitmap & (bit - 1))].get(shift + SHIFT, keyHash, key, notSetValue);\n    };\n\n    BitmapIndexedNode.prototype.update = function(ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n      if (keyHash === undefined) {\n        keyHash = hash(key);\n      }\n      var keyHashFrag = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n      var bit = 1 << keyHashFrag;\n      var bitmap = this.bitmap;\n      var exists = (bitmap & bit) !== 0;\n\n      if (!exists && value === NOT_SET) {\n        return this;\n      }\n\n      var idx = popCount(bitmap & (bit - 1));\n      var nodes = this.nodes;\n      var node = exists ? nodes[idx] : undefined;\n      var newNode = updateNode(node, ownerID, shift + SHIFT, keyHash, key, value, didChangeSize, didAlter);\n\n      if (newNode === node) {\n        return this;\n      }\n\n      if (!exists && newNode && nodes.length >= MAX_BITMAP_INDEXED_SIZE) {\n        return expandNodes(ownerID, nodes, bitmap, keyHashFrag, newNode);\n      }\n\n      if (exists && !newNode && nodes.length === 2 && isLeafNode(nodes[idx ^ 1])) {\n        return nodes[idx ^ 1];\n      }\n\n      if (exists && newNode && nodes.length === 1 && isLeafNode(newNode)) {\n        return newNode;\n      }\n\n      var isEditable = ownerID && ownerID === this.ownerID;\n      var newBitmap = exists ? newNode ? bitmap : bitmap ^ bit : bitmap | bit;\n      var newNodes = exists ? newNode ?\n        setIn(nodes, idx, newNode, isEditable) :\n        spliceOut(nodes, idx, isEditable) :\n        spliceIn(nodes, idx, newNode, isEditable);\n\n      if (isEditable) {\n        this.bitmap = newBitmap;\n        this.nodes = newNodes;\n        return this;\n      }\n\n      return new BitmapIndexedNode(ownerID, newBitmap, newNodes);\n    };\n\n\n\n\n    function HashArrayMapNode(ownerID, count, nodes) {\n      this.ownerID = ownerID;\n      this.count = count;\n      this.nodes = nodes;\n    }\n\n    HashArrayMapNode.prototype.get = function(shift, keyHash, key, notSetValue) {\n      if (keyHash === undefined) {\n        keyHash = hash(key);\n      }\n      var idx = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n      var node = this.nodes[idx];\n      return node ? node.get(shift + SHIFT, keyHash, key, notSetValue) : notSetValue;\n    };\n\n    HashArrayMapNode.prototype.update = function(ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n      if (keyHash === undefined) {\n        keyHash = hash(key);\n      }\n      var idx = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n      var removed = value === NOT_SET;\n      var nodes = this.nodes;\n      var node = nodes[idx];\n\n      if (removed && !node) {\n        return this;\n      }\n\n      var newNode = updateNode(node, ownerID, shift + SHIFT, keyHash, key, value, didChangeSize, didAlter);\n      if (newNode === node) {\n        return this;\n      }\n\n      var newCount = this.count;\n      if (!node) {\n        newCount++;\n      } else if (!newNode) {\n        newCount--;\n        if (newCount < MIN_HASH_ARRAY_MAP_SIZE) {\n          return packNodes(ownerID, nodes, newCount, idx);\n        }\n      }\n\n      var isEditable = ownerID && ownerID === this.ownerID;\n      var newNodes = setIn(nodes, idx, newNode, isEditable);\n\n      if (isEditable) {\n        this.count = newCount;\n        this.nodes = newNodes;\n        return this;\n      }\n\n      return new HashArrayMapNode(ownerID, newCount, newNodes);\n    };\n\n\n\n\n    function HashCollisionNode(ownerID, keyHash, entries) {\n      this.ownerID = ownerID;\n      this.keyHash = keyHash;\n      this.entries = entries;\n    }\n\n    HashCollisionNode.prototype.get = function(shift, keyHash, key, notSetValue) {\n      var entries = this.entries;\n      for (var ii = 0, len = entries.length; ii < len; ii++) {\n        if (is(key, entries[ii][0])) {\n          return entries[ii][1];\n        }\n      }\n      return notSetValue;\n    };\n\n    HashCollisionNode.prototype.update = function(ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n      if (keyHash === undefined) {\n        keyHash = hash(key);\n      }\n\n      var removed = value === NOT_SET;\n\n      if (keyHash !== this.keyHash) {\n        if (removed) {\n          return this;\n        }\n        SetRef(didAlter);\n        SetRef(didChangeSize);\n        return mergeIntoNode(this, ownerID, shift, keyHash, [key, value]);\n      }\n\n      var entries = this.entries;\n      var idx = 0;\n      for (var len = entries.length; idx < len; idx++) {\n        if (is(key, entries[idx][0])) {\n          break;\n        }\n      }\n      var exists = idx < len;\n\n      if (exists ? entries[idx][1] === value : removed) {\n        return this;\n      }\n\n      SetRef(didAlter);\n      (removed || !exists) && SetRef(didChangeSize);\n\n      if (removed && len === 2) {\n        return new ValueNode(ownerID, this.keyHash, entries[idx ^ 1]);\n      }\n\n      var isEditable = ownerID && ownerID === this.ownerID;\n      var newEntries = isEditable ? entries : arrCopy(entries);\n\n      if (exists) {\n        if (removed) {\n          idx === len - 1 ? newEntries.pop() : (newEntries[idx] = newEntries.pop());\n        } else {\n          newEntries[idx] = [key, value];\n        }\n      } else {\n        newEntries.push([key, value]);\n      }\n\n      if (isEditable) {\n        this.entries = newEntries;\n        return this;\n      }\n\n      return new HashCollisionNode(ownerID, this.keyHash, newEntries);\n    };\n\n\n\n\n    function ValueNode(ownerID, keyHash, entry) {\n      this.ownerID = ownerID;\n      this.keyHash = keyHash;\n      this.entry = entry;\n    }\n\n    ValueNode.prototype.get = function(shift, keyHash, key, notSetValue) {\n      return is(key, this.entry[0]) ? this.entry[1] : notSetValue;\n    };\n\n    ValueNode.prototype.update = function(ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n      var removed = value === NOT_SET;\n      var keyMatch = is(key, this.entry[0]);\n      if (keyMatch ? value === this.entry[1] : removed) {\n        return this;\n      }\n\n      SetRef(didAlter);\n\n      if (removed) {\n        SetRef(didChangeSize);\n        return; // undefined\n      }\n\n      if (keyMatch) {\n        if (ownerID && ownerID === this.ownerID) {\n          this.entry[1] = value;\n          return this;\n        }\n        return new ValueNode(ownerID, this.keyHash, [key, value]);\n      }\n\n      SetRef(didChangeSize);\n      return mergeIntoNode(this, ownerID, shift, hash(key), [key, value]);\n    };\n\n\n\n  // #pragma Iterators\n\n  ArrayMapNode.prototype.iterate =\n  HashCollisionNode.prototype.iterate = function (fn, reverse) {\n    var entries = this.entries;\n    for (var ii = 0, maxIndex = entries.length - 1; ii <= maxIndex; ii++) {\n      if (fn(entries[reverse ? maxIndex - ii : ii]) === false) {\n        return false;\n      }\n    }\n  }\n\n  BitmapIndexedNode.prototype.iterate =\n  HashArrayMapNode.prototype.iterate = function (fn, reverse) {\n    var nodes = this.nodes;\n    for (var ii = 0, maxIndex = nodes.length - 1; ii <= maxIndex; ii++) {\n      var node = nodes[reverse ? maxIndex - ii : ii];\n      if (node && node.iterate(fn, reverse) === false) {\n        return false;\n      }\n    }\n  }\n\n  ValueNode.prototype.iterate = function (fn, reverse) {\n    return fn(this.entry);\n  }\n\n  createClass(MapIterator, Iterator);\n\n    function MapIterator(map, type, reverse) {\n      this._type = type;\n      this._reverse = reverse;\n      this._stack = map._root && mapIteratorFrame(map._root);\n    }\n\n    MapIterator.prototype.next = function() {\n      var type = this._type;\n      var stack = this._stack;\n      while (stack) {\n        var node = stack.node;\n        var index = stack.index++;\n        var maxIndex;\n        if (node.entry) {\n          if (index === 0) {\n            return mapIteratorValue(type, node.entry);\n          }\n        } else if (node.entries) {\n          maxIndex = node.entries.length - 1;\n          if (index <= maxIndex) {\n            return mapIteratorValue(type, node.entries[this._reverse ? maxIndex - index : index]);\n          }\n        } else {\n          maxIndex = node.nodes.length - 1;\n          if (index <= maxIndex) {\n            var subNode = node.nodes[this._reverse ? maxIndex - index : index];\n            if (subNode) {\n              if (subNode.entry) {\n                return mapIteratorValue(type, subNode.entry);\n              }\n              stack = this._stack = mapIteratorFrame(subNode, stack);\n            }\n            continue;\n          }\n        }\n        stack = this._stack = this._stack.__prev;\n      }\n      return iteratorDone();\n    };\n\n\n  function mapIteratorValue(type, entry) {\n    return iteratorValue(type, entry[0], entry[1]);\n  }\n\n  function mapIteratorFrame(node, prev) {\n    return {\n      node: node,\n      index: 0,\n      __prev: prev\n    };\n  }\n\n  function makeMap(size, root, ownerID, hash) {\n    var map = Object.create(MapPrototype);\n    map.size = size;\n    map._root = root;\n    map.__ownerID = ownerID;\n    map.__hash = hash;\n    map.__altered = false;\n    return map;\n  }\n\n  var EMPTY_MAP;\n  function emptyMap() {\n    return EMPTY_MAP || (EMPTY_MAP = makeMap(0));\n  }\n\n  function updateMap(map, k, v) {\n    var newRoot;\n    var newSize;\n    if (!map._root) {\n      if (v === NOT_SET) {\n        return map;\n      }\n      newSize = 1;\n      newRoot = new ArrayMapNode(map.__ownerID, [[k, v]]);\n    } else {\n      var didChangeSize = MakeRef(CHANGE_LENGTH);\n      var didAlter = MakeRef(DID_ALTER);\n      newRoot = updateNode(map._root, map.__ownerID, 0, undefined, k, v, didChangeSize, didAlter);\n      if (!didAlter.value) {\n        return map;\n      }\n      newSize = map.size + (didChangeSize.value ? v === NOT_SET ? -1 : 1 : 0);\n    }\n    if (map.__ownerID) {\n      map.size = newSize;\n      map._root = newRoot;\n      map.__hash = undefined;\n      map.__altered = true;\n      return map;\n    }\n    return newRoot ? makeMap(newSize, newRoot) : emptyMap();\n  }\n\n  function updateNode(node, ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n    if (!node) {\n      if (value === NOT_SET) {\n        return node;\n      }\n      SetRef(didAlter);\n      SetRef(didChangeSize);\n      return new ValueNode(ownerID, keyHash, [key, value]);\n    }\n    return node.update(ownerID, shift, keyHash, key, value, didChangeSize, didAlter);\n  }\n\n  function isLeafNode(node) {\n    return node.constructor === ValueNode || node.constructor === HashCollisionNode;\n  }\n\n  function mergeIntoNode(node, ownerID, shift, keyHash, entry) {\n    if (node.keyHash === keyHash) {\n      return new HashCollisionNode(ownerID, keyHash, [node.entry, entry]);\n    }\n\n    var idx1 = (shift === 0 ? node.keyHash : node.keyHash >>> shift) & MASK;\n    var idx2 = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n\n    var newNode;\n    var nodes = idx1 === idx2 ?\n      [mergeIntoNode(node, ownerID, shift + SHIFT, keyHash, entry)] :\n      ((newNode = new ValueNode(ownerID, keyHash, entry)), idx1 < idx2 ? [node, newNode] : [newNode, node]);\n\n    return new BitmapIndexedNode(ownerID, (1 << idx1) | (1 << idx2), nodes);\n  }\n\n  function createNodes(ownerID, entries, key, value) {\n    if (!ownerID) {\n      ownerID = new OwnerID();\n    }\n    var node = new ValueNode(ownerID, hash(key), [key, value]);\n    for (var ii = 0; ii < entries.length; ii++) {\n      var entry = entries[ii];\n      node = node.update(ownerID, 0, undefined, entry[0], entry[1]);\n    }\n    return node;\n  }\n\n  function packNodes(ownerID, nodes, count, excluding) {\n    var bitmap = 0;\n    var packedII = 0;\n    var packedNodes = new Array(count);\n    for (var ii = 0, bit = 1, len = nodes.length; ii < len; ii++, bit <<= 1) {\n      var node = nodes[ii];\n      if (node !== undefined && ii !== excluding) {\n        bitmap |= bit;\n        packedNodes[packedII++] = node;\n      }\n    }\n    return new BitmapIndexedNode(ownerID, bitmap, packedNodes);\n  }\n\n  function expandNodes(ownerID, nodes, bitmap, including, node) {\n    var count = 0;\n    var expandedNodes = new Array(SIZE);\n    for (var ii = 0; bitmap !== 0; ii++, bitmap >>>= 1) {\n      expandedNodes[ii] = bitmap & 1 ? nodes[count++] : undefined;\n    }\n    expandedNodes[including] = node;\n    return new HashArrayMapNode(ownerID, count + 1, expandedNodes);\n  }\n\n  function mergeIntoMapWith(map, merger, iterables) {\n    var iters = [];\n    for (var ii = 0; ii < iterables.length; ii++) {\n      var value = iterables[ii];\n      var iter = KeyedIterable(value);\n      if (!isIterable(value)) {\n        iter = iter.map(function(v ) {return fromJS(v)});\n      }\n      iters.push(iter);\n    }\n    return mergeIntoCollectionWith(map, merger, iters);\n  }\n\n  function deepMerger(existing, value, key) {\n    return existing && existing.mergeDeep && isIterable(value) ?\n      existing.mergeDeep(value) :\n      is(existing, value) ? existing : value;\n  }\n\n  function deepMergerWith(merger) {\n    return function(existing, value, key)  {\n      if (existing && existing.mergeDeepWith && isIterable(value)) {\n        return existing.mergeDeepWith(merger, value);\n      }\n      var nextValue = merger(existing, value, key);\n      return is(existing, nextValue) ? existing : nextValue;\n    };\n  }\n\n  function mergeIntoCollectionWith(collection, merger, iters) {\n    iters = iters.filter(function(x ) {return x.size !== 0});\n    if (iters.length === 0) {\n      return collection;\n    }\n    if (collection.size === 0 && !collection.__ownerID && iters.length === 1) {\n      return collection.constructor(iters[0]);\n    }\n    return collection.withMutations(function(collection ) {\n      var mergeIntoMap = merger ?\n        function(value, key)  {\n          collection.update(key, NOT_SET, function(existing )\n            {return existing === NOT_SET ? value : merger(existing, value, key)}\n          );\n        } :\n        function(value, key)  {\n          collection.set(key, value);\n        }\n      for (var ii = 0; ii < iters.length; ii++) {\n        iters[ii].forEach(mergeIntoMap);\n      }\n    });\n  }\n\n  function updateInDeepMap(existing, keyPathIter, notSetValue, updater) {\n    var isNotSet = existing === NOT_SET;\n    var step = keyPathIter.next();\n    if (step.done) {\n      var existingValue = isNotSet ? notSetValue : existing;\n      var newValue = updater(existingValue);\n      return newValue === existingValue ? existing : newValue;\n    }\n    invariant(\n      isNotSet || (existing && existing.set),\n      'invalid keyPath'\n    );\n    var key = step.value;\n    var nextExisting = isNotSet ? NOT_SET : existing.get(key, NOT_SET);\n    var nextUpdated = updateInDeepMap(\n      nextExisting,\n      keyPathIter,\n      notSetValue,\n      updater\n    );\n    return nextUpdated === nextExisting ? existing :\n      nextUpdated === NOT_SET ? existing.remove(key) :\n      (isNotSet ? emptyMap() : existing).set(key, nextUpdated);\n  }\n\n  function popCount(x) {\n    x = x - ((x >> 1) & 0x55555555);\n    x = (x & 0x33333333) + ((x >> 2) & 0x33333333);\n    x = (x + (x >> 4)) & 0x0f0f0f0f;\n    x = x + (x >> 8);\n    x = x + (x >> 16);\n    return x & 0x7f;\n  }\n\n  function setIn(array, idx, val, canEdit) {\n    var newArray = canEdit ? array : arrCopy(array);\n    newArray[idx] = val;\n    return newArray;\n  }\n\n  function spliceIn(array, idx, val, canEdit) {\n    var newLen = array.length + 1;\n    if (canEdit && idx + 1 === newLen) {\n      array[idx] = val;\n      return array;\n    }\n    var newArray = new Array(newLen);\n    var after = 0;\n    for (var ii = 0; ii < newLen; ii++) {\n      if (ii === idx) {\n        newArray[ii] = val;\n        after = -1;\n      } else {\n        newArray[ii] = array[ii + after];\n      }\n    }\n    return newArray;\n  }\n\n  function spliceOut(array, idx, canEdit) {\n    var newLen = array.length - 1;\n    if (canEdit && idx === newLen) {\n      array.pop();\n      return array;\n    }\n    var newArray = new Array(newLen);\n    var after = 0;\n    for (var ii = 0; ii < newLen; ii++) {\n      if (ii === idx) {\n        after = 1;\n      }\n      newArray[ii] = array[ii + after];\n    }\n    return newArray;\n  }\n\n  var MAX_ARRAY_MAP_SIZE = SIZE / 4;\n  var MAX_BITMAP_INDEXED_SIZE = SIZE / 2;\n  var MIN_HASH_ARRAY_MAP_SIZE = SIZE / 4;\n\n  createClass(List, IndexedCollection);\n\n    // @pragma Construction\n\n    function List(value) {\n      var empty = emptyList();\n      if (value === null || value === undefined) {\n        return empty;\n      }\n      if (isList(value)) {\n        return value;\n      }\n      var iter = IndexedIterable(value);\n      var size = iter.size;\n      if (size === 0) {\n        return empty;\n      }\n      assertNotInfinite(size);\n      if (size > 0 && size < SIZE) {\n        return makeList(0, size, SHIFT, null, new VNode(iter.toArray()));\n      }\n      return empty.withMutations(function(list ) {\n        list.setSize(size);\n        iter.forEach(function(v, i)  {return list.set(i, v)});\n      });\n    }\n\n    List.of = function(/*...values*/) {\n      return this(arguments);\n    };\n\n    List.prototype.toString = function() {\n      return this.__toString('List [', ']');\n    };\n\n    // @pragma Access\n\n    List.prototype.get = function(index, notSetValue) {\n      index = wrapIndex(this, index);\n      if (index >= 0 && index < this.size) {\n        index += this._origin;\n        var node = listNodeFor(this, index);\n        return node && node.array[index & MASK];\n      }\n      return notSetValue;\n    };\n\n    // @pragma Modification\n\n    List.prototype.set = function(index, value) {\n      return updateList(this, index, value);\n    };\n\n    List.prototype.remove = function(index) {\n      return !this.has(index) ? this :\n        index === 0 ? this.shift() :\n        index === this.size - 1 ? this.pop() :\n        this.splice(index, 1);\n    };\n\n    List.prototype.insert = function(index, value) {\n      return this.splice(index, 0, value);\n    };\n\n    List.prototype.clear = function() {\n      if (this.size === 0) {\n        return this;\n      }\n      if (this.__ownerID) {\n        this.size = this._origin = this._capacity = 0;\n        this._level = SHIFT;\n        this._root = this._tail = null;\n        this.__hash = undefined;\n        this.__altered = true;\n        return this;\n      }\n      return emptyList();\n    };\n\n    List.prototype.push = function(/*...values*/) {\n      var values = arguments;\n      var oldSize = this.size;\n      return this.withMutations(function(list ) {\n        setListBounds(list, 0, oldSize + values.length);\n        for (var ii = 0; ii < values.length; ii++) {\n          list.set(oldSize + ii, values[ii]);\n        }\n      });\n    };\n\n    List.prototype.pop = function() {\n      return setListBounds(this, 0, -1);\n    };\n\n    List.prototype.unshift = function(/*...values*/) {\n      var values = arguments;\n      return this.withMutations(function(list ) {\n        setListBounds(list, -values.length);\n        for (var ii = 0; ii < values.length; ii++) {\n          list.set(ii, values[ii]);\n        }\n      });\n    };\n\n    List.prototype.shift = function() {\n      return setListBounds(this, 1);\n    };\n\n    // @pragma Composition\n\n    List.prototype.merge = function(/*...iters*/) {\n      return mergeIntoListWith(this, undefined, arguments);\n    };\n\n    List.prototype.mergeWith = function(merger) {var iters = SLICE$0.call(arguments, 1);\n      return mergeIntoListWith(this, merger, iters);\n    };\n\n    List.prototype.mergeDeep = function(/*...iters*/) {\n      return mergeIntoListWith(this, deepMerger, arguments);\n    };\n\n    List.prototype.mergeDeepWith = function(merger) {var iters = SLICE$0.call(arguments, 1);\n      return mergeIntoListWith(this, deepMergerWith(merger), iters);\n    };\n\n    List.prototype.setSize = function(size) {\n      return setListBounds(this, 0, size);\n    };\n\n    // @pragma Iteration\n\n    List.prototype.slice = function(begin, end) {\n      var size = this.size;\n      if (wholeSlice(begin, end, size)) {\n        return this;\n      }\n      return setListBounds(\n        this,\n        resolveBegin(begin, size),\n        resolveEnd(end, size)\n      );\n    };\n\n    List.prototype.__iterator = function(type, reverse) {\n      var index = 0;\n      var values = iterateList(this, reverse);\n      return new Iterator(function()  {\n        var value = values();\n        return value === DONE ?\n          iteratorDone() :\n          iteratorValue(type, index++, value);\n      });\n    };\n\n    List.prototype.__iterate = function(fn, reverse) {\n      var index = 0;\n      var values = iterateList(this, reverse);\n      var value;\n      while ((value = values()) !== DONE) {\n        if (fn(value, index++, this) === false) {\n          break;\n        }\n      }\n      return index;\n    };\n\n    List.prototype.__ensureOwner = function(ownerID) {\n      if (ownerID === this.__ownerID) {\n        return this;\n      }\n      if (!ownerID) {\n        this.__ownerID = ownerID;\n        return this;\n      }\n      return makeList(this._origin, this._capacity, this._level, this._root, this._tail, ownerID, this.__hash);\n    };\n\n\n  function isList(maybeList) {\n    return !!(maybeList && maybeList[IS_LIST_SENTINEL]);\n  }\n\n  List.isList = isList;\n\n  var IS_LIST_SENTINEL = '@@__IMMUTABLE_LIST__@@';\n\n  var ListPrototype = List.prototype;\n  ListPrototype[IS_LIST_SENTINEL] = true;\n  ListPrototype[DELETE] = ListPrototype.remove;\n  ListPrototype.setIn = MapPrototype.setIn;\n  ListPrototype.deleteIn =\n  ListPrototype.removeIn = MapPrototype.removeIn;\n  ListPrototype.update = MapPrototype.update;\n  ListPrototype.updateIn = MapPrototype.updateIn;\n  ListPrototype.mergeIn = MapPrototype.mergeIn;\n  ListPrototype.mergeDeepIn = MapPrototype.mergeDeepIn;\n  ListPrototype.withMutations = MapPrototype.withMutations;\n  ListPrototype.asMutable = MapPrototype.asMutable;\n  ListPrototype.asImmutable = MapPrototype.asImmutable;\n  ListPrototype.wasAltered = MapPrototype.wasAltered;\n\n\n\n    function VNode(array, ownerID) {\n      this.array = array;\n      this.ownerID = ownerID;\n    }\n\n    // TODO: seems like these methods are very similar\n\n    VNode.prototype.removeBefore = function(ownerID, level, index) {\n      if (index === level ? 1 << level : 0 || this.array.length === 0) {\n        return this;\n      }\n      var originIndex = (index >>> level) & MASK;\n      if (originIndex >= this.array.length) {\n        return new VNode([], ownerID);\n      }\n      var removingFirst = originIndex === 0;\n      var newChild;\n      if (level > 0) {\n        var oldChild = this.array[originIndex];\n        newChild = oldChild && oldChild.removeBefore(ownerID, level - SHIFT, index);\n        if (newChild === oldChild && removingFirst) {\n          return this;\n        }\n      }\n      if (removingFirst && !newChild) {\n        return this;\n      }\n      var editable = editableVNode(this, ownerID);\n      if (!removingFirst) {\n        for (var ii = 0; ii < originIndex; ii++) {\n          editable.array[ii] = undefined;\n        }\n      }\n      if (newChild) {\n        editable.array[originIndex] = newChild;\n      }\n      return editable;\n    };\n\n    VNode.prototype.removeAfter = function(ownerID, level, index) {\n      if (index === (level ? 1 << level : 0) || this.array.length === 0) {\n        return this;\n      }\n      var sizeIndex = ((index - 1) >>> level) & MASK;\n      if (sizeIndex >= this.array.length) {\n        return this;\n      }\n\n      var newChild;\n      if (level > 0) {\n        var oldChild = this.array[sizeIndex];\n        newChild = oldChild && oldChild.removeAfter(ownerID, level - SHIFT, index);\n        if (newChild === oldChild && sizeIndex === this.array.length - 1) {\n          return this;\n        }\n      }\n\n      var editable = editableVNode(this, ownerID);\n      editable.array.splice(sizeIndex + 1);\n      if (newChild) {\n        editable.array[sizeIndex] = newChild;\n      }\n      return editable;\n    };\n\n\n\n  var DONE = {};\n\n  function iterateList(list, reverse) {\n    var left = list._origin;\n    var right = list._capacity;\n    var tailPos = getTailOffset(right);\n    var tail = list._tail;\n\n    return iterateNodeOrLeaf(list._root, list._level, 0);\n\n    function iterateNodeOrLeaf(node, level, offset) {\n      return level === 0 ?\n        iterateLeaf(node, offset) :\n        iterateNode(node, level, offset);\n    }\n\n    function iterateLeaf(node, offset) {\n      var array = offset === tailPos ? tail && tail.array : node && node.array;\n      var from = offset > left ? 0 : left - offset;\n      var to = right - offset;\n      if (to > SIZE) {\n        to = SIZE;\n      }\n      return function()  {\n        if (from === to) {\n          return DONE;\n        }\n        var idx = reverse ? --to : from++;\n        return array && array[idx];\n      };\n    }\n\n    function iterateNode(node, level, offset) {\n      var values;\n      var array = node && node.array;\n      var from = offset > left ? 0 : (left - offset) >> level;\n      var to = ((right - offset) >> level) + 1;\n      if (to > SIZE) {\n        to = SIZE;\n      }\n      return function()  {\n        do {\n          if (values) {\n            var value = values();\n            if (value !== DONE) {\n              return value;\n            }\n            values = null;\n          }\n          if (from === to) {\n            return DONE;\n          }\n          var idx = reverse ? --to : from++;\n          values = iterateNodeOrLeaf(\n            array && array[idx], level - SHIFT, offset + (idx << level)\n          );\n        } while (true);\n      };\n    }\n  }\n\n  function makeList(origin, capacity, level, root, tail, ownerID, hash) {\n    var list = Object.create(ListPrototype);\n    list.size = capacity - origin;\n    list._origin = origin;\n    list._capacity = capacity;\n    list._level = level;\n    list._root = root;\n    list._tail = tail;\n    list.__ownerID = ownerID;\n    list.__hash = hash;\n    list.__altered = false;\n    return list;\n  }\n\n  var EMPTY_LIST;\n  function emptyList() {\n    return EMPTY_LIST || (EMPTY_LIST = makeList(0, 0, SHIFT));\n  }\n\n  function updateList(list, index, value) {\n    index = wrapIndex(list, index);\n\n    if (index !== index) {\n      return list;\n    }\n\n    if (index >= list.size || index < 0) {\n      return list.withMutations(function(list ) {\n        index < 0 ?\n          setListBounds(list, index).set(0, value) :\n          setListBounds(list, 0, index + 1).set(index, value)\n      });\n    }\n\n    index += list._origin;\n\n    var newTail = list._tail;\n    var newRoot = list._root;\n    var didAlter = MakeRef(DID_ALTER);\n    if (index >= getTailOffset(list._capacity)) {\n      newTail = updateVNode(newTail, list.__ownerID, 0, index, value, didAlter);\n    } else {\n      newRoot = updateVNode(newRoot, list.__ownerID, list._level, index, value, didAlter);\n    }\n\n    if (!didAlter.value) {\n      return list;\n    }\n\n    if (list.__ownerID) {\n      list._root = newRoot;\n      list._tail = newTail;\n      list.__hash = undefined;\n      list.__altered = true;\n      return list;\n    }\n    return makeList(list._origin, list._capacity, list._level, newRoot, newTail);\n  }\n\n  function updateVNode(node, ownerID, level, index, value, didAlter) {\n    var idx = (index >>> level) & MASK;\n    var nodeHas = node && idx < node.array.length;\n    if (!nodeHas && value === undefined) {\n      return node;\n    }\n\n    var newNode;\n\n    if (level > 0) {\n      var lowerNode = node && node.array[idx];\n      var newLowerNode = updateVNode(lowerNode, ownerID, level - SHIFT, index, value, didAlter);\n      if (newLowerNode === lowerNode) {\n        return node;\n      }\n      newNode = editableVNode(node, ownerID);\n      newNode.array[idx] = newLowerNode;\n      return newNode;\n    }\n\n    if (nodeHas && node.array[idx] === value) {\n      return node;\n    }\n\n    SetRef(didAlter);\n\n    newNode = editableVNode(node, ownerID);\n    if (value === undefined && idx === newNode.array.length - 1) {\n      newNode.array.pop();\n    } else {\n      newNode.array[idx] = value;\n    }\n    return newNode;\n  }\n\n  function editableVNode(node, ownerID) {\n    if (ownerID && node && ownerID === node.ownerID) {\n      return node;\n    }\n    return new VNode(node ? node.array.slice() : [], ownerID);\n  }\n\n  function listNodeFor(list, rawIndex) {\n    if (rawIndex >= getTailOffset(list._capacity)) {\n      return list._tail;\n    }\n    if (rawIndex < 1 << (list._level + SHIFT)) {\n      var node = list._root;\n      var level = list._level;\n      while (node && level > 0) {\n        node = node.array[(rawIndex >>> level) & MASK];\n        level -= SHIFT;\n      }\n      return node;\n    }\n  }\n\n  function setListBounds(list, begin, end) {\n    // Sanitize begin & end using this shorthand for ToInt32(argument)\n    // http://www.ecma-international.org/ecma-262/6.0/#sec-toint32\n    if (begin !== undefined) {\n      begin = begin | 0;\n    }\n    if (end !== undefined) {\n      end = end | 0;\n    }\n    var owner = list.__ownerID || new OwnerID();\n    var oldOrigin = list._origin;\n    var oldCapacity = list._capacity;\n    var newOrigin = oldOrigin + begin;\n    var newCapacity = end === undefined ? oldCapacity : end < 0 ? oldCapacity + end : oldOrigin + end;\n    if (newOrigin === oldOrigin && newCapacity === oldCapacity) {\n      return list;\n    }\n\n    // If it's going to end after it starts, it's empty.\n    if (newOrigin >= newCapacity) {\n      return list.clear();\n    }\n\n    var newLevel = list._level;\n    var newRoot = list._root;\n\n    // New origin might need creating a higher root.\n    var offsetShift = 0;\n    while (newOrigin + offsetShift < 0) {\n      newRoot = new VNode(newRoot && newRoot.array.length ? [undefined, newRoot] : [], owner);\n      newLevel += SHIFT;\n      offsetShift += 1 << newLevel;\n    }\n    if (offsetShift) {\n      newOrigin += offsetShift;\n      oldOrigin += offsetShift;\n      newCapacity += offsetShift;\n      oldCapacity += offsetShift;\n    }\n\n    var oldTailOffset = getTailOffset(oldCapacity);\n    var newTailOffset = getTailOffset(newCapacity);\n\n    // New size might need creating a higher root.\n    while (newTailOffset >= 1 << (newLevel + SHIFT)) {\n      newRoot = new VNode(newRoot && newRoot.array.length ? [newRoot] : [], owner);\n      newLevel += SHIFT;\n    }\n\n    // Locate or create the new tail.\n    var oldTail = list._tail;\n    var newTail = newTailOffset < oldTailOffset ?\n      listNodeFor(list, newCapacity - 1) :\n      newTailOffset > oldTailOffset ? new VNode([], owner) : oldTail;\n\n    // Merge Tail into tree.\n    if (oldTail && newTailOffset > oldTailOffset && newOrigin < oldCapacity && oldTail.array.length) {\n      newRoot = editableVNode(newRoot, owner);\n      var node = newRoot;\n      for (var level = newLevel; level > SHIFT; level -= SHIFT) {\n        var idx = (oldTailOffset >>> level) & MASK;\n        node = node.array[idx] = editableVNode(node.array[idx], owner);\n      }\n      node.array[(oldTailOffset >>> SHIFT) & MASK] = oldTail;\n    }\n\n    // If the size has been reduced, there's a chance the tail needs to be trimmed.\n    if (newCapacity < oldCapacity) {\n      newTail = newTail && newTail.removeAfter(owner, 0, newCapacity);\n    }\n\n    // If the new origin is within the tail, then we do not need a root.\n    if (newOrigin >= newTailOffset) {\n      newOrigin -= newTailOffset;\n      newCapacity -= newTailOffset;\n      newLevel = SHIFT;\n      newRoot = null;\n      newTail = newTail && newTail.removeBefore(owner, 0, newOrigin);\n\n    // Otherwise, if the root has been trimmed, garbage collect.\n    } else if (newOrigin > oldOrigin || newTailOffset < oldTailOffset) {\n      offsetShift = 0;\n\n      // Identify the new top root node of the subtree of the old root.\n      while (newRoot) {\n        var beginIndex = (newOrigin >>> newLevel) & MASK;\n        if (beginIndex !== (newTailOffset >>> newLevel) & MASK) {\n          break;\n        }\n        if (beginIndex) {\n          offsetShift += (1 << newLevel) * beginIndex;\n        }\n        newLevel -= SHIFT;\n        newRoot = newRoot.array[beginIndex];\n      }\n\n      // Trim the new sides of the new root.\n      if (newRoot && newOrigin > oldOrigin) {\n        newRoot = newRoot.removeBefore(owner, newLevel, newOrigin - offsetShift);\n      }\n      if (newRoot && newTailOffset < oldTailOffset) {\n        newRoot = newRoot.removeAfter(owner, newLevel, newTailOffset - offsetShift);\n      }\n      if (offsetShift) {\n        newOrigin -= offsetShift;\n        newCapacity -= offsetShift;\n      }\n    }\n\n    if (list.__ownerID) {\n      list.size = newCapacity - newOrigin;\n      list._origin = newOrigin;\n      list._capacity = newCapacity;\n      list._level = newLevel;\n      list._root = newRoot;\n      list._tail = newTail;\n      list.__hash = undefined;\n      list.__altered = true;\n      return list;\n    }\n    return makeList(newOrigin, newCapacity, newLevel, newRoot, newTail);\n  }\n\n  function mergeIntoListWith(list, merger, iterables) {\n    var iters = [];\n    var maxSize = 0;\n    for (var ii = 0; ii < iterables.length; ii++) {\n      var value = iterables[ii];\n      var iter = IndexedIterable(value);\n      if (iter.size > maxSize) {\n        maxSize = iter.size;\n      }\n      if (!isIterable(value)) {\n        iter = iter.map(function(v ) {return fromJS(v)});\n      }\n      iters.push(iter);\n    }\n    if (maxSize > list.size) {\n      list = list.setSize(maxSize);\n    }\n    return mergeIntoCollectionWith(list, merger, iters);\n  }\n\n  function getTailOffset(size) {\n    return size < SIZE ? 0 : (((size - 1) >>> SHIFT) << SHIFT);\n  }\n\n  createClass(OrderedMap, Map);\n\n    // @pragma Construction\n\n    function OrderedMap(value) {\n      return value === null || value === undefined ? emptyOrderedMap() :\n        isOrderedMap(value) ? value :\n        emptyOrderedMap().withMutations(function(map ) {\n          var iter = KeyedIterable(value);\n          assertNotInfinite(iter.size);\n          iter.forEach(function(v, k)  {return map.set(k, v)});\n        });\n    }\n\n    OrderedMap.of = function(/*...values*/) {\n      return this(arguments);\n    };\n\n    OrderedMap.prototype.toString = function() {\n      return this.__toString('OrderedMap {', '}');\n    };\n\n    // @pragma Access\n\n    OrderedMap.prototype.get = function(k, notSetValue) {\n      var index = this._map.get(k);\n      return index !== undefined ? this._list.get(index)[1] : notSetValue;\n    };\n\n    // @pragma Modification\n\n    OrderedMap.prototype.clear = function() {\n      if (this.size === 0) {\n        return this;\n      }\n      if (this.__ownerID) {\n        this.size = 0;\n        this._map.clear();\n        this._list.clear();\n        return this;\n      }\n      return emptyOrderedMap();\n    };\n\n    OrderedMap.prototype.set = function(k, v) {\n      return updateOrderedMap(this, k, v);\n    };\n\n    OrderedMap.prototype.remove = function(k) {\n      return updateOrderedMap(this, k, NOT_SET);\n    };\n\n    OrderedMap.prototype.wasAltered = function() {\n      return this._map.wasAltered() || this._list.wasAltered();\n    };\n\n    OrderedMap.prototype.__iterate = function(fn, reverse) {var this$0 = this;\n      return this._list.__iterate(\n        function(entry ) {return entry && fn(entry[1], entry[0], this$0)},\n        reverse\n      );\n    };\n\n    OrderedMap.prototype.__iterator = function(type, reverse) {\n      return this._list.fromEntrySeq().__iterator(type, reverse);\n    };\n\n    OrderedMap.prototype.__ensureOwner = function(ownerID) {\n      if (ownerID === this.__ownerID) {\n        return this;\n      }\n      var newMap = this._map.__ensureOwner(ownerID);\n      var newList = this._list.__ensureOwner(ownerID);\n      if (!ownerID) {\n        this.__ownerID = ownerID;\n        this._map = newMap;\n        this._list = newList;\n        return this;\n      }\n      return makeOrderedMap(newMap, newList, ownerID, this.__hash);\n    };\n\n\n  function isOrderedMap(maybeOrderedMap) {\n    return isMap(maybeOrderedMap) && isOrdered(maybeOrderedMap);\n  }\n\n  OrderedMap.isOrderedMap = isOrderedMap;\n\n  OrderedMap.prototype[IS_ORDERED_SENTINEL] = true;\n  OrderedMap.prototype[DELETE] = OrderedMap.prototype.remove;\n\n\n\n  function makeOrderedMap(map, list, ownerID, hash) {\n    var omap = Object.create(OrderedMap.prototype);\n    omap.size = map ? map.size : 0;\n    omap._map = map;\n    omap._list = list;\n    omap.__ownerID = ownerID;\n    omap.__hash = hash;\n    return omap;\n  }\n\n  var EMPTY_ORDERED_MAP;\n  function emptyOrderedMap() {\n    return EMPTY_ORDERED_MAP || (EMPTY_ORDERED_MAP = makeOrderedMap(emptyMap(), emptyList()));\n  }\n\n  function updateOrderedMap(omap, k, v) {\n    var map = omap._map;\n    var list = omap._list;\n    var i = map.get(k);\n    var has = i !== undefined;\n    var newMap;\n    var newList;\n    if (v === NOT_SET) { // removed\n      if (!has) {\n        return omap;\n      }\n      if (list.size >= SIZE && list.size >= map.size * 2) {\n        newList = list.filter(function(entry, idx)  {return entry !== undefined && i !== idx});\n        newMap = newList.toKeyedSeq().map(function(entry ) {return entry[0]}).flip().toMap();\n        if (omap.__ownerID) {\n          newMap.__ownerID = newList.__ownerID = omap.__ownerID;\n        }\n      } else {\n        newMap = map.remove(k);\n        newList = i === list.size - 1 ? list.pop() : list.set(i, undefined);\n      }\n    } else {\n      if (has) {\n        if (v === list.get(i)[1]) {\n          return omap;\n        }\n        newMap = map;\n        newList = list.set(i, [k, v]);\n      } else {\n        newMap = map.set(k, list.size);\n        newList = list.set(list.size, [k, v]);\n      }\n    }\n    if (omap.__ownerID) {\n      omap.size = newMap.size;\n      omap._map = newMap;\n      omap._list = newList;\n      omap.__hash = undefined;\n      return omap;\n    }\n    return makeOrderedMap(newMap, newList);\n  }\n\n  createClass(ToKeyedSequence, KeyedSeq);\n    function ToKeyedSequence(indexed, useKeys) {\n      this._iter = indexed;\n      this._useKeys = useKeys;\n      this.size = indexed.size;\n    }\n\n    ToKeyedSequence.prototype.get = function(key, notSetValue) {\n      return this._iter.get(key, notSetValue);\n    };\n\n    ToKeyedSequence.prototype.has = function(key) {\n      return this._iter.has(key);\n    };\n\n    ToKeyedSequence.prototype.valueSeq = function() {\n      return this._iter.valueSeq();\n    };\n\n    ToKeyedSequence.prototype.reverse = function() {var this$0 = this;\n      var reversedSequence = reverseFactory(this, true);\n      if (!this._useKeys) {\n        reversedSequence.valueSeq = function()  {return this$0._iter.toSeq().reverse()};\n      }\n      return reversedSequence;\n    };\n\n    ToKeyedSequence.prototype.map = function(mapper, context) {var this$0 = this;\n      var mappedSequence = mapFactory(this, mapper, context);\n      if (!this._useKeys) {\n        mappedSequence.valueSeq = function()  {return this$0._iter.toSeq().map(mapper, context)};\n      }\n      return mappedSequence;\n    };\n\n    ToKeyedSequence.prototype.__iterate = function(fn, reverse) {var this$0 = this;\n      var ii;\n      return this._iter.__iterate(\n        this._useKeys ?\n          function(v, k)  {return fn(v, k, this$0)} :\n          ((ii = reverse ? resolveSize(this) : 0),\n            function(v ) {return fn(v, reverse ? --ii : ii++, this$0)}),\n        reverse\n      );\n    };\n\n    ToKeyedSequence.prototype.__iterator = function(type, reverse) {\n      if (this._useKeys) {\n        return this._iter.__iterator(type, reverse);\n      }\n      var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);\n      var ii = reverse ? resolveSize(this) : 0;\n      return new Iterator(function()  {\n        var step = iterator.next();\n        return step.done ? step :\n          iteratorValue(type, reverse ? --ii : ii++, step.value, step);\n      });\n    };\n\n  ToKeyedSequence.prototype[IS_ORDERED_SENTINEL] = true;\n\n\n  createClass(ToIndexedSequence, IndexedSeq);\n    function ToIndexedSequence(iter) {\n      this._iter = iter;\n      this.size = iter.size;\n    }\n\n    ToIndexedSequence.prototype.includes = function(value) {\n      return this._iter.includes(value);\n    };\n\n    ToIndexedSequence.prototype.__iterate = function(fn, reverse) {var this$0 = this;\n      var iterations = 0;\n      return this._iter.__iterate(function(v ) {return fn(v, iterations++, this$0)}, reverse);\n    };\n\n    ToIndexedSequence.prototype.__iterator = function(type, reverse) {\n      var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);\n      var iterations = 0;\n      return new Iterator(function()  {\n        var step = iterator.next();\n        return step.done ? step :\n          iteratorValue(type, iterations++, step.value, step)\n      });\n    };\n\n\n\n  createClass(ToSetSequence, SetSeq);\n    function ToSetSequence(iter) {\n      this._iter = iter;\n      this.size = iter.size;\n    }\n\n    ToSetSequence.prototype.has = function(key) {\n      return this._iter.includes(key);\n    };\n\n    ToSetSequence.prototype.__iterate = function(fn, reverse) {var this$0 = this;\n      return this._iter.__iterate(function(v ) {return fn(v, v, this$0)}, reverse);\n    };\n\n    ToSetSequence.prototype.__iterator = function(type, reverse) {\n      var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);\n      return new Iterator(function()  {\n        var step = iterator.next();\n        return step.done ? step :\n          iteratorValue(type, step.value, step.value, step);\n      });\n    };\n\n\n\n  createClass(FromEntriesSequence, KeyedSeq);\n    function FromEntriesSequence(entries) {\n      this._iter = entries;\n      this.size = entries.size;\n    }\n\n    FromEntriesSequence.prototype.entrySeq = function() {\n      return this._iter.toSeq();\n    };\n\n    FromEntriesSequence.prototype.__iterate = function(fn, reverse) {var this$0 = this;\n      return this._iter.__iterate(function(entry ) {\n        // Check if entry exists first so array access doesn't throw for holes\n        // in the parent iteration.\n        if (entry) {\n          validateEntry(entry);\n          var indexedIterable = isIterable(entry);\n          return fn(\n            indexedIterable ? entry.get(1) : entry[1],\n            indexedIterable ? entry.get(0) : entry[0],\n            this$0\n          );\n        }\n      }, reverse);\n    };\n\n    FromEntriesSequence.prototype.__iterator = function(type, reverse) {\n      var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);\n      return new Iterator(function()  {\n        while (true) {\n          var step = iterator.next();\n          if (step.done) {\n            return step;\n          }\n          var entry = step.value;\n          // Check if entry exists first so array access doesn't throw for holes\n          // in the parent iteration.\n          if (entry) {\n            validateEntry(entry);\n            var indexedIterable = isIterable(entry);\n            return iteratorValue(\n              type,\n              indexedIterable ? entry.get(0) : entry[0],\n              indexedIterable ? entry.get(1) : entry[1],\n              step\n            );\n          }\n        }\n      });\n    };\n\n\n  ToIndexedSequence.prototype.cacheResult =\n  ToKeyedSequence.prototype.cacheResult =\n  ToSetSequence.prototype.cacheResult =\n  FromEntriesSequence.prototype.cacheResult =\n    cacheResultThrough;\n\n\n  function flipFactory(iterable) {\n    var flipSequence = makeSequence(iterable);\n    flipSequence._iter = iterable;\n    flipSequence.size = iterable.size;\n    flipSequence.flip = function()  {return iterable};\n    flipSequence.reverse = function () {\n      var reversedSequence = iterable.reverse.apply(this); // super.reverse()\n      reversedSequence.flip = function()  {return iterable.reverse()};\n      return reversedSequence;\n    };\n    flipSequence.has = function(key ) {return iterable.includes(key)};\n    flipSequence.includes = function(key ) {return iterable.has(key)};\n    flipSequence.cacheResult = cacheResultThrough;\n    flipSequence.__iterateUncached = function (fn, reverse) {var this$0 = this;\n      return iterable.__iterate(function(v, k)  {return fn(k, v, this$0) !== false}, reverse);\n    }\n    flipSequence.__iteratorUncached = function(type, reverse) {\n      if (type === ITERATE_ENTRIES) {\n        var iterator = iterable.__iterator(type, reverse);\n        return new Iterator(function()  {\n          var step = iterator.next();\n          if (!step.done) {\n            var k = step.value[0];\n            step.value[0] = step.value[1];\n            step.value[1] = k;\n          }\n          return step;\n        });\n      }\n      return iterable.__iterator(\n        type === ITERATE_VALUES ? ITERATE_KEYS : ITERATE_VALUES,\n        reverse\n      );\n    }\n    return flipSequence;\n  }\n\n\n  function mapFactory(iterable, mapper, context) {\n    var mappedSequence = makeSequence(iterable);\n    mappedSequence.size = iterable.size;\n    mappedSequence.has = function(key ) {return iterable.has(key)};\n    mappedSequence.get = function(key, notSetValue)  {\n      var v = iterable.get(key, NOT_SET);\n      return v === NOT_SET ?\n        notSetValue :\n        mapper.call(context, v, key, iterable);\n    };\n    mappedSequence.__iterateUncached = function (fn, reverse) {var this$0 = this;\n      return iterable.__iterate(\n        function(v, k, c)  {return fn(mapper.call(context, v, k, c), k, this$0) !== false},\n        reverse\n      );\n    }\n    mappedSequence.__iteratorUncached = function (type, reverse) {\n      var iterator = iterable.__iterator(ITERATE_ENTRIES, reverse);\n      return new Iterator(function()  {\n        var step = iterator.next();\n        if (step.done) {\n          return step;\n        }\n        var entry = step.value;\n        var key = entry[0];\n        return iteratorValue(\n          type,\n          key,\n          mapper.call(context, entry[1], key, iterable),\n          step\n        );\n      });\n    }\n    return mappedSequence;\n  }\n\n\n  function reverseFactory(iterable, useKeys) {\n    var reversedSequence = makeSequence(iterable);\n    reversedSequence._iter = iterable;\n    reversedSequence.size = iterable.size;\n    reversedSequence.reverse = function()  {return iterable};\n    if (iterable.flip) {\n      reversedSequence.flip = function () {\n        var flipSequence = flipFactory(iterable);\n        flipSequence.reverse = function()  {return iterable.flip()};\n        return flipSequence;\n      };\n    }\n    reversedSequence.get = function(key, notSetValue) \n      {return iterable.get(useKeys ? key : -1 - key, notSetValue)};\n    reversedSequence.has = function(key )\n      {return iterable.has(useKeys ? key : -1 - key)};\n    reversedSequence.includes = function(value ) {return iterable.includes(value)};\n    reversedSequence.cacheResult = cacheResultThrough;\n    reversedSequence.__iterate = function (fn, reverse) {var this$0 = this;\n      return iterable.__iterate(function(v, k)  {return fn(v, k, this$0)}, !reverse);\n    };\n    reversedSequence.__iterator =\n      function(type, reverse)  {return iterable.__iterator(type, !reverse)};\n    return reversedSequence;\n  }\n\n\n  function filterFactory(iterable, predicate, context, useKeys) {\n    var filterSequence = makeSequence(iterable);\n    if (useKeys) {\n      filterSequence.has = function(key ) {\n        var v = iterable.get(key, NOT_SET);\n        return v !== NOT_SET && !!predicate.call(context, v, key, iterable);\n      };\n      filterSequence.get = function(key, notSetValue)  {\n        var v = iterable.get(key, NOT_SET);\n        return v !== NOT_SET && predicate.call(context, v, key, iterable) ?\n          v : notSetValue;\n      };\n    }\n    filterSequence.__iterateUncached = function (fn, reverse) {var this$0 = this;\n      var iterations = 0;\n      iterable.__iterate(function(v, k, c)  {\n        if (predicate.call(context, v, k, c)) {\n          iterations++;\n          return fn(v, useKeys ? k : iterations - 1, this$0);\n        }\n      }, reverse);\n      return iterations;\n    };\n    filterSequence.__iteratorUncached = function (type, reverse) {\n      var iterator = iterable.__iterator(ITERATE_ENTRIES, reverse);\n      var iterations = 0;\n      return new Iterator(function()  {\n        while (true) {\n          var step = iterator.next();\n          if (step.done) {\n            return step;\n          }\n          var entry = step.value;\n          var key = entry[0];\n          var value = entry[1];\n          if (predicate.call(context, value, key, iterable)) {\n            return iteratorValue(type, useKeys ? key : iterations++, value, step);\n          }\n        }\n      });\n    }\n    return filterSequence;\n  }\n\n\n  function countByFactory(iterable, grouper, context) {\n    var groups = Map().asMutable();\n    iterable.__iterate(function(v, k)  {\n      groups.update(\n        grouper.call(context, v, k, iterable),\n        0,\n        function(a ) {return a + 1}\n      );\n    });\n    return groups.asImmutable();\n  }\n\n\n  function groupByFactory(iterable, grouper, context) {\n    var isKeyedIter = isKeyed(iterable);\n    var groups = (isOrdered(iterable) ? OrderedMap() : Map()).asMutable();\n    iterable.__iterate(function(v, k)  {\n      groups.update(\n        grouper.call(context, v, k, iterable),\n        function(a ) {return (a = a || [], a.push(isKeyedIter ? [k, v] : v), a)}\n      );\n    });\n    var coerce = iterableClass(iterable);\n    return groups.map(function(arr ) {return reify(iterable, coerce(arr))});\n  }\n\n\n  function sliceFactory(iterable, begin, end, useKeys) {\n    var originalSize = iterable.size;\n\n    // Sanitize begin & end using this shorthand for ToInt32(argument)\n    // http://www.ecma-international.org/ecma-262/6.0/#sec-toint32\n    if (begin !== undefined) {\n      begin = begin | 0;\n    }\n    if (end !== undefined) {\n      end = end | 0;\n    }\n\n    if (wholeSlice(begin, end, originalSize)) {\n      return iterable;\n    }\n\n    var resolvedBegin = resolveBegin(begin, originalSize);\n    var resolvedEnd = resolveEnd(end, originalSize);\n\n    // begin or end will be NaN if they were provided as negative numbers and\n    // this iterable's size is unknown. In that case, cache first so there is\n    // a known size and these do not resolve to NaN.\n    if (resolvedBegin !== resolvedBegin || resolvedEnd !== resolvedEnd) {\n      return sliceFactory(iterable.toSeq().cacheResult(), begin, end, useKeys);\n    }\n\n    // Note: resolvedEnd is undefined when the original sequence's length is\n    // unknown and this slice did not supply an end and should contain all\n    // elements after resolvedBegin.\n    // In that case, resolvedSize will be NaN and sliceSize will remain undefined.\n    var resolvedSize = resolvedEnd - resolvedBegin;\n    var sliceSize;\n    if (resolvedSize === resolvedSize) {\n      sliceSize = resolvedSize < 0 ? 0 : resolvedSize;\n    }\n\n    var sliceSeq = makeSequence(iterable);\n\n    // If iterable.size is undefined, the size of the realized sliceSeq is\n    // unknown at this point unless the number of items to slice is 0\n    sliceSeq.size = sliceSize === 0 ? sliceSize : iterable.size && sliceSize || undefined;\n\n    if (!useKeys && isSeq(iterable) && sliceSize >= 0) {\n      sliceSeq.get = function (index, notSetValue) {\n        index = wrapIndex(this, index);\n        return index >= 0 && index < sliceSize ?\n          iterable.get(index + resolvedBegin, notSetValue) :\n          notSetValue;\n      }\n    }\n\n    sliceSeq.__iterateUncached = function(fn, reverse) {var this$0 = this;\n      if (sliceSize === 0) {\n        return 0;\n      }\n      if (reverse) {\n        return this.cacheResult().__iterate(fn, reverse);\n      }\n      var skipped = 0;\n      var isSkipping = true;\n      var iterations = 0;\n      iterable.__iterate(function(v, k)  {\n        if (!(isSkipping && (isSkipping = skipped++ < resolvedBegin))) {\n          iterations++;\n          return fn(v, useKeys ? k : iterations - 1, this$0) !== false &&\n                 iterations !== sliceSize;\n        }\n      });\n      return iterations;\n    };\n\n    sliceSeq.__iteratorUncached = function(type, reverse) {\n      if (sliceSize !== 0 && reverse) {\n        return this.cacheResult().__iterator(type, reverse);\n      }\n      // Don't bother instantiating parent iterator if taking 0.\n      var iterator = sliceSize !== 0 && iterable.__iterator(type, reverse);\n      var skipped = 0;\n      var iterations = 0;\n      return new Iterator(function()  {\n        while (skipped++ < resolvedBegin) {\n          iterator.next();\n        }\n        if (++iterations > sliceSize) {\n          return iteratorDone();\n        }\n        var step = iterator.next();\n        if (useKeys || type === ITERATE_VALUES) {\n          return step;\n        } else if (type === ITERATE_KEYS) {\n          return iteratorValue(type, iterations - 1, undefined, step);\n        } else {\n          return iteratorValue(type, iterations - 1, step.value[1], step);\n        }\n      });\n    }\n\n    return sliceSeq;\n  }\n\n\n  function takeWhileFactory(iterable, predicate, context) {\n    var takeSequence = makeSequence(iterable);\n    takeSequence.__iterateUncached = function(fn, reverse) {var this$0 = this;\n      if (reverse) {\n        return this.cacheResult().__iterate(fn, reverse);\n      }\n      var iterations = 0;\n      iterable.__iterate(function(v, k, c) \n        {return predicate.call(context, v, k, c) && ++iterations && fn(v, k, this$0)}\n      );\n      return iterations;\n    };\n    takeSequence.__iteratorUncached = function(type, reverse) {var this$0 = this;\n      if (reverse) {\n        return this.cacheResult().__iterator(type, reverse);\n      }\n      var iterator = iterable.__iterator(ITERATE_ENTRIES, reverse);\n      var iterating = true;\n      return new Iterator(function()  {\n        if (!iterating) {\n          return iteratorDone();\n        }\n        var step = iterator.next();\n        if (step.done) {\n          return step;\n        }\n        var entry = step.value;\n        var k = entry[0];\n        var v = entry[1];\n        if (!predicate.call(context, v, k, this$0)) {\n          iterating = false;\n          return iteratorDone();\n        }\n        return type === ITERATE_ENTRIES ? step :\n          iteratorValue(type, k, v, step);\n      });\n    };\n    return takeSequence;\n  }\n\n\n  function skipWhileFactory(iterable, predicate, context, useKeys) {\n    var skipSequence = makeSequence(iterable);\n    skipSequence.__iterateUncached = function (fn, reverse) {var this$0 = this;\n      if (reverse) {\n        return this.cacheResult().__iterate(fn, reverse);\n      }\n      var isSkipping = true;\n      var iterations = 0;\n      iterable.__iterate(function(v, k, c)  {\n        if (!(isSkipping && (isSkipping = predicate.call(context, v, k, c)))) {\n          iterations++;\n          return fn(v, useKeys ? k : iterations - 1, this$0);\n        }\n      });\n      return iterations;\n    };\n    skipSequence.__iteratorUncached = function(type, reverse) {var this$0 = this;\n      if (reverse) {\n        return this.cacheResult().__iterator(type, reverse);\n      }\n      var iterator = iterable.__iterator(ITERATE_ENTRIES, reverse);\n      var skipping = true;\n      var iterations = 0;\n      return new Iterator(function()  {\n        var step, k, v;\n        do {\n          step = iterator.next();\n          if (step.done) {\n            if (useKeys || type === ITERATE_VALUES) {\n              return step;\n            } else if (type === ITERATE_KEYS) {\n              return iteratorValue(type, iterations++, undefined, step);\n            } else {\n              return iteratorValue(type, iterations++, step.value[1], step);\n            }\n          }\n          var entry = step.value;\n          k = entry[0];\n          v = entry[1];\n          skipping && (skipping = predicate.call(context, v, k, this$0));\n        } while (skipping);\n        return type === ITERATE_ENTRIES ? step :\n          iteratorValue(type, k, v, step);\n      });\n    };\n    return skipSequence;\n  }\n\n\n  function concatFactory(iterable, values) {\n    var isKeyedIterable = isKeyed(iterable);\n    var iters = [iterable].concat(values).map(function(v ) {\n      if (!isIterable(v)) {\n        v = isKeyedIterable ?\n          keyedSeqFromValue(v) :\n          indexedSeqFromValue(Array.isArray(v) ? v : [v]);\n      } else if (isKeyedIterable) {\n        v = KeyedIterable(v);\n      }\n      return v;\n    }).filter(function(v ) {return v.size !== 0});\n\n    if (iters.length === 0) {\n      return iterable;\n    }\n\n    if (iters.length === 1) {\n      var singleton = iters[0];\n      if (singleton === iterable ||\n          isKeyedIterable && isKeyed(singleton) ||\n          isIndexed(iterable) && isIndexed(singleton)) {\n        return singleton;\n      }\n    }\n\n    var concatSeq = new ArraySeq(iters);\n    if (isKeyedIterable) {\n      concatSeq = concatSeq.toKeyedSeq();\n    } else if (!isIndexed(iterable)) {\n      concatSeq = concatSeq.toSetSeq();\n    }\n    concatSeq = concatSeq.flatten(true);\n    concatSeq.size = iters.reduce(\n      function(sum, seq)  {\n        if (sum !== undefined) {\n          var size = seq.size;\n          if (size !== undefined) {\n            return sum + size;\n          }\n        }\n      },\n      0\n    );\n    return concatSeq;\n  }\n\n\n  function flattenFactory(iterable, depth, useKeys) {\n    var flatSequence = makeSequence(iterable);\n    flatSequence.__iterateUncached = function(fn, reverse) {\n      var iterations = 0;\n      var stopped = false;\n      function flatDeep(iter, currentDepth) {var this$0 = this;\n        iter.__iterate(function(v, k)  {\n          if ((!depth || currentDepth < depth) && isIterable(v)) {\n            flatDeep(v, currentDepth + 1);\n          } else if (fn(v, useKeys ? k : iterations++, this$0) === false) {\n            stopped = true;\n          }\n          return !stopped;\n        }, reverse);\n      }\n      flatDeep(iterable, 0);\n      return iterations;\n    }\n    flatSequence.__iteratorUncached = function(type, reverse) {\n      var iterator = iterable.__iterator(type, reverse);\n      var stack = [];\n      var iterations = 0;\n      return new Iterator(function()  {\n        while (iterator) {\n          var step = iterator.next();\n          if (step.done !== false) {\n            iterator = stack.pop();\n            continue;\n          }\n          var v = step.value;\n          if (type === ITERATE_ENTRIES) {\n            v = v[1];\n          }\n          if ((!depth || stack.length < depth) && isIterable(v)) {\n            stack.push(iterator);\n            iterator = v.__iterator(type, reverse);\n          } else {\n            return useKeys ? step : iteratorValue(type, iterations++, v, step);\n          }\n        }\n        return iteratorDone();\n      });\n    }\n    return flatSequence;\n  }\n\n\n  function flatMapFactory(iterable, mapper, context) {\n    var coerce = iterableClass(iterable);\n    return iterable.toSeq().map(\n      function(v, k)  {return coerce(mapper.call(context, v, k, iterable))}\n    ).flatten(true);\n  }\n\n\n  function interposeFactory(iterable, separator) {\n    var interposedSequence = makeSequence(iterable);\n    interposedSequence.size = iterable.size && iterable.size * 2 -1;\n    interposedSequence.__iterateUncached = function(fn, reverse) {var this$0 = this;\n      var iterations = 0;\n      iterable.__iterate(function(v, k) \n        {return (!iterations || fn(separator, iterations++, this$0) !== false) &&\n        fn(v, iterations++, this$0) !== false},\n        reverse\n      );\n      return iterations;\n    };\n    interposedSequence.__iteratorUncached = function(type, reverse) {\n      var iterator = iterable.__iterator(ITERATE_VALUES, reverse);\n      var iterations = 0;\n      var step;\n      return new Iterator(function()  {\n        if (!step || iterations % 2) {\n          step = iterator.next();\n          if (step.done) {\n            return step;\n          }\n        }\n        return iterations % 2 ?\n          iteratorValue(type, iterations++, separator) :\n          iteratorValue(type, iterations++, step.value, step);\n      });\n    };\n    return interposedSequence;\n  }\n\n\n  function sortFactory(iterable, comparator, mapper) {\n    if (!comparator) {\n      comparator = defaultComparator;\n    }\n    var isKeyedIterable = isKeyed(iterable);\n    var index = 0;\n    var entries = iterable.toSeq().map(\n      function(v, k)  {return [k, v, index++, mapper ? mapper(v, k, iterable) : v]}\n    ).toArray();\n    entries.sort(function(a, b)  {return comparator(a[3], b[3]) || a[2] - b[2]}).forEach(\n      isKeyedIterable ?\n      function(v, i)  { entries[i].length = 2; } :\n      function(v, i)  { entries[i] = v[1]; }\n    );\n    return isKeyedIterable ? KeyedSeq(entries) :\n      isIndexed(iterable) ? IndexedSeq(entries) :\n      SetSeq(entries);\n  }\n\n\n  function maxFactory(iterable, comparator, mapper) {\n    if (!comparator) {\n      comparator = defaultComparator;\n    }\n    if (mapper) {\n      var entry = iterable.toSeq()\n        .map(function(v, k)  {return [v, mapper(v, k, iterable)]})\n        .reduce(function(a, b)  {return maxCompare(comparator, a[1], b[1]) ? b : a});\n      return entry && entry[0];\n    } else {\n      return iterable.reduce(function(a, b)  {return maxCompare(comparator, a, b) ? b : a});\n    }\n  }\n\n  function maxCompare(comparator, a, b) {\n    var comp = comparator(b, a);\n    // b is considered the new max if the comparator declares them equal, but\n    // they are not equal and b is in fact a nullish value.\n    return (comp === 0 && b !== a && (b === undefined || b === null || b !== b)) || comp > 0;\n  }\n\n\n  function zipWithFactory(keyIter, zipper, iters) {\n    var zipSequence = makeSequence(keyIter);\n    zipSequence.size = new ArraySeq(iters).map(function(i ) {return i.size}).min();\n    // Note: this a generic base implementation of __iterate in terms of\n    // __iterator which may be more generically useful in the future.\n    zipSequence.__iterate = function(fn, reverse) {\n      /* generic:\n      var iterator = this.__iterator(ITERATE_ENTRIES, reverse);\n      var step;\n      var iterations = 0;\n      while (!(step = iterator.next()).done) {\n        iterations++;\n        if (fn(step.value[1], step.value[0], this) === false) {\n          break;\n        }\n      }\n      return iterations;\n      */\n      // indexed:\n      var iterator = this.__iterator(ITERATE_VALUES, reverse);\n      var step;\n      var iterations = 0;\n      while (!(step = iterator.next()).done) {\n        if (fn(step.value, iterations++, this) === false) {\n          break;\n        }\n      }\n      return iterations;\n    };\n    zipSequence.__iteratorUncached = function(type, reverse) {\n      var iterators = iters.map(function(i )\n        {return (i = Iterable(i), getIterator(reverse ? i.reverse() : i))}\n      );\n      var iterations = 0;\n      var isDone = false;\n      return new Iterator(function()  {\n        var steps;\n        if (!isDone) {\n          steps = iterators.map(function(i ) {return i.next()});\n          isDone = steps.some(function(s ) {return s.done});\n        }\n        if (isDone) {\n          return iteratorDone();\n        }\n        return iteratorValue(\n          type,\n          iterations++,\n          zipper.apply(null, steps.map(function(s ) {return s.value}))\n        );\n      });\n    };\n    return zipSequence\n  }\n\n\n  // #pragma Helper Functions\n\n  function reify(iter, seq) {\n    return isSeq(iter) ? seq : iter.constructor(seq);\n  }\n\n  function validateEntry(entry) {\n    if (entry !== Object(entry)) {\n      throw new TypeError('Expected [K, V] tuple: ' + entry);\n    }\n  }\n\n  function resolveSize(iter) {\n    assertNotInfinite(iter.size);\n    return ensureSize(iter);\n  }\n\n  function iterableClass(iterable) {\n    return isKeyed(iterable) ? KeyedIterable :\n      isIndexed(iterable) ? IndexedIterable :\n      SetIterable;\n  }\n\n  function makeSequence(iterable) {\n    return Object.create(\n      (\n        isKeyed(iterable) ? KeyedSeq :\n        isIndexed(iterable) ? IndexedSeq :\n        SetSeq\n      ).prototype\n    );\n  }\n\n  function cacheResultThrough() {\n    if (this._iter.cacheResult) {\n      this._iter.cacheResult();\n      this.size = this._iter.size;\n      return this;\n    } else {\n      return Seq.prototype.cacheResult.call(this);\n    }\n  }\n\n  function defaultComparator(a, b) {\n    return a > b ? 1 : a < b ? -1 : 0;\n  }\n\n  function forceIterator(keyPath) {\n    var iter = getIterator(keyPath);\n    if (!iter) {\n      // Array might not be iterable in this environment, so we need a fallback\n      // to our wrapped type.\n      if (!isArrayLike(keyPath)) {\n        throw new TypeError('Expected iterable or array-like: ' + keyPath);\n      }\n      iter = getIterator(Iterable(keyPath));\n    }\n    return iter;\n  }\n\n  createClass(Record, KeyedCollection);\n\n    function Record(defaultValues, name) {\n      var hasInitialized;\n\n      var RecordType = function Record(values) {\n        if (values instanceof RecordType) {\n          return values;\n        }\n        if (!(this instanceof RecordType)) {\n          return new RecordType(values);\n        }\n        if (!hasInitialized) {\n          hasInitialized = true;\n          var keys = Object.keys(defaultValues);\n          setProps(RecordTypePrototype, keys);\n          RecordTypePrototype.size = keys.length;\n          RecordTypePrototype._name = name;\n          RecordTypePrototype._keys = keys;\n          RecordTypePrototype._defaultValues = defaultValues;\n        }\n        this._map = Map(values);\n      };\n\n      var RecordTypePrototype = RecordType.prototype = Object.create(RecordPrototype);\n      RecordTypePrototype.constructor = RecordType;\n\n      return RecordType;\n    }\n\n    Record.prototype.toString = function() {\n      return this.__toString(recordName(this) + ' {', '}');\n    };\n\n    // @pragma Access\n\n    Record.prototype.has = function(k) {\n      return this._defaultValues.hasOwnProperty(k);\n    };\n\n    Record.prototype.get = function(k, notSetValue) {\n      if (!this.has(k)) {\n        return notSetValue;\n      }\n      var defaultVal = this._defaultValues[k];\n      return this._map ? this._map.get(k, defaultVal) : defaultVal;\n    };\n\n    // @pragma Modification\n\n    Record.prototype.clear = function() {\n      if (this.__ownerID) {\n        this._map && this._map.clear();\n        return this;\n      }\n      var RecordType = this.constructor;\n      return RecordType._empty || (RecordType._empty = makeRecord(this, emptyMap()));\n    };\n\n    Record.prototype.set = function(k, v) {\n      if (!this.has(k)) {\n        throw new Error('Cannot set unknown key \"' + k + '\" on ' + recordName(this));\n      }\n      var newMap = this._map && this._map.set(k, v);\n      if (this.__ownerID || newMap === this._map) {\n        return this;\n      }\n      return makeRecord(this, newMap);\n    };\n\n    Record.prototype.remove = function(k) {\n      if (!this.has(k)) {\n        return this;\n      }\n      var newMap = this._map && this._map.remove(k);\n      if (this.__ownerID || newMap === this._map) {\n        return this;\n      }\n      return makeRecord(this, newMap);\n    };\n\n    Record.prototype.wasAltered = function() {\n      return this._map.wasAltered();\n    };\n\n    Record.prototype.__iterator = function(type, reverse) {var this$0 = this;\n      return KeyedIterable(this._defaultValues).map(function(_, k)  {return this$0.get(k)}).__iterator(type, reverse);\n    };\n\n    Record.prototype.__iterate = function(fn, reverse) {var this$0 = this;\n      return KeyedIterable(this._defaultValues).map(function(_, k)  {return this$0.get(k)}).__iterate(fn, reverse);\n    };\n\n    Record.prototype.__ensureOwner = function(ownerID) {\n      if (ownerID === this.__ownerID) {\n        return this;\n      }\n      var newMap = this._map && this._map.__ensureOwner(ownerID);\n      if (!ownerID) {\n        this.__ownerID = ownerID;\n        this._map = newMap;\n        return this;\n      }\n      return makeRecord(this, newMap, ownerID);\n    };\n\n\n  var RecordPrototype = Record.prototype;\n  RecordPrototype[DELETE] = RecordPrototype.remove;\n  RecordPrototype.deleteIn =\n  RecordPrototype.removeIn = MapPrototype.removeIn;\n  RecordPrototype.merge = MapPrototype.merge;\n  RecordPrototype.mergeWith = MapPrototype.mergeWith;\n  RecordPrototype.mergeIn = MapPrototype.mergeIn;\n  RecordPrototype.mergeDeep = MapPrototype.mergeDeep;\n  RecordPrototype.mergeDeepWith = MapPrototype.mergeDeepWith;\n  RecordPrototype.mergeDeepIn = MapPrototype.mergeDeepIn;\n  RecordPrototype.setIn = MapPrototype.setIn;\n  RecordPrototype.update = MapPrototype.update;\n  RecordPrototype.updateIn = MapPrototype.updateIn;\n  RecordPrototype.withMutations = MapPrototype.withMutations;\n  RecordPrototype.asMutable = MapPrototype.asMutable;\n  RecordPrototype.asImmutable = MapPrototype.asImmutable;\n\n\n  function makeRecord(likeRecord, map, ownerID) {\n    var record = Object.create(Object.getPrototypeOf(likeRecord));\n    record._map = map;\n    record.__ownerID = ownerID;\n    return record;\n  }\n\n  function recordName(record) {\n    return record._name || record.constructor.name || 'Record';\n  }\n\n  function setProps(prototype, names) {\n    try {\n      names.forEach(setProp.bind(undefined, prototype));\n    } catch (error) {\n      // Object.defineProperty failed. Probably IE8.\n    }\n  }\n\n  function setProp(prototype, name) {\n    Object.defineProperty(prototype, name, {\n      get: function() {\n        return this.get(name);\n      },\n      set: function(value) {\n        invariant(this.__ownerID, 'Cannot set on an immutable record.');\n        this.set(name, value);\n      }\n    });\n  }\n\n  createClass(Set, SetCollection);\n\n    // @pragma Construction\n\n    function Set(value) {\n      return value === null || value === undefined ? emptySet() :\n        isSet(value) && !isOrdered(value) ? value :\n        emptySet().withMutations(function(set ) {\n          var iter = SetIterable(value);\n          assertNotInfinite(iter.size);\n          iter.forEach(function(v ) {return set.add(v)});\n        });\n    }\n\n    Set.of = function(/*...values*/) {\n      return this(arguments);\n    };\n\n    Set.fromKeys = function(value) {\n      return this(KeyedIterable(value).keySeq());\n    };\n\n    Set.prototype.toString = function() {\n      return this.__toString('Set {', '}');\n    };\n\n    // @pragma Access\n\n    Set.prototype.has = function(value) {\n      return this._map.has(value);\n    };\n\n    // @pragma Modification\n\n    Set.prototype.add = function(value) {\n      return updateSet(this, this._map.set(value, true));\n    };\n\n    Set.prototype.remove = function(value) {\n      return updateSet(this, this._map.remove(value));\n    };\n\n    Set.prototype.clear = function() {\n      return updateSet(this, this._map.clear());\n    };\n\n    // @pragma Composition\n\n    Set.prototype.union = function() {var iters = SLICE$0.call(arguments, 0);\n      iters = iters.filter(function(x ) {return x.size !== 0});\n      if (iters.length === 0) {\n        return this;\n      }\n      if (this.size === 0 && !this.__ownerID && iters.length === 1) {\n        return this.constructor(iters[0]);\n      }\n      return this.withMutations(function(set ) {\n        for (var ii = 0; ii < iters.length; ii++) {\n          SetIterable(iters[ii]).forEach(function(value ) {return set.add(value)});\n        }\n      });\n    };\n\n    Set.prototype.intersect = function() {var iters = SLICE$0.call(arguments, 0);\n      if (iters.length === 0) {\n        return this;\n      }\n      iters = iters.map(function(iter ) {return SetIterable(iter)});\n      var originalSet = this;\n      return this.withMutations(function(set ) {\n        originalSet.forEach(function(value ) {\n          if (!iters.every(function(iter ) {return iter.includes(value)})) {\n            set.remove(value);\n          }\n        });\n      });\n    };\n\n    Set.prototype.subtract = function() {var iters = SLICE$0.call(arguments, 0);\n      if (iters.length === 0) {\n        return this;\n      }\n      iters = iters.map(function(iter ) {return SetIterable(iter)});\n      var originalSet = this;\n      return this.withMutations(function(set ) {\n        originalSet.forEach(function(value ) {\n          if (iters.some(function(iter ) {return iter.includes(value)})) {\n            set.remove(value);\n          }\n        });\n      });\n    };\n\n    Set.prototype.merge = function() {\n      return this.union.apply(this, arguments);\n    };\n\n    Set.prototype.mergeWith = function(merger) {var iters = SLICE$0.call(arguments, 1);\n      return this.union.apply(this, iters);\n    };\n\n    Set.prototype.sort = function(comparator) {\n      // Late binding\n      return OrderedSet(sortFactory(this, comparator));\n    };\n\n    Set.prototype.sortBy = function(mapper, comparator) {\n      // Late binding\n      return OrderedSet(sortFactory(this, comparator, mapper));\n    };\n\n    Set.prototype.wasAltered = function() {\n      return this._map.wasAltered();\n    };\n\n    Set.prototype.__iterate = function(fn, reverse) {var this$0 = this;\n      return this._map.__iterate(function(_, k)  {return fn(k, k, this$0)}, reverse);\n    };\n\n    Set.prototype.__iterator = function(type, reverse) {\n      return this._map.map(function(_, k)  {return k}).__iterator(type, reverse);\n    };\n\n    Set.prototype.__ensureOwner = function(ownerID) {\n      if (ownerID === this.__ownerID) {\n        return this;\n      }\n      var newMap = this._map.__ensureOwner(ownerID);\n      if (!ownerID) {\n        this.__ownerID = ownerID;\n        this._map = newMap;\n        return this;\n      }\n      return this.__make(newMap, ownerID);\n    };\n\n\n  function isSet(maybeSet) {\n    return !!(maybeSet && maybeSet[IS_SET_SENTINEL]);\n  }\n\n  Set.isSet = isSet;\n\n  var IS_SET_SENTINEL = '@@__IMMUTABLE_SET__@@';\n\n  var SetPrototype = Set.prototype;\n  SetPrototype[IS_SET_SENTINEL] = true;\n  SetPrototype[DELETE] = SetPrototype.remove;\n  SetPrototype.mergeDeep = SetPrototype.merge;\n  SetPrototype.mergeDeepWith = SetPrototype.mergeWith;\n  SetPrototype.withMutations = MapPrototype.withMutations;\n  SetPrototype.asMutable = MapPrototype.asMutable;\n  SetPrototype.asImmutable = MapPrototype.asImmutable;\n\n  SetPrototype.__empty = emptySet;\n  SetPrototype.__make = makeSet;\n\n  function updateSet(set, newMap) {\n    if (set.__ownerID) {\n      set.size = newMap.size;\n      set._map = newMap;\n      return set;\n    }\n    return newMap === set._map ? set :\n      newMap.size === 0 ? set.__empty() :\n      set.__make(newMap);\n  }\n\n  function makeSet(map, ownerID) {\n    var set = Object.create(SetPrototype);\n    set.size = map ? map.size : 0;\n    set._map = map;\n    set.__ownerID = ownerID;\n    return set;\n  }\n\n  var EMPTY_SET;\n  function emptySet() {\n    return EMPTY_SET || (EMPTY_SET = makeSet(emptyMap()));\n  }\n\n  createClass(OrderedSet, Set);\n\n    // @pragma Construction\n\n    function OrderedSet(value) {\n      return value === null || value === undefined ? emptyOrderedSet() :\n        isOrderedSet(value) ? value :\n        emptyOrderedSet().withMutations(function(set ) {\n          var iter = SetIterable(value);\n          assertNotInfinite(iter.size);\n          iter.forEach(function(v ) {return set.add(v)});\n        });\n    }\n\n    OrderedSet.of = function(/*...values*/) {\n      return this(arguments);\n    };\n\n    OrderedSet.fromKeys = function(value) {\n      return this(KeyedIterable(value).keySeq());\n    };\n\n    OrderedSet.prototype.toString = function() {\n      return this.__toString('OrderedSet {', '}');\n    };\n\n\n  function isOrderedSet(maybeOrderedSet) {\n    return isSet(maybeOrderedSet) && isOrdered(maybeOrderedSet);\n  }\n\n  OrderedSet.isOrderedSet = isOrderedSet;\n\n  var OrderedSetPrototype = OrderedSet.prototype;\n  OrderedSetPrototype[IS_ORDERED_SENTINEL] = true;\n\n  OrderedSetPrototype.__empty = emptyOrderedSet;\n  OrderedSetPrototype.__make = makeOrderedSet;\n\n  function makeOrderedSet(map, ownerID) {\n    var set = Object.create(OrderedSetPrototype);\n    set.size = map ? map.size : 0;\n    set._map = map;\n    set.__ownerID = ownerID;\n    return set;\n  }\n\n  var EMPTY_ORDERED_SET;\n  function emptyOrderedSet() {\n    return EMPTY_ORDERED_SET || (EMPTY_ORDERED_SET = makeOrderedSet(emptyOrderedMap()));\n  }\n\n  createClass(Stack, IndexedCollection);\n\n    // @pragma Construction\n\n    function Stack(value) {\n      return value === null || value === undefined ? emptyStack() :\n        isStack(value) ? value :\n        emptyStack().unshiftAll(value);\n    }\n\n    Stack.of = function(/*...values*/) {\n      return this(arguments);\n    };\n\n    Stack.prototype.toString = function() {\n      return this.__toString('Stack [', ']');\n    };\n\n    // @pragma Access\n\n    Stack.prototype.get = function(index, notSetValue) {\n      var head = this._head;\n      index = wrapIndex(this, index);\n      while (head && index--) {\n        head = head.next;\n      }\n      return head ? head.value : notSetValue;\n    };\n\n    Stack.prototype.peek = function() {\n      return this._head && this._head.value;\n    };\n\n    // @pragma Modification\n\n    Stack.prototype.push = function(/*...values*/) {\n      if (arguments.length === 0) {\n        return this;\n      }\n      var newSize = this.size + arguments.length;\n      var head = this._head;\n      for (var ii = arguments.length - 1; ii >= 0; ii--) {\n        head = {\n          value: arguments[ii],\n          next: head\n        };\n      }\n      if (this.__ownerID) {\n        this.size = newSize;\n        this._head = head;\n        this.__hash = undefined;\n        this.__altered = true;\n        return this;\n      }\n      return makeStack(newSize, head);\n    };\n\n    Stack.prototype.pushAll = function(iter) {\n      iter = IndexedIterable(iter);\n      if (iter.size === 0) {\n        return this;\n      }\n      assertNotInfinite(iter.size);\n      var newSize = this.size;\n      var head = this._head;\n      iter.reverse().forEach(function(value ) {\n        newSize++;\n        head = {\n          value: value,\n          next: head\n        };\n      });\n      if (this.__ownerID) {\n        this.size = newSize;\n        this._head = head;\n        this.__hash = undefined;\n        this.__altered = true;\n        return this;\n      }\n      return makeStack(newSize, head);\n    };\n\n    Stack.prototype.pop = function() {\n      return this.slice(1);\n    };\n\n    Stack.prototype.unshift = function(/*...values*/) {\n      return this.push.apply(this, arguments);\n    };\n\n    Stack.prototype.unshiftAll = function(iter) {\n      return this.pushAll(iter);\n    };\n\n    Stack.prototype.shift = function() {\n      return this.pop.apply(this, arguments);\n    };\n\n    Stack.prototype.clear = function() {\n      if (this.size === 0) {\n        return this;\n      }\n      if (this.__ownerID) {\n        this.size = 0;\n        this._head = undefined;\n        this.__hash = undefined;\n        this.__altered = true;\n        return this;\n      }\n      return emptyStack();\n    };\n\n    Stack.prototype.slice = function(begin, end) {\n      if (wholeSlice(begin, end, this.size)) {\n        return this;\n      }\n      var resolvedBegin = resolveBegin(begin, this.size);\n      var resolvedEnd = resolveEnd(end, this.size);\n      if (resolvedEnd !== this.size) {\n        // super.slice(begin, end);\n        return IndexedCollection.prototype.slice.call(this, begin, end);\n      }\n      var newSize = this.size - resolvedBegin;\n      var head = this._head;\n      while (resolvedBegin--) {\n        head = head.next;\n      }\n      if (this.__ownerID) {\n        this.size = newSize;\n        this._head = head;\n        this.__hash = undefined;\n        this.__altered = true;\n        return this;\n      }\n      return makeStack(newSize, head);\n    };\n\n    // @pragma Mutability\n\n    Stack.prototype.__ensureOwner = function(ownerID) {\n      if (ownerID === this.__ownerID) {\n        return this;\n      }\n      if (!ownerID) {\n        this.__ownerID = ownerID;\n        this.__altered = false;\n        return this;\n      }\n      return makeStack(this.size, this._head, ownerID, this.__hash);\n    };\n\n    // @pragma Iteration\n\n    Stack.prototype.__iterate = function(fn, reverse) {\n      if (reverse) {\n        return this.reverse().__iterate(fn);\n      }\n      var iterations = 0;\n      var node = this._head;\n      while (node) {\n        if (fn(node.value, iterations++, this) === false) {\n          break;\n        }\n        node = node.next;\n      }\n      return iterations;\n    };\n\n    Stack.prototype.__iterator = function(type, reverse) {\n      if (reverse) {\n        return this.reverse().__iterator(type);\n      }\n      var iterations = 0;\n      var node = this._head;\n      return new Iterator(function()  {\n        if (node) {\n          var value = node.value;\n          node = node.next;\n          return iteratorValue(type, iterations++, value);\n        }\n        return iteratorDone();\n      });\n    };\n\n\n  function isStack(maybeStack) {\n    return !!(maybeStack && maybeStack[IS_STACK_SENTINEL]);\n  }\n\n  Stack.isStack = isStack;\n\n  var IS_STACK_SENTINEL = '@@__IMMUTABLE_STACK__@@';\n\n  var StackPrototype = Stack.prototype;\n  StackPrototype[IS_STACK_SENTINEL] = true;\n  StackPrototype.withMutations = MapPrototype.withMutations;\n  StackPrototype.asMutable = MapPrototype.asMutable;\n  StackPrototype.asImmutable = MapPrototype.asImmutable;\n  StackPrototype.wasAltered = MapPrototype.wasAltered;\n\n\n  function makeStack(size, head, ownerID, hash) {\n    var map = Object.create(StackPrototype);\n    map.size = size;\n    map._head = head;\n    map.__ownerID = ownerID;\n    map.__hash = hash;\n    map.__altered = false;\n    return map;\n  }\n\n  var EMPTY_STACK;\n  function emptyStack() {\n    return EMPTY_STACK || (EMPTY_STACK = makeStack(0));\n  }\n\n  /**\n   * Contributes additional methods to a constructor\n   */\n  function mixin(ctor, methods) {\n    var keyCopier = function(key ) { ctor.prototype[key] = methods[key]; };\n    Object.keys(methods).forEach(keyCopier);\n    Object.getOwnPropertySymbols &&\n      Object.getOwnPropertySymbols(methods).forEach(keyCopier);\n    return ctor;\n  }\n\n  Iterable.Iterator = Iterator;\n\n  mixin(Iterable, {\n\n    // ### Conversion to other types\n\n    toArray: function() {\n      assertNotInfinite(this.size);\n      var array = new Array(this.size || 0);\n      this.valueSeq().__iterate(function(v, i)  { array[i] = v; });\n      return array;\n    },\n\n    toIndexedSeq: function() {\n      return new ToIndexedSequence(this);\n    },\n\n    toJS: function() {\n      return this.toSeq().map(\n        function(value ) {return value && typeof value.toJS === 'function' ? value.toJS() : value}\n      ).__toJS();\n    },\n\n    toJSON: function() {\n      return this.toSeq().map(\n        function(value ) {return value && typeof value.toJSON === 'function' ? value.toJSON() : value}\n      ).__toJS();\n    },\n\n    toKeyedSeq: function() {\n      return new ToKeyedSequence(this, true);\n    },\n\n    toMap: function() {\n      // Use Late Binding here to solve the circular dependency.\n      return Map(this.toKeyedSeq());\n    },\n\n    toObject: function() {\n      assertNotInfinite(this.size);\n      var object = {};\n      this.__iterate(function(v, k)  { object[k] = v; });\n      return object;\n    },\n\n    toOrderedMap: function() {\n      // Use Late Binding here to solve the circular dependency.\n      return OrderedMap(this.toKeyedSeq());\n    },\n\n    toOrderedSet: function() {\n      // Use Late Binding here to solve the circular dependency.\n      return OrderedSet(isKeyed(this) ? this.valueSeq() : this);\n    },\n\n    toSet: function() {\n      // Use Late Binding here to solve the circular dependency.\n      return Set(isKeyed(this) ? this.valueSeq() : this);\n    },\n\n    toSetSeq: function() {\n      return new ToSetSequence(this);\n    },\n\n    toSeq: function() {\n      return isIndexed(this) ? this.toIndexedSeq() :\n        isKeyed(this) ? this.toKeyedSeq() :\n        this.toSetSeq();\n    },\n\n    toStack: function() {\n      // Use Late Binding here to solve the circular dependency.\n      return Stack(isKeyed(this) ? this.valueSeq() : this);\n    },\n\n    toList: function() {\n      // Use Late Binding here to solve the circular dependency.\n      return List(isKeyed(this) ? this.valueSeq() : this);\n    },\n\n\n    // ### Common JavaScript methods and properties\n\n    toString: function() {\n      return '[Iterable]';\n    },\n\n    __toString: function(head, tail) {\n      if (this.size === 0) {\n        return head + tail;\n      }\n      return head + ' ' + this.toSeq().map(this.__toStringMapper).join(', ') + ' ' + tail;\n    },\n\n\n    // ### ES6 Collection methods (ES6 Array and Map)\n\n    concat: function() {var values = SLICE$0.call(arguments, 0);\n      return reify(this, concatFactory(this, values));\n    },\n\n    includes: function(searchValue) {\n      return this.some(function(value ) {return is(value, searchValue)});\n    },\n\n    entries: function() {\n      return this.__iterator(ITERATE_ENTRIES);\n    },\n\n    every: function(predicate, context) {\n      assertNotInfinite(this.size);\n      var returnValue = true;\n      this.__iterate(function(v, k, c)  {\n        if (!predicate.call(context, v, k, c)) {\n          returnValue = false;\n          return false;\n        }\n      });\n      return returnValue;\n    },\n\n    filter: function(predicate, context) {\n      return reify(this, filterFactory(this, predicate, context, true));\n    },\n\n    find: function(predicate, context, notSetValue) {\n      var entry = this.findEntry(predicate, context);\n      return entry ? entry[1] : notSetValue;\n    },\n\n    findEntry: function(predicate, context) {\n      var found;\n      this.__iterate(function(v, k, c)  {\n        if (predicate.call(context, v, k, c)) {\n          found = [k, v];\n          return false;\n        }\n      });\n      return found;\n    },\n\n    findLastEntry: function(predicate, context) {\n      return this.toSeq().reverse().findEntry(predicate, context);\n    },\n\n    forEach: function(sideEffect, context) {\n      assertNotInfinite(this.size);\n      return this.__iterate(context ? sideEffect.bind(context) : sideEffect);\n    },\n\n    join: function(separator) {\n      assertNotInfinite(this.size);\n      separator = separator !== undefined ? '' + separator : ',';\n      var joined = '';\n      var isFirst = true;\n      this.__iterate(function(v ) {\n        isFirst ? (isFirst = false) : (joined += separator);\n        joined += v !== null && v !== undefined ? v.toString() : '';\n      });\n      return joined;\n    },\n\n    keys: function() {\n      return this.__iterator(ITERATE_KEYS);\n    },\n\n    map: function(mapper, context) {\n      return reify(this, mapFactory(this, mapper, context));\n    },\n\n    reduce: function(reducer, initialReduction, context) {\n      assertNotInfinite(this.size);\n      var reduction;\n      var useFirst;\n      if (arguments.length < 2) {\n        useFirst = true;\n      } else {\n        reduction = initialReduction;\n      }\n      this.__iterate(function(v, k, c)  {\n        if (useFirst) {\n          useFirst = false;\n          reduction = v;\n        } else {\n          reduction = reducer.call(context, reduction, v, k, c);\n        }\n      });\n      return reduction;\n    },\n\n    reduceRight: function(reducer, initialReduction, context) {\n      var reversed = this.toKeyedSeq().reverse();\n      return reversed.reduce.apply(reversed, arguments);\n    },\n\n    reverse: function() {\n      return reify(this, reverseFactory(this, true));\n    },\n\n    slice: function(begin, end) {\n      return reify(this, sliceFactory(this, begin, end, true));\n    },\n\n    some: function(predicate, context) {\n      return !this.every(not(predicate), context);\n    },\n\n    sort: function(comparator) {\n      return reify(this, sortFactory(this, comparator));\n    },\n\n    values: function() {\n      return this.__iterator(ITERATE_VALUES);\n    },\n\n\n    // ### More sequential methods\n\n    butLast: function() {\n      return this.slice(0, -1);\n    },\n\n    isEmpty: function() {\n      return this.size !== undefined ? this.size === 0 : !this.some(function()  {return true});\n    },\n\n    count: function(predicate, context) {\n      return ensureSize(\n        predicate ? this.toSeq().filter(predicate, context) : this\n      );\n    },\n\n    countBy: function(grouper, context) {\n      return countByFactory(this, grouper, context);\n    },\n\n    equals: function(other) {\n      return deepEqual(this, other);\n    },\n\n    entrySeq: function() {\n      var iterable = this;\n      if (iterable._cache) {\n        // We cache as an entries array, so we can just return the cache!\n        return new ArraySeq(iterable._cache);\n      }\n      var entriesSequence = iterable.toSeq().map(entryMapper).toIndexedSeq();\n      entriesSequence.fromEntrySeq = function()  {return iterable.toSeq()};\n      return entriesSequence;\n    },\n\n    filterNot: function(predicate, context) {\n      return this.filter(not(predicate), context);\n    },\n\n    findLast: function(predicate, context, notSetValue) {\n      return this.toKeyedSeq().reverse().find(predicate, context, notSetValue);\n    },\n\n    first: function() {\n      return this.find(returnTrue);\n    },\n\n    flatMap: function(mapper, context) {\n      return reify(this, flatMapFactory(this, mapper, context));\n    },\n\n    flatten: function(depth) {\n      return reify(this, flattenFactory(this, depth, true));\n    },\n\n    fromEntrySeq: function() {\n      return new FromEntriesSequence(this);\n    },\n\n    get: function(searchKey, notSetValue) {\n      return this.find(function(_, key)  {return is(key, searchKey)}, undefined, notSetValue);\n    },\n\n    getIn: function(searchKeyPath, notSetValue) {\n      var nested = this;\n      // Note: in an ES6 environment, we would prefer:\n      // for (var key of searchKeyPath) {\n      var iter = forceIterator(searchKeyPath);\n      var step;\n      while (!(step = iter.next()).done) {\n        var key = step.value;\n        nested = nested && nested.get ? nested.get(key, NOT_SET) : NOT_SET;\n        if (nested === NOT_SET) {\n          return notSetValue;\n        }\n      }\n      return nested;\n    },\n\n    groupBy: function(grouper, context) {\n      return groupByFactory(this, grouper, context);\n    },\n\n    has: function(searchKey) {\n      return this.get(searchKey, NOT_SET) !== NOT_SET;\n    },\n\n    hasIn: function(searchKeyPath) {\n      return this.getIn(searchKeyPath, NOT_SET) !== NOT_SET;\n    },\n\n    isSubset: function(iter) {\n      iter = typeof iter.includes === 'function' ? iter : Iterable(iter);\n      return this.every(function(value ) {return iter.includes(value)});\n    },\n\n    isSuperset: function(iter) {\n      iter = typeof iter.isSubset === 'function' ? iter : Iterable(iter);\n      return iter.isSubset(this);\n    },\n\n    keySeq: function() {\n      return this.toSeq().map(keyMapper).toIndexedSeq();\n    },\n\n    last: function() {\n      return this.toSeq().reverse().first();\n    },\n\n    max: function(comparator) {\n      return maxFactory(this, comparator);\n    },\n\n    maxBy: function(mapper, comparator) {\n      return maxFactory(this, comparator, mapper);\n    },\n\n    min: function(comparator) {\n      return maxFactory(this, comparator ? neg(comparator) : defaultNegComparator);\n    },\n\n    minBy: function(mapper, comparator) {\n      return maxFactory(this, comparator ? neg(comparator) : defaultNegComparator, mapper);\n    },\n\n    rest: function() {\n      return this.slice(1);\n    },\n\n    skip: function(amount) {\n      return this.slice(Math.max(0, amount));\n    },\n\n    skipLast: function(amount) {\n      return reify(this, this.toSeq().reverse().skip(amount).reverse());\n    },\n\n    skipWhile: function(predicate, context) {\n      return reify(this, skipWhileFactory(this, predicate, context, true));\n    },\n\n    skipUntil: function(predicate, context) {\n      return this.skipWhile(not(predicate), context);\n    },\n\n    sortBy: function(mapper, comparator) {\n      return reify(this, sortFactory(this, comparator, mapper));\n    },\n\n    take: function(amount) {\n      return this.slice(0, Math.max(0, amount));\n    },\n\n    takeLast: function(amount) {\n      return reify(this, this.toSeq().reverse().take(amount).reverse());\n    },\n\n    takeWhile: function(predicate, context) {\n      return reify(this, takeWhileFactory(this, predicate, context));\n    },\n\n    takeUntil: function(predicate, context) {\n      return this.takeWhile(not(predicate), context);\n    },\n\n    valueSeq: function() {\n      return this.toIndexedSeq();\n    },\n\n\n    // ### Hashable Object\n\n    hashCode: function() {\n      return this.__hash || (this.__hash = hashIterable(this));\n    }\n\n\n    // ### Internal\n\n    // abstract __iterate(fn, reverse)\n\n    // abstract __iterator(type, reverse)\n  });\n\n  // var IS_ITERABLE_SENTINEL = '@@__IMMUTABLE_ITERABLE__@@';\n  // var IS_KEYED_SENTINEL = '@@__IMMUTABLE_KEYED__@@';\n  // var IS_INDEXED_SENTINEL = '@@__IMMUTABLE_INDEXED__@@';\n  // var IS_ORDERED_SENTINEL = '@@__IMMUTABLE_ORDERED__@@';\n\n  var IterablePrototype = Iterable.prototype;\n  IterablePrototype[IS_ITERABLE_SENTINEL] = true;\n  IterablePrototype[ITERATOR_SYMBOL] = IterablePrototype.values;\n  IterablePrototype.__toJS = IterablePrototype.toArray;\n  IterablePrototype.__toStringMapper = quoteString;\n  IterablePrototype.inspect =\n  IterablePrototype.toSource = function() { return this.toString(); };\n  IterablePrototype.chain = IterablePrototype.flatMap;\n  IterablePrototype.contains = IterablePrototype.includes;\n\n  // Temporary warning about using length\n  (function () {\n    try {\n      Object.defineProperty(IterablePrototype, 'length', {\n        get: function () {\n          if (!Iterable.noLengthWarning) {\n            var stack;\n            try {\n              throw new Error();\n            } catch (error) {\n              stack = error.stack;\n            }\n            if (stack.indexOf('_wrapObject') === -1) {\n              console && console.warn && console.warn(\n                'iterable.length has been deprecated, '+\n                'use iterable.size or iterable.count(). '+\n                'This warning will become a silent error in a future version. ' +\n                stack\n              );\n              return this.size;\n            }\n          }\n        }\n      });\n    } catch (e) {}\n  })();\n\n\n\n  mixin(KeyedIterable, {\n\n    // ### More sequential methods\n\n    flip: function() {\n      return reify(this, flipFactory(this));\n    },\n\n    findKey: function(predicate, context) {\n      var entry = this.findEntry(predicate, context);\n      return entry && entry[0];\n    },\n\n    findLastKey: function(predicate, context) {\n      return this.toSeq().reverse().findKey(predicate, context);\n    },\n\n    keyOf: function(searchValue) {\n      return this.findKey(function(value ) {return is(value, searchValue)});\n    },\n\n    lastKeyOf: function(searchValue) {\n      return this.findLastKey(function(value ) {return is(value, searchValue)});\n    },\n\n    mapEntries: function(mapper, context) {var this$0 = this;\n      var iterations = 0;\n      return reify(this,\n        this.toSeq().map(\n          function(v, k)  {return mapper.call(context, [k, v], iterations++, this$0)}\n        ).fromEntrySeq()\n      );\n    },\n\n    mapKeys: function(mapper, context) {var this$0 = this;\n      return reify(this,\n        this.toSeq().flip().map(\n          function(k, v)  {return mapper.call(context, k, v, this$0)}\n        ).flip()\n      );\n    }\n\n  });\n\n  var KeyedIterablePrototype = KeyedIterable.prototype;\n  KeyedIterablePrototype[IS_KEYED_SENTINEL] = true;\n  KeyedIterablePrototype[ITERATOR_SYMBOL] = IterablePrototype.entries;\n  KeyedIterablePrototype.__toJS = IterablePrototype.toObject;\n  KeyedIterablePrototype.__toStringMapper = function(v, k)  {return JSON.stringify(k) + ': ' + quoteString(v)};\n\n\n\n  mixin(IndexedIterable, {\n\n    // ### Conversion to other types\n\n    toKeyedSeq: function() {\n      return new ToKeyedSequence(this, false);\n    },\n\n\n    // ### ES6 Collection methods (ES6 Array and Map)\n\n    filter: function(predicate, context) {\n      return reify(this, filterFactory(this, predicate, context, false));\n    },\n\n    findIndex: function(predicate, context) {\n      var entry = this.findEntry(predicate, context);\n      return entry ? entry[0] : -1;\n    },\n\n    indexOf: function(searchValue) {\n      var key = this.toKeyedSeq().keyOf(searchValue);\n      return key === undefined ? -1 : key;\n    },\n\n    lastIndexOf: function(searchValue) {\n      var key = this.toKeyedSeq().reverse().keyOf(searchValue);\n      return key === undefined ? -1 : key;\n\n      // var index =\n      // return this.toSeq().reverse().indexOf(searchValue);\n    },\n\n    reverse: function() {\n      return reify(this, reverseFactory(this, false));\n    },\n\n    slice: function(begin, end) {\n      return reify(this, sliceFactory(this, begin, end, false));\n    },\n\n    splice: function(index, removeNum /*, ...values*/) {\n      var numArgs = arguments.length;\n      removeNum = Math.max(removeNum | 0, 0);\n      if (numArgs === 0 || (numArgs === 2 && !removeNum)) {\n        return this;\n      }\n      // If index is negative, it should resolve relative to the size of the\n      // collection. However size may be expensive to compute if not cached, so\n      // only call count() if the number is in fact negative.\n      index = resolveBegin(index, index < 0 ? this.count() : this.size);\n      var spliced = this.slice(0, index);\n      return reify(\n        this,\n        numArgs === 1 ?\n          spliced :\n          spliced.concat(arrCopy(arguments, 2), this.slice(index + removeNum))\n      );\n    },\n\n\n    // ### More collection methods\n\n    findLastIndex: function(predicate, context) {\n      var key = this.toKeyedSeq().findLastKey(predicate, context);\n      return key === undefined ? -1 : key;\n    },\n\n    first: function() {\n      return this.get(0);\n    },\n\n    flatten: function(depth) {\n      return reify(this, flattenFactory(this, depth, false));\n    },\n\n    get: function(index, notSetValue) {\n      index = wrapIndex(this, index);\n      return (index < 0 || (this.size === Infinity ||\n          (this.size !== undefined && index > this.size))) ?\n        notSetValue :\n        this.find(function(_, key)  {return key === index}, undefined, notSetValue);\n    },\n\n    has: function(index) {\n      index = wrapIndex(this, index);\n      return index >= 0 && (this.size !== undefined ?\n        this.size === Infinity || index < this.size :\n        this.indexOf(index) !== -1\n      );\n    },\n\n    interpose: function(separator) {\n      return reify(this, interposeFactory(this, separator));\n    },\n\n    interleave: function(/*...iterables*/) {\n      var iterables = [this].concat(arrCopy(arguments));\n      var zipped = zipWithFactory(this.toSeq(), IndexedSeq.of, iterables);\n      var interleaved = zipped.flatten(true);\n      if (zipped.size) {\n        interleaved.size = zipped.size * iterables.length;\n      }\n      return reify(this, interleaved);\n    },\n\n    last: function() {\n      return this.get(-1);\n    },\n\n    skipWhile: function(predicate, context) {\n      return reify(this, skipWhileFactory(this, predicate, context, false));\n    },\n\n    zip: function(/*, ...iterables */) {\n      var iterables = [this].concat(arrCopy(arguments));\n      return reify(this, zipWithFactory(this, defaultZipper, iterables));\n    },\n\n    zipWith: function(zipper/*, ...iterables */) {\n      var iterables = arrCopy(arguments);\n      iterables[0] = this;\n      return reify(this, zipWithFactory(this, zipper, iterables));\n    }\n\n  });\n\n  IndexedIterable.prototype[IS_INDEXED_SENTINEL] = true;\n  IndexedIterable.prototype[IS_ORDERED_SENTINEL] = true;\n\n\n\n  mixin(SetIterable, {\n\n    // ### ES6 Collection methods (ES6 Array and Map)\n\n    get: function(value, notSetValue) {\n      return this.has(value) ? value : notSetValue;\n    },\n\n    includes: function(value) {\n      return this.has(value);\n    },\n\n\n    // ### More sequential methods\n\n    keySeq: function() {\n      return this.valueSeq();\n    }\n\n  });\n\n  SetIterable.prototype.has = IterablePrototype.includes;\n\n\n  // Mixin subclasses\n\n  mixin(KeyedSeq, KeyedIterable.prototype);\n  mixin(IndexedSeq, IndexedIterable.prototype);\n  mixin(SetSeq, SetIterable.prototype);\n\n  mixin(KeyedCollection, KeyedIterable.prototype);\n  mixin(IndexedCollection, IndexedIterable.prototype);\n  mixin(SetCollection, SetIterable.prototype);\n\n\n  // #pragma Helper functions\n\n  function keyMapper(v, k) {\n    return k;\n  }\n\n  function entryMapper(v, k) {\n    return [k, v];\n  }\n\n  function not(predicate) {\n    return function() {\n      return !predicate.apply(this, arguments);\n    }\n  }\n\n  function neg(predicate) {\n    return function() {\n      return -predicate.apply(this, arguments);\n    }\n  }\n\n  function quoteString(value) {\n    return typeof value === 'string' ? JSON.stringify(value) : value;\n  }\n\n  function defaultZipper() {\n    return arrCopy(arguments);\n  }\n\n  function defaultNegComparator(a, b) {\n    return a < b ? 1 : a > b ? -1 : 0;\n  }\n\n  function hashIterable(iterable) {\n    if (iterable.size === Infinity) {\n      return 0;\n    }\n    var ordered = isOrdered(iterable);\n    var keyed = isKeyed(iterable);\n    var h = ordered ? 1 : 0;\n    var size = iterable.__iterate(\n      keyed ?\n        ordered ?\n          function(v, k)  { h = 31 * h + hashMerge(hash(v), hash(k)) | 0; } :\n          function(v, k)  { h = h + hashMerge(hash(v), hash(k)) | 0; } :\n        ordered ?\n          function(v ) { h = 31 * h + hash(v) | 0; } :\n          function(v ) { h = h + hash(v) | 0; }\n    );\n    return murmurHashOfSize(size, h);\n  }\n\n  function murmurHashOfSize(size, h) {\n    h = imul(h, 0xCC9E2D51);\n    h = imul(h << 15 | h >>> -15, 0x1B873593);\n    h = imul(h << 13 | h >>> -13, 5);\n    h = (h + 0xE6546B64 | 0) ^ size;\n    h = imul(h ^ h >>> 16, 0x85EBCA6B);\n    h = imul(h ^ h >>> 13, 0xC2B2AE35);\n    h = smi(h ^ h >>> 16);\n    return h;\n  }\n\n  function hashMerge(a, b) {\n    return a ^ b + 0x9E3779B9 + (a << 6) + (a >> 2) | 0; // int\n  }\n\n  var Immutable = {\n\n    Iterable: Iterable,\n\n    Seq: Seq,\n    Collection: Collection,\n    Map: Map,\n    OrderedMap: OrderedMap,\n    List: List,\n    Stack: Stack,\n    Set: Set,\n    OrderedSet: OrderedSet,\n\n    Record: Record,\n    Range: Range,\n    Repeat: Repeat,\n\n    is: is,\n    fromJS: fromJS\n\n  };\n\n  return Immutable;\n\n}));","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * Facebook, Inc. (\"Facebook\") owns all right, title and interest, including\n * all intellectual property and other proprietary rights, in and to the React\n * Native CustomComponents software (the \"Software\").  Subject to your\n * compliance with these terms, you are hereby granted a non-exclusive,\n * worldwide, royalty-free copyright license to (1) use and copy the Software;\n * and (2) reproduce and distribute the Software as part of your own software\n * (\"Your Software\").  Facebook reserves all rights not expressly granted to\n * you in this license agreement.\n *\n * THE SOFTWARE AND DOCUMENTATION, IF ANY, ARE PROVIDED \"AS IS\" AND ANY EXPRESS\n * OR IMPLIED WARRANTIES (INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES\n * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE) ARE DISCLAIMED.\n * IN NO EVENT SHALL FACEBOOK OR ITS AFFILIATES, OFFICERS, DIRECTORS OR\n * EMPLOYEES BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,\n * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,\n * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;\n * OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,\n * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR\n * OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THE SOFTWARE, EVEN IF\n * ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @providesModule NavigatorBreadcrumbNavigationBar\n */\n'use strict';\n\nconst NavigatorBreadcrumbNavigationBarStyles = require('NavigatorBreadcrumbNavigationBarStyles');\nconst NavigatorNavigationBarStylesAndroid = require('NavigatorNavigationBarStylesAndroid');\nconst NavigatorNavigationBarStylesIOS = require('NavigatorNavigationBarStylesIOS');\nconst Platform = require('Platform');\nconst React = require('React');\nconst StyleSheet = require('StyleSheet');\nconst View = require('View');\n\nconst guid = require('guid');\nconst invariant = require('fbjs/lib/invariant');\n\nconst { Map } = require('immutable');\n\nconst Interpolators = NavigatorBreadcrumbNavigationBarStyles.Interpolators;\nconst NavigatorNavigationBarStyles = Platform.OS === 'android' ?\n  NavigatorNavigationBarStylesAndroid : NavigatorNavigationBarStylesIOS;\nconst PropTypes = React.PropTypes;\n\n/**\n * Reusable props objects.\n */\nconst CRUMB_PROPS = Interpolators.map(() => ({style: {}}));\nconst ICON_PROPS = Interpolators.map(() => ({style: {}}));\nconst SEPARATOR_PROPS = Interpolators.map(() => ({style: {}}));\nconst TITLE_PROPS = Interpolators.map(() => ({style: {}}));\nconst RIGHT_BUTTON_PROPS = Interpolators.map(() => ({style: {}}));\n\n\nfunction navStatePresentedIndex(navState) {\n  if (navState.presentedIndex !== undefined) {\n    return navState.presentedIndex;\n  }\n  // TODO: rename `observedTopOfStack` to `presentedIndex` in `NavigatorIOS`\n  return navState.observedTopOfStack;\n}\n\n\n/**\n * The first route is initially rendered using a different style than all\n * future routes.\n *\n * @param {number} index Index of breadcrumb.\n * @return {object} Style config for initial rendering of index.\n */\nfunction initStyle(index, presentedIndex) {\n  return index === presentedIndex ? NavigatorBreadcrumbNavigationBarStyles.Center[index] :\n    index < presentedIndex ? NavigatorBreadcrumbNavigationBarStyles.Left[index] :\n    NavigatorBreadcrumbNavigationBarStyles.Right[index];\n}\n\nclass NavigatorBreadcrumbNavigationBar extends React.Component {\n  static propTypes = {\n    navigator: PropTypes.shape({\n      push: PropTypes.func,\n      pop: PropTypes.func,\n      replace: PropTypes.func,\n      popToRoute: PropTypes.func,\n      popToTop: PropTypes.func,\n    }),\n    routeMapper: PropTypes.shape({\n      rightContentForRoute: PropTypes.func,\n      titleContentForRoute: PropTypes.func,\n      iconForRoute: PropTypes.func,\n    }),\n    navState: React.PropTypes.shape({\n      routeStack: React.PropTypes.arrayOf(React.PropTypes.object),\n      presentedIndex: React.PropTypes.number,\n    }),\n    style: View.propTypes.style,\n  };\n\n  static Styles = NavigatorBreadcrumbNavigationBarStyles;\n\n  _updateIndexProgress(progress, index, fromIndex, toIndex) {\n    var amount = toIndex > fromIndex ? progress : (1 - progress);\n    var oldDistToCenter = index - fromIndex;\n    var newDistToCenter = index - toIndex;\n    var interpolate;\n    invariant(\n      Interpolators[index],\n      'Cannot find breadcrumb interpolators for ' + index\n    );\n    if (oldDistToCenter > 0 && newDistToCenter === 0 ||\n        newDistToCenter > 0 && oldDistToCenter === 0) {\n      interpolate = Interpolators[index].RightToCenter;\n    } else if (oldDistToCenter < 0 && newDistToCenter === 0 ||\n               newDistToCenter < 0 && oldDistToCenter === 0) {\n      interpolate = Interpolators[index].CenterToLeft;\n    } else if (oldDistToCenter === newDistToCenter) {\n      interpolate = Interpolators[index].RightToCenter;\n    } else {\n      interpolate = Interpolators[index].RightToLeft;\n    }\n\n    if (interpolate.Crumb(CRUMB_PROPS[index].style, amount)) {\n      this._setPropsIfExists('crumb_' + index, CRUMB_PROPS[index]);\n    }\n    if (interpolate.Icon(ICON_PROPS[index].style, amount)) {\n      this._setPropsIfExists('icon_' + index, ICON_PROPS[index]);\n    }\n    if (interpolate.Separator(SEPARATOR_PROPS[index].style, amount)) {\n      this._setPropsIfExists('separator_' + index, SEPARATOR_PROPS[index]);\n    }\n    if (interpolate.Title(TITLE_PROPS[index].style, amount)) {\n      this._setPropsIfExists('title_' + index, TITLE_PROPS[index]);\n    }\n    var right = this.refs['right_' + index];\n\n    const rightButtonStyle = RIGHT_BUTTON_PROPS[index].style;\n    if (right && interpolate.RightItem(rightButtonStyle, amount)) {\n      right.setNativeProps({\n        style: rightButtonStyle,\n        pointerEvents: rightButtonStyle.opacity === 0 ? 'none' : 'auto',\n      });\n    }\n  }\n\n  updateProgress(progress, fromIndex, toIndex) {\n    var max = Math.max(fromIndex, toIndex);\n    var min = Math.min(fromIndex, toIndex);\n    for (var index = min; index <= max; index++) {\n      this._updateIndexProgress(progress, index, fromIndex, toIndex);\n    }\n  }\n\n  onAnimationStart(fromIndex, toIndex) {\n    var max = Math.max(fromIndex, toIndex);\n    var min = Math.min(fromIndex, toIndex);\n    for (var index = min; index <= max; index++) {\n      this._setRenderViewsToHardwareTextureAndroid(index, true);\n    }\n  }\n\n  onAnimationEnd() {\n    var max = this.props.navState.routeStack.length - 1;\n    for (var index = 0; index <= max; index++) {\n      this._setRenderViewsToHardwareTextureAndroid(index, false);\n    }\n  }\n\n  _setRenderViewsToHardwareTextureAndroid(index, renderToHardwareTexture) {\n    var props = {\n      renderToHardwareTextureAndroid: renderToHardwareTexture,\n    };\n\n    this._setPropsIfExists('icon_' + index, props);\n    this._setPropsIfExists('separator_' + index, props);\n    this._setPropsIfExists('title_' + index, props);\n    this._setPropsIfExists('right_' + index, props);\n  }\n\n  componentWillMount() {\n    this._reset();\n  }\n\n  render() {\n    var navState = this.props.navState;\n    var icons = navState && navState.routeStack.map(this._getBreadcrumb);\n    var titles = navState.routeStack.map(this._getTitle);\n    var buttons = navState.routeStack.map(this._getRightButton);\n\n    return (\n      <View\n        key={this._key}\n        style={[styles.breadCrumbContainer, this.props.style]}>\n        {titles}\n        {icons}\n        {buttons}\n      </View>\n    );\n  }\n\n  immediatelyRefresh() {\n    this._reset();\n    this.forceUpdate();\n  }\n\n  _reset() {\n    this._key = guid();\n    this._descriptors = {\n      title: new Map(),\n      right: new Map(),\n    };\n  }\n\n  _getBreadcrumb = (route, index) => {\n    /**\n     * To prevent the case where titles on an empty navigation stack covers the first icon and\n     * becomes partially unpressable, we set the first breadcrumb to be unpressable by default, and\n     * make it pressable when there are multiple items in the stack.\n     */\n    const pointerEvents = (\n      (this.props.navState.routeStack.length <= 1 && index === 0) ?\n      'none' :\n      'auto'\n    );\n    const navBarRouteMapper = this.props.routeMapper;\n    const firstStyles = initStyle(index, navStatePresentedIndex(this.props.navState));\n\n    var breadcrumbDescriptor = (\n      <View\n        key={'crumb_' + index}\n        pointerEvents={pointerEvents}\n        ref={'crumb_' + index}\n        style={firstStyles.Crumb}>\n        <View ref={'icon_' + index} style={firstStyles.Icon}>\n          {navBarRouteMapper.iconForRoute(route, this.props.navigator)}\n        </View>\n        <View ref={'separator_' + index} style={firstStyles.Separator}>\n          {navBarRouteMapper.separatorForRoute(route, this.props.navigator)}\n        </View>\n      </View>\n    );\n\n    return breadcrumbDescriptor;\n  };\n\n  _getTitle = (route, index) => {\n    if (this._descriptors.title.has(route)) {\n      return this._descriptors.title.get(route);\n    }\n\n    var titleContent = this.props.routeMapper.titleContentForRoute(\n      this.props.navState.routeStack[index],\n      this.props.navigator\n    );\n    var firstStyles = initStyle(index, navStatePresentedIndex(this.props.navState));\n\n    var titleDescriptor = (\n      <View\n        key={'title_' + index}\n        ref={'title_' + index}\n        style={firstStyles.Title}>\n        {titleContent}\n      </View>\n    );\n    this._descriptors.title = this._descriptors.title.set(route, titleDescriptor);\n    return titleDescriptor;\n  };\n\n  _getRightButton = (route, index) => {\n    if (this._descriptors.right.has(route)) {\n      return this._descriptors.right.get(route);\n    }\n    var rightContent = this.props.routeMapper.rightContentForRoute(\n      this.props.navState.routeStack[index],\n      this.props.navigator\n    );\n    if (!rightContent) {\n      this._descriptors.right = this._descriptors.right.set(route, null);\n      return null;\n    }\n    var firstStyles = initStyle(index, navStatePresentedIndex(this.props.navState));\n    var rightButtonDescriptor = (\n      <View\n        key={'right_' + index}\n        ref={'right_' + index}\n        style={firstStyles.RightItem}>\n        {rightContent}\n      </View>\n    );\n    this._descriptors.right = this._descriptors.right.set(route, rightButtonDescriptor);\n    return rightButtonDescriptor;\n  };\n\n  _setPropsIfExists(ref, props) {\n    var ref = this.refs[ref];\n    ref && ref.setNativeProps(props);\n  }\n}\n\nconst styles = StyleSheet.create({\n  breadCrumbContainer: {\n    overflow: 'hidden',\n    position: 'absolute',\n    height: NavigatorNavigationBarStyles.General.TotalNavHeight,\n    top: 0,\n    left: 0,\n    right: 0,\n  },\n});\n\nmodule.exports = NavigatorBreadcrumbNavigationBar;\n","/**\n * Copyright (c) 2015, Facebook, Inc.  All rights reserved.\n *\n * Facebook, Inc. (\"Facebook\") owns all right, title and interest, including\n * all intellectual property and other proprietary rights, in and to the React\n * Native CustomComponents software (the \"Software\").  Subject to your\n * compliance with these terms, you are hereby granted a non-exclusive,\n * worldwide, royalty-free copyright license to (1) use and copy the Software;\n * and (2) reproduce and distribute the Software as part of your own software\n * (\"Your Software\").  Facebook reserves all rights not expressly granted to\n * you in this license agreement.\n *\n * THE SOFTWARE AND DOCUMENTATION, IF ANY, ARE PROVIDED \"AS IS\" AND ANY EXPRESS\n * OR IMPLIED WARRANTIES (INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES\n * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE) ARE DISCLAIMED.\n * IN NO EVENT SHALL FACEBOOK OR ITS AFFILIATES, OFFICERS, DIRECTORS OR\n * EMPLOYEES BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,\n * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,\n * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;\n * OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,\n * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR\n * OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THE SOFTWARE, EVEN IF\n * ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @providesModule NavigatorBreadcrumbNavigationBarStyles\n */\n'use strict';\n\nvar NavigatorNavigationBarStylesAndroid = require('NavigatorNavigationBarStylesAndroid');\n\nvar buildStyleInterpolator = require('buildStyleInterpolator');\nvar merge = require('merge');\n\nvar NAV_BAR_HEIGHT = NavigatorNavigationBarStylesAndroid.General.NavBarHeight;\n\nvar SPACING = 8;\nvar ICON_WIDTH = 40;\nvar SEPARATOR_WIDTH = 9;\nvar CRUMB_WIDTH = ICON_WIDTH + SEPARATOR_WIDTH;\nvar NAV_ELEMENT_HEIGHT = NAV_BAR_HEIGHT;\n\nvar OPACITY_RATIO = 100;\nvar ICON_INACTIVE_OPACITY = 0.6;\nvar MAX_BREADCRUMBS = 10;\n\nvar CRUMB_BASE = {\n  position: 'absolute',\n  flexDirection: 'row',\n  top: 0,\n  width: CRUMB_WIDTH,\n  height: NAV_ELEMENT_HEIGHT,\n  backgroundColor: 'transparent',\n};\n\nvar ICON_BASE = {\n  width: ICON_WIDTH,\n  height: NAV_ELEMENT_HEIGHT,\n};\n\nvar SEPARATOR_BASE = {\n  width: SEPARATOR_WIDTH,\n  height: NAV_ELEMENT_HEIGHT,\n};\n\nvar TITLE_BASE = {\n  position: 'absolute',\n  top: 0,\n  height: NAV_ELEMENT_HEIGHT,\n  backgroundColor: 'transparent',\n  alignItems: 'flex-start',\n};\n\nvar FIRST_TITLE_BASE = merge(TITLE_BASE, {\n  left: 0,\n  right: 0,\n});\n\nvar RIGHT_BUTTON_BASE = {\n  position: 'absolute',\n  top: 0,\n  right: 0,\n  overflow: 'hidden',\n  opacity: 1,\n  height: NAV_ELEMENT_HEIGHT,\n  backgroundColor: 'transparent',\n};\n\n/**\n * Precompute crumb styles so that they don't need to be recomputed on every\n * interaction.\n */\nvar LEFT = [];\nvar CENTER = [];\nvar RIGHT = [];\nfor (var i = 0; i < MAX_BREADCRUMBS; i++) {\n  var crumbLeft = CRUMB_WIDTH * i + SPACING;\n  LEFT[i] = {\n    Crumb: merge(CRUMB_BASE, { left: crumbLeft }),\n    Icon: merge(ICON_BASE, { opacity: ICON_INACTIVE_OPACITY }),\n    Separator: merge(SEPARATOR_BASE, { opacity: 1 }),\n    Title: merge(TITLE_BASE, { left: crumbLeft, opacity: 0 }),\n    RightItem: merge(RIGHT_BUTTON_BASE, { opacity: 0 }),\n  };\n  CENTER[i] = {\n    Crumb: merge(CRUMB_BASE, { left: crumbLeft }),\n    Icon: merge(ICON_BASE, { opacity: 1 }),\n    Separator: merge(SEPARATOR_BASE, { opacity: 0 }),\n    Title: merge(TITLE_BASE, {\n      left: crumbLeft + ICON_WIDTH,\n      opacity: 1,\n    }),\n    RightItem: merge(RIGHT_BUTTON_BASE, { opacity: 1 }),\n  };\n  var crumbRight = crumbLeft + 50;\n  RIGHT[i] = {\n    Crumb: merge(CRUMB_BASE, { left: crumbRight}),\n    Icon: merge(ICON_BASE, { opacity: 0 }),\n    Separator: merge(SEPARATOR_BASE, { opacity: 0 }),\n    Title: merge(TITLE_BASE, {\n      left: crumbRight + ICON_WIDTH,\n      opacity: 0,\n    }),\n    RightItem: merge(RIGHT_BUTTON_BASE, { opacity: 0 }),\n  };\n}\n\n// Special case the CENTER state of the first scene.\nCENTER[0] = {\n  Crumb: merge(CRUMB_BASE, {left: SPACING + CRUMB_WIDTH}),\n  Icon: merge(ICON_BASE, {opacity: 0}),\n  Separator: merge(SEPARATOR_BASE, {opacity: 0}),\n  Title: merge(FIRST_TITLE_BASE, {opacity: 1}),\n  RightItem: CENTER[0].RightItem,\n};\nLEFT[0].Title = merge(FIRST_TITLE_BASE, {opacity: 0});\nRIGHT[0].Title = merge(FIRST_TITLE_BASE, {opacity: 0});\n\n\nvar buildIndexSceneInterpolator = function(startStyles, endStyles) {\n  return {\n    Crumb: buildStyleInterpolator({\n      left: {\n        type: 'linear',\n        from: startStyles.Crumb.left,\n        to: endStyles.Crumb.left,\n        min: 0,\n        max: 1,\n        extrapolate: true,\n      },\n    }),\n    Icon: buildStyleInterpolator({\n      opacity: {\n        type: 'linear',\n        from: startStyles.Icon.opacity,\n        to: endStyles.Icon.opacity,\n        min: 0,\n        max: 1,\n      },\n    }),\n    Separator: buildStyleInterpolator({\n      opacity: {\n        type: 'linear',\n        from: startStyles.Separator.opacity,\n        to: endStyles.Separator.opacity,\n        min: 0,\n        max: 1,\n      },\n    }),\n    Title: buildStyleInterpolator({\n      opacity: {\n        type: 'linear',\n        from: startStyles.Title.opacity,\n        to: endStyles.Title.opacity,\n        min: 0,\n        max: 1,\n      },\n      left: {\n        type: 'linear',\n        from: startStyles.Title.left,\n        to: endStyles.Title.left,\n        min: 0,\n        max: 1,\n        extrapolate: true,\n      },\n    }),\n    RightItem: buildStyleInterpolator({\n      opacity: {\n        type: 'linear',\n        from: startStyles.RightItem.opacity,\n        to: endStyles.RightItem.opacity,\n        min: 0,\n        max: 1,\n        round: OPACITY_RATIO,\n      },\n    }),\n  };\n};\n\nvar Interpolators = CENTER.map(function(_, ii) {\n  return {\n    // Animating *into* the center stage from the right\n    RightToCenter: buildIndexSceneInterpolator(RIGHT[ii], CENTER[ii]),\n    // Animating out of the center stage, to the left\n    CenterToLeft: buildIndexSceneInterpolator(CENTER[ii], LEFT[ii]),\n    // Both stages (animating *past* the center stage)\n    RightToLeft: buildIndexSceneInterpolator(RIGHT[ii], LEFT[ii]),\n  };\n});\n\n/**\n * Contains constants that are used in constructing both `StyleSheet`s and\n * inline styles during transitions.\n */\nmodule.exports = {\n  Interpolators,\n  Left: LEFT,\n  Center: CENTER,\n  Right: RIGHT,\n  IconWidth: ICON_WIDTH,\n  IconHeight: NAV_BAR_HEIGHT,\n  SeparatorWidth: SEPARATOR_WIDTH,\n  SeparatorHeight: NAV_BAR_HEIGHT,\n};\n","/**\n * Copyright (c) 2015, Facebook, Inc.  All rights reserved.\n *\n * Facebook, Inc. (\"Facebook\") owns all right, title and interest, including\n * all intellectual property and other proprietary rights, in and to the React\n * Native CustomComponents software (the \"Software\").  Subject to your\n * compliance with these terms, you are hereby granted a non-exclusive,\n * worldwide, royalty-free copyright license to (1) use and copy the Software;\n * and (2) reproduce and distribute the Software as part of your own software\n * (\"Your Software\").  Facebook reserves all rights not expressly granted to\n * you in this license agreement.\n *\n * THE SOFTWARE AND DOCUMENTATION, IF ANY, ARE PROVIDED \"AS IS\" AND ANY EXPRESS\n * OR IMPLIED WARRANTIES (INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES\n * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE) ARE DISCLAIMED.\n * IN NO EVENT SHALL FACEBOOK OR ITS AFFILIATES, OFFICERS, DIRECTORS OR\n * EMPLOYEES BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,\n * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,\n * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;\n * OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,\n * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR\n * OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THE SOFTWARE, EVEN IF\n * ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @providesModule NavigatorNavigationBarStylesAndroid\n */\n'use strict';\n\nvar buildStyleInterpolator = require('buildStyleInterpolator');\nvar merge = require('merge');\n\n// Android Material Design\nvar NAV_BAR_HEIGHT = 56;\nvar TITLE_LEFT = 72;\nvar BUTTON_SIZE = 24;\nvar TOUCH_TARGT_SIZE = 48;\nvar BUTTON_HORIZONTAL_MARGIN = 16;\n\nvar BUTTON_EFFECTIVE_MARGIN = BUTTON_HORIZONTAL_MARGIN - (TOUCH_TARGT_SIZE - BUTTON_SIZE) / 2;\nvar NAV_ELEMENT_HEIGHT = NAV_BAR_HEIGHT;\n\nvar BASE_STYLES = {\n  Title: {\n    position: 'absolute',\n    bottom: 0,\n    left: 0,\n    right: 0,\n    alignItems: 'flex-start',\n    height: NAV_ELEMENT_HEIGHT,\n    backgroundColor: 'transparent',\n    marginLeft: TITLE_LEFT,\n  },\n  LeftButton: {\n    position: 'absolute',\n    top: 0,\n    left: BUTTON_EFFECTIVE_MARGIN,\n    overflow: 'hidden',\n    height: NAV_ELEMENT_HEIGHT,\n    backgroundColor: 'transparent',\n  },\n  RightButton: {\n    position: 'absolute',\n    top: 0,\n    right: BUTTON_EFFECTIVE_MARGIN,\n    overflow: 'hidden',\n    alignItems: 'flex-end',\n    height: NAV_ELEMENT_HEIGHT,\n    backgroundColor: 'transparent',\n  },\n};\n\n// There are 3 stages: left, center, right. All previous navigation\n// items are in the left stage. The current navigation item is in the\n// center stage. All upcoming navigation items are in the right stage.\n// Another way to think of the stages is in terms of transitions. When\n// we move forward in the navigation stack, we perform a\n// right-to-center transition on the new navigation item and a\n// center-to-left transition on the current navigation item.\nvar Stages = {\n  Left: {\n    Title: merge(BASE_STYLES.Title, { opacity: 0 }),\n    LeftButton: merge(BASE_STYLES.LeftButton, { opacity: 0 }),\n    RightButton: merge(BASE_STYLES.RightButton, { opacity: 0 }),\n  },\n  Center: {\n    Title: merge(BASE_STYLES.Title, { opacity: 1 }),\n    LeftButton: merge(BASE_STYLES.LeftButton, { opacity: 1 }),\n    RightButton: merge(BASE_STYLES.RightButton, { opacity: 1 }),\n  },\n  Right: {\n    Title: merge(BASE_STYLES.Title, { opacity: 0 }),\n    LeftButton: merge(BASE_STYLES.LeftButton, { opacity: 0 }),\n    RightButton: merge(BASE_STYLES.RightButton, { opacity: 0 }),\n  },\n};\n\n\nvar opacityRatio = 100;\n\nfunction buildSceneInterpolators(startStyles, endStyles) {\n  return {\n    Title: buildStyleInterpolator({\n      opacity: {\n        type: 'linear',\n        from: startStyles.Title.opacity,\n        to: endStyles.Title.opacity,\n        min: 0,\n        max: 1,\n      },\n      left: {\n        type: 'linear',\n        from: startStyles.Title.left,\n        to: endStyles.Title.left,\n        min: 0,\n        max: 1,\n        extrapolate: true,\n      },\n    }),\n    LeftButton: buildStyleInterpolator({\n      opacity: {\n        type: 'linear',\n        from: startStyles.LeftButton.opacity,\n        to: endStyles.LeftButton.opacity,\n        min: 0,\n        max: 1,\n        round: opacityRatio,\n      },\n      left: {\n        type: 'linear',\n        from: startStyles.LeftButton.left,\n        to: endStyles.LeftButton.left,\n        min: 0,\n        max: 1,\n      },\n    }),\n    RightButton: buildStyleInterpolator({\n      opacity: {\n        type: 'linear',\n        from: startStyles.RightButton.opacity,\n        to: endStyles.RightButton.opacity,\n        min: 0,\n        max: 1,\n        round: opacityRatio,\n      },\n      left: {\n        type: 'linear',\n        from: startStyles.RightButton.left,\n        to: endStyles.RightButton.left,\n        min: 0,\n        max: 1,\n        extrapolate: true,\n      },\n    }),\n  };\n}\n\nvar Interpolators = {\n  // Animating *into* the center stage from the right\n  RightToCenter: buildSceneInterpolators(Stages.Right, Stages.Center),\n  // Animating out of the center stage, to the left\n  CenterToLeft: buildSceneInterpolators(Stages.Center, Stages.Left),\n  // Both stages (animating *past* the center stage)\n  RightToLeft: buildSceneInterpolators(Stages.Right, Stages.Left),\n};\n\n\nmodule.exports = {\n  General: {\n    NavBarHeight: NAV_BAR_HEIGHT,\n    StatusBarHeight: 0,\n    TotalNavHeight: NAV_BAR_HEIGHT,\n  },\n  Interpolators,\n  Stages,\n};\n","/**\n * Copyright 2004-present Facebook. All Rights Reserved.\n *\n * @providesModule buildStyleInterpolator\n */\n\n/**\n * Cannot \"use strict\" because we must use eval in this file.\n */\n/* eslint-disable global-strict */\n\nvar keyOf = require('fbjs/lib/keyOf');\n\nvar X_DIM = keyOf({x: null});\nvar Y_DIM = keyOf({y: null});\nvar Z_DIM = keyOf({z: null});\nvar W_DIM = keyOf({w: null});\n\nvar TRANSFORM_ROTATE_NAME = keyOf({transformRotateRadians: null});\n\nvar ShouldAllocateReusableOperationVars = {\n  transformRotateRadians: true,\n  transformScale: true,\n  transformTranslate: true,\n};\n\nvar InitialOperationField = {\n  transformRotateRadians: [0, 0, 0, 1],\n  transformTranslate: [0, 0, 0],\n  transformScale: [1, 1, 1],\n};\n\n\n/**\n * Creates a highly specialized animation function that may be evaluated every\n * frame. For example:\n *\n *    var ToTheLeft = {\n *      opacity: {\n *        from: 1,\n *        to: 0.7,\n *        min: 0,\n *        max: 1,\n *        type: 'linear',\n *        extrapolate: false,\n *        round: 100,\n *      },\n *      left: {\n *        from: 0,\n *        to: -SCREEN_WIDTH * 0.3,\n *        min: 0,\n *        max: 1,\n *        type: 'linear',\n *        extrapolate: true,\n *        round: PixelRatio.get(),\n *      },\n *    };\n *\n *    var toTheLeft = buildStyleInterpolator(ToTheLeft);\n *\n *  Would returns a specialized function of the form:\n *\n *    function(result, value) {\n *      var didChange = false;\n *      var nextScalarVal;\n *      var ratio;\n *      ratio = (value - 0) / 1;\n *      ratio = ratio > 1 ? 1 : (ratio < 0 ? 0 : ratio);\n *      nextScalarVal = Math.round(100 * (1 * (1 - ratio) + 0.7 * ratio)) / 100;\n *      if (!didChange) {\n *        var prevVal = result.opacity;\n *        result.opacity = nextScalarVal;\n *        didChange = didChange  || (nextScalarVal !== prevVal);\n *      } else {\n *        result.opacity = nextScalarVal;\n *      }\n *      ratio = (value - 0) / 1;\n *      nextScalarVal = Math.round(2 * (0 * (1 - ratio) + -30 * ratio)) / 2;\n *      if (!didChange) {\n *        var prevVal = result.left;\n *        result.left = nextScalarVal;\n *        didChange = didChange  || (nextScalarVal !== prevVal);\n *      } else {\n *        result.left = nextScalarVal;\n *      }\n *      return didChange;\n *    }\n */\n\nvar ARGUMENT_NAMES_RE = /([^\\s,]+)/g;\n/**\n * This is obviously a huge hack. Proper tooling would allow actual inlining.\n * This only works in a few limited cases (where there is no function return\n * value, and the function operates mutatively on parameters).\n *\n * Example:\n *\n *\n *   var inlineMe(a, b) {\n *      a = b + b;\n *  };\n *\n *  inline(inlineMe, ['hi', 'bye']);  // \"hi = bye + bye;\"\n *\n * @param {string} fnStr Source of any simple function who's arguments can be\n * replaced via a regex.\n * @param {array<string>} replaceWithArgs Corresponding names of variables\n * within an environment, to replace `func` args with.\n * @return {string} Resulting function body string.\n */\nvar inline = function(fnStr, replaceWithArgs) {\n  var parameterNames = fnStr.slice(fnStr.indexOf('(') + 1, fnStr.indexOf(')'))\n    .match(ARGUMENT_NAMES_RE) ||\n    [];\n  var replaceRegexStr = parameterNames.map(function(paramName) {\n    return '\\\\b' + paramName + '\\\\b';\n  }).join('|');\n  var replaceRegex = new RegExp(replaceRegexStr, 'g');\n  var fnBody = fnStr.substring(fnStr.indexOf('{') + 1, fnStr.lastIndexOf('}'));\n  var newFnBody = fnBody.replace(replaceRegex, function(parameterName) {\n    var indexInParameterNames = parameterNames.indexOf(parameterName);\n    var replacementName = replaceWithArgs[indexInParameterNames];\n    return replacementName;\n  });\n  return newFnBody.split('\\n');\n};\n\n/**\n * Simply a convenient way to inline functions using the inline function.\n */\nvar MatrixOps = {\n  unroll: `function(matVar, m0, m1, m2, m3, m4, m5, m6, m7, m8, m9, m10, m11, m12, m13, m14, m15) {\n    m0 = matVar[0];\n    m1 = matVar[1];\n    m2 = matVar[2];\n    m3 = matVar[3];\n    m4 = matVar[4];\n    m5 = matVar[5];\n    m6 = matVar[6];\n    m7 = matVar[7];\n    m8 = matVar[8];\n    m9 = matVar[9];\n    m10 = matVar[10];\n    m11 = matVar[11];\n    m12 = matVar[12];\n    m13 = matVar[13];\n    m14 = matVar[14];\n    m15 = matVar[15];\n  }`,\n\n  matrixDiffers: `function(retVar, matVar, m0, m1, m2, m3, m4, m5, m6, m7, m8, m9, m10, m11, m12, m13, m14, m15) {\n    retVar = retVar ||\n    m0 !== matVar[0] ||\n    m1 !== matVar[1] ||\n    m2 !== matVar[2] ||\n    m3 !== matVar[3] ||\n    m4 !== matVar[4] ||\n    m5 !== matVar[5] ||\n    m6 !== matVar[6] ||\n    m7 !== matVar[7] ||\n    m8 !== matVar[8] ||\n    m9 !== matVar[9] ||\n    m10 !== matVar[10] ||\n    m11 !== matVar[11] ||\n    m12 !== matVar[12] ||\n    m13 !== matVar[13] ||\n    m14 !== matVar[14] ||\n    m15 !== matVar[15];\n  }`,\n\n  transformScale: `function(matVar, opVar) {\n    // Scaling matVar by opVar\n    var x = opVar[0];\n    var y = opVar[1];\n    var z = opVar[2];\n    matVar[0] = matVar[0] * x;\n    matVar[1] = matVar[1] * x;\n    matVar[2] = matVar[2] * x;\n    matVar[3] = matVar[3] * x;\n    matVar[4] = matVar[4] * y;\n    matVar[5] = matVar[5] * y;\n    matVar[6] = matVar[6] * y;\n    matVar[7] = matVar[7] * y;\n    matVar[8] = matVar[8] * z;\n    matVar[9] = matVar[9] * z;\n    matVar[10] = matVar[10] * z;\n    matVar[11] = matVar[11] * z;\n    matVar[12] = matVar[12];\n    matVar[13] = matVar[13];\n    matVar[14] = matVar[14];\n    matVar[15] = matVar[15];\n  }`,\n\n  /**\n   * All of these matrix transforms are not general purpose utilities, and are\n   * only suitable for being inlined for the use of building up interpolators.\n   */\n  transformTranslate: `function(matVar, opVar) {\n    // Translating matVar by opVar\n    var x = opVar[0];\n    var y = opVar[1];\n    var z = opVar[2];\n    matVar[12] = matVar[0] * x + matVar[4] * y + matVar[8] * z + matVar[12];\n    matVar[13] = matVar[1] * x + matVar[5] * y + matVar[9] * z + matVar[13];\n    matVar[14] = matVar[2] * x + matVar[6] * y + matVar[10] * z + matVar[14];\n    matVar[15] = matVar[3] * x + matVar[7] * y + matVar[11] * z + matVar[15];\n  }`,\n\n  /**\n   * @param {array} matVar Both the input, and the output matrix.\n   * @param {quaternion specification} q Four element array describing rotation.\n   */\n  transformRotateRadians: `function(matVar, q) {\n    // Rotating matVar by q\n    var xQuat = q[0], yQuat = q[1], zQuat = q[2], wQuat = q[3];\n    var x2Quat = xQuat + xQuat;\n    var y2Quat = yQuat + yQuat;\n    var z2Quat = zQuat + zQuat;\n    var xxQuat = xQuat * x2Quat;\n    var xyQuat = xQuat * y2Quat;\n    var xzQuat = xQuat * z2Quat;\n    var yyQuat = yQuat * y2Quat;\n    var yzQuat = yQuat * z2Quat;\n    var zzQuat = zQuat * z2Quat;\n    var wxQuat = wQuat * x2Quat;\n    var wyQuat = wQuat * y2Quat;\n    var wzQuat = wQuat * z2Quat;\n    // Step 1: Inlines the construction of a quaternion matrix ('quatMat')\n    var quatMat0 = 1 - (yyQuat + zzQuat);\n    var quatMat1 = xyQuat + wzQuat;\n    var quatMat2 = xzQuat - wyQuat;\n    var quatMat4 = xyQuat - wzQuat;\n    var quatMat5 = 1 - (xxQuat + zzQuat);\n    var quatMat6 = yzQuat + wxQuat;\n    var quatMat8 = xzQuat + wyQuat;\n    var quatMat9 = yzQuat - wxQuat;\n    var quatMat10 = 1 - (xxQuat + yyQuat);\n    // quatMat3/7/11/12/13/14 = 0, quatMat15 = 1\n\n    // Step 2: Inlines multiplication, takes advantage of constant quatMat cells\n    var a00 = matVar[0];\n    var a01 = matVar[1];\n    var a02 = matVar[2];\n    var a03 = matVar[3];\n    var a10 = matVar[4];\n    var a11 = matVar[5];\n    var a12 = matVar[6];\n    var a13 = matVar[7];\n    var a20 = matVar[8];\n    var a21 = matVar[9];\n    var a22 = matVar[10];\n    var a23 = matVar[11];\n\n    var b0  = quatMat0, b1 = quatMat1, b2 = quatMat2;\n    matVar[0] = b0 * a00 + b1 * a10 + b2 * a20;\n    matVar[1] = b0 * a01 + b1 * a11 + b2 * a21;\n    matVar[2] = b0 * a02 + b1 * a12 + b2 * a22;\n    matVar[3] = b0 * a03 + b1 * a13 + b2 * a23;\n    b0 = quatMat4; b1 = quatMat5; b2 = quatMat6;\n    matVar[4] = b0 * a00 + b1 * a10 + b2 * a20;\n    matVar[5] = b0 * a01 + b1 * a11 + b2 * a21;\n    matVar[6] = b0 * a02 + b1 * a12 + b2 * a22;\n    matVar[7] = b0 * a03 + b1 * a13 + b2 * a23;\n    b0 = quatMat8; b1 = quatMat9; b2 = quatMat10;\n    matVar[8] = b0 * a00 + b1 * a10 + b2 * a20;\n    matVar[9] = b0 * a01 + b1 * a11 + b2 * a21;\n    matVar[10] = b0 * a02 + b1 * a12 + b2 * a22;\n    matVar[11] = b0 * a03 + b1 * a13 + b2 * a23;\n  }`\n};\n\n// Optimized version of general operation applications that can be used when\n// the target matrix is known to be the identity matrix.\nvar MatrixOpsInitial = {\n  transformScale: `function(matVar, opVar) {\n    // Scaling matVar known to be identity by opVar\n    matVar[0] = opVar[0];\n    matVar[1] = 0;\n    matVar[2] = 0;\n    matVar[3] = 0;\n    matVar[4] = 0;\n    matVar[5] = opVar[1];\n    matVar[6] = 0;\n    matVar[7] = 0;\n    matVar[8] = 0;\n    matVar[9] = 0;\n    matVar[10] = opVar[2];\n    matVar[11] = 0;\n    matVar[12] = 0;\n    matVar[13] = 0;\n    matVar[14] = 0;\n    matVar[15] = 1;\n  }`,\n\n  transformTranslate: `function(matVar, opVar) {\n    // Translating matVar known to be identity by opVar;\n    matVar[0] = 1;\n    matVar[1] = 0;\n    matVar[2] = 0;\n    matVar[3] = 0;\n    matVar[4] = 0;\n    matVar[5] = 1;\n    matVar[6] = 0;\n    matVar[7] = 0;\n    matVar[8] = 0;\n    matVar[9] = 0;\n    matVar[10] = 1;\n    matVar[11] = 0;\n    matVar[12] = opVar[0];\n    matVar[13] = opVar[1];\n    matVar[14] = opVar[2];\n    matVar[15] = 1;\n  }`,\n\n  /**\n   * @param {array} matVar Both the input, and the output matrix - assumed to be\n   * identity.\n   * @param {quaternion specification} q Four element array describing rotation.\n   */\n  transformRotateRadians: `function(matVar, q) {\n\n    // Rotating matVar which is known to be identity by q\n    var xQuat = q[0], yQuat = q[1], zQuat = q[2], wQuat = q[3];\n    var x2Quat = xQuat + xQuat;\n    var y2Quat = yQuat + yQuat;\n    var z2Quat = zQuat + zQuat;\n    var xxQuat = xQuat * x2Quat;\n    var xyQuat = xQuat * y2Quat;\n    var xzQuat = xQuat * z2Quat;\n    var yyQuat = yQuat * y2Quat;\n    var yzQuat = yQuat * z2Quat;\n    var zzQuat = zQuat * z2Quat;\n    var wxQuat = wQuat * x2Quat;\n    var wyQuat = wQuat * y2Quat;\n    var wzQuat = wQuat * z2Quat;\n    // Step 1: Inlines the construction of a quaternion matrix ('quatMat')\n    var quatMat0 = 1 - (yyQuat + zzQuat);\n    var quatMat1 = xyQuat + wzQuat;\n    var quatMat2 = xzQuat - wyQuat;\n    var quatMat4 = xyQuat - wzQuat;\n    var quatMat5 = 1 - (xxQuat + zzQuat);\n    var quatMat6 = yzQuat + wxQuat;\n    var quatMat8 = xzQuat + wyQuat;\n    var quatMat9 = yzQuat - wxQuat;\n    var quatMat10 = 1 - (xxQuat + yyQuat);\n    // quatMat3/7/11/12/13/14 = 0, quatMat15 = 1\n\n    // Step 2: Inlines the multiplication with identity matrix.\n    var b0  = quatMat0, b1 = quatMat1, b2 = quatMat2;\n    matVar[0] = b0;\n    matVar[1] = b1;\n    matVar[2] = b2;\n    matVar[3] = 0;\n    b0 = quatMat4; b1 = quatMat5; b2 = quatMat6;\n    matVar[4] = b0;\n    matVar[5] = b1;\n    matVar[6] = b2;\n    matVar[7] = 0;\n    b0 = quatMat8; b1 = quatMat9; b2 = quatMat10;\n    matVar[8] = b0;\n    matVar[9] = b1;\n    matVar[10] = b2;\n    matVar[11] = 0;\n    matVar[12] = 0;\n    matVar[13] = 0;\n    matVar[14] = 0;\n    matVar[15] = 1;\n  }`\n};\n\n\nvar setNextValAndDetectChange = function(name, tmpVarName) {\n  return (\n    '  if (!didChange) {\\n' +\n    '    var prevVal = result.' + name + ';\\n' +\n    '    result.' + name + ' = ' + tmpVarName + ';\\n' +\n    '    didChange = didChange  || (' + tmpVarName + ' !== prevVal);\\n' +\n    '  } else {\\n' +\n    '    result.' + name + ' = ' + tmpVarName + ';\\n' +\n    '  }\\n'\n  );\n};\n\nvar computeNextValLinear = function(anim, from, to, tmpVarName) {\n  var hasRoundRatio = 'round' in anim;\n  var roundRatio = anim.round;\n  var fn = '  ratio = (value - ' + anim.min + ') / ' + (anim.max - anim.min) + ';\\n';\n  if (!anim.extrapolate) {\n    fn += '  ratio = ratio > 1 ? 1 : (ratio < 0 ? 0 : ratio);\\n';\n  }\n\n  var roundOpen = (hasRoundRatio ? 'Math.round(' + roundRatio + ' * ' : '' );\n  var roundClose = (hasRoundRatio ? ') / ' + roundRatio : '' );\n  fn +=\n    '  ' + tmpVarName + ' = ' +\n       roundOpen +\n       '(' + from + ' * (1 - ratio) + ' + to + ' * ratio)' +\n       roundClose + ';\\n';\n  return fn;\n};\n\nvar computeNextValLinearScalar = function(anim) {\n  return computeNextValLinear(anim, anim.from, anim.to, 'nextScalarVal');\n};\n\nvar computeNextValConstant = function(anim) {\n  var constantExpression = JSON.stringify(anim.value);\n  return '  nextScalarVal = ' + constantExpression + ';\\n';\n};\n\nvar computeNextValStep = function(anim) {\n  return (\n    '  nextScalarVal = value >= ' +\n         (anim.threshold + ' ? ' + anim.to + ' : ' + anim.from) + ';\\n'\n  );\n};\n\nvar computeNextValIdentity = function(anim) {\n  return '  nextScalarVal = value;\\n';\n};\n\nvar operationVar = function(name) {\n  return name + 'ReuseOp';\n};\n\nvar createReusableOperationVars = function(anims) {\n  var ret = '';\n  for (var name in anims) {\n    if (ShouldAllocateReusableOperationVars[name]) {\n      ret += 'var ' + operationVar(name) + ' = [];\\n';\n    }\n  }\n  return ret;\n};\n\nvar newlines = function(statements) {\n  return '\\n' + statements.join('\\n') + '\\n';\n};\n\n/**\n * @param {Animation} anim Configuration entry.\n * @param {key} dimension Key to examine in `from`/`to`.\n * @param {number} index Field in operationVar to set.\n * @return {string} Code that sets the operation variable's field.\n */\nvar computeNextMatrixOperationField = function(anim, name, dimension, index) {\n  var fieldAccess = operationVar(name) + '[' + index + ']';\n  if (anim.from[dimension] !== undefined && anim.to[dimension] !== undefined) {\n    return '  ' + anim.from[dimension] !== anim.to[dimension] ?\n        computeNextValLinear(anim, anim.from[dimension], anim.to[dimension], fieldAccess) :\n        fieldAccess + ' = ' + anim.from[dimension] + ';';\n  } else {\n    return '  ' + fieldAccess + ' = ' + InitialOperationField[name][index] + ';';\n  }\n};\n\nvar unrolledVars = [];\nfor (var varIndex = 0; varIndex < 16; varIndex++) {\n  unrolledVars.push('m' + varIndex);\n}\nvar setNextMatrixAndDetectChange = function(orderedMatrixOperations) {\n  var fn = [\n    '  var transform = result.transform !== undefined ? ' +\n    'result.transform : (result.transform = [{ matrix: [] }]);' +\n    '  var transformMatrix = transform[0].matrix;'\n  ];\n  fn.push.apply(\n    fn,\n    inline(MatrixOps.unroll, ['transformMatrix'].concat(unrolledVars))\n  );\n  for (var i = 0; i < orderedMatrixOperations.length; i++) {\n    var opName = orderedMatrixOperations[i];\n    if (i === 0) {\n      fn.push.apply(\n        fn,\n        inline(MatrixOpsInitial[opName], ['transformMatrix', operationVar(opName)])\n      );\n    } else {\n      fn.push.apply(\n        fn,\n        inline(MatrixOps[opName], ['transformMatrix', operationVar(opName)])\n      );\n    }\n  }\n  fn.push.apply(\n    fn,\n    inline(MatrixOps.matrixDiffers, ['didChange', 'transformMatrix'].concat(unrolledVars))\n  );\n  return fn;\n};\n\nvar InterpolateMatrix = {\n  transformTranslate: true,\n  transformRotateRadians: true,\n  transformScale: true,\n};\n\nvar createFunctionString = function(anims) {\n  // We must track the order they appear in so transforms are applied in the\n  // correct order.\n  var orderedMatrixOperations = [];\n\n  // Wrapping function allows the final function to contain state (for\n  // caching).\n  var fn = 'return (function() {\\n';\n  fn += createReusableOperationVars(anims);\n  fn += 'return function(result, value) {\\n';\n  fn += '  var didChange = false;\\n';\n  fn += '  var nextScalarVal;\\n';\n  fn += '  var ratio;\\n';\n\n  for (var name in anims) {\n    var anim = anims[name];\n    if (anim.type === 'linear') {\n      if (InterpolateMatrix[name]) {\n        orderedMatrixOperations.push(name);\n        var setOperations = [\n          computeNextMatrixOperationField(anim, name, X_DIM, 0),\n          computeNextMatrixOperationField(anim, name, Y_DIM, 1),\n          computeNextMatrixOperationField(anim, name, Z_DIM, 2)\n        ];\n        if (name === TRANSFORM_ROTATE_NAME) {\n          setOperations.push(computeNextMatrixOperationField(anim, name, W_DIM, 3));\n        }\n        fn += newlines(setOperations);\n      } else {\n        fn += computeNextValLinearScalar(anim, 'nextScalarVal');\n        fn += setNextValAndDetectChange(name, 'nextScalarVal');\n      }\n    } else if (anim.type === 'constant') {\n      fn += computeNextValConstant(anim);\n      fn += setNextValAndDetectChange(name, 'nextScalarVal');\n    } else if (anim.type === 'step') {\n      fn += computeNextValStep(anim);\n      fn += setNextValAndDetectChange(name, 'nextScalarVal');\n    } else if (anim.type === 'identity') {\n      fn += computeNextValIdentity(anim);\n      fn += setNextValAndDetectChange(name, 'nextScalarVal');\n    }\n  }\n  if (orderedMatrixOperations.length) {\n    fn += newlines(setNextMatrixAndDetectChange(orderedMatrixOperations));\n  }\n  fn += '  return didChange;\\n';\n  fn += '};\\n';\n  fn += '})()';\n  return fn;\n};\n\n/**\n * @param {object} anims Animation configuration by style property name.\n * @return {function} Function accepting style object, that mutates that style\n * object and returns a boolean describing if any update was actually applied.\n */\nvar buildStyleInterpolator = function(anims) {\n  // Defer compiling this method until we really need it.\n  var interpolator = null;\n  function lazyStyleInterpolator(result, value) {\n    if (interpolator === null) {\n      interpolator = Function(createFunctionString(anims))();\n    }\n    return interpolator(result, value);\n  }\n  return lazyStyleInterpolator;\n};\n\nmodule.exports = buildStyleInterpolator;\n","/**\n * Copyright (c) 2015, Facebook, Inc.  All rights reserved.\n *\n * Facebook, Inc. (\"Facebook\") owns all right, title and interest, including\n * all intellectual property and other proprietary rights, in and to the React\n * Native CustomComponents software (the \"Software\").  Subject to your\n * compliance with these terms, you are hereby granted a non-exclusive,\n * worldwide, royalty-free copyright license to (1) use and copy the Software;\n * and (2) reproduce and distribute the Software as part of your own software\n * (\"Your Software\").  Facebook reserves all rights not expressly granted to\n * you in this license agreement.\n *\n * THE SOFTWARE AND DOCUMENTATION, IF ANY, ARE PROVIDED \"AS IS\" AND ANY EXPRESS\n * OR IMPLIED WARRANTIES (INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES\n * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE) ARE DISCLAIMED.\n * IN NO EVENT SHALL FACEBOOK OR ITS AFFILIATES, OFFICERS, DIRECTORS OR\n * EMPLOYEES BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,\n * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,\n * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;\n * OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,\n * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR\n * OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THE SOFTWARE, EVEN IF\n * ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @providesModule NavigatorNavigationBarStylesIOS\n */\n'use strict';\n\nvar Dimensions = require('Dimensions');\n\nvar buildStyleInterpolator = require('buildStyleInterpolator');\nvar merge = require('merge');\n\nvar SCREEN_WIDTH = Dimensions.get('window').width;\nvar NAV_BAR_HEIGHT = 44;\nvar STATUS_BAR_HEIGHT = 20;\nvar NAV_HEIGHT = NAV_BAR_HEIGHT + STATUS_BAR_HEIGHT;\n\nvar BASE_STYLES = {\n  Title: {\n    position: 'absolute',\n    top: STATUS_BAR_HEIGHT,\n    left: 0,\n    right: 0,\n    alignItems: 'center',\n    height: NAV_BAR_HEIGHT,\n    backgroundColor: 'transparent',\n  },\n  LeftButton: {\n    position: 'absolute',\n    top: STATUS_BAR_HEIGHT,\n    left: 0,\n    overflow: 'hidden',\n    opacity: 1,\n    height: NAV_BAR_HEIGHT,\n    backgroundColor: 'transparent',\n  },\n  RightButton: {\n    position: 'absolute',\n    top: STATUS_BAR_HEIGHT,\n    right: 0,\n    overflow: 'hidden',\n    opacity: 1,\n    alignItems: 'flex-end',\n    height: NAV_BAR_HEIGHT,\n    backgroundColor: 'transparent',\n  },\n};\n\n// There are 3 stages: left, center, right. All previous navigation\n// items are in the left stage. The current navigation item is in the\n// center stage. All upcoming navigation items are in the right stage.\n// Another way to think of the stages is in terms of transitions. When\n// we move forward in the navigation stack, we perform a\n// right-to-center transition on the new navigation item and a\n// center-to-left transition on the current navigation item.\nvar Stages = {\n  Left: {\n    Title: merge(BASE_STYLES.Title, { left: -SCREEN_WIDTH / 2, opacity: 0 }),\n    LeftButton: merge(BASE_STYLES.LeftButton, { left: 0, opacity: 0 }),\n    RightButton: merge(BASE_STYLES.RightButton, { opacity: 0 }),\n  },\n  Center: {\n    Title: merge(BASE_STYLES.Title, { left: 0, opacity: 1 }),\n    LeftButton: merge(BASE_STYLES.LeftButton, { left: 0, opacity: 1 }),\n    RightButton: merge(BASE_STYLES.RightButton, { opacity: 1 }),\n  },\n  Right: {\n    Title: merge(BASE_STYLES.Title, { left: SCREEN_WIDTH / 2, opacity: 0 }),\n    LeftButton: merge(BASE_STYLES.LeftButton, { left: 0, opacity: 0 }),\n    RightButton: merge(BASE_STYLES.RightButton, { opacity: 0 }),\n  },\n};\n\n\nvar opacityRatio = 100;\n\nfunction buildSceneInterpolators(startStyles, endStyles) {\n  return {\n    Title: buildStyleInterpolator({\n      opacity: {\n        type: 'linear',\n        from: startStyles.Title.opacity,\n        to: endStyles.Title.opacity,\n        min: 0,\n        max: 1,\n      },\n      left: {\n        type: 'linear',\n        from: startStyles.Title.left,\n        to: endStyles.Title.left,\n        min: 0,\n        max: 1,\n        extrapolate: true,\n      },\n    }),\n    LeftButton: buildStyleInterpolator({\n      opacity: {\n        type: 'linear',\n        from: startStyles.LeftButton.opacity,\n        to: endStyles.LeftButton.opacity,\n        min: 0,\n        max: 1,\n        round: opacityRatio,\n      },\n      left: {\n        type: 'linear',\n        from: startStyles.LeftButton.left,\n        to: endStyles.LeftButton.left,\n        min: 0,\n        max: 1,\n      },\n    }),\n    RightButton: buildStyleInterpolator({\n      opacity: {\n        type: 'linear',\n        from: startStyles.RightButton.opacity,\n        to: endStyles.RightButton.opacity,\n        min: 0,\n        max: 1,\n        round: opacityRatio,\n      },\n      left: {\n        type: 'linear',\n        from: startStyles.RightButton.left,\n        to: endStyles.RightButton.left,\n        min: 0,\n        max: 1,\n        extrapolate: true,\n      },\n    }),\n  };\n}\n\nvar Interpolators = {\n  // Animating *into* the center stage from the right\n  RightToCenter: buildSceneInterpolators(Stages.Right, Stages.Center),\n  // Animating out of the center stage, to the left\n  CenterToLeft: buildSceneInterpolators(Stages.Center, Stages.Left),\n  // Both stages (animating *past* the center stage)\n  RightToLeft: buildSceneInterpolators(Stages.Right, Stages.Left),\n};\n\n\nmodule.exports = {\n  General: {\n    NavBarHeight: NAV_BAR_HEIGHT,\n    StatusBarHeight: STATUS_BAR_HEIGHT,\n    TotalNavHeight: NAV_HEIGHT,\n  },\n  Interpolators,\n  Stages,\n};\n","/**\n * Copyright (c) 2015, Facebook, Inc.  All rights reserved.\n *\n * Facebook, Inc. (\"Facebook\") owns all right, title and interest, including\n * all intellectual property and other proprietary rights, in and to the React\n * Native CustomComponents software (the \"Software\").  Subject to your\n * compliance with these terms, you are hereby granted a non-exclusive,\n * worldwide, royalty-free copyright license to (1) use and copy the Software;\n * and (2) reproduce and distribute the Software as part of your own software\n * (\"Your Software\").  Facebook reserves all rights not expressly granted to\n * you in this license agreement.\n *\n * THE SOFTWARE AND DOCUMENTATION, IF ANY, ARE PROVIDED \"AS IS\" AND ANY EXPRESS\n * OR IMPLIED WARRANTIES (INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES\n * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE) ARE DISCLAIMED.\n * IN NO EVENT SHALL FACEBOOK OR ITS AFFILIATES, OFFICERS, DIRECTORS OR\n * EMPLOYEES BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,\n * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,\n * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;\n * OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,\n * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR\n * OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THE SOFTWARE, EVEN IF\n * ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @providesModule NavigatorNavigationBar\n */\n'use strict';\n\nvar React = require('React');\nvar NavigatorNavigationBarStylesAndroid = require('NavigatorNavigationBarStylesAndroid');\nvar NavigatorNavigationBarStylesIOS = require('NavigatorNavigationBarStylesIOS');\nvar Platform = require('Platform');\nvar StyleSheet = require('StyleSheet');\nvar View = require('View');\n\nvar guid = require('guid');\n\nvar { Map } = require('immutable');\n\nvar COMPONENT_NAMES = ['Title', 'LeftButton', 'RightButton'];\n\nvar NavigatorNavigationBarStyles = Platform.OS === 'android' ?\n  NavigatorNavigationBarStylesAndroid : NavigatorNavigationBarStylesIOS;\n\nvar navStatePresentedIndex = function(navState) {\n  if (navState.presentedIndex !== undefined) {\n    return navState.presentedIndex;\n  }\n  // TODO: rename `observedTopOfStack` to `presentedIndex` in `NavigatorIOS`\n  return navState.observedTopOfStack;\n};\n\nclass NavigatorNavigationBar extends React.Component {\n  static propTypes = {\n    navigator: React.PropTypes.object,\n    routeMapper: React.PropTypes.shape({\n      Title: React.PropTypes.func.isRequired,\n      LeftButton: React.PropTypes.func.isRequired,\n      RightButton: React.PropTypes.func.isRequired,\n    }).isRequired,\n    navState: React.PropTypes.shape({\n      routeStack: React.PropTypes.arrayOf(React.PropTypes.object),\n      presentedIndex: React.PropTypes.number,\n    }),\n    navigationStyles: React.PropTypes.object,\n    style: View.propTypes.style,\n  };\n\n  static Styles = NavigatorNavigationBarStyles;\n  static StylesAndroid = NavigatorNavigationBarStylesAndroid;\n  static StylesIOS = NavigatorNavigationBarStylesIOS;\n\n  static defaultProps = {\n    navigationStyles: NavigatorNavigationBarStyles,\n  };\n\n  componentWillMount() {\n    this._reset();\n  }\n\n  /**\n   * Stop transtion, immediately resets the cached state and re-render the\n   * whole view.\n   */\n  immediatelyRefresh = () => {\n    this._reset();\n    this.forceUpdate();\n  };\n\n  _reset = () => {\n    this._key = guid();\n    this._reusableProps = {};\n    this._components = {};\n    this._descriptors = {};\n\n    COMPONENT_NAMES.forEach(componentName => {\n      this._components[componentName] = new Map();\n      this._descriptors[componentName] = new Map();\n    });\n  };\n\n  _getReusableProps = (/*string*/componentName, /*number*/index) => /*object*/ {\n    var propStack = this._reusableProps[componentName];\n    if (!propStack) {\n      propStack = this._reusableProps[componentName] = [];\n    }\n    var props = propStack[index];\n    if (!props) {\n      props = propStack[index] = {style:{}};\n    }\n    return props;\n  };\n\n  _updateIndexProgress = (\n    /*number*/progress,\n    /*number*/index,\n    /*number*/fromIndex,\n    /*number*/toIndex,\n  ) => {\n    var amount = toIndex > fromIndex ? progress : (1 - progress);\n    var oldDistToCenter = index - fromIndex;\n    var newDistToCenter = index - toIndex;\n    var interpolate;\n    if (oldDistToCenter > 0 && newDistToCenter === 0 ||\n        newDistToCenter > 0 && oldDistToCenter === 0) {\n      interpolate = this.props.navigationStyles.Interpolators.RightToCenter;\n    } else if (oldDistToCenter < 0 && newDistToCenter === 0 ||\n               newDistToCenter < 0 && oldDistToCenter === 0) {\n      interpolate = this.props.navigationStyles.Interpolators.CenterToLeft;\n    } else if (oldDistToCenter === newDistToCenter) {\n      interpolate = this.props.navigationStyles.Interpolators.RightToCenter;\n    } else {\n      interpolate = this.props.navigationStyles.Interpolators.RightToLeft;\n    }\n\n    COMPONENT_NAMES.forEach(function (componentName) {\n      var component = this._components[componentName].get(this.props.navState.routeStack[index]);\n      var props = this._getReusableProps(componentName, index);\n      if (component && interpolate[componentName](props.style, amount)) {\n        props.pointerEvents = props.style.opacity === 0 ? 'none' : 'box-none';\n        component.setNativeProps(props);\n      }\n    }, this);\n  };\n\n  updateProgress = (/*number*/progress, /*number*/fromIndex, /*number*/toIndex) => {\n    var max = Math.max(fromIndex, toIndex);\n    var min = Math.min(fromIndex, toIndex);\n    for (var index = min; index <= max; index++) {\n      this._updateIndexProgress(progress, index, fromIndex, toIndex);\n    }\n  };\n\n  render() {\n    var navBarStyle = {\n      height: this.props.navigationStyles.General.TotalNavHeight,\n    };\n    var navState = this.props.navState;\n    var components = navState.routeStack.map((route, index) =>\n      COMPONENT_NAMES.map(componentName =>\n        this._getComponent(componentName, route, index)\n      )\n    );\n\n    return (\n      <View\n        key={this._key}\n        style={[styles.navBarContainer, navBarStyle, this.props.style]}>\n        {components}\n      </View>\n    );\n  }\n\n  _getComponent = (/*string*/componentName, /*object*/route, /*number*/index) => /*?Object*/ {\n    if (this._descriptors[componentName].includes(route)) {\n      return this._descriptors[componentName].get(route);\n    }\n\n    var rendered = null;\n\n    var content = this.props.routeMapper[componentName](\n      this.props.navState.routeStack[index],\n      this.props.navigator,\n      index,\n      this.props.navState\n    );\n    if (!content) {\n      return null;\n    }\n\n    var componentIsActive = index === navStatePresentedIndex(this.props.navState);\n    var initialStage = componentIsActive ?\n      this.props.navigationStyles.Stages.Center :\n      this.props.navigationStyles.Stages.Left;\n    rendered = (\n      <View\n        ref={(ref) => {\n          this._components[componentName] = this._components[componentName].set(route, ref);\n        }}\n        pointerEvents={componentIsActive ? 'box-none' : 'none'}\n        style={initialStage[componentName]}>\n        {content}\n      </View>\n    );\n\n    this._descriptors[componentName] = this._descriptors[componentName].set(route, rendered);\n    return rendered;\n  };\n}\n\n\nvar styles = StyleSheet.create({\n  navBarContainer: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    right: 0,\n    backgroundColor: 'transparent',\n  },\n});\n\nmodule.exports = NavigatorNavigationBar;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * Facebook, Inc. (\"Facebook\") owns all right, title and interest, including\n * all intellectual property and other proprietary rights, in and to the React\n * Native CustomComponents software (the \"Software\").  Subject to your\n * compliance with these terms, you are hereby granted a non-exclusive,\n * worldwide, royalty-free copyright license to (1) use and copy the Software;\n * and (2) reproduce and distribute the Software as part of your own software\n * (\"Your Software\").  Facebook reserves all rights not expressly granted to\n * you in this license agreement.\n *\n * THE SOFTWARE AND DOCUMENTATION, IF ANY, ARE PROVIDED \"AS IS\" AND ANY EXPRESS\n * OR IMPLIED WARRANTIES (INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES\n * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE) ARE DISCLAIMED.\n * IN NO EVENT SHALL FACEBOOK OR ITS AFFILIATES, OFFICERS, DIRECTORS OR\n * EMPLOYEES BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,\n * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,\n * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;\n * OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,\n * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR\n * OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THE SOFTWARE, EVEN IF\n * ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @providesModule NavigatorSceneConfigs\n */\n'use strict';\n\nvar Dimensions = require('Dimensions');\nvar I18nManager = require('I18nManager');\nvar PixelRatio = require('PixelRatio');\n\nvar buildStyleInterpolator = require('buildStyleInterpolator');\n\nvar IS_RTL = I18nManager.isRTL;\n\nvar SCREEN_WIDTH = Dimensions.get('window').width;\nvar SCREEN_HEIGHT = Dimensions.get('window').height;\nvar PIXEL_RATIO = PixelRatio.get();\n\nvar ToTheLeftIOS = {\n  transformTranslate: {\n    from: {x: 0, y: 0, z: 0},\n    to: {x: -SCREEN_WIDTH * 0.3, y: 0, z: 0},\n    min: 0,\n    max: 1,\n    type: 'linear',\n    extrapolate: true,\n    round: PIXEL_RATIO,\n  },\n  opacity: {\n    value: 1.0,\n    type: 'constant',\n  },\n};\n\nvar ToTheRightIOS = {\n  ...ToTheLeftIOS,\n  transformTranslate: {\n    from: {x: 0, y: 0, z: 0},\n    to: {x: SCREEN_WIDTH * 0.3, y: 0, z: 0},\n  },\n};\n\nvar FadeToTheLeft = {\n  // Rotate *requires* you to break out each individual component of\n  // rotation (x, y, z, w)\n  transformTranslate: {\n    from: {x: 0, y: 0, z: 0},\n    to: {x: -Math.round(SCREEN_WIDTH * 0.3), y: 0, z: 0},\n    min: 0,\n    max: 1,\n    type: 'linear',\n    extrapolate: true,\n    round: PIXEL_RATIO,\n  },\n  // Uncomment to try rotation:\n  // Quick guide to reasoning about rotations:\n  // http://www.opengl-tutorial.org/intermediate-tutorials/tutorial-17-quaternions/#Quaternions\n  // transformRotateRadians: {\n  //   from: {x: 0, y: 0, z: 0, w: 1},\n  //   to: {x: 0, y: 0, z: -0.47, w: 0.87},\n  //   min: 0,\n  //   max: 1,\n  //   type: 'linear',\n  //   extrapolate: true\n  // },\n  transformScale: {\n    from: {x: 1, y: 1, z: 1},\n    to: {x: 0.95, y: 0.95, z: 1},\n    min: 0,\n    max: 1,\n    type: 'linear',\n    extrapolate: true\n  },\n  opacity: {\n    from: 1,\n    to: 0.3,\n    min: 0,\n    max: 1,\n    type: 'linear',\n    extrapolate: false,\n    round: 100,\n  },\n  translateX: {\n    from: 0,\n    to: -Math.round(SCREEN_WIDTH * 0.3),\n    min: 0,\n    max: 1,\n    type: 'linear',\n    extrapolate: true,\n    round: PIXEL_RATIO,\n  },\n  scaleX: {\n    from: 1,\n    to: 0.95,\n    min: 0,\n    max: 1,\n    type: 'linear',\n    extrapolate: true\n  },\n  scaleY: {\n    from: 1,\n    to: 0.95,\n    min: 0,\n    max: 1,\n    type: 'linear',\n    extrapolate: true\n  },\n};\n\nvar FadeToTheRight = {\n  ...FadeToTheLeft,\n  transformTranslate: {\n    from: {x: 0, y: 0, z: 0},\n    to: {x: Math.round(SCREEN_WIDTH * 0.3), y: 0, z: 0},\n  },\n  translateX: {\n    from: 0,\n    to: Math.round(SCREEN_WIDTH * 0.3),\n  },\n};\n\nvar FadeIn = {\n  opacity: {\n    from: 0,\n    to: 1,\n    min: 0.5,\n    max: 1,\n    type: 'linear',\n    extrapolate: false,\n    round: 100,\n  },\n};\n\nvar FadeOut = {\n  opacity: {\n    from: 1,\n    to: 0,\n    min: 0,\n    max: 0.5,\n    type: 'linear',\n    extrapolate: false,\n    round: 100,\n  },\n};\n\nvar ToTheLeft = {\n  transformTranslate: {\n    from: {x: 0, y: 0, z: 0},\n    to: {x: -SCREEN_WIDTH, y: 0, z: 0},\n    min: 0,\n    max: 1,\n    type: 'linear',\n    extrapolate: true,\n    round: PIXEL_RATIO,\n  },\n  opacity: {\n    value: 1.0,\n    type: 'constant',\n  },\n\n  translateX: {\n    from: 0,\n    to: -SCREEN_WIDTH,\n    min: 0,\n    max: 1,\n    type: 'linear',\n    extrapolate: true,\n    round: PIXEL_RATIO,\n  },\n};\n\nvar ToTheRight = {\n  transformTranslate: {\n    from: {x: 0, y: 0, z: 0},\n    to: {x: SCREEN_WIDTH, y: 0, z: 0},\n    min: 0,\n    max: 1,\n    type: 'linear',\n    extrapolate: true,\n    round: PIXEL_RATIO,\n  },\n  opacity: {\n    value: 1.0,\n    type: 'constant',\n  },\n\n  translateX: {\n    from: 0,\n    to: SCREEN_WIDTH,\n    min: 0,\n    max: 1,\n    type: 'linear',\n    extrapolate: true,\n    round: PIXEL_RATIO,\n  },\n};\n\nvar ToTheUp = {\n  transformTranslate: {\n    from: {x: 0, y: 0, z: 0},\n    to: {x: 0, y: -SCREEN_HEIGHT, z: 0},\n    min: 0,\n    max: 1,\n    type: 'linear',\n    extrapolate: true,\n    round: PIXEL_RATIO,\n  },\n  opacity: {\n    value: 1.0,\n    type: 'constant',\n  },\n  translateY: {\n    from: 0,\n    to: -SCREEN_HEIGHT,\n    min: 0,\n    max: 1,\n    type: 'linear',\n    extrapolate: true,\n    round: PIXEL_RATIO,\n  },\n};\n\nvar ToTheDown = {\n  transformTranslate: {\n    from: {x: 0, y: 0, z: 0},\n    to: {x: 0, y: SCREEN_HEIGHT, z: 0},\n    min: 0,\n    max: 1,\n    type: 'linear',\n    extrapolate: true,\n    round: PIXEL_RATIO,\n  },\n  opacity: {\n    value: 1.0,\n    type: 'constant',\n  },\n  translateY: {\n    from: 0,\n    to: SCREEN_HEIGHT,\n    min: 0,\n    max: 1,\n    type: 'linear',\n    extrapolate: true,\n    round: PIXEL_RATIO,\n  },\n};\n\nvar FromTheRight = {\n  opacity: {\n    value: 1.0,\n    type: 'constant',\n  },\n\n  transformTranslate: {\n    from: {x: SCREEN_WIDTH, y: 0, z: 0},\n    to: {x: 0, y: 0, z: 0},\n    min: 0,\n    max: 1,\n    type: 'linear',\n    extrapolate: true,\n    round: PIXEL_RATIO,\n  },\n\n  translateX: {\n    from: SCREEN_WIDTH,\n    to: 0,\n    min: 0,\n    max: 1,\n    type: 'linear',\n    extrapolate: true,\n    round: PIXEL_RATIO,\n  },\n\n  scaleX: {\n    value: 1,\n    type: 'constant',\n  },\n  scaleY: {\n    value: 1,\n    type: 'constant',\n  },\n};\n\nvar FromTheLeft = {\n  ...FromTheRight,\n  transformTranslate: {\n    from: {x: -SCREEN_WIDTH, y: 0, z: 0},\n    to: {x: 0, y: 0, z: 0},\n    min: 0,\n    max: 1,\n    type: 'linear',\n    extrapolate: true,\n    round: PIXEL_RATIO,\n  },\n  translateX: {\n    from: -SCREEN_WIDTH,\n    to: 0,\n    min: 0,\n    max: 1,\n    type: 'linear',\n    extrapolate: true,\n    round: PIXEL_RATIO,\n  },\n};\n\nvar FromTheDown = {\n  ...FromTheRight,\n  transformTranslate: {\n    from: {y: SCREEN_HEIGHT, x: 0, z: 0},\n    to: {x: 0, y: 0, z: 0},\n    min: 0,\n    max: 1,\n    type: 'linear',\n    extrapolate: true,\n    round: PIXEL_RATIO,\n  },\n  translateY: {\n    from: SCREEN_HEIGHT,\n    to: 0,\n    min: 0,\n    max: 1,\n    type: 'linear',\n    extrapolate: true,\n    round: PIXEL_RATIO,\n  },\n};\n\nvar FromTheTop = {\n  ...FromTheRight,\n  transformTranslate: {\n    from: {y: -SCREEN_HEIGHT, x: 0, z: 0},\n    to: {x: 0, y: 0, z: 0},\n    min: 0,\n    max: 1,\n    type: 'linear',\n    extrapolate: true,\n    round: PIXEL_RATIO,\n  },\n  translateY: {\n    from: -SCREEN_HEIGHT,\n    to: 0,\n    min: 0,\n    max: 1,\n    type: 'linear',\n    extrapolate: true,\n    round: PIXEL_RATIO,\n  },\n};\n\nvar ToTheBack = {\n  // Rotate *requires* you to break out each individual component of\n  // rotation (x, y, z, w)\n  transformTranslate: {\n    from: {x: 0, y: 0, z: 0},\n    to: {x: 0, y: 0, z: 0},\n    min: 0,\n    max: 1,\n    type: 'linear',\n    extrapolate: true,\n    round: PIXEL_RATIO,\n  },\n  transformScale: {\n    from: {x: 1, y: 1, z: 1},\n    to: {x: 0.95, y: 0.95, z: 1},\n    min: 0,\n    max: 1,\n    type: 'linear',\n    extrapolate: true\n  },\n  opacity: {\n    from: 1,\n    to: 0.3,\n    min: 0,\n    max: 1,\n    type: 'linear',\n    extrapolate: false,\n    round: 100,\n  },\n  scaleX: {\n    from: 1,\n    to: 0.95,\n    min: 0,\n    max: 1,\n    type: 'linear',\n    extrapolate: true\n  },\n  scaleY: {\n    from: 1,\n    to: 0.95,\n    min: 0,\n    max: 1,\n    type: 'linear',\n    extrapolate: true\n  },\n};\n\nvar FromTheFront = {\n  opacity: {\n    value: 1.0,\n    type: 'constant',\n  },\n\n  transformTranslate: {\n    from: {x: 0, y: SCREEN_HEIGHT, z: 0},\n    to: {x: 0, y: 0, z: 0},\n    min: 0,\n    max: 1,\n    type: 'linear',\n    extrapolate: true,\n    round: PIXEL_RATIO,\n  },\n  translateY: {\n    from: SCREEN_HEIGHT,\n    to: 0,\n    min: 0,\n    max: 1,\n    type: 'linear',\n    extrapolate: true,\n    round: PIXEL_RATIO,\n  },\n  scaleX: {\n    value: 1,\n    type: 'constant',\n  },\n  scaleY: {\n    value: 1,\n    type: 'constant',\n  },\n};\n\nvar ToTheBackAndroid = {\n  opacity: {\n    value: 1,\n    type: 'constant',\n  },\n};\n\nvar FromTheFrontAndroid = {\n  opacity: {\n    from: 0,\n    to: 1,\n    min: 0.5,\n    max: 1,\n    type: 'linear',\n    extrapolate: false,\n    round: 100,\n  },\n  transformTranslate: {\n    from: {x: 0, y: 100, z: 0},\n    to: {x: 0, y: 0, z: 0},\n    min: 0,\n    max: 1,\n    type: 'linear',\n    extrapolate: true,\n    round: PIXEL_RATIO,\n  },\n  translateY: {\n    from: 100,\n    to: 0,\n    min: 0,\n    max: 1,\n    type: 'linear',\n    extrapolate: true,\n    round: PIXEL_RATIO,\n  },\n};\n\nvar BaseOverswipeConfig = {\n  frictionConstant: 1,\n  frictionByDistance: 1.5,\n};\n\nvar BaseLeftToRightGesture = {\n\n  // If the gesture can end and restart during one continuous touch\n  isDetachable: false,\n\n  // How far the swipe must drag to start transitioning\n  gestureDetectMovement: 2,\n\n  // Amplitude of release velocity that is considered still\n  notMoving: 0.3,\n\n  // Fraction of directional move required.\n  directionRatio: 0.66,\n\n  // Velocity to transition with when the gesture release was \"not moving\"\n  snapVelocity: 2,\n\n  // Region that can trigger swipe. iOS default is 30px from the left edge\n  edgeHitWidth: 30,\n\n  // Ratio of gesture completion when non-velocity release will cause action\n  stillCompletionRatio: 3 / 5,\n\n  fullDistance: SCREEN_WIDTH,\n\n  direction: 'left-to-right',\n\n};\n\nvar BaseRightToLeftGesture = {\n  ...BaseLeftToRightGesture,\n  direction: 'right-to-left',\n};\n\nvar BaseDownUpGesture = {\n  ...BaseLeftToRightGesture,\n  fullDistance: SCREEN_HEIGHT,\n  direction: 'bottom-to-top',\n};\n\nvar BaseUpDownGesture = {\n  ...BaseLeftToRightGesture,\n  fullDistance: SCREEN_HEIGHT,\n  direction: 'top-to-bottom',\n};\n\n// For RTL experiment, we need to swap all the Left and Right gesture and animation.\n// So we create a direction mapping for both LTR and RTL, and change left/right to start/end.\nlet directionMapping = {\n  ToTheStartIOS: ToTheLeftIOS,\n  ToTheEndIOS: ToTheRightIOS,\n  FadeToTheStart: FadeToTheLeft,\n  FadeToTheEnd: FadeToTheRight,\n  ToTheStart: ToTheLeft,\n  ToTheEnd: ToTheRight,\n  FromTheStart: FromTheLeft,\n  FromTheEnd: FromTheRight,\n  BaseStartToEndGesture: BaseLeftToRightGesture,\n  BaseEndToStartGesture: BaseRightToLeftGesture,\n};\n\nif (IS_RTL) {\n  directionMapping = {\n    ToTheStartIOS: ToTheRightIOS,\n    ToTheEndIOS: ToTheLeftIOS,\n    FadeToTheStart: FadeToTheRight,\n    FadeToTheEnd: FadeToTheLeft,\n    ToTheStart: ToTheRight,\n    ToTheEnd: ToTheLeft,\n    FromTheStart: FromTheRight,\n    FromTheEnd: FromTheLeft,\n    BaseStartToEndGesture: BaseRightToLeftGesture,\n    BaseEndToStartGesture: BaseLeftToRightGesture,\n  };\n}\n\nvar BaseConfig = {\n  // A list of all gestures that are enabled on this scene\n  gestures: {\n    pop: directionMapping.BaseStartToEndGesture,\n  },\n\n  // Rebound spring parameters when transitioning FROM this scene\n  springFriction: 26,\n  springTension: 200,\n\n  // Velocity to start at when transitioning without gesture\n  defaultTransitionVelocity: 1.5,\n\n  // Animation interpolators for horizontal transitioning:\n  animationInterpolators: {\n    into: buildStyleInterpolator(directionMapping.FromTheEnd),\n    out: buildStyleInterpolator(directionMapping.FadeToTheStart),\n  },\n};\n\nvar NavigatorSceneConfigs = {\n  PushFromRight: {\n    ...BaseConfig,\n    animationInterpolators: {\n      into: buildStyleInterpolator(directionMapping.FromTheEnd),\n      out: buildStyleInterpolator(directionMapping.ToTheStartIOS),\n    },\n  },\n  PushFromLeft: {\n    ...BaseConfig,\n    animationInterpolators: {\n      into: buildStyleInterpolator(directionMapping.FromTheStart),\n      out: buildStyleInterpolator(directionMapping.ToTheEndIOS),\n    },\n  },\n  FloatFromRight: {\n    ...BaseConfig,\n    // We will want to customize this soon\n  },\n  FloatFromLeft: {\n    ...BaseConfig,\n    gestures: {\n      pop: directionMapping.BaseEndToStartGesture,\n    },\n    animationInterpolators: {\n      into: buildStyleInterpolator(directionMapping.FromTheStart),\n      out: buildStyleInterpolator(directionMapping.FadeToTheEnd),\n    },\n  },\n  FloatFromBottom: {\n    ...BaseConfig,\n    gestures: {\n      pop: {\n        ...directionMapping.BaseStartToEndGesture,\n        edgeHitWidth: 150,\n        direction: 'top-to-bottom',\n        fullDistance: SCREEN_HEIGHT,\n      }\n    },\n    animationInterpolators: {\n      into: buildStyleInterpolator(FromTheFront),\n      out: buildStyleInterpolator(ToTheBack),\n    },\n  },\n  FloatFromBottomAndroid: {\n    ...BaseConfig,\n    gestures: null,\n    defaultTransitionVelocity: 3,\n    springFriction: 20,\n    animationInterpolators: {\n      into: buildStyleInterpolator(FromTheFrontAndroid),\n      out: buildStyleInterpolator(ToTheBackAndroid),\n    },\n  },\n  FadeAndroid: {\n    ...BaseConfig,\n    gestures: null,\n    animationInterpolators: {\n      into: buildStyleInterpolator(FadeIn),\n      out: buildStyleInterpolator(FadeOut),\n    },\n  },\n  SwipeFromLeft: {\n    ...BaseConfig,\n    gestures: {\n      jumpBack: {\n        ...directionMapping.BaseEndToStartGesture,\n        overswipe: BaseOverswipeConfig,\n        edgeHitWidth: null,\n        isDetachable: true,\n      },\n      jumpForward: {\n        ...directionMapping.BaseStartToEndGesture,\n        overswipe: BaseOverswipeConfig,\n        edgeHitWidth: null,\n        isDetachable: true,\n      },\n    },\n    animationInterpolators: {\n      into: buildStyleInterpolator(directionMapping.FromTheStart),\n      out: buildStyleInterpolator(directionMapping.ToTheEnd),\n    },\n  },\n  HorizontalSwipeJump: {\n    ...BaseConfig,\n    gestures: {\n      jumpBack: {\n        ...directionMapping.BaseStartToEndGesture,\n        overswipe: BaseOverswipeConfig,\n        edgeHitWidth: null,\n        isDetachable: true,\n      },\n      jumpForward: {\n        ...directionMapping.BaseEndToStartGesture,\n        overswipe: BaseOverswipeConfig,\n        edgeHitWidth: null,\n        isDetachable: true,\n      },\n    },\n    animationInterpolators: {\n      into: buildStyleInterpolator(directionMapping.FromTheEnd),\n      out: buildStyleInterpolator(directionMapping.ToTheStart),\n    },\n  },\n  HorizontalSwipeJumpFromRight: {\n    ...BaseConfig,\n    gestures: {\n      jumpBack: {\n        ...directionMapping.BaseEndToStartGesture,\n        overswipe: BaseOverswipeConfig,\n        edgeHitWidth: null,\n        isDetachable: true,\n      },\n      jumpForward: {\n        ...directionMapping.BaseStartToEndGesture,\n        overswipe: BaseOverswipeConfig,\n        edgeHitWidth: null,\n        isDetachable: true,\n      },\n      pop: directionMapping.BaseEndToStartGesture,\n    },\n    animationInterpolators: {\n      into: buildStyleInterpolator(directionMapping.FromTheStart),\n      out: buildStyleInterpolator(directionMapping.FadeToTheEnd),\n    },\n  },\n  HorizontalSwipeJumpFromLeft: {\n    ...BaseConfig,\n    gestures: {\n      jumpBack: {\n        ...directionMapping.BaseEndToStartGesture,\n        overswipe: BaseOverswipeConfig,\n        edgeHitWidth: null,\n        isDetachable: true,\n      },\n      jumpForward: {\n        ...directionMapping.BaseStartToEndGesture,\n        overswipe: BaseOverswipeConfig,\n        edgeHitWidth: null,\n        isDetachable: true,\n      },\n      pop: directionMapping.BaseEndToStartGesture,\n    },\n    animationInterpolators: {\n      into: buildStyleInterpolator(directionMapping.FromTheStart),\n      out: buildStyleInterpolator(directionMapping.ToTheEnd),\n    },\n  },\n  VerticalUpSwipeJump: {\n    ...BaseConfig,\n    gestures: {\n      jumpBack: {\n        ...BaseUpDownGesture,\n        overswipe: BaseOverswipeConfig,\n        edgeHitWidth: null,\n        isDetachable: true,\n      },\n      jumpForward: {\n        ...BaseDownUpGesture,\n        overswipe: BaseOverswipeConfig,\n        edgeHitWidth: null,\n        isDetachable: true,\n      },\n    },\n    animationInterpolators: {\n      into: buildStyleInterpolator(FromTheDown),\n      out: buildStyleInterpolator(ToTheUp),\n    },\n  },\n  VerticalDownSwipeJump: {\n    ...BaseConfig,\n    gestures: {\n      jumpBack: {\n        ...BaseDownUpGesture,\n        overswipe: BaseOverswipeConfig,\n        edgeHitWidth: null,\n        isDetachable: true,\n      },\n      jumpForward: {\n        ...BaseUpDownGesture,\n        overswipe: BaseOverswipeConfig,\n        edgeHitWidth: null,\n        isDetachable: true,\n      },\n    },\n    animationInterpolators: {\n      into: buildStyleInterpolator(FromTheTop),\n      out: buildStyleInterpolator(ToTheDown),\n    },\n  },\n};\n\nmodule.exports = NavigatorSceneConfigs;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule PanResponder\n */\n\n'use strict';\n\nconst InteractionManager = require('./InteractionManager');\nconst TouchHistoryMath = require('TouchHistoryMath');\n\nconst currentCentroidXOfTouchesChangedAfter = TouchHistoryMath.currentCentroidXOfTouchesChangedAfter;\nconst currentCentroidYOfTouchesChangedAfter = TouchHistoryMath.currentCentroidYOfTouchesChangedAfter;\nconst previousCentroidXOfTouchesChangedAfter = TouchHistoryMath.previousCentroidXOfTouchesChangedAfter;\nconst previousCentroidYOfTouchesChangedAfter = TouchHistoryMath.previousCentroidYOfTouchesChangedAfter;\nconst currentCentroidX = TouchHistoryMath.currentCentroidX;\nconst currentCentroidY = TouchHistoryMath.currentCentroidY;\n\n/**\n * `PanResponder` reconciles several touches into a single gesture. It makes\n * single-touch gestures resilient to extra touches, and can be used to\n * recognize simple multi-touch gestures.\n *\n * By default, `PanResponder` holds an `InteractionManager` handle to block\n * long-running JS events from interrupting active gestures.\n *\n * It provides a predictable wrapper of the responder handlers provided by the\n * [gesture responder system](docs/gesture-responder-system.html).\n * For each handler, it provides a new `gestureState` object alongside the\n * native event object:\n *\n * ```\n * onPanResponderMove: (event, gestureState) => {}\n * ```\n *\n * A native event is a synthetic touch event with the following form:\n *\n *  - `nativeEvent`\n *      + `changedTouches` - Array of all touch events that have changed since the last event\n *      + `identifier` - The ID of the touch\n *      + `locationX` - The X position of the touch, relative to the element\n *      + `locationY` - The Y position of the touch, relative to the element\n *      + `pageX` - The X position of the touch, relative to the root element\n *      + `pageY` - The Y position of the touch, relative to the root element\n *      + `target` - The node id of the element receiving the touch event\n *      + `timestamp` - A time identifier for the touch, useful for velocity calculation\n *      + `touches` - Array of all current touches on the screen\n *\n * A `gestureState` object has the following:\n *\n *  - `stateID` - ID of the gestureState- persisted as long as there at least\n *     one touch on screen\n *  - `moveX` - the latest screen coordinates of the recently-moved touch\n *  - `moveY` - the latest screen coordinates of the recently-moved touch\n *  - `x0` - the screen coordinates of the responder grant\n *  - `y0` - the screen coordinates of the responder grant\n *  - `dx` - accumulated distance of the gesture since the touch started\n *  - `dy` - accumulated distance of the gesture since the touch started\n *  - `vx` - current velocity of the gesture\n *  - `vy` - current velocity of the gesture\n *  - `numberActiveTouches` - Number of touches currently on screen\n *\n * ### Basic Usage\n *\n * ```\n *   componentWillMount: function() {\n *     this._panResponder = PanResponder.create({\n *       // Ask to be the responder:\n *       onStartShouldSetPanResponder: (evt, gestureState) => true,\n *       onStartShouldSetPanResponderCapture: (evt, gestureState) => true,\n *       onMoveShouldSetPanResponder: (evt, gestureState) => true,\n *       onMoveShouldSetPanResponderCapture: (evt, gestureState) => true,\n *\n *       onPanResponderGrant: (evt, gestureState) => {\n *         // The guesture has started. Show visual feedback so the user knows\n *         // what is happening!\n *\n *         // gestureState.d{x,y} will be set to zero now\n *       },\n *       onPanResponderMove: (evt, gestureState) => {\n *         // The most recent move distance is gestureState.move{X,Y}\n *\n *         // The accumulated gesture distance since becoming responder is\n *         // gestureState.d{x,y}\n *       },\n *       onPanResponderTerminationRequest: (evt, gestureState) => true,\n *       onPanResponderRelease: (evt, gestureState) => {\n *         // The user has released all touches while this view is the\n *         // responder. This typically means a gesture has succeeded\n *       },\n *       onPanResponderTerminate: (evt, gestureState) => {\n *         // Another component has become the responder, so this gesture\n *         // should be cancelled\n *       },\n *       onShouldBlockNativeResponder: (evt, gestureState) => {\n *         // Returns whether this component should block native components from becoming the JS\n *         // responder. Returns true by default. Is currently only supported on android.\n *         return true;\n *       },\n *     });\n *   },\n *\n *   render: function() {\n *     return (\n *       <View {...this._panResponder.panHandlers} />\n *     );\n *   },\n *\n * ```\n *\n * ### Working Example\n *\n * To see it in action, try the\n * [PanResponder example in UIExplorer](https://github.com/facebook/react-native/blob/master/Examples/UIExplorer/js/PanResponderExample.js)\n */\n\nconst PanResponder = {\n\n  /**\n   *\n   * A graphical explanation of the touch data flow:\n   *\n   * +----------------------------+             +--------------------------------+\n   * | ResponderTouchHistoryStore |             |TouchHistoryMath                |\n   * +----------------------------+             +----------+---------------------+\n   * |Global store of touchHistory|             |Allocation-less math util       |\n   * |including activeness, start |             |on touch history (centroids     |\n   * |position, prev/cur position.|             |and multitouch movement etc)    |\n   * |                            |             |                                |\n   * +----^-----------------------+             +----^---------------------------+\n   *      |                                          |\n   *      | (records relevant history                |\n   *      |  of touches relevant for                 |\n   *      |  implementing higher level               |\n   *      |  gestures)                               |\n   *      |                                          |\n   * +----+-----------------------+             +----|---------------------------+\n   * | ResponderEventPlugin       |             |    |   Your App/Component      |\n   * +----------------------------+             +----|---------------------------+\n   * |Negotiates which view gets  | Low level   |    |             High level    |\n   * |onResponderMove events.     | events w/   |  +-+-------+     events w/     |\n   * |Also records history into   | touchHistory|  |   Pan   |     multitouch +  |\n   * |ResponderTouchHistoryStore. +---------------->Responder+-----> accumulative|\n   * +----------------------------+ attached to |  |         |     distance and  |\n   *                                 each event |  +---------+     velocity.     |\n   *                                            |                                |\n   *                                            |                                |\n   *                                            +--------------------------------+\n   *\n   *\n   *\n   * Gesture that calculates cumulative movement over time in a way that just\n   * \"does the right thing\" for multiple touches. The \"right thing\" is very\n   * nuanced. When moving two touches in opposite directions, the cumulative\n   * distance is zero in each dimension. When two touches move in parallel five\n   * pixels in the same direction, the cumulative distance is five, not ten. If\n   * two touches start, one moves five in a direction, then stops and the other\n   * touch moves fives in the same direction, the cumulative distance is ten.\n   *\n   * This logic requires a kind of processing of time \"clusters\" of touch events\n   * so that two touch moves that essentially occur in parallel but move every\n   * other frame respectively, are considered part of the same movement.\n   *\n   * Explanation of some of the non-obvious fields:\n   *\n   * - moveX/moveY: If no move event has been observed, then `(moveX, moveY)` is\n   *   invalid. If a move event has been observed, `(moveX, moveY)` is the\n   *   centroid of the most recently moved \"cluster\" of active touches.\n   *   (Currently all move have the same timeStamp, but later we should add some\n   *   threshold for what is considered to be \"moving\"). If a palm is\n   *   accidentally counted as a touch, but a finger is moving greatly, the palm\n   *   will move slightly, but we only want to count the single moving touch.\n   * - x0/y0: Centroid location (non-cumulative) at the time of becoming\n   *   responder.\n   * - dx/dy: Cumulative touch distance - not the same thing as sum of each touch\n   *   distance. Accounts for touch moves that are clustered together in time,\n   *   moving the same direction. Only valid when currently responder (otherwise,\n   *   it only represents the drag distance below the threshold).\n   * - vx/vy: Velocity.\n   */\n\n  _initializeGestureState: function (gestureState) {\n    gestureState.moveX = 0;\n    gestureState.moveY = 0;\n    gestureState.x0 = 0;\n    gestureState.y0 = 0;\n    gestureState.dx = 0;\n    gestureState.dy = 0;\n    gestureState.vx = 0;\n    gestureState.vy = 0;\n    gestureState.numberActiveTouches = 0;\n    // All `gestureState` accounts for timeStamps up until:\n    gestureState._accountsForMovesUpTo = 0;\n  },\n\n  /**\n   * This is nuanced and is necessary. It is incorrect to continuously take all\n   * active *and* recently moved touches, find the centroid, and track how that\n   * result changes over time. Instead, we must take all recently moved\n   * touches, and calculate how the centroid has changed just for those\n   * recently moved touches, and append that change to an accumulator. This is\n   * to (at least) handle the case where the user is moving three fingers, and\n   * then one of the fingers stops but the other two continue.\n   *\n   * This is very different than taking all of the recently moved touches and\n   * storing their centroid as `dx/dy`. For correctness, we must *accumulate\n   * changes* in the centroid of recently moved touches.\n   *\n   * There is also some nuance with how we handle multiple moved touches in a\n   * single event. With the way `ReactNativeEventEmitter` dispatches touches as\n   * individual events, multiple touches generate two 'move' events, each of\n   * them triggering `onResponderMove`. But with the way `PanResponder` works,\n   * all of the gesture inference is performed on the first dispatch, since it\n   * looks at all of the touches (even the ones for which there hasn't been a\n   * native dispatch yet). Therefore, `PanResponder` does not call\n   * `onResponderMove` passed the first dispatch. This diverges from the\n   * typical responder callback pattern (without using `PanResponder`), but\n   * avoids more dispatches than necessary.\n   */\n  _updateGestureStateOnMove: function (gestureState, touchHistory) {\n    gestureState.numberActiveTouches = touchHistory.numberActiveTouches;\n    gestureState.moveX = currentCentroidXOfTouchesChangedAfter(touchHistory, gestureState._accountsForMovesUpTo);\n    gestureState.moveY = currentCentroidYOfTouchesChangedAfter(touchHistory, gestureState._accountsForMovesUpTo);\n    const movedAfter = gestureState._accountsForMovesUpTo;\n    const prevX = previousCentroidXOfTouchesChangedAfter(touchHistory, movedAfter);\n    const x = currentCentroidXOfTouchesChangedAfter(touchHistory, movedAfter);\n    const prevY = previousCentroidYOfTouchesChangedAfter(touchHistory, movedAfter);\n    const y = currentCentroidYOfTouchesChangedAfter(touchHistory, movedAfter);\n    const nextDX = gestureState.dx + (x - prevX);\n    const nextDY = gestureState.dy + (y - prevY);\n\n    // TODO: This must be filtered intelligently.\n    const dt = touchHistory.mostRecentTimeStamp - gestureState._accountsForMovesUpTo;\n    gestureState.vx = (nextDX - gestureState.dx) / dt;\n    gestureState.vy = (nextDY - gestureState.dy) / dt;\n\n    gestureState.dx = nextDX;\n    gestureState.dy = nextDY;\n    gestureState._accountsForMovesUpTo = touchHistory.mostRecentTimeStamp;\n  },\n\n  /**\n   * @param {object} config Enhanced versions of all of the responder callbacks\n   * that provide not only the typical `ResponderSyntheticEvent`, but also the\n   * `PanResponder` gesture state.  Simply replace the word `Responder` with\n   * `PanResponder` in each of the typical `onResponder*` callbacks. For\n   * example, the `config` object would look like:\n   *\n   *  - `onMoveShouldSetPanResponder: (e, gestureState) => {...}`\n   *  - `onMoveShouldSetPanResponderCapture: (e, gestureState) => {...}`\n   *  - `onStartShouldSetPanResponder: (e, gestureState) => {...}`\n   *  - `onStartShouldSetPanResponderCapture: (e, gestureState) => {...}`\n   *  - `onPanResponderReject: (e, gestureState) => {...}`\n   *  - `onPanResponderGrant: (e, gestureState) => {...}`\n   *  - `onPanResponderStart: (e, gestureState) => {...}`\n   *  - `onPanResponderEnd: (e, gestureState) => {...}`\n   *  - `onPanResponderRelease: (e, gestureState) => {...}`\n   *  - `onPanResponderMove: (e, gestureState) => {...}`\n   *  - `onPanResponderTerminate: (e, gestureState) => {...}`\n   *  - `onPanResponderTerminationRequest: (e, gestureState) => {...}`\n   *  - `onShouldBlockNativeResponder: (e, gestureState) => {...}`\n   *\n   *  In general, for events that have capture equivalents, we update the\n   *  gestureState once in the capture phase and can use it in the bubble phase\n   *  as well.\n   *\n   *  Be careful with onStartShould* callbacks. They only reflect updated\n   *  `gestureState` for start/end events that bubble/capture to the Node.\n   *  Once the node is the responder, you can rely on every start/end event\n   *  being processed by the gesture and `gestureState` being updated\n   *  accordingly. (numberActiveTouches) may not be totally accurate unless you\n   *  are the responder.\n   */\n  create: function (config) {\n    const interactionState = {\n      handle: (null: ?number),\n    };\n    const gestureState = {\n      // Useful for debugging\n      stateID: Math.random(),\n    };\n    PanResponder._initializeGestureState(gestureState);\n    const panHandlers = {\n      onStartShouldSetResponder: function (e) {\n        return config.onStartShouldSetPanResponder === undefined ?\n          false :\n          config.onStartShouldSetPanResponder(e, gestureState);\n      },\n      onMoveShouldSetResponder: function (e) {\n        return config.onMoveShouldSetPanResponder === undefined ?\n          false :\n          config.onMoveShouldSetPanResponder(e, gestureState);\n      },\n      onStartShouldSetResponderCapture: function (e) {\n        // TODO: Actually, we should reinitialize the state any time\n        // touches.length increases from 0 active to > 0 active.\n        if (e.nativeEvent.touches.length === 1) {\n          PanResponder._initializeGestureState(gestureState);\n        }\n        gestureState.numberActiveTouches = e.touchHistory.numberActiveTouches;\n        return config.onStartShouldSetPanResponderCapture !== undefined ?\n          config.onStartShouldSetPanResponderCapture(e, gestureState) :\n          false;\n      },\n\n      onMoveShouldSetResponderCapture: function (e) {\n        const touchHistory = e.touchHistory;\n        // Responder system incorrectly dispatches should* to current responder\n        // Filter out any touch moves past the first one - we would have\n        // already processed multi-touch geometry during the first event.\n        if (gestureState._accountsForMovesUpTo === touchHistory.mostRecentTimeStamp) {\n          return false;\n        }\n        PanResponder._updateGestureStateOnMove(gestureState, touchHistory);\n        return config.onMoveShouldSetPanResponderCapture ?\n          config.onMoveShouldSetPanResponderCapture(e, gestureState) :\n          false;\n      },\n\n      onResponderGrant: function (e) {\n        if (!interactionState.handle) {\n          interactionState.handle = InteractionManager.createInteractionHandle();\n        }\n        gestureState.x0 = currentCentroidX(e.touchHistory);\n        gestureState.y0 = currentCentroidY(e.touchHistory);\n        gestureState.dx = 0;\n        gestureState.dy = 0;\n        if (config.onPanResponderGrant) {\n          config.onPanResponderGrant(e, gestureState);\n        }\n        // TODO: t7467124 investigate if this can be removed\n        return config.onShouldBlockNativeResponder === undefined ?\n          true :\n          config.onShouldBlockNativeResponder();\n      },\n\n      onResponderReject: function (e) {\n        clearInteractionHandle(interactionState, config.onPanResponderReject, e, gestureState);\n      },\n\n      onResponderRelease: function (e) {\n        clearInteractionHandle(interactionState, config.onPanResponderRelease, e, gestureState);\n        PanResponder._initializeGestureState(gestureState);\n      },\n\n      onResponderStart: function (e) {\n        const touchHistory = e.touchHistory;\n        gestureState.numberActiveTouches = touchHistory.numberActiveTouches;\n        if (config.onPanResponderStart) {\n          config.onPanResponderStart(e, gestureState);\n        }\n      },\n\n      onResponderMove: function (e) {\n        const touchHistory = e.touchHistory;\n        // Guard against the dispatch of two touch moves when there are two\n        // simultaneously changed touches.\n        if (gestureState._accountsForMovesUpTo === touchHistory.mostRecentTimeStamp) {\n          return;\n        }\n        // Filter out any touch moves past the first one - we would have\n        // already processed multi-touch geometry during the first event.\n        PanResponder._updateGestureStateOnMove(gestureState, touchHistory);\n        if (config.onPanResponderMove) {\n          config.onPanResponderMove(e, gestureState);\n        }\n      },\n\n      onResponderEnd: function (e) {\n        const touchHistory = e.touchHistory;\n        gestureState.numberActiveTouches = touchHistory.numberActiveTouches;\n        clearInteractionHandle(interactionState, config.onPanResponderEnd, e, gestureState);\n      },\n\n      onResponderTerminate: function (e) {\n        clearInteractionHandle(interactionState, config.onPanResponderTerminate, e, gestureState);\n        PanResponder._initializeGestureState(gestureState);\n      },\n\n      onResponderTerminationRequest: function (e) {\n        return config.onPanResponderTerminationRequest === undefined ?\n          true :\n          config.onPanResponderTerminationRequest(e, gestureState);\n      }\n    };\n    return {\n      panHandlers,\n      getInteractionHandle(): ?number {\n        return interactionState.handle;\n      },\n    };\n  }\n};\n\nfunction clearInteractionHandle(\n  interactionState: {handle: ?number},\n  callback: Function,\n  event: Object,\n  gestureState: Object\n) {\n  if (interactionState.handle) {\n    InteractionManager.clearInteractionHandle(interactionState.handle);\n    interactionState.handle = null;\n  }\n  if (callback) {\n    callback(event, gestureState);\n  }\n}\n\nmodule.exports = PanResponder;\n","/**\n * @providesModule TouchHistoryMath\n */\n\n'use strict';\n\nvar TouchHistoryMath = {\n  /**\n   * This code is optimized and not intended to look beautiful. This allows\n   * computing of touch centroids that have moved after `touchesChangedAfter`\n   * timeStamp. You can compute the current centroid involving all touches\n   * moves after `touchesChangedAfter`, or you can compute the previous\n   * centroid of all touches that were moved after `touchesChangedAfter`.\n   *\n   * @param {TouchHistoryMath} touchHistory Standard Responder touch track\n   * data.\n   * @param {number} touchesChangedAfter timeStamp after which moved touches\n   * are considered \"actively moving\" - not just \"active\".\n   * @param {boolean} isXAxis Consider `x` dimension vs. `y` dimension.\n   * @param {boolean} ofCurrent Compute current centroid for actively moving\n   * touches vs. previous centroid of now actively moving touches.\n   * @return {number} value of centroid in specified dimension.\n   */\n  centroidDimension: function(touchHistory, touchesChangedAfter, isXAxis, ofCurrent) {\n    var touchBank = touchHistory.touchBank;\n    var total = 0;\n    var count = 0;\n\n    var oneTouchData = touchHistory.numberActiveTouches === 1 ?\n      touchHistory.touchBank[touchHistory.indexOfSingleActiveTouch] : null;\n\n    if (oneTouchData !== null) {\n      if (oneTouchData.touchActive && oneTouchData.currentTimeStamp > touchesChangedAfter) {\n        total += ofCurrent && isXAxis ? oneTouchData.currentPageX :\n          ofCurrent && !isXAxis ? oneTouchData.currentPageY :\n          !ofCurrent && isXAxis ? oneTouchData.previousPageX :\n          oneTouchData.previousPageY;\n        count = 1;\n      }\n    } else {\n      for (var i = 0; i < touchBank.length; i++) {\n        var touchTrack = touchBank[i];\n        if (touchTrack !== null &&\n            touchTrack !== undefined &&\n            touchTrack.touchActive &&\n            touchTrack.currentTimeStamp >= touchesChangedAfter) {\n          var toAdd;  // Yuck, program temporarily in invalid state.\n          if (ofCurrent && isXAxis) {\n            toAdd = touchTrack.currentPageX;\n          } else if (ofCurrent && !isXAxis) {\n            toAdd = touchTrack.currentPageY;\n          } else if (!ofCurrent && isXAxis) {\n            toAdd = touchTrack.previousPageX;\n          } else {\n            toAdd = touchTrack.previousPageY;\n          }\n          total += toAdd;\n          count++;\n        }\n      }\n    }\n    return count > 0 ? total / count : TouchHistoryMath.noCentroid;\n  },\n\n  currentCentroidXOfTouchesChangedAfter: function(touchHistory, touchesChangedAfter) {\n    return TouchHistoryMath.centroidDimension(\n      touchHistory,\n      touchesChangedAfter,\n      true,  // isXAxis\n      true   // ofCurrent\n    );\n  },\n\n  currentCentroidYOfTouchesChangedAfter: function(touchHistory, touchesChangedAfter) {\n    return TouchHistoryMath.centroidDimension(\n      touchHistory,\n      touchesChangedAfter,\n      false,  // isXAxis\n      true    // ofCurrent\n    );\n  },\n\n  previousCentroidXOfTouchesChangedAfter: function(touchHistory, touchesChangedAfter) {\n    return TouchHistoryMath.centroidDimension(\n      touchHistory,\n      touchesChangedAfter,\n      true,  // isXAxis\n      false  // ofCurrent\n    );\n  },\n\n  previousCentroidYOfTouchesChangedAfter: function(touchHistory, touchesChangedAfter) {\n    return TouchHistoryMath.centroidDimension(\n      touchHistory,\n      touchesChangedAfter,\n      false,  // isXAxis\n      false   // ofCurrent\n    );\n  },\n\n  currentCentroidX: function(touchHistory) {\n    return TouchHistoryMath.centroidDimension(\n      touchHistory,\n      0,     // touchesChangedAfter\n      true,  // isXAxis\n      true   // ofCurrent\n    );\n  },\n\n  currentCentroidY: function(touchHistory) {\n    return TouchHistoryMath.centroidDimension(\n      touchHistory,\n      0,     // touchesChangedAfter\n      false,  // isXAxis\n      true    // ofCurrent\n    );\n  },\n\n  noCentroid: -1,\n};\n\nmodule.exports = TouchHistoryMath;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule clamp\n * @typechecks\n */\n'use strict';\n\n/**\n * @param {number} value\n * @param {number} min\n * @param {number} max\n * @return {number}\n */\nfunction clamp(min, value, max) {\n  if (value < min) {\n    return min;\n  }\n  if (value > max) {\n    return max;\n  }\n  return value;\n}\n\nmodule.exports = clamp;\n","// Rebound\n// =======\n// **Rebound** is a simple library that models Spring dynamics for the\n// purpose of driving physical animations.\n//\n// Origin\n// ------\n// [Rebound](http://facebook.github.io/rebound) was originally written\n// in Java to provide a lightweight physics system for\n// [Home](https://play.google.com/store/apps/details?id=com.facebook.home) and\n// [Chat Heads](https://play.google.com/store/apps/details?id=com.facebook.orca)\n// on Android. It's now been adopted by several other Android\n// applications. This JavaScript port was written to provide a quick\n// way to demonstrate Rebound animations on the web for a\n// [conference talk](https://www.youtube.com/watch?v=s5kNm-DgyjY). Since then\n// the JavaScript version has been used to build some really nice interfaces.\n// Check out [brandonwalkin.com](http://brandonwalkin.com) for an\n// example.\n//\n// Overview\n// --------\n// The Library provides a SpringSystem for maintaining a set of Spring\n// objects and iterating those Springs through a physics solver loop\n// until equilibrium is achieved. The Spring class is the basic\n// animation driver provided by Rebound. By attaching a listener to\n// a Spring, you can observe its motion. The observer function is\n// notified of position changes on the spring as it solves for\n// equilibrium. These position updates can be mapped to an animation\n// range to drive animated property updates on your user interface\n// elements (translation, rotation, scale, etc).\n//\n// Example\n// -------\n// Here's a simple example. Pressing and releasing on the logo below\n// will cause it to scale up and down with a springy animation.\n//\n// <div style=\"text-align:center; margin-bottom:50px; margin-top:50px\">\n//   <img\n//     src=\"http://facebook.github.io/rebound/images/rebound.png\"\n//     id=\"logo\"\n//   />\n// </div>\n// <script src=\"../rebound.min.js\"></script>\n// <script>\n//\n// function scale(el, val) {\n//   el.style.mozTransform =\n//   el.style.msTransform =\n//   el.style.webkitTransform =\n//   el.style.transform = 'scale3d(' + val + ', ' + val + ', 1)';\n// }\n// var el = document.getElementById('logo');\n//\n// var springSystem = new rebound.SpringSystem();\n// var spring = springSystem.createSpring(50, 3);\n// spring.addListener({\n//   onSpringUpdate: function(spring) {\n//     var val = spring.getCurrentValue();\n//     val = rebound.MathUtil.mapValueInRange(val, 0, 1, 1, 0.5);\n//     scale(el, val);\n//   }\n// });\n//\n// el.addEventListener('mousedown', function() {\n//   spring.setEndValue(1);\n// });\n//\n// el.addEventListener('mouseout', function() {\n//   spring.setEndValue(0);\n// });\n//\n// el.addEventListener('mouseup', function() {\n//   spring.setEndValue(0);\n// });\n//\n// </script>\n//\n// Here's how it works.\n//\n// ```\n// // Get a reference to the logo element.\n// var el = document.getElementById('logo');\n//\n// // create a SpringSystem and a Spring with a bouncy config.\n// var springSystem = new rebound.SpringSystem();\n// var spring = springSystem.createSpring(50, 3);\n//\n// // Add a listener to the spring. Every time the physics\n// // solver updates the Spring's value onSpringUpdate will\n// // be called.\n// spring.addListener({\n//   onSpringUpdate: function(spring) {\n//     var val = spring.getCurrentValue();\n//     val = rebound.MathUtil\n//                  .mapValueInRange(val, 0, 1, 1, 0.5);\n//     scale(el, val);\n//   }\n// });\n//\n// // Listen for mouse down/up/out and toggle the\n// //springs endValue from 0 to 1.\n// el.addEventListener('mousedown', function() {\n//   spring.setEndValue(1);\n// });\n//\n// el.addEventListener('mouseout', function() {\n//   spring.setEndValue(0);\n// });\n//\n// el.addEventListener('mouseup', function() {\n//   spring.setEndValue(0);\n// });\n//\n// // Helper for scaling an element with css transforms.\n// function scale(el, val) {\n//   el.style.mozTransform =\n//   el.style.msTransform =\n//   el.style.webkitTransform =\n//   el.style.transform = 'scale3d(' +\n//     val + ', ' + val + ', 1)';\n// }\n// ```\n\n(function() {\n  var rebound = {};\n  var util = rebound.util = {};\n  var concat = Array.prototype.concat;\n  var slice = Array.prototype.slice;\n\n  // Bind a function to a context object.\n  util.bind = function bind(func, context) {\n    var args = slice.call(arguments, 2);\n    return function() {\n      func.apply(context, concat.call(args, slice.call(arguments)));\n    };\n  };\n\n  // Add all the properties in the source to the target.\n  util.extend = function extend(target, source) {\n    for (var key in source) {\n      if (source.hasOwnProperty(key)) {\n        target[key] = source[key];\n      }\n    }\n  };\n\n  // SpringSystem\n  // ------------\n  // **SpringSystem** is a set of Springs that all run on the same physics\n  // timing loop. To get started with a Rebound animation you first\n  // create a new SpringSystem and then add springs to it.\n  var SpringSystem = rebound.SpringSystem = function SpringSystem(looper) {\n    this._springRegistry = {};\n    this._activeSprings = [];\n    this.listeners = [];\n    this._idleSpringIndices = [];\n    this.looper = looper || new AnimationLooper();\n    this.looper.springSystem = this;\n  };\n\n  util.extend(SpringSystem.prototype, {\n\n    _springRegistry: null,\n\n    _isIdle: true,\n\n    _lastTimeMillis: -1,\n\n    _activeSprings: null,\n\n    listeners: null,\n\n    _idleSpringIndices: null,\n\n    // A SpringSystem is iterated by a looper. The looper is responsible\n    // for executing each frame as the SpringSystem is resolved to idle.\n    // There are three types of Loopers described below AnimationLooper,\n    // SimulationLooper, and SteppingSimulationLooper. AnimationLooper is\n    // the default as it is the most useful for common UI animations.\n    setLooper: function(looper) {\n      this.looper = looper;\n      looper.springSystem = this;\n    },\n\n    // Add a new spring to this SpringSystem. This Spring will now be solved for\n    // during the physics iteration loop. By default the spring will use the\n    // default Origami spring config with 40 tension and 7 friction, but you can\n    // also provide your own values here.\n    createSpring: function(tension, friction) {\n      var springConfig;\n      if (tension === undefined || friction === undefined) {\n        springConfig = SpringConfig.DEFAULT_ORIGAMI_SPRING_CONFIG;\n      } else {\n        springConfig =\n          SpringConfig.fromOrigamiTensionAndFriction(tension, friction);\n      }\n      return this.createSpringWithConfig(springConfig);\n    },\n\n    // Add a spring with a specified bounciness and speed. To replicate Origami\n    // compositions based on PopAnimation patches, use this factory method to\n    // create matching springs.\n    createSpringWithBouncinessAndSpeed: function(bounciness, speed) {\n      var springConfig;\n      if (bounciness === undefined || speed === undefined) {\n        springConfig = SpringConfig.DEFAULT_ORIGAMI_SPRING_CONFIG;\n      } else {\n        springConfig =\n          SpringConfig.fromBouncinessAndSpeed(bounciness, speed);\n      }\n      return this.createSpringWithConfig(springConfig);\n    },\n\n    // Add a spring with the provided SpringConfig.\n    createSpringWithConfig: function(springConfig) {\n      var spring = new Spring(this);\n      this.registerSpring(spring);\n      spring.setSpringConfig(springConfig);\n      return spring;\n    },\n\n    // You can check if a SpringSystem is idle or active by calling\n    // getIsIdle. If all of the Springs in the SpringSystem are at rest,\n    // i.e. the physics forces have reached equilibrium, then this\n    // method will return true.\n    getIsIdle: function() {\n      return this._isIdle;\n    },\n\n    // Retrieve a specific Spring from the SpringSystem by id. This\n    // can be useful for inspecting the state of a spring before\n    // or after an integration loop in the SpringSystem executes.\n    getSpringById: function (id) {\n      return this._springRegistry[id];\n    },\n\n    // Get a listing of all the springs registered with this\n    // SpringSystem.\n    getAllSprings: function() {\n      var vals = [];\n      for (var id in this._springRegistry) {\n        if (this._springRegistry.hasOwnProperty(id)) {\n          vals.push(this._springRegistry[id]);\n        }\n      }\n      return vals;\n    },\n\n    // registerSpring is called automatically as soon as you create\n    // a Spring with SpringSystem#createSpring. This method sets the\n    // spring up in the registry so that it can be solved in the\n    // solver loop.\n    registerSpring: function(spring) {\n      this._springRegistry[spring.getId()] = spring;\n    },\n\n    // Deregister a spring with this SpringSystem. The SpringSystem will\n    // no longer consider this Spring during its integration loop once\n    // this is called. This is normally done automatically for you when\n    // you call Spring#destroy.\n    deregisterSpring: function(spring) {\n      removeFirst(this._activeSprings, spring);\n      delete this._springRegistry[spring.getId()];\n    },\n\n    advance: function(time, deltaTime) {\n      while(this._idleSpringIndices.length > 0) this._idleSpringIndices.pop();\n      for (var i = 0, len = this._activeSprings.length; i < len; i++) {\n        var spring = this._activeSprings[i];\n        if (spring.systemShouldAdvance()) {\n          spring.advance(time / 1000.0, deltaTime / 1000.0);\n        } else {\n          this._idleSpringIndices.push(this._activeSprings.indexOf(spring));\n        }\n      }\n      while(this._idleSpringIndices.length > 0) {\n        var idx = this._idleSpringIndices.pop();\n        idx >= 0 && this._activeSprings.splice(idx, 1);\n      }\n    },\n\n    // This is our main solver loop called to move the simulation\n    // forward through time. Before each pass in the solver loop\n    // onBeforeIntegrate is called on an any listeners that have\n    // registered themeselves with the SpringSystem. This gives you\n    // an opportunity to apply any constraints or adjustments to\n    // the springs that should be enforced before each iteration\n    // loop. Next the advance method is called to move each Spring in\n    // the systemShouldAdvance forward to the current time. After the\n    // integration step runs in advance, onAfterIntegrate is called\n    // on any listeners that have registered themselves with the\n    // SpringSystem. This gives you an opportunity to run any post\n    // integration constraints or adjustments on the Springs in the\n    // SpringSystem.\n    loop: function(currentTimeMillis) {\n      var listener;\n      if (this._lastTimeMillis === -1) {\n        this._lastTimeMillis = currentTimeMillis -1;\n      }\n      var ellapsedMillis = currentTimeMillis - this._lastTimeMillis;\n      this._lastTimeMillis = currentTimeMillis;\n\n      var i = 0, len = this.listeners.length;\n      for (i = 0; i < len; i++) {\n        listener = this.listeners[i];\n        listener.onBeforeIntegrate && listener.onBeforeIntegrate(this);\n      }\n\n      this.advance(currentTimeMillis, ellapsedMillis);\n      if (this._activeSprings.length === 0) {\n        this._isIdle = true;\n        this._lastTimeMillis = -1;\n      }\n\n      for (i = 0; i < len; i++) {\n        listener = this.listeners[i];\n        listener.onAfterIntegrate && listener.onAfterIntegrate(this);\n      }\n\n      if (!this._isIdle) {\n        this.looper.run();\n      }\n    },\n\n    // activateSpring is used to notify the SpringSystem that a Spring\n    // has become displaced. The system responds by starting its solver\n    // loop up if it is currently idle.\n    activateSpring: function(springId) {\n      var spring = this._springRegistry[springId];\n      if (this._activeSprings.indexOf(spring) == -1) {\n        this._activeSprings.push(spring);\n      }\n      if (this.getIsIdle()) {\n        this._isIdle = false;\n        this.looper.run();\n      }\n    },\n\n    // Add a listener to the SpringSystem so that you can receive\n    // before/after integration notifications allowing Springs to be\n    // constrained or adjusted.\n    addListener: function(listener) {\n      this.listeners.push(listener);\n    },\n\n    // Remove a previously added listener on the SpringSystem.\n    removeListener: function(listener) {\n      removeFirst(this.listeners, listener);\n    },\n\n    // Remove all previously added listeners on the SpringSystem.\n    removeAllListeners: function() {\n      this.listeners = [];\n    }\n\n  });\n\n  // Spring\n  // ------\n  // **Spring** provides a model of a classical spring acting to\n  // resolve a body to equilibrium. Springs have configurable\n  // tension which is a force multipler on the displacement of the\n  // spring from its rest point or `endValue` as defined by [Hooke's\n  // law](http://en.wikipedia.org/wiki/Hooke's_law). Springs also have\n  // configurable friction, which ensures that they do not oscillate\n  // infinitely. When a Spring is displaced by updating it's resting\n  // or `currentValue`, the SpringSystems that contain that Spring\n  // will automatically start looping to solve for equilibrium. As each\n  // timestep passes, `SpringListener` objects attached to the Spring\n  // will be notified of the updates providing a way to drive an\n  // animation off of the spring's resolution curve.\n  var Spring = rebound.Spring = function Spring(springSystem) {\n    this._id = 's' + Spring._ID++;\n    this._springSystem = springSystem;\n    this.listeners = [];\n    this._currentState = new PhysicsState();\n    this._previousState = new PhysicsState();\n    this._tempState = new PhysicsState();\n  };\n\n  util.extend(Spring, {\n    _ID: 0,\n\n    MAX_DELTA_TIME_SEC: 0.064,\n\n    SOLVER_TIMESTEP_SEC: 0.001\n\n  });\n\n  util.extend(Spring.prototype, {\n\n    _id: 0,\n\n    _springConfig: null,\n\n    _overshootClampingEnabled: false,\n\n    _currentState: null,\n\n    _previousState: null,\n\n    _tempState: null,\n\n    _startValue: 0,\n\n    _endValue: 0,\n\n    _wasAtRest: true,\n\n    _restSpeedThreshold: 0.001,\n\n    _displacementFromRestThreshold: 0.001,\n\n    listeners: null,\n\n    _timeAccumulator: 0,\n\n    _springSystem: null,\n\n    // Remove a Spring from simulation and clear its listeners.\n    destroy: function() {\n      this.listeners = [];\n      this.frames = [];\n      this._springSystem.deregisterSpring(this);\n    },\n\n    // Get the id of the spring, which can be used to retrieve it from\n    // the SpringSystems it participates in later.\n    getId: function() {\n      return this._id;\n    },\n\n    // Set the configuration values for this Spring. A SpringConfig\n    // contains the tension and friction values used to solve for the\n    // equilibrium of the Spring in the physics loop.\n    setSpringConfig: function(springConfig) {\n      this._springConfig = springConfig;\n      return this;\n    },\n\n    // Retrieve the SpringConfig used by this Spring.\n    getSpringConfig: function() {\n      return this._springConfig;\n    },\n\n    // Set the current position of this Spring. Listeners will be updated\n    // with this value immediately. If the rest or `endValue` is not\n    // updated to match this value, then the spring will be dispalced and\n    // the SpringSystem will start to loop to restore the spring to the\n    // `endValue`.\n    //\n    // A common pattern is to move a Spring around without animation by\n    // calling.\n    //\n    // ```\n    // spring.setCurrentValue(n).setAtRest();\n    // ```\n    //\n    // This moves the Spring to a new position `n`, sets the endValue\n    // to `n`, and removes any velocity from the `Spring`. By doing\n    // this you can allow the `SpringListener` to manage the position\n    // of UI elements attached to the spring even when moving without\n    // animation. For example, when dragging an element you can\n    // update the position of an attached view through a spring\n    // by calling `spring.setCurrentValue(x)`. When\n    // the gesture ends you can update the Springs\n    // velocity and endValue\n    // `spring.setVelocity(gestureEndVelocity).setEndValue(flingTarget)`\n    // to cause it to naturally animate the UI element to the resting\n    // position taking into account existing velocity. The codepaths for\n    // synchronous movement and spring driven animation can\n    // be unified using this technique.\n    setCurrentValue: function(currentValue, skipSetAtRest) {\n      this._startValue = currentValue;\n      this._currentState.position = currentValue;\n      if (!skipSetAtRest) {\n        this.setAtRest();\n      }\n      this.notifyPositionUpdated(false, false);\n      return this;\n    },\n\n    // Get the position that the most recent animation started at. This\n    // can be useful for determining the number off oscillations that\n    // have occurred.\n    getStartValue: function() {\n      return this._startValue;\n    },\n\n    // Retrieve the current value of the Spring.\n    getCurrentValue: function() {\n      return this._currentState.position;\n    },\n\n    // Get the absolute distance of the Spring from it's resting endValue\n    // position.\n    getCurrentDisplacementDistance: function() {\n      return this.getDisplacementDistanceForState(this._currentState);\n    },\n\n    getDisplacementDistanceForState: function(state) {\n      return Math.abs(this._endValue - state.position);\n    },\n\n    // Set the endValue or resting position of the spring. If this\n    // value is different than the current value, the SpringSystem will\n    // be notified and will begin running its solver loop to resolve\n    // the Spring to equilibrium. Any listeners that are registered\n    // for onSpringEndStateChange will also be notified of this update\n    // immediately.\n    setEndValue: function(endValue) {\n      if (this._endValue == endValue && this.isAtRest())  {\n        return this;\n      }\n      this._startValue = this.getCurrentValue();\n      this._endValue = endValue;\n      this._springSystem.activateSpring(this.getId());\n      for (var i = 0, len = this.listeners.length; i < len; i++) {\n        var listener = this.listeners[i];\n        var onChange = listener.onSpringEndStateChange;\n        onChange && onChange(this);\n      }\n      return this;\n    },\n\n    // Retrieve the endValue or resting position of this spring.\n    getEndValue: function() {\n      return this._endValue;\n    },\n\n    // Set the current velocity of the Spring. As previously mentioned,\n    // this can be useful when you are performing a direct manipulation\n    // gesture. When a UI element is released you may call setVelocity\n    // on its animation Spring so that the Spring continues with the\n    // same velocity as the gesture ended with. The friction, tension,\n    // and displacement of the Spring will then govern its motion to\n    // return to rest on a natural feeling curve.\n    setVelocity: function(velocity) {\n      if (velocity === this._currentState.velocity) {\n        return this;\n      }\n      this._currentState.velocity = velocity;\n      this._springSystem.activateSpring(this.getId());\n      return this;\n    },\n\n    // Get the current velocity of the Spring.\n    getVelocity: function() {\n      return this._currentState.velocity;\n    },\n\n    // Set a threshold value for the movement speed of the Spring below\n    // which it will be considered to be not moving or resting.\n    setRestSpeedThreshold: function(restSpeedThreshold) {\n      this._restSpeedThreshold = restSpeedThreshold;\n      return this;\n    },\n\n    // Retrieve the rest speed threshold for this Spring.\n    getRestSpeedThreshold: function() {\n      return this._restSpeedThreshold;\n    },\n\n    // Set a threshold value for displacement below which the Spring\n    // will be considered to be not displaced i.e. at its resting\n    // `endValue`.\n    setRestDisplacementThreshold: function(displacementFromRestThreshold) {\n      this._displacementFromRestThreshold = displacementFromRestThreshold;\n    },\n\n    // Retrieve the rest displacement threshold for this spring.\n    getRestDisplacementThreshold: function() {\n      return this._displacementFromRestThreshold;\n    },\n\n    // Enable overshoot clamping. This means that the Spring will stop\n    // immediately when it reaches its resting position regardless of\n    // any existing momentum it may have. This can be useful for certain\n    // types of animations that should not oscillate such as a scale\n    // down to 0 or alpha fade.\n    setOvershootClampingEnabled: function(enabled) {\n      this._overshootClampingEnabled = enabled;\n      return this;\n    },\n\n    // Check if overshoot clamping is enabled for this spring.\n    isOvershootClampingEnabled: function() {\n      return this._overshootClampingEnabled;\n    },\n\n    // Check if the Spring has gone past its end point by comparing\n    // the direction it was moving in when it started to the current\n    // position and end value.\n    isOvershooting: function() {\n      var start = this._startValue;\n      var end = this._endValue;\n      return this._springConfig.tension > 0 &&\n       ((start < end && this.getCurrentValue() > end) ||\n       (start > end && this.getCurrentValue() < end));\n    },\n\n    // Spring.advance is the main solver method for the Spring. It takes\n    // the current time and delta since the last time step and performs\n    // an RK4 integration to get the new position and velocity state\n    // for the Spring based on the tension, friction, velocity, and\n    // displacement of the Spring.\n    advance: function(time, realDeltaTime) {\n      var isAtRest = this.isAtRest();\n\n      if (isAtRest && this._wasAtRest) {\n        return;\n      }\n\n      var adjustedDeltaTime = realDeltaTime;\n      if (realDeltaTime > Spring.MAX_DELTA_TIME_SEC) {\n        adjustedDeltaTime = Spring.MAX_DELTA_TIME_SEC;\n      }\n\n      this._timeAccumulator += adjustedDeltaTime;\n\n      var tension = this._springConfig.tension,\n          friction = this._springConfig.friction,\n\n          position = this._currentState.position,\n          velocity = this._currentState.velocity,\n          tempPosition = this._tempState.position,\n          tempVelocity = this._tempState.velocity,\n\n          aVelocity, aAcceleration,\n          bVelocity, bAcceleration,\n          cVelocity, cAcceleration,\n          dVelocity, dAcceleration,\n\n          dxdt, dvdt;\n\n      while(this._timeAccumulator >= Spring.SOLVER_TIMESTEP_SEC) {\n\n        this._timeAccumulator -= Spring.SOLVER_TIMESTEP_SEC;\n\n        if (this._timeAccumulator < Spring.SOLVER_TIMESTEP_SEC) {\n          this._previousState.position = position;\n          this._previousState.velocity = velocity;\n        }\n\n        aVelocity = velocity;\n        aAcceleration =\n          (tension * (this._endValue - tempPosition)) - friction * velocity;\n\n        tempPosition = position + aVelocity * Spring.SOLVER_TIMESTEP_SEC * 0.5;\n        tempVelocity =\n          velocity + aAcceleration * Spring.SOLVER_TIMESTEP_SEC * 0.5;\n        bVelocity = tempVelocity;\n        bAcceleration =\n          (tension * (this._endValue - tempPosition)) - friction * tempVelocity;\n\n        tempPosition = position + bVelocity * Spring.SOLVER_TIMESTEP_SEC * 0.5;\n        tempVelocity =\n          velocity + bAcceleration * Spring.SOLVER_TIMESTEP_SEC * 0.5;\n        cVelocity = tempVelocity;\n        cAcceleration =\n          (tension * (this._endValue - tempPosition)) - friction * tempVelocity;\n\n        tempPosition = position + cVelocity * Spring.SOLVER_TIMESTEP_SEC * 0.5;\n        tempVelocity =\n          velocity + cAcceleration * Spring.SOLVER_TIMESTEP_SEC * 0.5;\n        dVelocity = tempVelocity;\n        dAcceleration =\n          (tension * (this._endValue - tempPosition)) - friction * tempVelocity;\n\n        dxdt =\n          1.0/6.0 * (aVelocity + 2.0 * (bVelocity + cVelocity) + dVelocity);\n        dvdt = 1.0/6.0 * (\n          aAcceleration + 2.0 * (bAcceleration + cAcceleration) + dAcceleration\n        );\n\n        position += dxdt * Spring.SOLVER_TIMESTEP_SEC;\n        velocity += dvdt * Spring.SOLVER_TIMESTEP_SEC;\n      }\n\n      this._tempState.position = tempPosition;\n      this._tempState.velocity = tempVelocity;\n\n      this._currentState.position = position;\n      this._currentState.velocity = velocity;\n\n      if (this._timeAccumulator > 0) {\n        this._interpolate(this._timeAccumulator / Spring.SOLVER_TIMESTEP_SEC);\n      }\n\n      if (this.isAtRest() ||\n          this._overshootClampingEnabled && this.isOvershooting()) {\n\n        if (this._springConfig.tension > 0) {\n          this._startValue = this._endValue;\n          this._currentState.position = this._endValue;\n        } else {\n          this._endValue = this._currentState.position;\n          this._startValue = this._endValue;\n        }\n        this.setVelocity(0);\n        isAtRest = true;\n      }\n\n      var notifyActivate = false;\n      if (this._wasAtRest) {\n        this._wasAtRest = false;\n        notifyActivate = true;\n      }\n\n      var notifyAtRest = false;\n      if (isAtRest) {\n        this._wasAtRest = true;\n        notifyAtRest = true;\n      }\n\n      this.notifyPositionUpdated(notifyActivate, notifyAtRest);\n    },\n\n    notifyPositionUpdated: function(notifyActivate, notifyAtRest) {\n      for (var i = 0, len = this.listeners.length; i < len; i++) {\n        var listener = this.listeners[i];\n        if (notifyActivate && listener.onSpringActivate) {\n          listener.onSpringActivate(this);\n        }\n\n        if (listener.onSpringUpdate) {\n          listener.onSpringUpdate(this);\n        }\n\n        if (notifyAtRest && listener.onSpringAtRest) {\n          listener.onSpringAtRest(this);\n        }\n      }\n    },\n\n\n    // Check if the SpringSystem should advance. Springs are advanced\n    // a final frame after they reach equilibrium to ensure that the\n    // currentValue is exactly the requested endValue regardless of the\n    // displacement threshold.\n    systemShouldAdvance: function() {\n      return !this.isAtRest() || !this.wasAtRest();\n    },\n\n    wasAtRest: function() {\n      return this._wasAtRest;\n    },\n\n    // Check if the Spring is atRest meaning that it's currentValue and\n    // endValue are the same and that it has no velocity. The previously\n    // described thresholds for speed and displacement define the bounds\n    // of this equivalence check. If the Spring has 0 tension, then it will\n    // be considered at rest whenever its absolute velocity drops below the\n    // restSpeedThreshold.\n    isAtRest: function() {\n      return Math.abs(this._currentState.velocity) < this._restSpeedThreshold &&\n        (this.getDisplacementDistanceForState(this._currentState) <=\n          this._displacementFromRestThreshold ||\n        this._springConfig.tension === 0);\n    },\n\n    // Force the spring to be at rest at its current position. As\n    // described in the documentation for setCurrentValue, this method\n    // makes it easy to do synchronous non-animated updates to ui\n    // elements that are attached to springs via SpringListeners.\n    setAtRest: function() {\n      this._endValue = this._currentState.position;\n      this._tempState.position = this._currentState.position;\n      this._currentState.velocity = 0;\n      return this;\n    },\n\n    _interpolate: function(alpha) {\n      this._currentState.position = this._currentState.position *\n        alpha + this._previousState.position * (1 - alpha);\n      this._currentState.velocity = this._currentState.velocity *\n        alpha + this._previousState.velocity * (1 - alpha);\n    },\n\n    getListeners: function() {\n      return this.listeners;\n    },\n\n    addListener: function(newListener) {\n      this.listeners.push(newListener);\n      return this;\n    },\n\n    removeListener: function(listenerToRemove) {\n      removeFirst(this.listeners, listenerToRemove);\n      return this;\n    },\n\n    removeAllListeners: function() {\n      this.listeners = [];\n      return this;\n    },\n\n    currentValueIsApproximately: function(value) {\n      return Math.abs(this.getCurrentValue() - value) <=\n        this.getRestDisplacementThreshold();\n    }\n\n  });\n\n  // PhysicsState\n  // ------------\n  // **PhysicsState** consists of a position and velocity. A Spring uses\n  // this internally to keep track of its current and prior position and\n  // velocity values.\n  var PhysicsState = function PhysicsState() {};\n\n  util.extend(PhysicsState.prototype, {\n    position: 0,\n    velocity: 0\n  });\n\n  // SpringConfig\n  // ------------\n  // **SpringConfig** maintains a set of tension and friction constants\n  // for a Spring. You can use fromOrigamiTensionAndFriction to convert\n  // values from the [Origami](http://facebook.github.io/origami/)\n  // design tool directly to Rebound spring constants.\n  var SpringConfig = rebound.SpringConfig =\n    function SpringConfig(tension, friction) {\n      this.tension = tension;\n      this.friction = friction;\n    };\n\n  // Loopers\n  // -------\n  // **AnimationLooper** plays each frame of the SpringSystem on animation\n  // timing loop. This is the default type of looper for a new spring system\n  // as it is the most common when developing UI.\n  var AnimationLooper = rebound.AnimationLooper = function AnimationLooper() {\n    this.springSystem = null;\n    var _this = this;\n    var _run = function() {\n      _this.springSystem.loop(Date.now());\n    };\n\n    this.run = function() {\n      util.onFrame(_run);\n    };\n  };\n\n  // **SimulationLooper** resolves the SpringSystem to a resting state in a\n  // tight and blocking loop. This is useful for synchronously generating\n  // pre-recorded animations that can then be played on a timing loop later.\n  // Sometimes this lead to better performance to pre-record a single spring\n  // curve and use it to drive many animations; however, it can make dynamic\n  // response to user input a bit trickier to implement.\n  rebound.SimulationLooper = function SimulationLooper(timestep) {\n    this.springSystem = null;\n    var time = 0;\n    var running = false;\n    timestep=timestep || 16.667;\n\n    this.run = function() {\n      if (running) {\n        return;\n      }\n      running = true;\n      while(!this.springSystem.getIsIdle()) {\n        this.springSystem.loop(time+=timestep);\n      }\n      running = false;\n    };\n  };\n\n  // **SteppingSimulationLooper** resolves the SpringSystem one step at a\n  // time controlled by an outside loop. This is useful for testing and\n  // verifying the behavior of a SpringSystem or if you want to control your own\n  // timing loop for some reason e.g. slowing down or speeding up the\n  // simulation.\n  rebound.SteppingSimulationLooper = function(timestep) {\n    this.springSystem = null;\n    var time = 0;\n\n    // this.run is NOOP'd here to allow control from the outside using\n    // this.step.\n    this.run = function(){};\n\n    // Perform one step toward resolving the SpringSystem.\n    this.step = function(timestep) {\n      this.springSystem.loop(time+=timestep);\n    };\n  };\n\n  // Math for converting from\n  // [Origami](http://facebook.github.io/origami/) to\n  // [Rebound](http://facebook.github.io/rebound).\n  // You mostly don't need to worry about this, just use\n  // SpringConfig.fromOrigamiTensionAndFriction(v, v);\n  var OrigamiValueConverter = rebound.OrigamiValueConverter = {\n    tensionFromOrigamiValue: function(oValue) {\n      return (oValue - 30.0) * 3.62 + 194.0;\n    },\n\n    origamiValueFromTension: function(tension) {\n      return (tension - 194.0) / 3.62 + 30.0;\n    },\n\n    frictionFromOrigamiValue: function(oValue) {\n      return (oValue - 8.0) * 3.0 + 25.0;\n    },\n\n    origamiFromFriction: function(friction) {\n      return (friction - 25.0) / 3.0 + 8.0;\n    }\n  };\n\n  // BouncyConversion provides math for converting from Origami PopAnimation\n  // config values to regular Origami tension and friction values. If you are\n  // trying to replicate prototypes made with PopAnimation patches in Origami,\n  // then you should create your springs with\n  // SpringSystem.createSpringWithBouncinessAndSpeed, which uses this Math\n  // internally to create a spring to match the provided PopAnimation\n  // configuration from Origami.\n  var BouncyConversion = rebound.BouncyConversion = function(bounciness, speed){\n    this.bounciness = bounciness;\n    this.speed = speed;\n    var b = this.normalize(bounciness / 1.7, 0, 20.0);\n    b = this.projectNormal(b, 0.0, 0.8);\n    var s = this.normalize(speed / 1.7, 0, 20.0);\n    this.bouncyTension = this.projectNormal(s, 0.5, 200)\n    this.bouncyFriction = this.quadraticOutInterpolation(\n      b,\n      this.b3Nobounce(this.bouncyTension),\n      0.01);\n  }\n\n  util.extend(BouncyConversion.prototype, {\n\n    normalize: function(value, startValue, endValue) {\n      return (value - startValue) / (endValue - startValue);\n    },\n\n    projectNormal: function(n, start, end) {\n      return start + (n * (end - start));\n    },\n\n    linearInterpolation: function(t, start, end) {\n      return t * end + (1.0 - t) * start;\n    },\n\n    quadraticOutInterpolation: function(t, start, end) {\n      return this.linearInterpolation(2*t - t*t, start, end);\n    },\n\n    b3Friction1: function(x) {\n      return (0.0007 * Math.pow(x, 3)) -\n        (0.031 * Math.pow(x, 2)) + 0.64 * x + 1.28;\n    },\n\n    b3Friction2: function(x) {\n      return (0.000044 * Math.pow(x, 3)) -\n        (0.006 * Math.pow(x, 2)) + 0.36 * x + 2.;\n    },\n\n    b3Friction3: function(x) {\n      return (0.00000045 * Math.pow(x, 3)) -\n        (0.000332 * Math.pow(x, 2)) + 0.1078 * x + 5.84;\n    },\n\n    b3Nobounce: function(tension) {\n      var friction = 0;\n      if (tension <= 18) {\n        friction = this.b3Friction1(tension);\n      } else if (tension > 18 && tension <= 44) {\n        friction = this.b3Friction2(tension);\n      } else {\n        friction = this.b3Friction3(tension);\n      }\n      return friction;\n    }\n  });\n\n  util.extend(SpringConfig, {\n    // Convert an origami Spring tension and friction to Rebound spring\n    // constants. If you are prototyping a design with Origami, this\n    // makes it easy to make your springs behave exactly the same in\n    // Rebound.\n    fromOrigamiTensionAndFriction: function(tension, friction) {\n      return new SpringConfig(\n        OrigamiValueConverter.tensionFromOrigamiValue(tension),\n        OrigamiValueConverter.frictionFromOrigamiValue(friction));\n    },\n\n    // Convert an origami PopAnimation Spring bounciness and speed to Rebound\n    // spring constants. If you are using PopAnimation patches in Origami, this\n    // utility will provide springs that match your prototype.\n    fromBouncinessAndSpeed: function(bounciness, speed) {\n      var bouncyConversion = new rebound.BouncyConversion(bounciness, speed);\n      return this.fromOrigamiTensionAndFriction(\n        bouncyConversion.bouncyTension,\n        bouncyConversion.bouncyFriction);\n    },\n\n    // Create a SpringConfig with no tension or a coasting spring with some\n    // amount of Friction so that it does not coast infininitely.\n    coastingConfigWithOrigamiFriction: function(friction) {\n      return new SpringConfig(\n        0,\n        OrigamiValueConverter.frictionFromOrigamiValue(friction)\n      );\n    }\n  });\n\n  SpringConfig.DEFAULT_ORIGAMI_SPRING_CONFIG =\n    SpringConfig.fromOrigamiTensionAndFriction(40, 7);\n\n  util.extend(SpringConfig.prototype, {friction: 0, tension: 0});\n\n  // Here are a couple of function to convert colors between hex codes and RGB\n  // component values. These are handy when performing color\n  // tweening animations.\n  var colorCache = {};\n  util.hexToRGB = function(color) {\n    if (colorCache[color]) {\n      return colorCache[color];\n    }\n    color = color.replace('#', '');\n    if (color.length === 3) {\n      color = color[0] + color[0] + color[1] + color[1] + color[2] + color[2];\n    }\n    var parts = color.match(/.{2}/g);\n\n    var ret = {\n      r: parseInt(parts[0], 16),\n      g: parseInt(parts[1], 16),\n      b: parseInt(parts[2], 16)\n    };\n\n    colorCache[color] = ret;\n    return ret;\n  };\n\n  util.rgbToHex = function(r, g, b) {\n    r = r.toString(16);\n    g = g.toString(16);\n    b = b.toString(16);\n    r = r.length < 2 ? '0' + r : r;\n    g = g.length < 2 ? '0' + g : g;\n    b = b.length < 2 ? '0' + b : b;\n    return '#' + r + g + b;\n  };\n\n  var MathUtil = rebound.MathUtil = {\n    // This helper function does a linear interpolation of a value from\n    // one range to another. This can be very useful for converting the\n    // motion of a Spring to a range of UI property values. For example a\n    // spring moving from position 0 to 1 could be interpolated to move a\n    // view from pixel 300 to 350 and scale it from 0.5 to 1. The current\n    // position of the `Spring` just needs to be run through this method\n    // taking its input range in the _from_ parameters with the property\n    // animation range in the _to_ parameters.\n    mapValueInRange: function(value, fromLow, fromHigh, toLow, toHigh) {\n      var fromRangeSize = fromHigh - fromLow;\n      var toRangeSize = toHigh - toLow;\n      var valueScale = (value - fromLow) / fromRangeSize;\n      return toLow + (valueScale * toRangeSize);\n    },\n\n    // Interpolate two hex colors in a 0 - 1 range or optionally provide a\n    // custom range with fromLow,fromHight. The output will be in hex by default\n    // unless asRGB is true in which case it will be returned as an rgb string.\n    interpolateColor:\n      function(val, startColor, endColor, fromLow, fromHigh, asRGB) {\n      fromLow = fromLow === undefined ? 0 : fromLow;\n      fromHigh = fromHigh === undefined ? 1 : fromHigh;\n      startColor = util.hexToRGB(startColor);\n      endColor = util.hexToRGB(endColor);\n      var r = Math.floor(\n        util.mapValueInRange(val, fromLow, fromHigh, startColor.r, endColor.r)\n      );\n      var g = Math.floor(\n        util.mapValueInRange(val, fromLow, fromHigh, startColor.g, endColor.g)\n      );\n      var b = Math.floor(\n        util.mapValueInRange(val, fromLow, fromHigh, startColor.b, endColor.b)\n      );\n      if (asRGB) {\n        return 'rgb(' + r + ',' + g + ',' + b + ')';\n      } else {\n        return util.rgbToHex(r, g, b);\n      }\n    },\n\n    degreesToRadians: function(deg) {\n      return (deg * Math.PI) / 180;\n    },\n\n    radiansToDegrees: function(rad) {\n      return (rad * 180) / Math.PI;\n    }\n\n  }\n\n  util.extend(util, MathUtil);\n\n\n  // Utilities\n  // ---------\n  // Here are a few useful JavaScript utilities.\n\n  // Lop off the first occurence of the reference in the Array.\n  function removeFirst(array, item) {\n    var idx = array.indexOf(item);\n    idx != -1 && array.splice(idx, 1);\n  }\n\n  var _onFrame;\n  if (typeof window !== 'undefined') {\n    _onFrame = window.requestAnimationFrame ||\n      window.webkitRequestAnimationFrame ||\n      window.mozRequestAnimationFrame ||\n      window.msRequestAnimationFrame ||\n      window.oRequestAnimationFrame ||\n      function(callback) {\n        window.setTimeout(callback, 1000 / 60);\n      };\n  }\n  if (!_onFrame && typeof process !== 'undefined' && process.title === 'node') {\n    _onFrame = setImmediate;\n  }\n\n  // Cross browser/node timer functions.\n  util.onFrame = function onFrame(func) {\n    return _onFrame(func);\n  };\n\n  // Export the public api using exports for common js or the window for\n  // normal browser inclusion.\n  if (typeof exports != 'undefined') {\n    util.extend(exports, rebound);\n  } else if (typeof window != 'undefined') {\n    window.rebound = rebound;\n  }\n})();\n\n\n// Legal Stuff\n// -----------\n/**\n *  Copyright (c) 2013, Facebook, Inc.\n *  All rights reserved.\n *\n *  This source code is licensed under the BSD-style license found in the\n *  LICENSE file in the root directory of this source tree. An additional grant\n *  of patent rights can be found in the PATENTS file in the same directory.\n */\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule NavigatorIOS\n */\n'use strict';\n\nmodule.exports = require('UnimplementedView');\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule Picker\n * @flow\n */\n\n'use strict';\n\nvar ColorPropType = require('ColorPropType');\nvar PickerIOS = require('PickerIOS');\nvar PickerAndroid = require('PickerAndroid');\nvar Platform = require('Platform');\nvar React = require('React');\nvar StyleSheetPropType = require('StyleSheetPropType');\nvar TextStylePropTypes = require('TextStylePropTypes');\nvar UnimplementedView = require('UnimplementedView');\nvar View = require('View');\nvar ViewStylePropTypes = require('ViewStylePropTypes');\n\nvar itemStylePropType = StyleSheetPropType(TextStylePropTypes);\n\nvar pickerStyleType = StyleSheetPropType({\n  ...ViewStylePropTypes,\n  color: ColorPropType,\n});\n\nvar MODE_DIALOG = 'dialog';\nvar MODE_DROPDOWN = 'dropdown';\n\n/**\n * Renders the native picker component on iOS and Android. Example:\n *\n *     <Picker\n *       selectedValue={this.state.language}\n *       onValueChange={(lang) => this.setState({language: lang})}>\n *       <Picker.Item label=\"Java\" value=\"java\" />\n *       <Picker.Item label=\"JavaScript\" value=\"js\" />\n *     </Picker>\n */\nclass Picker extends React.Component {\n props: {\n  style?: $FlowFixMe,\n  selectedValue?: any,\n  onValueChange?: Function,\n  enabled?: boolean,\n  mode?: 'dialog' | 'dropdown',\n  itemStyle?: $FlowFixMe,\n  prompt?: string,\n  testID?: string,\n };\n\n /**\n  * On Android, display the options in a dialog.\n  */\n static MODE_DIALOG = MODE_DIALOG;\n\n /**\n  * On Android, display the options in a dropdown (this is the default).\n  */\n static MODE_DROPDOWN = MODE_DROPDOWN;\n\n static defaultProps = {\n   mode: MODE_DIALOG,\n };\n\n static propTypes = {\n   ...View.propTypes,\n   style: pickerStyleType,\n   /**\n    * Value matching value of one of the items. Can be a string or an integer.\n    */\n   selectedValue: React.PropTypes.any,\n   /**\n    * Callback for when an item is selected. This is called with the following parameters:\n    *   - `itemValue`: the `value` prop of the item that was selected\n    *   - `itemPosition`: the index of the selected item in this picker\n    */\n   onValueChange: React.PropTypes.func,\n   /**\n    * If set to false, the picker will be disabled, i.e. the user will not be able to make a\n    * selection.\n    * @platform android\n    */\n   enabled: React.PropTypes.bool,\n   /**\n    * On Android, specifies how to display the selection items when the user taps on the picker:\n    *\n    *   - 'dialog': Show a modal dialog. This is the default.\n    *   - 'dropdown': Shows a dropdown anchored to the picker view\n    *\n    * @platform android\n    */\n   mode: React.PropTypes.oneOf(['dialog', 'dropdown']),\n   /**\n    * Style to apply to each of the item labels.\n    * @platform ios\n    */\n   itemStyle: itemStylePropType,\n   /**\n    * Prompt string for this picker, used on Android in dialog mode as the title of the dialog.\n    * @platform android\n    */\n   prompt: React.PropTypes.string,\n   /**\n    * Used to locate this view in end-to-end tests.\n    */\n   testID: React.PropTypes.string,\n };\n\n render() {\n     if (Platform.OS === 'ios') {\n       // $FlowFixMe found when converting React.createClass to ES6\n       return <PickerIOS {...this.props}>{this.props.children}</PickerIOS>;\n     } else if (Platform.OS === 'android') {\n       // $FlowFixMe found when converting React.createClass to ES6\n       return <PickerAndroid {...this.props}>{this.props.children}</PickerAndroid>;\n     } else {\n       return <UnimplementedView />;\n     }\n }\n}\n\n/**\n * Individual selectable item in a Picker.\n */\n// $FlowFixMe found when converting React.createClass to ES6\nPicker.Item = class extends React.Component {\n props: {\n  label: string,\n  value?: any,\n  color?: ColorPropType,\n  testID?: string,\n };\n\n static propTypes = {\n   /**\n    * Text to display for this item.\n    */\n   label: React.PropTypes.string.isRequired,\n   /**\n    * The value to be passed to picker's `onValueChange` callback when\n    * this item is selected. Can be a string or an integer.\n    */\n   value: React.PropTypes.any,\n   /**\n    * Color of this item's text.\n    * @platform android\n    */\n   color: ColorPropType,\n   /**\n    * Used to locate the item in end-to-end tests.\n    */\n   testID: React.PropTypes.string,\n };\n\n render() {\n   // The items are not rendered directly\n   throw null;\n }\n};\n\nmodule.exports = Picker;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule PickerIOS\n *\n * This is a controlled component version of RCTPickerIOS\n */\n'use strict';\n\nmodule.exports = require('UnimplementedView');\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule PickerAndroid\n * @flow\n */\n\n'use strict';\n\nvar ColorPropType = require('ColorPropType');\nvar React = require('React');\nvar StyleSheet = require('StyleSheet');\nvar StyleSheetPropType = require('StyleSheetPropType');\nvar View = require('View');\nvar ViewStylePropTypes = require('ViewStylePropTypes');\n\nvar processColor = require('processColor');\nvar requireNativeComponent = require('requireNativeComponent');\n\nvar ReactPropTypes = React.PropTypes;\n\nvar REF_PICKER = 'picker';\nvar MODE_DROPDOWN = 'dropdown';\n\nvar pickerStyleType = StyleSheetPropType({\n  ...ViewStylePropTypes,\n  color: ColorPropType,\n});\n\ntype Event = Object;\n\n/**\n * Not exposed as a public API - use <Picker> instead.\n */\nclass PickerAndroid extends React.Component {\n  props: {\n    style?: $FlowFixMe,\n    selectedValue?: any,\n    enabled?: boolean,\n    mode?: 'dialog' | 'dropdown',\n    onValueChange?: Function,\n    prompt?: string,\n    testID?: string,\n  };\n\n  state: *;\n\n  static propTypes = {\n    ...View.propTypes,\n    style: pickerStyleType,\n    selectedValue: React.PropTypes.any,\n    enabled: ReactPropTypes.bool,\n    mode: ReactPropTypes.oneOf(['dialog', 'dropdown']),\n    onValueChange: ReactPropTypes.func,\n    prompt: ReactPropTypes.string,\n    testID: ReactPropTypes.string,\n  };\n\n  constructor(props, context) {\n    super(props, context);\n    var state = this._stateFromProps(props);\n\n    this.state = {\n      ...state,\n      initialSelectedIndex: state.selectedIndex,\n    };\n  }\n\n  componentWillReceiveProps(nextProps) {\n    this.setState(this._stateFromProps(nextProps));\n  }\n\n  // Translate prop and children into stuff that the native picker understands.\n  _stateFromProps = (props) => {\n    var selectedIndex = 0;\n    const items = React.Children.map(props.children, (child, index) => {\n      if (child.props.value === props.selectedValue) {\n        selectedIndex = index;\n      }\n      const childProps = {\n        value: child.props.value,\n        label: child.props.label,\n      };\n      if (child.props.color) {\n        childProps.color = processColor(child.props.color);\n      }\n      return childProps;\n    });\n    return {selectedIndex, items};\n  };\n\n  render() {\n    var Picker = this.props.mode === MODE_DROPDOWN ? DropdownPicker : DialogPicker;\n\n    var nativeProps = {\n      enabled: this.props.enabled,\n      items: this.state.items,\n      mode: this.props.mode,\n      onSelect: this._onChange,\n      prompt: this.props.prompt,\n      selected: this.state.initialSelectedIndex,\n      testID: this.props.testID,\n      style: [styles.pickerAndroid, this.props.style],\n      accessibilityLabel: this.props.accessibilityLabel,\n    };\n\n    return <Picker ref={REF_PICKER} {...nativeProps} />;\n  }\n\n  _onChange = (event: Event) => {\n    if (this.props.onValueChange) {\n      var position = event.nativeEvent.position;\n      if (position >= 0) {\n        var value = this.props.children[position].props.value;\n        this.props.onValueChange(value, position);\n      } else {\n        this.props.onValueChange(null, position);\n      }\n    }\n    this._lastNativePosition = event.nativeEvent.position;\n    this.forceUpdate();\n  };\n\n  componentDidMount() {\n    this._lastNativePosition = this.state.initialSelectedIndex;\n  }\n\n  componentDidUpdate() {\n    // The picker is a controlled component. This means we expect the\n    // on*Change handlers to be in charge of updating our\n    // `selectedValue` prop. That way they can also\n    // disallow/undo/mutate the selection of certain values. In other\n    // words, the embedder of this component should be the source of\n    // truth, not the native component.\n    if (this.refs[REF_PICKER] && this.state.selectedIndex !== this._lastNativePosition) {\n      this.refs[REF_PICKER].setNativeProps({selected: this.state.selectedIndex});\n      this._lastNativePosition = this.state.selectedIndex;\n    }\n  }\n}\n\nvar styles = StyleSheet.create({\n  pickerAndroid: {\n    // The picker will conform to whatever width is given, but we do\n    // have to set the component's height explicitly on the\n    // surrounding view to ensure it gets rendered.\n    // TODO would be better to export a native constant for this,\n    // like in iOS the RCTDatePickerManager.m\n    height: 50,\n  },\n});\n\nvar cfg = {\n  nativeOnly: {\n    items: true,\n    selected: true,\n  }\n};\n\nvar DropdownPicker = requireNativeComponent('AndroidDropdownPicker', PickerAndroid, cfg);\nvar DialogPicker = requireNativeComponent('AndroidDialogPicker', PickerAndroid, cfg);\n\nmodule.exports = PickerAndroid;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule ProgressBarAndroid\n */\n'use strict';\n\nvar NativeMethodsMixin = require('NativeMethodsMixin');\nvar React = require('React');\nvar View = require('View');\nvar ColorPropType = require('ColorPropType');\n\nvar requireNativeComponent = require('requireNativeComponent');\n\nvar ReactPropTypes = React.PropTypes;\n\nvar STYLE_ATTRIBUTES = [\n  'Horizontal',\n  'Normal',\n  'Small',\n  'Large',\n  'Inverse',\n  'SmallInverse',\n  'LargeInverse',\n];\n\nvar indeterminateType = function(props, propName, componentName) {\n  var checker = function() {\n    var indeterminate = props[propName];\n    var styleAttr = props.styleAttr;\n    if (!indeterminate && styleAttr !== 'Horizontal') {\n      return new Error('indeterminate=false is only valid for styleAttr=Horizontal');\n    }\n  };\n\n  return ReactPropTypes.bool(props, propName, componentName) || checker();\n};\n\n/**\n * React component that wraps the Android-only `ProgressBar`. This component is used to indicate\n * that the app is loading or there is some activity in the app.\n *\n * Example:\n *\n * ```\n * render: function() {\n *   var progressBar =\n *     <View style={styles.container}>\n *       <ProgressBar styleAttr=\"Inverse\" />\n *     </View>;\n\n *   return (\n *     <MyLoadingComponent\n *       componentView={componentView}\n *       loadingView={progressBar}\n *       style={styles.loadingComponent}\n *     />\n *   );\n * },\n * ```\n */\nvar ProgressBarAndroid = React.createClass({\n  propTypes: {\n    ...View.propTypes,\n    /**\n     * Style of the ProgressBar. One of:\n     *\n     * - Horizontal\n     * - Normal (default)\n     * - Small\n     * - Large\n     * - Inverse\n     * - SmallInverse\n     * - LargeInverse\n     */\n    styleAttr: ReactPropTypes.oneOf(STYLE_ATTRIBUTES),\n    /**\n     * If the progress bar will show indeterminate progress. Note that this\n     * can only be false if styleAttr is Horizontal.\n     */\n    indeterminate: indeterminateType,\n    /**\n     * The progress value (between 0 and 1).\n     */\n    progress: ReactPropTypes.number,\n    /**\n     * Color of the progress bar.\n     */\n    color: ColorPropType,\n    /**\n     * Used to locate this view in end-to-end tests.\n     */\n    testID: ReactPropTypes.string,\n  },\n\n  getDefaultProps: function() {\n    return {\n      styleAttr: 'Normal',\n      indeterminate: true\n    };\n  },\n\n  mixins: [NativeMethodsMixin],\n\n  componentDidMount: function() {\n    if (this.props.indeterminate && this.props.styleAttr !== 'Horizontal') {\n      console.warn(\n        'Circular indeterminate `ProgressBarAndroid`' +\n        'is deprecated. Use `ActivityIndicator` instead.'\n      );\n    }\n  },\n\n  render: function() {\n    return <AndroidProgressBar {...this.props} />;\n  },\n});\n\nvar AndroidProgressBar = requireNativeComponent(\n  'AndroidProgressBar',\n  ProgressBarAndroid,\n  {nativeOnly: {animating: true}},\n);\n\nmodule.exports = ProgressBarAndroid;\n","\n/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule ProgressViewIOS\n */\n\n'use strict';\n\nvar React = require('React');\nvar StyleSheet = require('StyleSheet');\nvar Text = require('Text');\nvar View = require('View');\n\nclass DummyProgressViewIOS extends React.Component {\n  render() {\n    return (\n      <View style={[styles.dummy, this.props.style]}>\n        <Text style={styles.text}>\n          ProgressViewIOS is not supported on this platform!\n        </Text>\n      </View>\n    );\n  }\n}\n\nvar styles = StyleSheet.create({\n  dummy: {\n    width: 120,\n    height: 20,\n    backgroundColor: '#ffbcbc',\n    borderWidth: 1,\n    borderColor: 'red',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  text: {\n    color: '#333333',\n    margin: 5,\n    fontSize: 10,\n  }\n});\n\nmodule.exports = DummyProgressViewIOS;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * Facebook, Inc. (\"Facebook\") owns all right, title and interest, including\n * all intellectual property and other proprietary rights, in and to the React\n * Native CustomComponents software (the \"Software\").  Subject to your\n * compliance with these terms, you are hereby granted a non-exclusive,\n * worldwide, royalty-free copyright license to (1) use and copy the Software;\n * and (2) reproduce and distribute the Software as part of your own software\n * (\"Your Software\").  Facebook reserves all rights not expressly granted to\n * you in this license agreement.\n *\n * THE SOFTWARE AND DOCUMENTATION, IF ANY, ARE PROVIDED \"AS IS\" AND ANY EXPRESS\n * OR IMPLIED WARRANTIES (INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES\n * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE) ARE DISCLAIMED.\n * IN NO EVENT SHALL FACEBOOK OR ITS AFFILIATES, OFFICERS, DIRECTORS OR\n * EMPLOYEES BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,\n * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,\n * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;\n * OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,\n * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR\n * OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THE SOFTWARE, EVEN IF\n * ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @providesModule SectionList\n * @flow\n */\n'use strict';\n\nconst MetroListView = require('MetroListView');\nconst React = require('React');\nconst VirtualizedSectionList = require('VirtualizedSectionList');\n\nimport type {ViewToken} from 'ViewabilityHelper';\nimport type {Props as VirtualizedSectionListProps} from 'VirtualizedSectionList';\n\ntype Item = any;\n\ntype SectionBase<SectionItemT> = {\n  // Must be provided directly on each section.\n  data: Array<SectionItemT>,\n  key: string,\n\n  // Optional props will override list-wide props just for this section.\n  renderItem?: ?(info: {item: SectionItemT, index: number}) => ?React.Element<any>,\n  SeparatorComponent?: ?ReactClass<any>,\n  keyExtractor?: (item: SectionItemT) => string,\n\n  // TODO: support more optional/override props\n  // FooterComponent?: ?ReactClass<*>,\n  // HeaderComponent?: ?ReactClass<*>,\n  // onViewableItemsChanged?: ({viewableItems: Array<ViewToken>, changed: Array<ViewToken>}) => void,\n};\n\ntype RequiredProps<SectionT: SectionBase<any>> = {\n  sections: Array<SectionT>,\n};\n\ntype OptionalProps<SectionT: SectionBase<any>> = {\n  /**\n   * Default renderer for every item in every section. Can be over-ridden on a per-section basis.\n   */\n  renderItem: (info: {item: Item, index: number}) => ?React.Element<any>,\n  /**\n   * Rendered in between adjacent Items within each section.\n   */\n  ItemSeparatorComponent?: ?ReactClass<any>,\n  /**\n   * Rendered at the very beginning of the list.\n   */\n  ListHeaderComponent?: ?ReactClass<any>,\n  /**\n   * Rendered at the very end of the list.\n   */\n  ListFooterComponent?: ?ReactClass<any>,\n  /**\n   * Rendered at the top of each section. Sticky headers are not yet supported.\n   */\n  renderSectionHeader?: ?(info: {section: SectionT}) => ?React.Element<any>,\n  /**\n   * Rendered in between each section.\n   */\n  SectionSeparatorComponent?: ?ReactClass<any>,\n  /**\n   * Used to extract a unique key for a given item at the specified index. Key is used for caching\n   * and as the react key to track item re-ordering. The default extractor checks item.key, then\n   * falls back to using the index, like react does.\n   */\n  keyExtractor: (item: Item, index: number) => string,\n  onEndReached?: ?(info: {distanceFromEnd: number}) => void,\n  /**\n   * If provided, a standard RefreshControl will be added for \"Pull to Refresh\" functionality. Make\n   * sure to also set the `refreshing` prop correctly.\n   */\n  onRefresh?: ?() => void,\n  /**\n   * Called when the viewability of rows changes, as defined by the\n   * `viewabilityConfig` prop.\n   */\n  onViewableItemsChanged?: ?(info: {viewableItems: Array<ViewToken>, changed: Array<ViewToken>}) => void,\n  /**\n   * Set this true while waiting for new data from a refresh.\n   */\n  refreshing?: ?boolean,\n  /**\n   * This is an optional optimization to minimize re-rendering items.\n   */\n  shouldItemUpdate: (\n    prevProps: {item: Item, index: number},\n    nextProps: {item: Item, index: number}\n  ) => boolean,\n};\n\ntype Props<SectionT> = RequiredProps<SectionT>\n  & OptionalProps<SectionT>\n  & VirtualizedSectionListProps<SectionT>;\n\ntype DefaultProps = typeof VirtualizedSectionList.defaultProps;\n\n/**\n * A performant interface for rendering sectioned lists, supporting the most handy features:\n *\n *  - Fully cross-platform.\n *  - Configurable viewability callbacks.\n *  - List header support.\n *  - List footer support.\n *  - Item separator support.\n *  - Section header support.\n *  - Section separator support.\n *  - Heterogeneous data and item rendering support.\n *  - Pull to Refresh.\n *  - Scroll loading.\n *\n * If you don't need section support and want a simpler interface, use [`<FlatList>`](/react-native/docs/flatlist.html).\n *\n * If you need _sticky_ section header support, use `ListView` for now.\n *\n * Simple Examples:\n *\n *     <SectionList\n *       renderItem={({item}) => <ListItem title={item.title}}\n *       renderSectionHeader={({section}) => <H1 title={section.key} />}\n *       sections={[ // homogenous rendering between sections\n *         {data: [...], key: ...},\n *         {data: [...], key: ...},\n *         {data: [...], key: ...},\n *       ]}\n *     />\n *\n *     <SectionList\n *       sections={[ // heterogeneous rendering between sections\n *         {data: [...], key: ..., renderItem: ...},\n *         {data: [...], key: ..., renderItem: ...},\n *         {data: [...], key: ..., renderItem: ...},\n *       ]}\n *     />\n *\n * This is a convenience wrapper around [`<VirtualizedList>`](/react-native/docs/virtualizedlist.html),\n * and thus inherits the following caveats:\n *\n * - Internal state is not preserved when content scrolls out of the render window. Make sure all\n *   your data is captured in the item data or external stores like Flux, Redux, or Relay.\n * - This is a `PureComponent` which means that it will not re-render if `props` remain shallow-\n *   equal. Make sure that everything your `renderItem` function depends on is passed as a prop that\n *   is not `===` after updates, otherwise your UI may not update on changes. This includes the\n *   `data` prop and parent component state.\n * - In order to constrain memory and enable smooth scrolling, content is rendered asynchronously\n *   offscreen. This means it's possible to scroll faster than the fill rate ands momentarily see\n *   blank content. This is a tradeoff that can be adjusted to suit the needs of each application,\n *   and we are working on improving it behind the scenes.\n * - By default, the list looks for a `key` prop on each item and uses that for the React key.\n *   Alternatively, you can provide a custom `keyExtractor` prop.\n */\nclass SectionList<SectionT: SectionBase<any>>\n  extends React.PureComponent<DefaultProps, Props<SectionT>, void>\n{\n  props: Props<SectionT>;\n  static defaultProps: DefaultProps = VirtualizedSectionList.defaultProps;\n\n  render() {\n    const List = this.props.legacyImplementation ? MetroListView : VirtualizedSectionList;\n    return <List {...this.props} />;\n  }\n}\n\nmodule.exports = SectionList;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * Facebook, Inc. (\"Facebook\") owns all right, title and interest, including\n * all intellectual property and other proprietary rights, in and to the React\n * Native CustomComponents software (the \"Software\").  Subject to your\n * compliance with these terms, you are hereby granted a non-exclusive,\n * worldwide, royalty-free copyright license to (1) use and copy the Software;\n * and (2) reproduce and distribute the Software as part of your own software\n * (\"Your Software\").  Facebook reserves all rights not expressly granted to\n * you in this license agreement.\n *\n * THE SOFTWARE AND DOCUMENTATION, IF ANY, ARE PROVIDED \"AS IS\" AND ANY EXPRESS\n * OR IMPLIED WARRANTIES (INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES\n * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE) ARE DISCLAIMED.\n * IN NO EVENT SHALL FACEBOOK OR ITS AFFILIATES, OFFICERS, DIRECTORS OR\n * EMPLOYEES BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,\n * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,\n * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;\n * OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,\n * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR\n * OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THE SOFTWARE, EVEN IF\n * ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @providesModule VirtualizedSectionList\n * @flow\n */\n'use strict';\n\nconst React = require('React');\nconst View = require('View');\nconst VirtualizedList = require('VirtualizedList');\n\nconst invariant = require('fbjs/lib/invariant');\nconst warning = require('fbjs/lib/warning');\n\nimport type {ViewToken} from 'ViewabilityHelper';\nimport type {Props as VirtualizedListProps} from 'VirtualizedList';\n\ntype Item = any;\ntype SectionItem = any;\n\ntype SectionBase = {\n  // Must be provided directly on each section.\n  data: Array<SectionItem>,\n  key: string,\n\n  // Optional props will override list-wide props just for this section.\n  renderItem?: ?({item: SectionItem, index: number}) => ?React.Element<*>,\n  SeparatorComponent?: ?ReactClass<*>,\n  keyExtractor?: (item: SectionItem) => string,\n\n  // TODO: support more optional/override props\n  // FooterComponent?: ?ReactClass<*>,\n  // HeaderComponent?: ?ReactClass<*>,\n  // onViewableItemsChanged?: ({viewableItems: Array<ViewToken>, changed: Array<ViewToken>}) => void,\n};\n\ntype RequiredProps<SectionT: SectionBase> = {\n  sections: Array<SectionT>,\n};\n\ntype OptionalProps<SectionT: SectionBase> = {\n  /**\n   * Rendered after the last item in the last section.\n   */\n  ListFooterComponent?: ?ReactClass<*>,\n  /**\n   * Rendered at the very beginning of the list.\n   */\n  ListHeaderComponent?: ?ReactClass<*>,\n  /**\n   * Default renderer for every item in every section.\n   */\n  renderItem: ({item: Item, index: number}) => ?React.Element<*>,\n  /**\n   * Rendered at the top of each section. In the future, a sticky option will be added.\n   */\n  renderSectionHeader?: ?({section: SectionT}) => ?React.Element<*>,\n  /**\n   * Rendered at the bottom of every Section, except the very last one, in place of the normal\n   * ItemSeparatorComponent.\n   */\n  SectionSeparatorComponent?: ?ReactClass<*>,\n  /**\n   * Rendered at the bottom of every Item except the very last one in the last section.\n   */\n  ItemSeparatorComponent?: ?ReactClass<*>,\n  /**\n   * Warning: Virtualization can drastically improve memory consumption for long lists, but trashes\n   * the state of items when they scroll out of the render window, so make sure all relavent data is\n   * stored outside of the recursive `renderItem` instance tree.\n   */\n  enableVirtualization?: ?boolean,\n  keyExtractor: (item: Item, index: number) => string,\n  onEndReached?: ?({distanceFromEnd: number}) => void,\n  /**\n   * If provided, a standard RefreshControl will be added for \"Pull to Refresh\" functionality. Make\n   * sure to also set the `refreshing` prop correctly.\n   */\n  onRefresh?: ?Function,\n  /**\n   * Called when the viewability of rows changes, as defined by the\n   * `viewabilityConfig` prop.\n   */\n  onViewableItemsChanged?: ?({viewableItems: Array<ViewToken>, changed: Array<ViewToken>}) => void,\n  /**\n   * Set this true while waiting for new data from a refresh.\n   */\n  refreshing?: ?boolean,\n  /**\n   * This is an optional optimization to minimize re-rendering items.\n   */\n  shouldItemUpdate: (\n    prevProps: {item: Item, index: number},\n    nextProps: {item: Item, index: number}\n  ) => boolean,\n};\n\nexport type Props<SectionT> =\n  RequiredProps<SectionT> &\n  OptionalProps<SectionT> &\n  VirtualizedListProps;\n\ntype DefaultProps = (typeof VirtualizedList.defaultProps) & {data: Array<Item>};\ntype State = {childProps: VirtualizedListProps};\n\n/**\n * Right now this just flattens everything into one list and uses VirtualizedList under the\n * hood. The only operation that might not scale well is concatting the data arrays of all the\n * sections when new props are received, which should be plenty fast for up to ~10,000 items.\n */\nclass VirtualizedSectionList<SectionT: SectionBase>\n  extends React.PureComponent<DefaultProps, Props<SectionT>, State>\n{\n  props: Props<SectionT>;\n\n  state: State;\n\n  static defaultProps: DefaultProps = {\n    ...VirtualizedList.defaultProps,\n    data: [],\n  };\n\n  _keyExtractor = (item: Item, index: number) => {\n    const info = this._subExtractor(index);\n    return (info && info.key) || String(index);\n  };\n\n  _subExtractor(\n    index: number,\n  ): ?{\n    section: SectionT,\n    key: string, // Key of the section or combined key for section + item\n    index: ?number, // Relative index within the section\n  } {\n    let itemIndex = index;\n    const defaultKeyExtractor = this.props.keyExtractor;\n    for (let ii = 0; ii < this.props.sections.length; ii++) {\n      const section = this.props.sections[ii];\n      const key = section.key;\n      warning(\n        key != null,\n        'VirtualizedSectionList: A `section` you supplied is missing the `key` property.'\n      );\n      itemIndex -= 1; // The section itself is an item\n      if (itemIndex >= section.data.length) {\n        itemIndex -= section.data.length;\n      } else if (itemIndex === -1) {\n        return {section, key, index: null};\n      } else {\n        const keyExtractor = section.keyExtractor || defaultKeyExtractor;\n        return {\n          section,\n          key: key + ':' + keyExtractor(section.data[itemIndex], itemIndex),\n          index: itemIndex,\n        };\n      }\n    }\n  }\n\n  _convertViewable = (viewable: ViewToken): ?ViewToken => {\n    invariant(viewable.index != null, 'Received a broken ViewToken');\n    const info = this._subExtractor(viewable.index);\n    if (!info) {\n      return null;\n    }\n    const keyExtractor = info.section.keyExtractor || this.props.keyExtractor;\n    return {\n      ...viewable,\n      index: info.index,\n      key: keyExtractor(viewable.item, info.index),\n      section: info.section,\n    };\n  };\n\n  _onViewableItemsChanged = (\n    {viewableItems, changed}: {viewableItems: Array<ViewToken>, changed: Array<ViewToken>}\n  ) => {\n    if (this.props.onViewableItemsChanged) {\n      this.props.onViewableItemsChanged({\n        viewableItems: viewableItems.map(this._convertViewable, this).filter(Boolean),\n        changed: changed.map(this._convertViewable, this).filter(Boolean),\n      });\n    }\n  }\n\n  _isItemSticky = (item, index) => {\n    const info = this._subExtractor(index);\n    return info && info.index == null;\n  };\n\n  _renderItem = ({item, index}: {item: Item, index: number}) => {\n    const info = this._subExtractor(index);\n    if (!info) {\n      return null;\n    } else if (info.index == null) {\n      const {renderSectionHeader} = this.props;\n      return renderSectionHeader ? renderSectionHeader({section: info.section}) : null;\n    } else {\n      const renderItem = info.section.renderItem ||\n        this.props.renderItem;\n      const SeparatorComponent = this._getSeparatorComponent(index, info);\n      invariant(renderItem, 'no renderItem!');\n      return (\n        <View>\n          {renderItem({item, index: info.index || 0})}\n          {SeparatorComponent && <SeparatorComponent />}\n        </View>\n      );\n    }\n  };\n\n  _getSeparatorComponent(index: number, info?: ?Object): ?ReactClass<*> {\n    info = info || this._subExtractor(index);\n    if (!info) {\n      return null;\n    }\n    const SeparatorComponent = info.section.SeparatorComponent || this.props.ItemSeparatorComponent;\n    const {SectionSeparatorComponent} = this.props;\n    const isLastItemInList = index === this.state.childProps.getItemCount() - 1;\n    const isLastItemInSection = info.index === info.section.data.length - 1;\n    if (SectionSeparatorComponent && isLastItemInSection && !isLastItemInList) {\n      return SectionSeparatorComponent;\n    }\n    if (SeparatorComponent && !isLastItemInSection && !isLastItemInList) {\n      return SeparatorComponent;\n    }\n    return null;\n  }\n\n  _shouldItemUpdate = (prev, next) => {\n    const {shouldItemUpdate} = this.props;\n    if (!shouldItemUpdate || shouldItemUpdate(prev, next)) {\n      return true;\n    }\n    return this._getSeparatorComponent(prev.index) !== this._getSeparatorComponent(next.index);\n  }\n\n  _computeState(props: Props<SectionT>): State {\n    const itemCount = props.sections.reduce((v, section) => v + section.data.length + 1, 0);\n    return {\n      childProps: {\n        ...props,\n        renderItem: this._renderItem,\n        ItemSeparatorComponent: undefined, // Rendered with renderItem\n        data: props.sections,\n        getItemCount: () => itemCount,\n        getItem,\n        isItemSticky: this._isItemSticky,\n        keyExtractor: this._keyExtractor,\n        onViewableItemsChanged:\n          props.onViewableItemsChanged ? this._onViewableItemsChanged : undefined,\n        shouldItemUpdate: this._shouldItemUpdate,\n      },\n    };\n  }\n\n  constructor(props: Props<SectionT>, context: Object) {\n    super(props, context);\n    warning(\n      !props.stickySectionHeadersEnabled,\n      'VirtualizedSectionList: Sticky headers only supported with legacyImplementation for now.'\n    );\n    this.state = this._computeState(props);\n  }\n\n  componentWillReceiveProps(nextProps: Props<SectionT>) {\n    this.setState(this._computeState(nextProps));\n  }\n\n  render() {\n    return <VirtualizedList {...this.state.childProps} />;\n  }\n}\n\nfunction getItem(sections: ?Array<Item>, index: number): ?Item {\n  if (!sections) {\n    return null;\n  }\n  let itemIdx = index - 1;\n  for (let ii = 0; ii < sections.length; ii++) {\n    if (itemIdx === -1) {\n      return sections[ii]; // The section itself is the item\n    } else if (itemIdx < sections[ii].data.length) {\n      return sections[ii].data[itemIdx];\n    } else {\n      itemIdx -= (sections[ii].data.length + 1);\n    }\n  }\n  return null;\n}\n\nmodule.exports = VirtualizedSectionList;\n","\n/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule SegmentedControlIOS\n */\n\n'use strict';\n\nvar React = require('React');\nvar StyleSheet = require('StyleSheet');\nvar Text = require('Text');\nvar View = require('View');\n\nclass DummySegmentedControlIOS extends React.Component {\n  render() {\n    return (\n      <View style={[styles.dummy, this.props.style]}>\n        <Text style={styles.text}>\n          SegmentedControlIOS is not supported on this platform!\n        </Text>\n      </View>\n    );\n  }\n}\n\nvar styles = StyleSheet.create({\n  dummy: {\n    width: 120,\n    height: 50,\n    backgroundColor: '#ffbcbc',\n    borderWidth: 1,\n    borderColor: 'red',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  text: {\n    color: '#333333',\n    margin: 5,\n    fontSize: 10,\n  }\n});\n\nmodule.exports = DummySegmentedControlIOS;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule Slider\n * @flow\n */\n'use strict';\n\nvar Image = require('Image');\nvar ColorPropType = require('ColorPropType');\nvar NativeMethodsMixin = require('NativeMethodsMixin');\nvar ReactNativeViewAttributes = require('ReactNativeViewAttributes');\nvar Platform = require('Platform');\nvar React = require('React');\nvar StyleSheet = require('StyleSheet');\nvar View = require('View');\n\nvar requireNativeComponent = require('requireNativeComponent');\n\nvar PropTypes = React.PropTypes;\n\ntype Event = Object;\n\n/**\n * A component used to select a single value from a range of values.\n */\nvar Slider = React.createClass({\n  mixins: [NativeMethodsMixin],\n\n  propTypes: {\n    ...View.propTypes,\n\n    /**\n     * Used to style and layout the `Slider`.  See `StyleSheet.js` and\n     * `ViewStylePropTypes.js` for more info.\n     */\n    style: View.propTypes.style,\n\n    /**\n     * Initial value of the slider. The value should be between minimumValue\n     * and maximumValue, which default to 0 and 1 respectively.\n     * Default value is 0.\n     *\n     * *This is not a controlled component*, you don't need to update the\n     * value during dragging.\n     */\n    value: PropTypes.number,\n\n    /**\n     * Step value of the slider. The value should be\n     * between 0 and (maximumValue - minimumValue).\n     * Default value is 0.\n     */\n    step: PropTypes.number,\n\n    /**\n     * Initial minimum value of the slider. Default value is 0.\n     */\n    minimumValue: PropTypes.number,\n\n    /**\n     * Initial maximum value of the slider. Default value is 1.\n     */\n    maximumValue: PropTypes.number,\n\n    /**\n     * The color used for the track to the left of the button.\n     * Overrides the default blue gradient image on iOS.\n     */\n    minimumTrackTintColor: ColorPropType,\n\n    /**\n     * The color used for the track to the right of the button.\n     * Overrides the default blue gradient image on iOS.\n     */\n    maximumTrackTintColor: ColorPropType,\n\n    /**\n     * If true the user won't be able to move the slider.\n     * Default value is false.\n     */\n    disabled: PropTypes.bool,\n\n    /**\n     * Assigns a single image for the track. Only static images are supported.\n     * The center pixel of the image will be stretched to fill the track.\n     * @platform ios\n     */\n    trackImage: Image.propTypes.source,\n\n    /**\n     * Assigns a minimum track image. Only static images are supported. The\n     * rightmost pixel of the image will be stretched to fill the track.\n     * @platform ios\n     */\n    minimumTrackImage: Image.propTypes.source,\n\n    /**\n     * Assigns a maximum track image. Only static images are supported. The\n     * leftmost pixel of the image will be stretched to fill the track.\n     * @platform ios\n     */\n    maximumTrackImage: Image.propTypes.source,\n\n    /**\n     * Sets an image for the thumb. Only static images are supported.\n     * @platform ios\n     */\n    thumbImage: Image.propTypes.source,\n\n    /**\n     * Color of the foreground switch grip.\n     * @platform android\n     */\n    thumbTintColor: ColorPropType,\n\n    /**\n     * Callback continuously called while the user is dragging the slider.\n     */\n    onValueChange: PropTypes.func,\n\n    /**\n     * Callback called when the user finishes changing the value (e.g. when\n     * the slider is released).\n     */\n    onSlidingComplete: PropTypes.func,\n\n    /**\n     * Used to locate this view in UI automation tests.\n     */\n    testID: PropTypes.string,\n  },\n\n  getDefaultProps: function() : any {\n    return {\n      disabled: false,\n      value: 0,\n      minimumValue: 0,\n      maximumValue: 1,\n      step: 0\n    };\n  },\n\n  viewConfig: {\n    uiViewClassName: 'RCTSlider',\n    validAttributes: {\n      ...ReactNativeViewAttributes.RCTView,\n      value: true\n    }\n  },\n\n  render: function() {\n    const {style, onValueChange, onSlidingComplete, ...props} = this.props;\n    props.style = [styles.slider, style];\n\n    props.onValueChange = onValueChange && ((event: Event) => {\n      let userEvent = true;\n      if (Platform.OS === 'android') {\n        // On Android there's a special flag telling us the user is\n        // dragging the slider.\n        userEvent = event.nativeEvent.fromUser;\n      }\n      onValueChange && userEvent && onValueChange(event.nativeEvent.value);\n    });\n\n    props.onChange = props.onValueChange;\n\n    props.onSlidingComplete = onSlidingComplete && ((event: Event) => {\n      onSlidingComplete && onSlidingComplete(event.nativeEvent.value);\n    });\n\n    return <RCTSlider\n      {...props}\n      enabled={!this.props.disabled}\n      onStartShouldSetResponder={() => true}\n      onResponderTerminationRequest={() => false}\n    />;\n  }\n});\n\nlet styles;\nif (Platform.OS === 'ios') {\n  styles = StyleSheet.create({\n    slider: {\n      height: 40,\n    },\n  });\n} else {\n  styles = StyleSheet.create({\n    slider: {},\n  });\n}\n\nlet options = {};\nif (Platform.OS === 'android') {\n  options = {\n    nativeOnly: {\n      enabled: true,\n    }\n  };\n}\nconst RCTSlider = requireNativeComponent('RCTSlider', Slider, options);\n\nmodule.exports = Slider;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule SnapshotViewIOS\n */\n'use strict';\n\nmodule.exports = require('UnimplementedView');\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule Switch\n * @flow\n */\n'use strict';\n\nvar ColorPropType = require('ColorPropType');\nvar NativeMethodsMixin = require('NativeMethodsMixin');\nvar Platform = require('Platform');\nvar React = require('React');\nvar StyleSheet = require('StyleSheet');\nvar View = require('View');\n\nvar requireNativeComponent = require('requireNativeComponent');\n\nvar { PropTypes } = React;\n\ntype DefaultProps = {\n  value: boolean,\n  disabled: boolean,\n};\n\n/**\n * Renders a boolean input.\n *\n * This is a controlled component that requires an `onValueChange` callback that\n * updates the `value` prop in order for the component to reflect user actions.\n * If the `value` prop is not updated, the component will continue to render\n * the supplied `value` prop instead of the expected result of any user actions.\n *\n * @keyword checkbox\n * @keyword toggle\n */\nvar Switch = React.createClass({\n  propTypes: {\n    ...View.propTypes,\n    /**\n     * The value of the switch.  If true the switch will be turned on.\n     * Default value is false.\n     */\n    value: PropTypes.bool,\n    /**\n     * If true the user won't be able to toggle the switch.\n     * Default value is false.\n     */\n    disabled: PropTypes.bool,\n    /**\n     * Invoked with the new value when the value changes.\n     */\n    onValueChange: PropTypes.func,\n    /**\n     * Used to locate this view in end-to-end tests.\n     */\n    testID: PropTypes.string,\n\n    /**\n     * Border color on iOS and background color on Android when the switch is turned off.\n     */\n    tintColor: ColorPropType,\n    /**\n     * Background color when the switch is turned on.\n     */\n    onTintColor: ColorPropType,\n    /**\n     * Color of the foreground switch grip.\n     */\n    thumbTintColor: ColorPropType,\n  },\n\n  getDefaultProps: function(): DefaultProps {\n    return {\n      value: false,\n      disabled: false,\n    };\n  },\n\n  mixins: [NativeMethodsMixin],\n\n  _rctSwitch: {},\n  _onChange: function(event: Object) {\n    if (Platform.OS === 'android') {\n      this._rctSwitch.setNativeProps({on: this.props.value});\n    } else {\n      this._rctSwitch.setNativeProps({value: this.props.value});\n    }\n    //Change the props after the native props are set in case the props change removes the component\n    this.props.onChange && this.props.onChange(event);\n    this.props.onValueChange && this.props.onValueChange(event.nativeEvent.value);\n  },\n\n  render: function() {\n    var props = {...this.props};\n    props.onStartShouldSetResponder = () => true;\n    props.onResponderTerminationRequest = () => false;\n    if (Platform.OS === 'android') {\n      props.enabled = !this.props.disabled;\n      props.on = this.props.value;\n      props.style = this.props.style;\n      props.trackTintColor = this.props.value ? this.props.onTintColor : this.props.tintColor;\n    } else if (Platform.OS === 'ios') {\n      props.style = [styles.rctSwitchIOS, this.props.style];\n    }\n    return (\n      <RCTSwitch\n        {...props}\n        ref={(ref) => { this._rctSwitch = ref; }}\n        onChange={this._onChange}\n      />\n    );\n  },\n});\n\nvar styles = StyleSheet.create({\n  rctSwitchIOS: {\n    height: 31,\n    width: 51,\n  }\n});\n\nif (Platform.OS === 'android') {\n  var RCTSwitch = requireNativeComponent('AndroidSwitch', Switch, {\n    nativeOnly: {\n      onChange: true,\n      on: true,\n      enabled: true,\n      trackTintColor: true,\n    }\n  });\n} else {\n  var RCTSwitch = requireNativeComponent('RCTSwitch', Switch, {\n    nativeOnly: {\n      onChange: true\n    }\n  });\n}\n\nmodule.exports = Switch;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * The examples provided by Facebook are for non-commercial testing and\n * evaluation purposes only.\n *\n * Facebook reserves all rights not expressly granted.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n * OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NON INFRINGEMENT. IN NO EVENT SHALL\n * FACEBOOK BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN\n * AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN\n * CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.  *\n *\n * @providesModule SwipeableListView\n * @flow\n */\n'use strict';\n\nconst ListView = require('ListView');\nconst React = require('React');\nconst SwipeableListViewDataSource = require('SwipeableListViewDataSource');\nconst SwipeableRow = require('SwipeableRow');\n\nconst {PropTypes} = React;\n\ntype Props = {\n  bounceFirstRowOnMount: boolean,\n  dataSource: SwipeableListViewDataSource,\n  maxSwipeDistance: number | (rowData: any, sectionID: string, rowID: string) => number,\n  onScroll?: ?Function,\n  renderRow: Function,\n  renderQuickActions: Function,\n};\n\ntype State = {\n  dataSource: Object,\n};\n\n/**\n * A container component that renders multiple SwipeableRow's in a ListView\n * implementation. This is designed to be a drop-in replacement for the\n * standard React Native `ListView`, so use it as if it were a ListView, but\n * with extra props, i.e.\n *\n * let ds = SwipeableListView.getNewDataSource();\n * ds.cloneWithRowsAndSections(dataBlob, ?sectionIDs, ?rowIDs);\n * // ..\n * <SwipeableListView renderRow={..} renderQuickActions={..} {..ListView props} />\n *\n * SwipeableRow can be used independently of this component, but the main\n * benefit of using this component is\n *\n * - It ensures that at most 1 row is swiped open (auto closes others)\n * - It can bounce the 1st row of the list so users know it's swipeable\n * - More to come\n */\nclass SwipeableListView extends React.Component {\n  props: Props;\n  state: State;\n\n  _listViewRef: ?React.Element<any> = null;\n  _shouldBounceFirstRowOnMount: boolean = false;\n\n  static getNewDataSource(): Object {\n    return new SwipeableListViewDataSource({\n      getRowData: (data, sectionID, rowID) => data[sectionID][rowID],\n      getSectionHeaderData: (data, sectionID) => data[sectionID],\n      rowHasChanged: (row1, row2) => row1 !== row2,\n      sectionHeaderHasChanged: (s1, s2) => s1 !== s2,\n    });\n  }\n\n  static propTypes = {\n    /**\n     * To alert the user that swiping is possible, the first row can bounce\n     * on component mount.\n     */\n    bounceFirstRowOnMount: PropTypes.bool.isRequired,\n    /**\n     * Use `SwipeableListView.getNewDataSource()` to get a data source to use,\n     * then use it just like you would a normal ListView data source\n     */\n    dataSource: PropTypes.instanceOf(SwipeableListViewDataSource).isRequired,\n    // Maximum distance to open to after a swipe\n    maxSwipeDistance: PropTypes.oneOfType([\n      PropTypes.number,\n      PropTypes.func,\n    ]).isRequired,\n    // Callback method to render the swipeable view\n    renderRow: PropTypes.func.isRequired,\n    // Callback method to render the view that will be unveiled on swipe\n    renderQuickActions: PropTypes.func.isRequired,\n  };\n\n  static defaultProps = {\n    bounceFirstRowOnMount: false,\n    renderQuickActions: () => null,\n  };\n\n  constructor(props: Props, context: any): void {\n    super(props, context);\n\n    this._shouldBounceFirstRowOnMount = this.props.bounceFirstRowOnMount;\n    this.state = {\n      dataSource: this.props.dataSource,\n    };\n  }\n\n  componentWillReceiveProps(nextProps: Props): void {\n    if (this.state.dataSource.getDataSource() !== nextProps.dataSource.getDataSource()) {\n      this.setState({\n        dataSource: nextProps.dataSource,\n      });\n    }\n  }\n\n  render(): React.Element<any> {\n    return (\n      <ListView\n        {...this.props}\n        ref={(ref) => {\n          this._listViewRef = ref;\n        }}\n        dataSource={this.state.dataSource.getDataSource()}\n        onScroll={this._onScroll}\n        renderRow={this._renderRow}\n      />\n    );\n  }\n\n  _onScroll = (e): void => {\n    // Close any opens rows on ListView scroll\n    if (this.props.dataSource.getOpenRowID()) {\n      this.setState({\n        dataSource: this.state.dataSource.setOpenRowID(null),\n      });\n    }\n    this.props.onScroll && this.props.onScroll(e);\n  }\n\n  /**\n   * This is a work-around to lock vertical `ListView` scrolling on iOS and\n   * mimic Android behaviour. Locking vertical scrolling when horizontal\n   * scrolling is active allows us to significantly improve framerates\n   * (from high 20s to almost consistently 60 fps)\n   */\n  _setListViewScrollable(value: boolean): void {\n    if (this._listViewRef && typeof this._listViewRef.setNativeProps === 'function') {\n      this._listViewRef.setNativeProps({\n        scrollEnabled: value,\n      });\n    }\n  }\n\n  // Passing through ListView's getScrollResponder() function\n  getScrollResponder(): ?Object {\n    if (this._listViewRef && typeof this._listViewRef.getScrollResponder === 'function') {\n      return this._listViewRef.getScrollResponder();\n    }\n  }\n\n  // This enables rows having variable width slideoutView.\n  _getMaxSwipeDistance(rowData: Object, sectionID: string, rowID: string): number {\n    if (typeof this.props.maxSwipeDistance === 'function') {\n      return this.props.maxSwipeDistance(rowData, sectionID, rowID);\n    }\n\n    return this.props.maxSwipeDistance;\n  }\n\n  _renderRow = (rowData: Object, sectionID: string, rowID: string): React.Element<any> => {\n    const slideoutView = this.props.renderQuickActions(rowData, sectionID, rowID);\n\n    // If renderQuickActions is unspecified or returns falsey, don't allow swipe\n    if (!slideoutView) {\n      return this.props.renderRow(rowData, sectionID, rowID);\n    }\n\n    let shouldBounceOnMount = false;\n    if (this._shouldBounceFirstRowOnMount) {\n      this._shouldBounceFirstRowOnMount = false;\n      shouldBounceOnMount = rowID === this.props.dataSource.getFirstRowID();\n    }\n\n    return (\n      <SwipeableRow\n        slideoutView={slideoutView}\n        isOpen={rowData.id === this.props.dataSource.getOpenRowID()}\n        maxSwipeDistance={this._getMaxSwipeDistance(rowData, sectionID, rowID)}\n        key={rowID}\n        onOpen={() => this._onOpen(rowData.id)}\n        onClose={() => this._onClose(rowData.id)}\n        onSwipeEnd={() => this._setListViewScrollable(true)}\n        onSwipeStart={() => this._setListViewScrollable(false)}\n        shouldBounceOnMount={shouldBounceOnMount}>\n        {this.props.renderRow(rowData, sectionID, rowID)}\n      </SwipeableRow>\n    );\n  };\n\n  _onOpen(rowID: string): void {\n    this.setState({\n      dataSource: this.state.dataSource.setOpenRowID(rowID),\n    });\n  }\n\n  _onClose(rowID: string): void {\n    this.setState({\n      dataSource: this.state.dataSource.setOpenRowID(null),\n    });\n  }\n}\n\nmodule.exports = SwipeableListView;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * The examples provided by Facebook are for non-commercial testing and\n * evaluation purposes only.\n *\n * Facebook reserves all rights not expressly granted.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n * OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NON INFRINGEMENT. IN NO EVENT SHALL\n * FACEBOOK BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN\n * AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN\n * CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.  *\n *\n * @providesModule SwipeableListViewDataSource\n */\n'use strict';\n\nconst ListViewDataSource = require('ListViewDataSource');\n\n/**\n * Data source wrapper around ListViewDataSource to allow for tracking of\n * which row is swiped open and close opened row(s) when another row is swiped\n * open.\n *\n * See https://github.com/facebook/react-native/pull/5602 for why\n * ListViewDataSource is not subclassed.\n */\nclass SwipeableListViewDataSource {\n  _previousOpenRowID: string;\n  _openRowID: string;\n\n  _dataBlob: any;\n  _dataSource: ListViewDataSource;\n\n  rowIdentities: Array<Array<string>>;\n  sectionIdentities: Array<string>;\n\n  constructor(params: Object) {\n    this._dataSource = new ListViewDataSource({\n      getRowData: params.getRowData,\n      getSectionHeaderData: params.getSectionHeaderData,\n      rowHasChanged: (row1, row2) => {\n        /**\n         * Row needs to be re-rendered if its swiped open/close status is\n         * changed, or its data blob changed.\n         */\n        return (\n          (row1.id !== this._previousOpenRowID && row2.id === this._openRowID) ||\n          (row1.id === this._previousOpenRowID && row2.id !== this._openRowID) ||\n          params.rowHasChanged(row1, row2)\n        );\n      },\n      sectionHeaderHasChanged: params.sectionHeaderHasChanged,\n    });\n  }\n\n  cloneWithRowsAndSections(\n    dataBlob: any,\n    sectionIdentities: ?Array<string>,\n    rowIdentities: ?Array<Array<string>>\n  ): SwipeableListViewDataSource {\n    this._dataSource = this._dataSource.cloneWithRowsAndSections(\n      dataBlob,\n      sectionIdentities,\n      rowIdentities\n    );\n\n    this._dataBlob = dataBlob;\n    this.rowIdentities = this._dataSource.rowIdentities;\n    this.sectionIdentities = this._dataSource.sectionIdentities;\n\n    return this;\n  }\n\n  // For the actual ListView to use\n  getDataSource(): ListViewDataSource {\n    return this._dataSource;\n  }\n\n  getOpenRowID(): ?string {\n    return this._openRowID;\n  }\n\n  getFirstRowID(): ?string {\n    /**\n     * If rowIdentities is specified, find the first data row from there since\n     * we don't want to attempt to bounce section headers. If unspecified, find\n     * the first data row from _dataBlob.\n     */\n    if (this.rowIdentities) {\n      return this.rowIdentities[0] && this.rowIdentities[0][0];\n    }\n    return Object.keys(this._dataBlob)[0];\n  }\n\n  setOpenRowID(rowID: string): SwipeableListViewDataSource {\n    this._previousOpenRowID = this._openRowID;\n    this._openRowID = rowID;\n\n    this._dataSource = this._dataSource.cloneWithRowsAndSections(\n      this._dataBlob,\n      this.sectionIdentities,\n      this.rowIdentities\n    );\n\n    return this;\n  }\n}\n\nmodule.exports = SwipeableListViewDataSource;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * The examples provided by Facebook are for non-commercial testing and\n * evaluation purposes only.\n *\n * Facebook reserves all rights not expressly granted.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n * OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NON INFRINGEMENT. IN NO EVENT SHALL\n * FACEBOOK BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN\n * AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN\n * CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.  *\n *\n * @providesModule SwipeableRow\n * @flow\n */\n'use strict';\n\nconst Animated = require('Animated');\nconst I18nManager = require('I18nManager');\nconst PanResponder = require('PanResponder');\nconst React = require('React');\nconst StyleSheet = require('StyleSheet');\nconst TimerMixin = require('react-timer-mixin');\nconst View = require('View');\n\nconst {PropTypes} = React;\n\nconst emptyFunction = require('fbjs/lib/emptyFunction');\n\nconst IS_RTL = I18nManager.isRTL;\n\n// NOTE: Eventually convert these consts to an input object of configurations\n\n// Position of the left of the swipable item when closed\nconst CLOSED_LEFT_POSITION = 0;\n// Minimum swipe distance before we recognize it as such\nconst HORIZONTAL_SWIPE_DISTANCE_THRESHOLD = 10;\n// Minimum swipe speed before we fully animate the user's action (open/close)\nconst HORIZONTAL_FULL_SWIPE_SPEED_THRESHOLD = 0.3;\n// Factor to divide by to get slow speed; i.e. 4 means 1/4 of full speed\nconst SLOW_SPEED_SWIPE_FACTOR = 4;\n// Time, in milliseconds, of how long the animated swipe should be\nconst SWIPE_DURATION = 300;\n\n/**\n * On SwipeableListView mount, the 1st item will bounce to show users it's\n * possible to swipe\n */\nconst ON_MOUNT_BOUNCE_DELAY = 700;\nconst ON_MOUNT_BOUNCE_DURATION = 400;\n\n// Distance left of closed position to bounce back when right-swiping from closed\nconst RIGHT_SWIPE_BOUNCE_BACK_DISTANCE = 30;\nconst RIGHT_SWIPE_BOUNCE_BACK_DURATION = 300;\n/**\n * Max distance of right swipe to allow (right swipes do functionally nothing).\n * Must be multiplied by SLOW_SPEED_SWIPE_FACTOR because gestureState.dx tracks\n * how far the finger swipes, and not the actual animation distance.\n*/\nconst RIGHT_SWIPE_THRESHOLD = 30 * SLOW_SPEED_SWIPE_FACTOR;\n\n/**\n * Creates a swipable row that allows taps on the main item and a custom View\n * on the item hidden behind the row. Typically this should be used in\n * conjunction with SwipeableListView for additional functionality, but can be\n * used in a normal ListView. See the renderRow for SwipeableListView to see how\n * to use this component separately.\n */\nconst SwipeableRow = React.createClass({\n  _panResponder: {},\n  _previousLeft: CLOSED_LEFT_POSITION,\n\n  mixins: [TimerMixin],\n\n  propTypes: {\n    children: PropTypes.any,\n    isOpen: PropTypes.bool,\n    maxSwipeDistance: PropTypes.number.isRequired,\n    onOpen: PropTypes.func.isRequired,\n    onClose: PropTypes.func.isRequired,\n    onSwipeEnd: PropTypes.func.isRequired,\n    onSwipeStart: PropTypes.func.isRequired,\n    // Should bounce the row on mount\n    shouldBounceOnMount: PropTypes.bool,\n    /**\n     * A ReactElement that is unveiled when the user swipes\n     */\n    slideoutView: PropTypes.node.isRequired,\n    /**\n     * The minimum swipe distance required before fully animating the swipe. If\n     * the user swipes less than this distance, the item will return to its\n     * previous (open/close) position.\n     */\n    swipeThreshold: PropTypes.number.isRequired,\n  },\n\n  getInitialState(): Object {\n    return {\n      currentLeft: new Animated.Value(this._previousLeft),\n      /**\n       * In order to render component A beneath component B, A must be rendered\n       * before B. However, this will cause \"flickering\", aka we see A briefly\n       * then B. To counter this, _isSwipeableViewRendered flag is used to set\n       * component A to be transparent until component B is loaded.\n       */\n      isSwipeableViewRendered: false,\n      rowHeight: (null: ?number),\n    };\n  },\n\n  getDefaultProps(): Object {\n    return {\n      isOpen: false,\n      maxSwipeDistance: 0,\n      onOpen: emptyFunction,\n      onClose: emptyFunction,\n      onSwipeEnd: emptyFunction,\n      onSwipeStart: emptyFunction,\n      swipeThreshold: 30,\n    };\n  },\n\n  componentWillMount(): void {\n    this._panResponder = PanResponder.create({\n      onMoveShouldSetPanResponderCapture: this._handleMoveShouldSetPanResponderCapture,\n      onPanResponderGrant: this._handlePanResponderGrant,\n      onPanResponderMove: this._handlePanResponderMove,\n      onPanResponderRelease: this._handlePanResponderEnd,\n      onPanResponderTerminationRequest: this._onPanResponderTerminationRequest,\n      onPanResponderTerminate: this._handlePanResponderEnd,\n      onShouldBlockNativeResponder: (event, gestureState) => false,\n    });\n  },\n\n  componentDidMount(): void {\n    if (this.props.shouldBounceOnMount) {\n      /**\n       * Do the on mount bounce after a delay because if we animate when other\n       * components are loading, the animation will be laggy\n       */\n      this.setTimeout(() => {\n        this._animateBounceBack(ON_MOUNT_BOUNCE_DURATION);\n      }, ON_MOUNT_BOUNCE_DELAY);\n    }\n  },\n\n  componentWillReceiveProps(nextProps: Object): void {\n    /**\n     * We do not need an \"animateOpen(noCallback)\" because this animation is\n     * handled internally by this component.\n     */\n    if (this.props.isOpen && !nextProps.isOpen) {\n      this._animateToClosedPosition();\n    }\n  },\n\n  shouldComponentUpdate(nextProps: Object, nextState: Object): boolean {\n    if (this.props.shouldBounceOnMount && !nextProps.shouldBounceOnMount) {\n      // No need to rerender if SwipeableListView is disabling the bounce flag\n      return false;\n    }\n\n    return true;\n  },\n\n  render(): React.Element<any> {\n    // The view hidden behind the main view\n    let slideOutView;\n    if (this.state.isSwipeableViewRendered && this.state.rowHeight) {\n      slideOutView = (\n        <View style={[\n          styles.slideOutContainer,\n          {height: this.state.rowHeight},\n          ]}>\n          {this.props.slideoutView}\n        </View>\n      );\n    }\n\n    // The swipeable item\n    const swipeableView = (\n      <Animated.View\n        onLayout={this._onSwipeableViewLayout}\n        style={{transform: [{translateX: this.state.currentLeft}]}}>\n        {this.props.children}\n      </Animated.View>\n    );\n\n    return (\n      <View\n        {...this._panResponder.panHandlers}>\n        {slideOutView}\n        {swipeableView}\n      </View>\n    );\n  },\n\n  _onSwipeableViewLayout(event: Object): void {\n    this.setState({\n      isSwipeableViewRendered: true,\n      rowHeight: event.nativeEvent.layout.height,\n    });\n  },\n\n  _handleMoveShouldSetPanResponderCapture(\n    event: Object,\n    gestureState: Object,\n  ): boolean {\n    // Decides whether a swipe is responded to by this component or its child\n    return gestureState.dy < 10 && this._isValidSwipe(gestureState);\n  },\n\n  _handlePanResponderGrant(event: Object, gestureState: Object): void {\n\n  },\n\n  _handlePanResponderMove(event: Object, gestureState: Object): void {\n    if (this._isSwipingExcessivelyRightFromClosedPosition(gestureState)) {\n      return;\n    }\n\n    this.props.onSwipeStart();\n\n    if (this._isSwipingRightFromClosed(gestureState)) {\n      this._swipeSlowSpeed(gestureState);\n    } else {\n      this._swipeFullSpeed(gestureState);\n    }\n  },\n\n  _isSwipingRightFromClosed(gestureState: Object): boolean {\n    const gestureStateDx = IS_RTL ? -gestureState.dx : gestureState.dx;\n    return this._previousLeft === CLOSED_LEFT_POSITION && gestureStateDx > 0;\n  },\n\n  _swipeFullSpeed(gestureState: Object): void {\n    this.state.currentLeft.setValue(this._previousLeft + gestureState.dx);\n  },\n\n  _swipeSlowSpeed(gestureState: Object): void {\n    this.state.currentLeft.setValue(\n      this._previousLeft + gestureState.dx / SLOW_SPEED_SWIPE_FACTOR,\n    );\n  },\n\n  _isSwipingExcessivelyRightFromClosedPosition(gestureState: Object): boolean {\n    /**\n     * We want to allow a BIT of right swipe, to allow users to know that\n     * swiping is available, but swiping right does not do anything\n     * functionally.\n     */\n    const gestureStateDx = IS_RTL ? -gestureState.dx : gestureState.dx;\n    return (\n      this._isSwipingRightFromClosed(gestureState) &&\n      gestureStateDx > RIGHT_SWIPE_THRESHOLD\n    );\n  },\n\n  _onPanResponderTerminationRequest(\n    event: Object,\n    gestureState: Object,\n  ): boolean {\n    return false;\n  },\n\n  _animateTo(\n    toValue: number,\n    duration: number = SWIPE_DURATION,\n    callback: Function = emptyFunction,\n  ): void {\n    Animated.timing(\n      this.state.currentLeft,\n      {\n        duration,\n        toValue,\n      },\n    ).start(() => {\n      this._previousLeft = toValue;\n      callback();\n    });\n  },\n\n  _animateToOpenPosition(): void {\n    const maxSwipeDistance = IS_RTL ? -this.props.maxSwipeDistance : this.props.maxSwipeDistance;\n    this._animateTo(-maxSwipeDistance);\n  },\n\n  _animateToOpenPositionWith(\n    speed: number,\n    distMoved: number,\n  ): void {\n    /**\n     * Ensure the speed is at least the set speed threshold to prevent a slow\n     * swiping animation\n     */\n    speed = (\n      speed > HORIZONTAL_FULL_SWIPE_SPEED_THRESHOLD ?\n      speed :\n      HORIZONTAL_FULL_SWIPE_SPEED_THRESHOLD\n    );\n    /**\n     * Calculate the duration the row should take to swipe the remaining distance\n     * at the same speed the user swiped (or the speed threshold)\n     */\n    const duration = Math.abs((this.props.maxSwipeDistance - Math.abs(distMoved)) / speed);\n    const maxSwipeDistance = IS_RTL ? -this.props.maxSwipeDistance : this.props.maxSwipeDistance;\n    this._animateTo(-maxSwipeDistance, duration);\n  },\n\n  _animateToClosedPosition(duration: number = SWIPE_DURATION): void {\n    this._animateTo(CLOSED_LEFT_POSITION, duration);\n  },\n\n  _animateToClosedPositionDuringBounce(): void {\n    this._animateToClosedPosition(RIGHT_SWIPE_BOUNCE_BACK_DURATION);\n  },\n\n  _animateBounceBack(duration: number): void {\n    /**\n     * When swiping right, we want to bounce back past closed position on release\n     * so users know they should swipe right to get content.\n     */\n    const swipeBounceBackDistance = IS_RTL ?\n      -RIGHT_SWIPE_BOUNCE_BACK_DISTANCE :\n      RIGHT_SWIPE_BOUNCE_BACK_DISTANCE;\n    this._animateTo(\n      -swipeBounceBackDistance,\n      duration,\n      this._animateToClosedPositionDuringBounce,\n    );\n  },\n\n  // Ignore swipes due to user's finger moving slightly when tapping\n  _isValidSwipe(gestureState: Object): boolean {\n    return Math.abs(gestureState.dx) > HORIZONTAL_SWIPE_DISTANCE_THRESHOLD;\n  },\n\n  _shouldAnimateRemainder(gestureState: Object): boolean {\n    /**\n     * If user has swiped past a certain distance, animate the rest of the way\n     * if they let go\n     */\n    return (\n      Math.abs(gestureState.dx) > this.props.swipeThreshold ||\n      gestureState.vx > HORIZONTAL_FULL_SWIPE_SPEED_THRESHOLD\n    );\n  },\n\n  _handlePanResponderEnd(event: Object, gestureState: Object): void {\n    const horizontalDistance = IS_RTL ? -gestureState.dx : gestureState.dx;\n    if (this._isSwipingRightFromClosed(gestureState)) {\n      this.props.onOpen();\n      this._animateBounceBack(RIGHT_SWIPE_BOUNCE_BACK_DURATION);\n    } else if (this._shouldAnimateRemainder(gestureState)) {\n      if (horizontalDistance < 0) {\n        // Swiped left\n        this.props.onOpen();\n        this._animateToOpenPositionWith(gestureState.vx, horizontalDistance);\n      } else {\n        // Swiped right\n        this.props.onClose();\n        this._animateToClosedPosition();\n      }\n    } else {\n      if (this._previousLeft === CLOSED_LEFT_POSITION) {\n        this._animateToClosedPosition();\n      } else {\n        this._animateToOpenPosition();\n      }\n    }\n\n    this.props.onSwipeEnd();\n  },\n});\n\nconst styles = StyleSheet.create({\n  slideOutContainer: {\n    bottom: 0,\n    left: 0,\n    position: 'absolute',\n    right: 0,\n    top: 0,\n  },\n});\n\nmodule.exports = SwipeableRow;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule TabBarIOS\n */\n\n'use strict';\n\nvar React = require('React');\nvar View = require('View');\nvar StyleSheet = require('StyleSheet');\n\nclass DummyTabBarIOS extends React.Component {\n  render() {\n    return (\n      <View style={[this.props.style, styles.tabGroup]}>\n        {this.props.children}\n      </View>\n    );\n  }\n}\n\nvar styles = StyleSheet.create({\n  tabGroup: {\n    flex: 1,\n  }\n});\n\nmodule.exports = DummyTabBarIOS;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule TextInput\n * @flow\n */\n'use strict';\n\nconst ColorPropType = require('ColorPropType');\nconst DocumentSelectionState = require('DocumentSelectionState');\nconst EventEmitter = require('EventEmitter');\nconst NativeMethodsMixin = require('NativeMethodsMixin');\nconst Platform = require('Platform');\nconst React = require('React');\nconst ReactNative = require('ReactNative');\nconst StyleSheet = require('StyleSheet');\nconst Text = require('Text');\nconst TextInputState = require('TextInputState');\nconst TimerMixin = require('react-timer-mixin');\nconst TouchableWithoutFeedback = require('TouchableWithoutFeedback');\nconst UIManager = require('UIManager');\nconst View = require('View');\n\nconst emptyFunction = require('fbjs/lib/emptyFunction');\nconst invariant = require('fbjs/lib/invariant');\nconst requireNativeComponent = require('requireNativeComponent');\nconst warning = require('fbjs/lib/warning');\n\nconst PropTypes = React.PropTypes;\n\nconst onlyMultiline = {\n  onTextInput: true,\n  children: true,\n};\n\nif (Platform.OS === 'android') {\n  var AndroidTextInput = requireNativeComponent('AndroidTextInput', null);\n} else if (Platform.OS === 'ios') {\n  var RCTTextView = requireNativeComponent('RCTTextView', null);\n  var RCTTextField = requireNativeComponent('RCTTextField', null);\n}\n\ntype Event = Object;\ntype Selection = {\n  start: number,\n  end?: number,\n};\n\nconst DataDetectorTypes = [\n  'phoneNumber',\n  'link',\n  'address',\n  'calendarEvent',\n  'none',\n  'all',\n];\n\n/**\n * A foundational component for inputting text into the app via a\n * keyboard. Props provide configurability for several features, such as\n * auto-correction, auto-capitalization, placeholder text, and different keyboard\n * types, such as a numeric keypad.\n *\n * The simplest use case is to plop down a `TextInput` and subscribe to the\n * `onChangeText` events to read the user input. There are also other events,\n * such as `onSubmitEditing` and `onFocus` that can be subscribed to. A simple\n * example:\n *\n * ```ReactNativeWebPlayer\n * import React, { Component } from 'react';\n * import { AppRegistry, TextInput } from 'react-native';\n *\n * class UselessTextInput extends Component {\n *   constructor(props) {\n *     super(props);\n *     this.state = { text: 'Useless Placeholder' };\n *   }\n *\n *   render() {\n *     return (\n *       <TextInput\n *         style={{height: 40, borderColor: 'gray', borderWidth: 1}}\n *         onChangeText={(text) => this.setState({text})}\n *         value={this.state.text}\n *       />\n *     );\n *   }\n * }\n *\n * // App registration and rendering\n * AppRegistry.registerComponent('AwesomeProject', () => UselessTextInput);\n * ```\n *\n * Note that some props are only available with `multiline={true/false}`.\n * Additionally, border styles that apply to only one side of the element\n * (e.g., `borderBottomColor`, `borderLeftWidth`, etc.) will not be applied if\n * `multiline=false`. To achieve the same effect, you can wrap your `TextInput`\n * in a `View`:\n *\n * ```ReactNativeWebPlayer\n * import React, { Component } from 'react';\n * import { AppRegistry, View, TextInput } from 'react-native';\n *\n * class UselessTextInput extends Component {\n *   render() {\n *     return (\n *       <TextInput\n *         {...this.props} // Inherit any props passed to it; e.g., multiline, numberOfLines below\n *         editable = {true}\n *         maxLength = {40}\n *       />\n *     );\n *   }\n * }\n *\n * class UselessTextInputMultiline extends Component {\n *   constructor(props) {\n *     super(props);\n *     this.state = {\n *       text: 'Useless Multiline Placeholder',\n *     };\n *   }\n *\n *   // If you type something in the text box that is a color, the background will change to that\n *   // color.\n *   render() {\n *     return (\n *      <View style={{\n *        backgroundColor: this.state.text,\n *        borderBottomColor: '#000000',\n *        borderBottomWidth: 1 }}\n *      >\n *        <UselessTextInput\n *          multiline = {true}\n *          numberOfLines = {4}\n *          onChangeText={(text) => this.setState({text})}\n *          value={this.state.text}\n *        />\n *      </View>\n *     );\n *   }\n * }\n *\n * // App registration and rendering\n * AppRegistry.registerComponent(\n *  'AwesomeProject',\n *  () => UselessTextInputMultiline\n * );\n * ```\n *\n * `TextInput` has by default a border at the bottom of its view. This border\n * has its padding set by the background image provided by the system, and it\n * cannot be changed. Solutions to avoid this is to either not set height\n * explicitly, case in which the system will take care of displaying the border\n * in the correct position, or to not display the border by setting\n * `underlineColorAndroid` to transparent.\n *\n * Note that on Android performing text selection in input can change\n * app's activity `windowSoftInputMode` param to `adjustResize`.\n * This may cause issues with components that have position: 'absolute'\n * while keyboard is active. To avoid this behavior either specify `windowSoftInputMode`\n * in AndroidManifest.xml ( https://developer.android.com/guide/topics/manifest/activity-element.html )\n * or control this param programmatically with native code.\n *\n */\nconst TextInput = React.createClass({\n  statics: {\n    /* TODO(brentvatne) docs are needed for this */\n    State: TextInputState,\n  },\n\n  propTypes: {\n    ...View.propTypes,\n    /**\n     * Can tell `TextInput` to automatically capitalize certain characters.\n     *\n     * - `characters`: all characters.\n     * - `words`: first letter of each word.\n     * - `sentences`: first letter of each sentence (*default*).\n     * - `none`: don't auto capitalize anything.\n     */\n    autoCapitalize: PropTypes.oneOf([\n      'none',\n      'sentences',\n      'words',\n      'characters',\n    ]),\n    /**\n     * If `false`, disables auto-correct. The default value is `true`.\n     */\n    autoCorrect: PropTypes.bool,\n    /**\n     * If `false`, disables spell-check style (i.e. red underlines).\n     * The default value is inherited from `autoCorrect`.\n     * @platform ios\n     */\n    spellCheck: PropTypes.bool,\n    /**\n     * If `true`, focuses the input on `componentDidMount`.\n     * The default value is `false`.\n     */\n    autoFocus: PropTypes.bool,\n    /**\n     * If `false`, text is not editable. The default value is `true`.\n     */\n    editable: PropTypes.bool,\n    /**\n     * Determines which keyboard to open, e.g.`numeric`.\n     *\n     * The following values work across platforms:\n     *\n     * - `default`\n     * - `numeric`\n     * - `email-address`\n     * - `phone-pad`\n     */\n    keyboardType: PropTypes.oneOf([\n      // Cross-platform\n      'default',\n      'email-address',\n      'numeric',\n      'phone-pad',\n      // iOS-only\n      'ascii-capable',\n      'numbers-and-punctuation',\n      'url',\n      'number-pad',\n      'name-phone-pad',\n      'decimal-pad',\n      'twitter',\n      'web-search',\n    ]),\n    /**\n     * Determines the color of the keyboard.\n     * @platform ios\n     */\n    keyboardAppearance: PropTypes.oneOf([\n      'default',\n      'light',\n      'dark',\n    ]),\n    /**\n     * Determines how the return key should look. On Android you can also use\n     * `returnKeyLabel`.\n     *\n     * *Cross platform*\n     *\n     * The following values work across platforms:\n     *\n     * - `done`\n     * - `go`\n     * - `next`\n     * - `search`\n     * - `send`\n     *\n     * *Android Only*\n     *\n     * The following values work on Android only:\n     *\n     * - `none`\n     * - `previous`\n     *\n     * *iOS Only*\n     *\n     * The following values work on iOS only:\n     *\n     * - `default`\n     * - `emergency-call`\n     * - `google`\n     * - `join`\n     * - `route`\n     * - `yahoo`\n     */\n    returnKeyType: PropTypes.oneOf([\n      // Cross-platform\n      'done',\n      'go',\n      'next',\n      'search',\n      'send',\n      // Android-only\n      'none',\n      'previous',\n      // iOS-only\n      'default',\n      'emergency-call',\n      'google',\n      'join',\n      'route',\n      'yahoo',\n    ]),\n    /**\n     * Sets the return key to the label. Use it instead of `returnKeyType`.\n     * @platform android\n     */\n    returnKeyLabel: PropTypes.string,\n    /**\n     * Limits the maximum number of characters that can be entered. Use this\n     * instead of implementing the logic in JS to avoid flicker.\n     */\n    maxLength: PropTypes.number,\n    /**\n     * Sets the number of lines for a `TextInput`. Use it with multiline set to\n     * `true` to be able to fill the lines.\n     * @platform android\n     */\n    numberOfLines: PropTypes.number,\n    /**\n     * When `false`, if there is a small amount of space available around a text input\n     * (e.g. landscape orientation on a phone), the OS may choose to have the user edit\n     * the text inside of a full screen text input mode. When `true`, this feature is\n     * disabled and users will always edit the text directly inside of the text input.\n     * Defaults to `false`.\n     * @platform android\n     */\n    disableFullscreenUI: PropTypes.bool,\n    /**\n     * If `true`, the keyboard disables the return key when there is no text and\n     * automatically enables it when there is text. The default value is `false`.\n     * @platform ios\n     */\n    enablesReturnKeyAutomatically: PropTypes.bool,\n    /**\n     * If `true`, the text input can be multiple lines.\n     * The default value is `false`.\n     */\n    multiline: PropTypes.bool,\n    /**\n     * Set text break strategy on Android API Level 23+, possible values are `simple`, `highQuality`, `balanced`\n     * The default value is `simple`.\n     * @platform android\n     */\n    textBreakStrategy: React.PropTypes.oneOf(['simple', 'highQuality', 'balanced']),\n    /**\n     * Callback that is called when the text input is blurred.\n     */\n    onBlur: PropTypes.func,\n    /**\n     * Callback that is called when the text input is focused.\n     */\n    onFocus: PropTypes.func,\n    /**\n     * Callback that is called when the text input's text changes.\n     */\n    onChange: PropTypes.func,\n    /**\n     * Callback that is called when the text input's text changes.\n     * Changed text is passed as an argument to the callback handler.\n     */\n    onChangeText: PropTypes.func,\n    /**\n     * Callback that is called when the text input's content size changes.\n     * This will be called with\n     * `{ nativeEvent: { contentSize: { width, height } } }`.\n     *\n     * Only called for multiline text inputs.\n     */\n    onContentSizeChange: PropTypes.func,\n    /**\n     * Callback that is called when text input ends.\n     */\n    onEndEditing: PropTypes.func,\n    /**\n     * Callback that is called when the text input selection is changed.\n     * This will be called with\n     * `{ nativeEvent: { selection: { start, end } } }`.\n     */\n    onSelectionChange: PropTypes.func,\n    /**\n     * Callback that is called when the text input's submit button is pressed.\n     * Invalid if `multiline={true}` is specified.\n     */\n    onSubmitEditing: PropTypes.func,\n    /**\n     * Callback that is called when a key is pressed.\n     * This will be called with `{ nativeEvent: { key: keyValue } }`\n     * where `keyValue` is `'Enter'` or `'Backspace'` for respective keys and\n     * the typed-in character otherwise including `' '` for space.\n     * Fires before `onChange` callbacks.\n     * @platform ios\n     */\n    onKeyPress: PropTypes.func,\n    /**\n     * Invoked on mount and layout changes with `{x, y, width, height}`.\n     */\n    onLayout: PropTypes.func,\n    /**\n     * Invoked on content scroll with `{ nativeEvent: { contentOffset: { x, y } } }`.\n     * May also contain other properties from ScrollEvent but on Android contentSize\n     * is not provided for performance reasons.\n     */\n    onScroll: PropTypes.func,\n    /**\n     * The string that will be rendered before text input has been entered.\n     */\n    placeholder: PropTypes.node,\n    /**\n     * The text color of the placeholder string.\n     */\n    placeholderTextColor: ColorPropType,\n    /**\n     * If `true`, the text input obscures the text entered so that sensitive text\n     * like passwords stay secure. The default value is `false`.\n     */\n    secureTextEntry: PropTypes.bool,\n    /**\n    * The highlight and cursor color of the text input.\n    */\n    selectionColor: ColorPropType,\n    /**\n     * An instance of `DocumentSelectionState`, this is some state that is responsible for\n     * maintaining selection information for a document.\n     *\n     * Some functionality that can be performed with this instance is:\n     *\n     * - `blur()`\n     * - `focus()`\n     * - `update()`\n     *\n     * > You can reference `DocumentSelectionState` in\n     * > [`vendor/document/selection/DocumentSelectionState.js`](https://github.com/facebook/react-native/blob/master/Libraries/vendor/document/selection/DocumentSelectionState.js)\n     *\n     * @platform ios\n     */\n    selectionState: PropTypes.instanceOf(DocumentSelectionState),\n    /**\n     * The start and end of the text input's selection. Set start and end to\n     * the same value to position the cursor.\n     */\n    selection: PropTypes.shape({\n      start: PropTypes.number.isRequired,\n      end: PropTypes.number,\n    }),\n    /**\n     * The value to show for the text input. `TextInput` is a controlled\n     * component, which means the native value will be forced to match this\n     * value prop if provided. For most uses, this works great, but in some\n     * cases this may cause flickering - one common cause is preventing edits\n     * by keeping value the same. In addition to simply setting the same value,\n     * either set `editable={false}`, or set/update `maxLength` to prevent\n     * unwanted edits without flicker.\n     */\n    value: PropTypes.string,\n    /**\n     * Provides an initial value that will change when the user starts typing.\n     * Useful for simple use-cases where you do not want to deal with listening\n     * to events and updating the value prop to keep the controlled state in sync.\n     */\n    defaultValue: PropTypes.node,\n    /**\n     * When the clear button should appear on the right side of the text view.\n     * @platform ios\n     */\n    clearButtonMode: PropTypes.oneOf([\n      'never',\n      'while-editing',\n      'unless-editing',\n      'always',\n    ]),\n    /**\n     * If `true`, clears the text field automatically when editing begins.\n     * @platform ios\n     */\n    clearTextOnFocus: PropTypes.bool,\n    /**\n     * If `true`, all text will automatically be selected on focus.\n     */\n    selectTextOnFocus: PropTypes.bool,\n    /**\n     * If `true`, the text field will blur when submitted.\n     * The default value is true for single-line fields and false for\n     * multiline fields. Note that for multiline fields, setting `blurOnSubmit`\n     * to `true` means that pressing return will blur the field and trigger the\n     * `onSubmitEditing` event instead of inserting a newline into the field.\n     */\n    blurOnSubmit: PropTypes.bool,\n    /**\n     * Note that not all Text styles are supported,\n     * see [Issue#7070](https://github.com/facebook/react-native/issues/7070)\n     * for more detail.\n     *\n     * [Styles](docs/style.html)\n     */\n    style: Text.propTypes.style,\n    /**\n     * The color of the `TextInput` underline.\n     * @platform android\n     */\n    underlineColorAndroid: ColorPropType,\n\n    /**\n     * If defined, the provided image resource will be rendered on the left.\n     * @platform android\n     */\n    inlineImageLeft: PropTypes.string,\n\n    /**\n     * Padding between the inline image, if any, and the text input itself.\n     * @platform android\n     */\n    inlineImagePadding: PropTypes.number,\n\n    /**\n     * Determines the types of data converted to clickable URLs in the text input.\n     * Only valid if `multiline={true}` and `editable={false}`.\n     * By default no data types are detected.\n     *\n     * You can provide one type or an array of many types.\n     *\n     * Possible values for `dataDetectorTypes` are:\n     *\n     * - `'phoneNumber'`\n     * - `'link'`\n     * - `'address'`\n     * - `'calendarEvent'`\n     * - `'none'`\n     * - `'all'`\n     *\n     * @platform ios\n     */\n    dataDetectorTypes: PropTypes.oneOfType([\n      PropTypes.oneOf(DataDetectorTypes),\n      PropTypes.arrayOf(PropTypes.oneOf(DataDetectorTypes)),\n    ]),\n    /**\n     * If `true`, caret is hidden. The default value is `false`.\n     */\n    caretHidden: PropTypes.bool,\n  },\n\n  /**\n   * `NativeMethodsMixin` will look for this when invoking `setNativeProps`. We\n   * make `this` look like an actual native component class.\n   */\n  mixins: [NativeMethodsMixin, TimerMixin],\n\n  viewConfig:\n    ((Platform.OS === 'ios' && RCTTextField ?\n      RCTTextField.viewConfig :\n      (Platform.OS === 'android' && AndroidTextInput ?\n        AndroidTextInput.viewConfig :\n        {})) : Object),\n\n  /**\n   * Returns `true` if the input is currently focused; `false` otherwise.\n   */\n  isFocused: function(): boolean {\n    return TextInputState.currentlyFocusedField() ===\n      ReactNative.findNodeHandle(this._inputRef);\n  },\n\n  contextTypes: {\n    onFocusRequested: React.PropTypes.func,\n    focusEmitter: React.PropTypes.instanceOf(EventEmitter),\n  },\n\n  _inputRef: (undefined: any),\n  _focusSubscription: (undefined: ?Function),\n  _lastNativeText: (undefined: ?string),\n  _lastNativeSelection: (undefined: ?Selection),\n\n  componentDidMount: function() {\n    this._lastNativeText = this.props.value;\n    if (!this.context.focusEmitter) {\n      if (this.props.autoFocus) {\n        this.requestAnimationFrame(this.focus);\n      }\n      return;\n    }\n    this._focusSubscription = this.context.focusEmitter.addListener(\n      'focus',\n      (el) => {\n        if (this === el) {\n          this.requestAnimationFrame(this.focus);\n        } else if (this.isFocused()) {\n          this.blur();\n        }\n      }\n    );\n    if (this.props.autoFocus) {\n      this.context.onFocusRequested(this);\n    }\n  },\n\n  componentWillUnmount: function() {\n    this._focusSubscription && this._focusSubscription.remove();\n    if (this.isFocused()) {\n      this.blur();\n    }\n  },\n\n  getChildContext: function(): Object {\n    return {isInAParentText: true};\n  },\n\n  childContextTypes: {\n    isInAParentText: React.PropTypes.bool\n  },\n\n  /**\n   * Removes all text from the `TextInput`.\n   */\n  clear: function() {\n    this.setNativeProps({text: ''});\n  },\n\n  render: function() {\n    if (Platform.OS === 'ios') {\n      return this._renderIOS();\n    } else if (Platform.OS === 'android') {\n      return this._renderAndroid();\n    }\n  },\n\n  _getText: function(): ?string {\n    return typeof this.props.value === 'string' ?\n      this.props.value :\n      (\n        typeof this.props.defaultValue === 'string' ?\n        this.props.defaultValue :\n        ''\n      );\n  },\n\n  _setNativeRef: function(ref: any) {\n    this._inputRef = ref;\n  },\n\n  _renderIOS: function() {\n    var textContainer;\n\n    var props = Object.assign({}, this.props);\n    props.style = [styles.input, this.props.style];\n\n    if (props.selection && props.selection.end == null) {\n      props.selection = {start: props.selection.start, end: props.selection.start};\n    }\n\n    if (!props.multiline) {\n      if (__DEV__) {\n        for (var propKey in onlyMultiline) {\n          if (props[propKey]) {\n            const error = new Error(\n              'TextInput prop `' + propKey + '` is only supported with multiline.'\n            );\n            warning(false, '%s', error.stack);\n          }\n        }\n      }\n      textContainer =\n        <RCTTextField\n          ref={this._setNativeRef}\n          {...props}\n          onFocus={this._onFocus}\n          onBlur={this._onBlur}\n          onChange={this._onChange}\n          onSelectionChange={this._onSelectionChange}\n          onSelectionChangeShouldSetResponder={emptyFunction.thatReturnsTrue}\n          text={this._getText()}\n        />;\n    } else {\n      var children = props.children;\n      var childCount = 0;\n      React.Children.forEach(children, () => ++childCount);\n      invariant(\n        !(props.value && childCount),\n        'Cannot specify both value and children.'\n      );\n      if (childCount >= 1) {\n        children = <Text style={props.style}>{children}</Text>;\n      }\n      if (props.inputView) {\n        children = [children, props.inputView];\n      }\n      textContainer =\n        <RCTTextView\n          ref={this._setNativeRef}\n          {...props}\n          children={children}\n          onFocus={this._onFocus}\n          onBlur={this._onBlur}\n          onChange={this._onChange}\n          onContentSizeChange={this.props.onContentSizeChange}\n          onSelectionChange={this._onSelectionChange}\n          onTextInput={this._onTextInput}\n          onSelectionChangeShouldSetResponder={emptyFunction.thatReturnsTrue}\n          text={this._getText()}\n          dataDetectorTypes={this.props.dataDetectorTypes}\n          onScroll={this._onScroll}\n        />;\n    }\n\n    return (\n      <TouchableWithoutFeedback\n        onLayout={props.onLayout}\n        onPress={this._onPress}\n        rejectResponderTermination={true}\n        accessible={props.accessible}\n        accessibilityLabel={props.accessibilityLabel}\n        accessibilityTraits={props.accessibilityTraits}\n        testID={props.testID}>\n        {textContainer}\n      </TouchableWithoutFeedback>\n    );\n  },\n\n  _renderAndroid: function() {\n    const props = Object.assign({}, this.props);\n    props.style = [this.props.style];\n    props.autoCapitalize =\n      UIManager.AndroidTextInput.Constants.AutoCapitalizationType[this.props.autoCapitalize];\n    var children = this.props.children;\n    var childCount = 0;\n    React.Children.forEach(children, () => ++childCount);\n    invariant(\n      !(this.props.value && childCount),\n      'Cannot specify both value and children.'\n    );\n    if (childCount > 1) {\n      children = <Text>{children}</Text>;\n    }\n\n    if (props.selection && props.selection.end == null) {\n      props.selection = {start: props.selection.start, end: props.selection.start};\n    }\n\n    const textContainer =\n      <AndroidTextInput\n        ref={this._setNativeRef}\n        {...props}\n        mostRecentEventCount={0}\n        onFocus={this._onFocus}\n        onBlur={this._onBlur}\n        onChange={this._onChange}\n        onSelectionChange={this._onSelectionChange}\n        onTextInput={this._onTextInput}\n        text={this._getText()}\n        children={children}\n        disableFullscreenUI={this.props.disableFullscreenUI}\n        textBreakStrategy={this.props.textBreakStrategy}\n        onScroll={this._onScroll}\n      />;\n\n    return (\n      <TouchableWithoutFeedback\n        onLayout={this.props.onLayout}\n        onPress={this._onPress}\n        accessible={this.props.accessible}\n        accessibilityLabel={this.props.accessibilityLabel}\n        accessibilityComponentType={this.props.accessibilityComponentType}\n        testID={this.props.testID}>\n        {textContainer}\n      </TouchableWithoutFeedback>\n    );\n  },\n\n  _onFocus: function(event: Event) {\n    if (this.props.onFocus) {\n      this.props.onFocus(event);\n    }\n\n    if (this.props.selectionState) {\n      this.props.selectionState.focus();\n    }\n  },\n\n  _onPress: function(event: Event) {\n    if (this.props.editable || this.props.editable === undefined) {\n      this.focus();\n    }\n  },\n\n  _onChange: function(event: Event) {\n    // Make sure to fire the mostRecentEventCount first so it is already set on\n    // native when the text value is set.\n    if (this._inputRef) {\n      this._inputRef.setNativeProps({\n        mostRecentEventCount: event.nativeEvent.eventCount,\n      });\n    }\n\n    var text = event.nativeEvent.text;\n    this.props.onChange && this.props.onChange(event);\n    this.props.onChangeText && this.props.onChangeText(text);\n\n    if (!this._inputRef) {\n      // calling `this.props.onChange` or `this.props.onChangeText`\n      // may clean up the input itself. Exits here.\n      return;\n    }\n\n    this._lastNativeText = text;\n    this.forceUpdate();\n  },\n\n  _onSelectionChange: function(event: Event) {\n    this.props.onSelectionChange && this.props.onSelectionChange(event);\n\n    if (!this._inputRef) {\n      // calling `this.props.onSelectionChange`\n      // may clean up the input itself. Exits here.\n      return;\n    }\n\n    this._lastNativeSelection = event.nativeEvent.selection;\n\n    if (this.props.selection || this.props.selectionState) {\n      this.forceUpdate();\n    }\n  },\n\n  componentDidUpdate: function () {\n    // This is necessary in case native updates the text and JS decides\n    // that the update should be ignored and we should stick with the value\n    // that we have in JS.\n    const nativeProps = {};\n\n    if (this._lastNativeText !== this.props.value && typeof this.props.value === 'string') {\n      nativeProps.text = this.props.value;\n    }\n\n    // Selection is also a controlled prop, if the native value doesn't match\n    // JS, update to the JS value.\n    const {selection} = this.props;\n    if (this._lastNativeSelection && selection &&\n        (this._lastNativeSelection.start !== selection.start ||\n        this._lastNativeSelection.end !== selection.end)) {\n      nativeProps.selection = this.props.selection;\n    }\n\n    if (Object.keys(nativeProps).length > 0 && this._inputRef) {\n      this._inputRef.setNativeProps(nativeProps);\n    }\n\n    if (this.props.selectionState && selection) {\n      this.props.selectionState.update(selection.start, selection.end);\n    }\n  },\n\n  _onBlur: function(event: Event) {\n    this.blur();\n    if (this.props.onBlur) {\n      this.props.onBlur(event);\n    }\n\n    if (this.props.selectionState) {\n      this.props.selectionState.blur();\n    }\n  },\n\n  _onTextInput: function(event: Event) {\n    this.props.onTextInput && this.props.onTextInput(event);\n  },\n\n  _onScroll: function(event: Event) {\n    this.props.onScroll && this.props.onScroll(event);\n  },\n});\n\nvar styles = StyleSheet.create({\n  input: {\n    alignSelf: 'stretch',\n  },\n});\n\nmodule.exports = TextInput;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule DocumentSelectionState\n * @typechecks\n */\n\n'use strict';\n\nvar mixInEventEmitter = require('mixInEventEmitter');\n\n/**\n * DocumentSelectionState is responsible for maintaining selection information\n * for a document.\n *\n * It is intended for use by AbstractTextEditor-based components for\n * identifying the appropriate start/end positions to modify the\n * DocumentContent, and for programatically setting browser selection when\n * components re-render.\n */\nclass DocumentSelectionState {\n  /**\n   * @param {number} anchor\n   * @param {number} focus\n   */\n  constructor(anchor, focus) {\n    this._anchorOffset = anchor;\n    this._focusOffset = focus;\n    this._hasFocus = false;\n  }\n\n  /**\n   * Apply an update to the state. If either offset value has changed,\n   * set the values and emit the `change` event. Otherwise no-op.\n   *\n   * @param {number} anchor\n   * @param {number} focus\n   */\n  update(anchor, focus) {\n    if (this._anchorOffset !== anchor || this._focusOffset !== focus) {\n      this._anchorOffset = anchor;\n      this._focusOffset = focus;\n      this.emit('update');\n    }\n  }\n\n  /**\n   * Given a max text length, constrain our selection offsets to ensure\n   * that the selection remains strictly within the text range.\n   *\n   * @param {number} maxLength\n   */\n  constrainLength(maxLength) {\n    this.update(\n      Math.min(this._anchorOffset, maxLength),\n      Math.min(this._focusOffset, maxLength)\n    );\n  }\n\n  focus() {\n    if (!this._hasFocus) {\n      this._hasFocus = true;\n      this.emit('focus');\n    }\n  }\n\n  blur() {\n    if (this._hasFocus) {\n      this._hasFocus = false;\n      this.emit('blur');\n    }\n  }\n\n  /**\n   * @return {boolean}\n   */\n  hasFocus() {\n    return this._hasFocus;\n  }\n\n  /**\n   * @return {boolean}\n   */\n  isCollapsed() {\n    return this._anchorOffset === this._focusOffset;\n  }\n\n  /**\n   * @return {boolean}\n   */\n  isBackward() {\n    return this._anchorOffset > this._focusOffset;\n  }\n\n  /**\n   * @return {?number}\n   */\n  getAnchorOffset() {\n    return this._hasFocus ? this._anchorOffset : null;\n  }\n\n  /**\n   * @return {?number}\n   */\n  getFocusOffset() {\n    return this._hasFocus ? this._focusOffset : null;\n  }\n\n  /**\n   * @return {?number}\n   */\n  getStartOffset() {\n    return (\n      this._hasFocus ? Math.min(this._anchorOffset, this._focusOffset) : null\n    );\n  }\n\n  /**\n   * @return {?number}\n   */\n  getEndOffset() {\n    return (\n      this._hasFocus ? Math.max(this._anchorOffset, this._focusOffset) : null\n    );\n  }\n\n  /**\n   * @param {number} start\n   * @param {number} end\n   * @return {boolean}\n   */\n  overlaps(start, end) {\n    return (\n      this.hasFocus() &&\n      this.getStartOffset() <= end && start <= this.getEndOffset()\n    );\n  }\n}\n\nmixInEventEmitter(DocumentSelectionState, {\n  'blur': true,\n  'focus': true,\n  'update': true\n});\n\nmodule.exports = DocumentSelectionState;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule mixInEventEmitter\n * @flow\n */\n'use strict';\n\nconst EventEmitter = require('EventEmitter');\nconst EventEmitterWithHolding = require('EventEmitterWithHolding');\nconst EventHolder = require('EventHolder');\nconst EventValidator = require('EventValidator');\n\nconst copyProperties = require('copyProperties');\nconst invariant = require('fbjs/lib/invariant');\nconst keyOf = require('fbjs/lib/keyOf');\n\nconst TYPES_KEY = keyOf({__types: true});\n\n/**\n * API to setup an object or constructor to be able to emit data events.\n *\n * @example\n * function Dog() { ...dog stuff... }\n * mixInEventEmitter(Dog, {bark: true});\n *\n * var puppy = new Dog();\n * puppy.addListener('bark', function (volume) {\n *   console.log('Puppy', this, 'barked at volume:', volume);\n * });\n * puppy.emit('bark', 'quiet');\n * // Puppy <puppy> barked at volume: quiet\n *\n *\n * // A \"singleton\" object may also be commissioned:\n *\n * var Singleton = {};\n * mixInEventEmitter(Singleton, {lonely: true});\n * Singleton.emit('lonely', true);\n */\nfunction mixInEventEmitter(cls: Function | Object, types: Object) {\n  invariant(types, 'Must supply set of valid event types');\n\n  // If this is a constructor, write to the prototype, otherwise write to the\n  // singleton object.\n  const target = cls.prototype || cls;\n\n  invariant(!target.__eventEmitter, 'An active emitter is already mixed in');\n\n  const ctor = cls.constructor;\n  if (ctor) {\n    invariant(\n      ctor === Object || ctor === Function,\n      'Mix EventEmitter into a class, not an instance'\n    );\n  }\n\n  // Keep track of the provided types, union the types if they already exist,\n  // which allows for prototype subclasses to provide more types.\n  if (target.hasOwnProperty(TYPES_KEY)) {\n    copyProperties(target.__types, types);\n  } else if (target.__types) {\n    target.__types = copyProperties({}, target.__types, types);\n  } else {\n    target.__types = types;\n  }\n  copyProperties(target, EventEmitterMixin);\n}\n\nconst EventEmitterMixin = {\n  emit: function(eventType, a, b, c, d, e, _) {\n    return this.__getEventEmitter().emit(eventType, a, b, c, d, e, _);\n  },\n\n  emitAndHold: function(eventType, a, b, c, d, e, _) {\n    return this.__getEventEmitter().emitAndHold(eventType, a, b, c, d, e, _);\n  },\n\n  addListener: function(eventType, listener, context) {\n    return this.__getEventEmitter().addListener(eventType, listener, context);\n  },\n\n  once: function(eventType, listener, context) {\n    return this.__getEventEmitter().once(eventType, listener, context);\n  },\n\n  addRetroactiveListener: function(eventType, listener, context) {\n    return this.__getEventEmitter().addRetroactiveListener(\n      eventType,\n      listener,\n      context\n    );\n  },\n\n  addListenerMap: function(listenerMap, context) {\n    return this.__getEventEmitter().addListenerMap(listenerMap, context);\n  },\n\n  addRetroactiveListenerMap: function(listenerMap, context) {\n    return this.__getEventEmitter().addListenerMap(listenerMap, context);\n  },\n\n  removeAllListeners: function() {\n    this.__getEventEmitter().removeAllListeners();\n  },\n\n  removeCurrentListener: function() {\n    this.__getEventEmitter().removeCurrentListener();\n  },\n\n  releaseHeldEventType: function(eventType) {\n    this.__getEventEmitter().releaseHeldEventType(eventType);\n  },\n\n  __getEventEmitter: function() {\n    if (!this.__eventEmitter) {\n      let emitter = new EventEmitter();\n      emitter = EventValidator.addValidation(emitter, this.__types);\n\n      const holder = new EventHolder();\n      this.__eventEmitter = new EventEmitterWithHolding(emitter, holder);\n    }\n    return this.__eventEmitter;\n  }\n};\n\nmodule.exports = mixInEventEmitter;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule EventEmitterWithHolding\n * @flow\n */\n'use strict';\n\nimport type EmitterSubscription from 'EmitterSubscription';\nimport type EventEmitter from 'EventEmitter';\nimport type EventHolder from 'EventHolder';\n\n/**\n * @class EventEmitterWithHolding\n * @description\n * An EventEmitterWithHolding decorates an event emitter and enables one to\n * \"hold\" or cache events and then have a handler register later to actually\n * handle them.\n *\n * This is separated into its own decorator so that only those who want to use\n * the holding functionality have to and others can just use an emitter. Since\n * it implements the emitter interface it can also be combined with anything\n * that uses an emitter.\n */\nclass EventEmitterWithHolding {\n\n  _emitter: EventEmitter;\n  _eventHolder: EventHolder;\n  _currentEventToken: ?Object;\n  _emittingHeldEvents: boolean;\n\n  /**\n   * @constructor\n   * @param {object} emitter - The object responsible for emitting the actual\n   *   events.\n   * @param {object} holder - The event holder that is responsible for holding\n   *   and then emitting held events.\n   */\n  constructor(emitter: EventEmitter, holder: EventHolder) {\n    this._emitter = emitter;\n    this._eventHolder = holder;\n    this._currentEventToken = null;\n    this._emittingHeldEvents = false;\n  }\n\n  /**\n   * @see EventEmitter#addListener\n   */\n  addListener(eventType: string, listener: Function, context: ?Object) {\n    return this._emitter.addListener(eventType, listener, context);\n  }\n\n  /**\n   * @see EventEmitter#once\n   */\n  once(eventType: string, listener: Function, context: ?Object) {\n    return this._emitter.once(eventType, listener, context);\n  }\n\n  /**\n   * Adds a listener to be invoked when events of the specified type are\n   * emitted. An optional calling context may be provided. The data arguments\n   * emitted will be passed to the listener function. In addition to subscribing\n   * to all subsequent events, this method will also handle any events that have\n   * already been emitted, held, and not released.\n   *\n   * @param {string} eventType - Name of the event to listen to\n   * @param {function} listener - Function to invoke when the specified event is\n   *   emitted\n   * @param {*} context - Optional context object to use when invoking the\n   *   listener\n   *\n   * @example\n   *   emitter.emitAndHold('someEvent', 'abc');\n   *\n   *   emitter.addRetroactiveListener('someEvent', function(message) {\n   *     console.log(message);\n   *   }); // logs 'abc'\n   */\n  addRetroactiveListener(\n    eventType: string, listener: Function, context: ?Object): EmitterSubscription {\n    const subscription = this._emitter.addListener(eventType, listener, context);\n\n    this._emittingHeldEvents = true;\n    this._eventHolder.emitToListener(eventType, listener, context);\n    this._emittingHeldEvents = false;\n\n    return subscription;\n  }\n\n  /**\n   * @see EventEmitter#removeAllListeners\n   */\n  removeAllListeners(eventType: string) {\n    this._emitter.removeAllListeners(eventType);\n  }\n\n  /**\n   * @see EventEmitter#removeCurrentListener\n   */\n  removeCurrentListener() {\n    this._emitter.removeCurrentListener();\n  }\n\n  /**\n   * @see EventEmitter#listeners\n   */\n  listeners(eventType: string) /* TODO: Annotate return type here */ {\n    return this._emitter.listeners(eventType);\n  }\n\n  /**\n   * @see EventEmitter#emit\n   */\n  emit(eventType: string, ...args: any) {\n    this._emitter.emit(eventType, ...args);\n  }\n\n  /**\n   * Emits an event of the given type with the given data, and holds that event\n   * in order to be able to dispatch it to a later subscriber when they say they\n   * want to handle held events.\n   *\n   * @param {string} eventType - Name of the event to emit\n   * @param {...*} Arbitrary arguments to be passed to each registered listener\n   *\n   * @example\n   *   emitter.emitAndHold('someEvent', 'abc');\n   *\n   *   emitter.addRetroactiveListener('someEvent', function(message) {\n   *     console.log(message);\n   *   }); // logs 'abc'\n   */\n  emitAndHold(eventType: string, ...args: any) {\n    this._currentEventToken = this._eventHolder.holdEvent(eventType, ...args);\n    this._emitter.emit(eventType, ...args);\n    this._currentEventToken = null;\n  }\n\n  /**\n   * @see EventHolder#releaseCurrentEvent\n   */\n  releaseCurrentEvent() {\n    if (this._currentEventToken) {\n      this._eventHolder.releaseEvent(this._currentEventToken);\n    } else if (this._emittingHeldEvents) {\n      this._eventHolder.releaseCurrentEvent();\n    }\n  }\n\n  /**\n   * @see EventHolder#releaseEventType\n   * @param {string} eventType\n   */\n  releaseHeldEventType(eventType: string) {\n    this._eventHolder.releaseEventType(eventType);\n  }\n}\n\nmodule.exports = EventEmitterWithHolding;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule EventHolder\n * @flow\n */\n'use strict';\n\nconst invariant = require('fbjs/lib/invariant');\n\nclass EventHolder {\n\n  _heldEvents: Object;\n  _currentEventKey: ?Object;\n\n  constructor() {\n    this._heldEvents = {};\n    this._currentEventKey = null;\n  }\n\n  /**\n   * Holds a given event for processing later.\n   *\n   * TODO: Annotate return type better. The structural type of the return here\n   *       is pretty obvious.\n   *\n   * @param {string} eventType - Name of the event to hold and later emit\n   * @param {...*} Arbitrary arguments to be passed to each registered listener\n   * @return {object} Token that can be used to release the held event\n   *\n   * @example\n   *\n   *   holder.holdEvent({someEvent: 'abc'});\n   *\n   *   holder.emitToHandler({\n   *     someEvent: function(data, event) {\n   *       console.log(data);\n   *     }\n   *   }); //logs 'abc'\n   *\n   */\n  holdEvent(eventType: string, ...args: any) {\n    this._heldEvents[eventType] = this._heldEvents[eventType] || [];\n    const eventsOfType = this._heldEvents[eventType];\n    const key = {\n      eventType: eventType,\n      index: eventsOfType.length\n    };\n    eventsOfType.push(args);\n    return key;\n  }\n\n  /**\n   * Emits the held events of the specified type to the given listener.\n   *\n   * @param {?string} eventType - Optional name of the events to replay\n   * @param {function} listener - The listener to which to dispatch the event\n   * @param {?object} context - Optional context object to use when invoking\n   *   the listener\n   */\n  emitToListener(eventType: ?string , listener: Function, context: ?Object) {\n    const eventsOfType = this._heldEvents[eventType];\n    if (!eventsOfType) {\n      return;\n    }\n    const origEventKey = this._currentEventKey;\n    eventsOfType.forEach((/*?array*/ eventHeld, /*number*/ index) => {\n      if (!eventHeld) {\n        return;\n      }\n      this._currentEventKey = {\n        eventType: eventType,\n        index: index\n      };\n      listener.apply(context, eventHeld);\n    });\n    this._currentEventKey = origEventKey;\n  }\n\n  /**\n   * Provides an API that can be called during an eventing cycle to release\n   * the last event that was invoked, so that it is no longer \"held\".\n   *\n   * If it is called when not inside of an emitting cycle it will throw.\n   *\n   * @throws {Error} When called not during an eventing cycle\n   */\n  releaseCurrentEvent() {\n    invariant(\n      this._currentEventKey !== null,\n      'Not in an emitting cycle; there is no current event'\n    );\n    this._currentEventKey && this.releaseEvent(this._currentEventKey);\n  }\n\n  /**\n   * Releases the event corresponding to the handle that was returned when the\n   * event was first held.\n   *\n   * @param {object} token - The token returned from holdEvent\n   */\n  releaseEvent(token: Object) {\n    delete this._heldEvents[token.eventType][token.index];\n  }\n\n  /**\n   * Releases all events of a certain type.\n   *\n   * @param {string} type\n   */\n  releaseEventType(type: string) {\n    this._heldEvents[type] = [];\n  }\n}\n\nmodule.exports = EventHolder;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule EventValidator\n * @flow\n */\n'use strict';\n\nconst copyProperties = require('copyProperties');\n\n/**\n * EventValidator is designed to validate event types to make it easier to catch\n * common mistakes. It accepts a map of all of the different types of events\n * that the emitter can emit. Then, if a user attempts to emit an event that is\n * not one of those specified types the emitter will throw an error. Also, it\n * provides a relatively simple matcher so that if it thinks that you likely\n * mistyped the event name it will suggest what you might have meant to type in\n * the error message.\n */\nconst EventValidator = {\n  /**\n   * @param {Object} emitter - The object responsible for emitting the actual\n   *                             events\n   * @param {Object} types - The collection of valid types that will be used to\n   *                         check for errors\n   * @return {Object} A new emitter with event type validation\n   * @example\n   *   const types = {someEvent: true, anotherEvent: true};\n   *   const emitter = EventValidator.addValidation(emitter, types);\n   */\n  addValidation: function(emitter: Object, types: Object) {\n    const eventTypes = Object.keys(types);\n    const emitterWithValidation = Object.create(emitter);\n\n    copyProperties(emitterWithValidation, {\n      emit: function emit(type, a, b, c, d, e, _) {\n        assertAllowsEventType(type, eventTypes);\n        return emitter.emit.call(this, type, a, b, c, d, e, _);\n      }\n    });\n\n    return emitterWithValidation;\n  }\n};\n\nfunction assertAllowsEventType(type, allowedTypes) {\n  if (allowedTypes.indexOf(type) === -1) {\n    throw new TypeError(errorMessageFor(type, allowedTypes));\n  }\n}\n\nfunction errorMessageFor(type, allowedTypes) {\n  let message = 'Unknown event type \"' + type + '\". ';\n  if (__DEV__) {\n    message += recommendationFor(type, allowedTypes);\n  }\n  message += 'Known event types: ' + allowedTypes.join(', ') + '.';\n  return message;\n}\n\n// Allow for good error messages\nif (__DEV__) {\n  var recommendationFor = function (type, allowedTypes) {\n    const closestTypeRecommendation = closestTypeFor(type, allowedTypes);\n    if (isCloseEnough(closestTypeRecommendation, type)) {\n      return 'Did you mean \"' + closestTypeRecommendation.type + '\"? ';\n    } else {\n      return '';\n    }\n  };\n\n  var closestTypeFor = function (type, allowedTypes) {\n    const typeRecommendations = allowedTypes.map(\n      typeRecommendationFor.bind(this, type)\n    );\n    return typeRecommendations.sort(recommendationSort)[0];\n  };\n\n  var typeRecommendationFor = function (type, recomendedType) {\n    return {\n      type: recomendedType,\n      distance: damerauLevenshteinDistance(type, recomendedType)\n    };\n  };\n\n  var recommendationSort = function (recommendationA, recommendationB) {\n    if (recommendationA.distance < recommendationB.distance) {\n      return -1;\n    } else if (recommendationA.distance > recommendationB.distance) {\n      return 1;\n    } else {\n      return 0;\n    }\n  };\n\n  var isCloseEnough = function (closestType, actualType) {\n    return (closestType.distance / actualType.length) < 0.334;\n  };\n\n  var damerauLevenshteinDistance = function (a, b) {\n    let i, j;\n    const d = [];\n\n    for (i = 0; i <= a.length; i++) {\n      d[i] = [i];\n    }\n\n    for (j = 1; j <= b.length; j++) {\n      d[0][j] = j;\n    }\n\n    for (i = 1; i <= a.length; i++) {\n      for (j = 1; j <= b.length; j++) {\n        const cost = a.charAt(i - 1) === b.charAt(j - 1) ? 0 : 1;\n\n        d[i][j] = Math.min(\n          d[i - 1][j] + 1,\n          d[i][j - 1] + 1,\n          d[i - 1][j - 1] + cost\n        );\n\n        if (i > 1 && j > 1 &&\n            a.charAt(i - 1) === b.charAt(j - 2) &&\n            a.charAt(i - 2) === b.charAt(j - 1)) {\n          d[i][j] = Math.min(d[i][j], d[i - 2][j - 2] + cost);\n        }\n      }\n    }\n\n    return d[a.length][b.length];\n  };\n}\n\nmodule.exports = EventValidator;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule copyProperties\n */\n'use strict';\n\n/**\n * Copy properties from one or more objects (up to 5) into the first object.\n * This is a shallow copy. It mutates the first object and also returns it.\n *\n * NOTE: `arguments` has a very significant performance penalty, which is why\n * we don't support unlimited arguments.\n */\nfunction copyProperties(obj, a, b, c, d, e, f) {\n  obj = obj || {};\n\n  if (__DEV__) {\n    if (f) {\n      throw new Error('Too many arguments passed to copyProperties');\n    }\n  }\n\n  var args = [a, b, c, d, e];\n  var ii = 0, v;\n  while (args[ii]) {\n    v = args[ii++];\n    for (var k in v) {\n      obj[k] = v[k];\n    }\n\n    // IE ignores toString in object iteration.. See:\n    // webreflection.blogspot.com/2007/07/quick-fix-internet-explorer-and.html\n    if (v.hasOwnProperty && v.hasOwnProperty('toString') &&\n        (typeof v.toString !== 'undefined') && (obj.toString !== v.toString)) {\n      obj.toString = v.toString;\n    }\n  }\n\n  return obj;\n}\n\nmodule.exports = copyProperties;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule ToolbarAndroid\n */\n\n'use strict';\n\nvar Image = require('Image');\nvar NativeMethodsMixin = require('NativeMethodsMixin');\nvar React = require('React');\nvar ReactNativeViewAttributes = require('ReactNativeViewAttributes');\nvar UIManager = require('UIManager');\nvar View = require('View');\nvar ColorPropType = require('ColorPropType');\n\nvar requireNativeComponent = require('requireNativeComponent');\nvar resolveAssetSource = require('resolveAssetSource');\n\nvar ReactPropTypes = React.PropTypes;\n\nvar optionalImageSource = ReactPropTypes.oneOfType([\n  Image.propTypes.source,\n  // Image.propTypes.source is required but we want it to be optional, so we OR\n  // it with a nullable propType.\n  ReactPropTypes.oneOf([]),\n]);\n\n/**\n * React component that wraps the Android-only [`Toolbar` widget][0]. A Toolbar can display a logo,\n * navigation icon (e.g. hamburger menu), a title & subtitle and a list of actions. The title and\n * subtitle are expanded so the logo and navigation icons are displayed on the left, title and\n * subtitle in the middle and the actions on the right.\n *\n * If the toolbar has an only child, it will be displayed between the title and actions.\n *\n * Although the Toolbar supports remote images for the logo, navigation and action icons, this\n * should only be used in DEV mode where `require('./some_icon.png')` translates into a packager\n * URL. In release mode you should always use a drawable resource for these icons. Using\n * `require('./some_icon.png')` will do this automatically for you, so as long as you don't\n * explicitly use e.g. `{uri: 'http://...'}`, you will be good.\n *\n * Example:\n *\n * ```\n * render: function() {\n *   return (\n *     <ToolbarAndroid\n *       logo={require('./app_logo.png')}\n *       title=\"AwesomeApp\"\n *       actions={[{title: 'Settings', icon: require('./icon_settings.png'), show: 'always'}]}\n *       onActionSelected={this.onActionSelected} />\n *   )\n * },\n * onActionSelected: function(position) {\n *   if (position === 0) { // index of 'Settings'\n *     showSettings();\n *   }\n * }\n * ```\n *\n * [0]: https://developer.android.com/reference/android/support/v7/widget/Toolbar.html\n */\nvar ToolbarAndroid = React.createClass({\n  mixins: [NativeMethodsMixin],\n\n  propTypes: {\n    ...View.propTypes,\n    /**\n     * Sets possible actions on the toolbar as part of the action menu. These are displayed as icons\n     * or text on the right side of the widget. If they don't fit they are placed in an 'overflow'\n     * menu.\n     *\n     * This property takes an array of objects, where each object has the following keys:\n     *\n     * * `title`: **required**, the title of this action\n     * * `icon`: the icon for this action, e.g. `require('./some_icon.png')`\n     * * `show`: when to show this action as an icon or hide it in the overflow menu: `always`,\n     * `ifRoom` or `never`\n     * * `showWithText`: boolean, whether to show text alongside the icon or not\n     */\n    actions: ReactPropTypes.arrayOf(ReactPropTypes.shape({\n      title: ReactPropTypes.string.isRequired,\n      icon: optionalImageSource,\n      show: ReactPropTypes.oneOf(['always', 'ifRoom', 'never']),\n      showWithText: ReactPropTypes.bool\n    })),\n    /**\n     * Sets the toolbar logo.\n     */\n    logo: optionalImageSource,\n    /**\n     * Sets the navigation icon.\n     */\n    navIcon: optionalImageSource,\n    /**\n     * Callback that is called when an action is selected. The only argument that is passed to the\n     * callback is the position of the action in the actions array.\n     */\n    onActionSelected: ReactPropTypes.func,\n    /**\n     * Callback called when the icon is selected.\n     */\n    onIconClicked: ReactPropTypes.func,\n    /**\n     * Sets the overflow icon.\n     */\n    overflowIcon: optionalImageSource,\n    /**\n     * Sets the toolbar subtitle.\n     */\n    subtitle: ReactPropTypes.string,\n    /**\n     * Sets the toolbar subtitle color.\n     */\n    subtitleColor: ColorPropType,\n    /**\n     * Sets the toolbar title.\n     */\n    title: ReactPropTypes.string,\n    /**\n     * Sets the toolbar title color.\n     */\n    titleColor: ColorPropType,\n    /**\n     * Sets the content inset for the toolbar starting edge.\n     *\n     * The content inset affects the valid area for Toolbar content other than\n     * the navigation button and menu. Insets define the minimum margin for\n     * these components and can be used to effectively align Toolbar content\n     * along well-known gridlines.\n     */\n    contentInsetStart: ReactPropTypes.number,\n    /**\n     * Sets the content inset for the toolbar ending edge.\n     *\n     * The content inset affects the valid area for Toolbar content other than\n     * the navigation button and menu. Insets define the minimum margin for\n     * these components and can be used to effectively align Toolbar content\n     * along well-known gridlines.\n     */\n    contentInsetEnd: ReactPropTypes.number,\n    /**\n     * Used to set the toolbar direction to RTL.\n     * In addition to this property you need to add\n     *\n     *   android:supportsRtl=\"true\"\n     *\n     * to your application AndroidManifest.xml and then call\n     * `setLayoutDirection(LayoutDirection.RTL)` in your MainActivity\n     * `onCreate` method.\n     */\n    rtl: ReactPropTypes.bool,\n    /**\n     * Used to locate this view in end-to-end tests.\n     */\n    testID: ReactPropTypes.string,\n  },\n\n  render: function() {\n    var nativeProps = {\n      ...this.props,\n    };\n    if (this.props.logo) {\n      nativeProps.logo = resolveAssetSource(this.props.logo);\n    }\n    if (this.props.navIcon) {\n      nativeProps.navIcon = resolveAssetSource(this.props.navIcon);\n    }\n    if (this.props.overflowIcon) {\n      nativeProps.overflowIcon = resolveAssetSource(this.props.overflowIcon);\n    }\n    if (this.props.actions) {\n      var nativeActions = [];\n      for (var i = 0; i < this.props.actions.length; i++) {\n        var action = {\n          ...this.props.actions[i],\n        };\n        if (action.icon) {\n          action.icon = resolveAssetSource(action.icon);\n        }\n        if (action.show) {\n          action.show = UIManager.ToolbarAndroid.Constants.ShowAsAction[action.show];\n        }\n        nativeActions.push(action);\n      }\n      nativeProps.nativeActions = nativeActions;\n    }\n\n    return <NativeToolbar onSelect={this._onSelect} {...nativeProps} />;\n  },\n\n  _onSelect: function(event) {\n    var position = event.nativeEvent.position;\n    if (position === -1) {\n      this.props.onIconClicked && this.props.onIconClicked();\n    } else {\n      this.props.onActionSelected && this.props.onActionSelected(position);\n    }\n  },\n});\n\nvar NativeToolbar = requireNativeComponent('ToolbarAndroid', ToolbarAndroid, {\n  nativeOnly: {\n    nativeActions: true,\n  }\n});\n\nmodule.exports = ToolbarAndroid;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule ViewPagerAndroid\n * @flow\n */\n'use strict';\n\nvar React = require('React');\nvar ReactNative = require('ReactNative');\nvar UIManager = require('UIManager');\nvar View = require('View');\n\nvar dismissKeyboard = require('dismissKeyboard');\nvar requireNativeComponent = require('requireNativeComponent');\n\nvar ReactPropTypes = React.PropTypes;\n\nvar VIEWPAGER_REF = 'viewPager';\n\ntype Event = Object;\n\nexport type ViewPagerScrollState = $Enum<{\n  idle: string,\n  dragging: string,\n  settling: string,\n}>;\n\n/**\n * Container that allows to flip left and right between child views. Each\n * child view of the `ViewPagerAndroid` will be treated as a separate page\n * and will be stretched to fill the `ViewPagerAndroid`.\n *\n * It is important all children are `<View>`s and not composite components.\n * You can set style properties like `padding` or `backgroundColor` for each\n * child.\n *\n * Example:\n *\n * ```\n * render: function() {\n *   return (\n *     <ViewPagerAndroid\n *       style={styles.viewPager}\n *       initialPage={0}>\n *       <View style={styles.pageStyle}>\n *         <Text>First page</Text>\n *       </View>\n *       <View style={styles.pageStyle}>\n *         <Text>Second page</Text>\n *       </View>\n *     </ViewPagerAndroid>\n *   );\n * }\n *\n * ...\n *\n * var styles = {\n *   ...\n *   pageStyle: {\n *     alignItems: 'center',\n *     padding: 20,\n *   }\n * }\n * ```\n */\nclass ViewPagerAndroid extends React.Component {\n  props: {\n    initialPage?: number,\n    onPageScroll?: Function,\n    onPageScrollStateChanged?: Function,\n    onPageSelected?: Function,\n    pageMargin?: number,\n    keyboardDismissMode?: 'none' | 'on-drag',\n    scrollEnabled?: boolean,\n  };\n\n  static propTypes = {\n    ...View.propTypes,\n    /**\n     * Index of initial page that should be selected. Use `setPage` method to\n     * update the page, and `onPageSelected` to monitor page changes\n     */\n    initialPage: ReactPropTypes.number,\n\n    /**\n     * Executed when transitioning between pages (ether because of animation for\n     * the requested page change or when user is swiping/dragging between pages)\n     * The `event.nativeEvent` object for this callback will carry following data:\n     *  - position - index of first page from the left that is currently visible\n     *  - offset - value from range [0,1) describing stage between page transitions.\n     *    Value x means that (1 - x) fraction of the page at \"position\" index is\n     *    visible, and x fraction of the next page is visible.\n     */\n    onPageScroll: ReactPropTypes.func,\n\n    /**\n     * Function called when the page scrolling state has changed.\n     * The page scrolling state can be in 3 states:\n     * - idle, meaning there is no interaction with the page scroller happening at the time\n     * - dragging, meaning there is currently an interaction with the page scroller\n     * - settling, meaning that there was an interaction with the page scroller, and the\n     *   page scroller is now finishing it's closing or opening animation\n     */\n    onPageScrollStateChanged: ReactPropTypes.func,\n\n    /**\n     * This callback will be called once ViewPager finish navigating to selected page\n     * (when user swipes between pages). The `event.nativeEvent` object passed to this\n     * callback will have following fields:\n     *  - position - index of page that has been selected\n     */\n    onPageSelected: ReactPropTypes.func,\n\n    /**\n     * Blank space to show between pages. This is only visible while scrolling, pages are still\n     * edge-to-edge.\n     */\n    pageMargin: ReactPropTypes.number,\n\n    /**\n     * Determines whether the keyboard gets dismissed in response to a drag.\n     *   - 'none' (the default), drags do not dismiss the keyboard.\n     *   - 'on-drag', the keyboard is dismissed when a drag begins.\n     */\n    keyboardDismissMode: ReactPropTypes.oneOf([\n      'none', // default\n      'on-drag',\n    ]),\n\n    /**\n    * When false, the content does not scroll.\n    * The default value is true.\n    */\n    scrollEnabled: ReactPropTypes.bool,\n  };\n\n  componentDidMount() {\n    if (this.props.initialPage != null) {\n      this.setPageWithoutAnimation(this.props.initialPage);\n    }\n  }\n\n  getInnerViewNode = (): ReactComponent => {\n    return this.refs[VIEWPAGER_REF].getInnerViewNode();\n  };\n\n  _childrenWithOverridenStyle = (): Array => {\n    // Override styles so that each page will fill the parent. Native component\n    // will handle positioning of elements, so it's not important to offset\n    // them correctly.\n    return React.Children.map(this.props.children, function(child) {\n      if (!child) {\n        return null;\n      }\n      var newProps = {\n        ...child.props,\n        style: [child.props.style, {\n          position: 'absolute',\n          left: 0,\n          top: 0,\n          right: 0,\n          bottom: 0,\n          width: undefined,\n          height: undefined,\n        }],\n        collapsable: false,\n      };\n      if (child.type &&\n          child.type.displayName &&\n          (child.type.displayName !== 'RCTView') &&\n          (child.type.displayName !== 'View')) {\n        console.warn('Each ViewPager child must be a <View>. Was ' + child.type.displayName);\n      }\n      return React.createElement(child.type, newProps);\n    });\n  };\n\n  _onPageScroll = (e: Event) => {\n    if (this.props.onPageScroll) {\n      this.props.onPageScroll(e);\n    }\n    if (this.props.keyboardDismissMode === 'on-drag') {\n      dismissKeyboard();\n    }\n  };\n\n  _onPageScrollStateChanged = (e: Event) => {\n    if (this.props.onPageScrollStateChanged) {\n      this.props.onPageScrollStateChanged(e.nativeEvent.pageScrollState);\n    }\n  };\n\n  _onPageSelected = (e: Event) => {\n    if (this.props.onPageSelected) {\n      this.props.onPageSelected(e);\n    }\n  };\n\n  /**\n   * A helper function to scroll to a specific page in the ViewPager.\n   * The transition between pages will be animated.\n   */\n  setPage = (selectedPage: number) => {\n    UIManager.dispatchViewManagerCommand(\n      ReactNative.findNodeHandle(this),\n      UIManager.AndroidViewPager.Commands.setPage,\n      [selectedPage],\n    );\n  };\n\n  /**\n   * A helper function to scroll to a specific page in the ViewPager.\n   * The transition between pages will *not* be animated.\n   */\n  setPageWithoutAnimation = (selectedPage: number) => {\n    UIManager.dispatchViewManagerCommand(\n      ReactNative.findNodeHandle(this),\n      UIManager.AndroidViewPager.Commands.setPageWithoutAnimation,\n      [selectedPage],\n    );\n  };\n\n  render() {\n    return (\n      <NativeAndroidViewPager\n        {...this.props}\n        ref={VIEWPAGER_REF}\n        style={this.props.style}\n        onPageScroll={this._onPageScroll}\n        onPageScrollStateChanged={this._onPageScrollStateChanged}\n        onPageSelected={this._onPageSelected}\n        children={this._childrenWithOverridenStyle()}\n      />\n    );\n  }\n}\n\nvar NativeAndroidViewPager = requireNativeComponent('AndroidViewPager', ViewPagerAndroid);\n\nmodule.exports = ViewPagerAndroid;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule WebView\n */\n'use strict';\n\nvar EdgeInsetsPropType = require('EdgeInsetsPropType');\nvar ActivityIndicator = require('ActivityIndicator');\nvar React = require('React');\nvar ReactNative = require('ReactNative');\nvar StyleSheet = require('StyleSheet');\nvar UIManager = require('UIManager');\nvar View = require('View');\n\nvar deprecatedPropType = require('deprecatedPropType');\nvar keyMirror = require('fbjs/lib/keyMirror');\nvar requireNativeComponent = require('requireNativeComponent');\nvar resolveAssetSource = require('resolveAssetSource');\n\nvar PropTypes = React.PropTypes;\n\nvar RCT_WEBVIEW_REF = 'webview';\n\nvar WebViewState = keyMirror({\n  IDLE: null,\n  LOADING: null,\n  ERROR: null,\n});\n\nvar defaultRenderLoading = () => (\n  <View style={styles.loadingView}>\n    <ActivityIndicator\n      style={styles.loadingProgressBar}\n    />\n  </View>\n);\n\n/**\n * Renders a native WebView.\n */\nclass WebView extends React.Component {\n  static propTypes = {\n    ...View.propTypes,\n    renderError: PropTypes.func,\n    renderLoading: PropTypes.func,\n    onLoad: PropTypes.func,\n    onLoadEnd: PropTypes.func,\n    onLoadStart: PropTypes.func,\n    onError: PropTypes.func,\n    automaticallyAdjustContentInsets: PropTypes.bool,\n    contentInset: EdgeInsetsPropType,\n    onNavigationStateChange: PropTypes.func,\n    onMessage: PropTypes.func,\n    onContentSizeChange: PropTypes.func,\n    startInLoadingState: PropTypes.bool, // force WebView to show loadingView on first load\n    style: View.propTypes.style,\n\n    html: deprecatedPropType(\n      PropTypes.string,\n      'Use the `source` prop instead.'\n    ),\n\n    url: deprecatedPropType(\n      PropTypes.string,\n      'Use the `source` prop instead.'\n    ),\n\n    /**\n     * Loads static html or a uri (with optional headers) in the WebView.\n     */\n    source: PropTypes.oneOfType([\n      PropTypes.shape({\n        /*\n         * The URI to load in the WebView. Can be a local or remote file.\n         */\n        uri: PropTypes.string,\n        /*\n         * The HTTP Method to use. Defaults to GET if not specified.\n         * NOTE: On Android, only GET and POST are supported.\n         */\n        method: PropTypes.oneOf(['GET', 'POST']),\n        /*\n         * Additional HTTP headers to send with the request.\n         * NOTE: On Android, this can only be used with GET requests.\n         */\n        headers: PropTypes.object,\n        /*\n         * The HTTP body to send with the request. This must be a valid\n         * UTF-8 string, and will be sent exactly as specified, with no\n         * additional encoding (e.g. URL-escaping or base64) applied.\n         * NOTE: On Android, this can only be used with POST requests.\n         */\n        body: PropTypes.string,\n      }),\n      PropTypes.shape({\n        /*\n         * A static HTML page to display in the WebView.\n         */\n        html: PropTypes.string,\n        /*\n         * The base URL to be used for any relative links in the HTML.\n         */\n        baseUrl: PropTypes.string,\n      }),\n      /*\n       * Used internally by packager.\n       */\n      PropTypes.number,\n    ]),\n\n    /**\n     * Used on Android only, JS is enabled by default for WebView on iOS\n     * @platform android\n     */\n    javaScriptEnabled: PropTypes.bool,\n\n    /**\n     * Used on Android only, controls whether DOM Storage is enabled or not\n     * @platform android\n     */\n    domStorageEnabled: PropTypes.bool,\n\n    /**\n     * Sets the JS to be injected when the webpage loads.\n     */\n    injectedJavaScript: PropTypes.string,\n\n    /**\n     * Sets whether the webpage scales to fit the view and the user can change the scale.\n     */\n    scalesPageToFit: PropTypes.bool,\n\n    /**\n     * Sets the user-agent for this WebView. The user-agent can also be set in native using\n     * WebViewConfig. This prop will overwrite that config.\n     */\n    userAgent: PropTypes.string,\n\n    /**\n     * Used to locate this view in end-to-end tests.\n     */\n    testID: PropTypes.string,\n\n    /**\n     * Determines whether HTML5 audio & videos require the user to tap before they can\n     * start playing. The default value is `false`.\n     */\n    mediaPlaybackRequiresUserAction: PropTypes.bool,\n\n    /**\n     * Boolean that sets whether JavaScript running in the context of a file\n     * scheme URL should be allowed to access content from any origin.\n     * Including accessing content from other file scheme URLs\n     * @platform android\n     */\n    allowUniversalAccessFromFileURLs: PropTypes.bool,\n  };\n\n  static defaultProps = {\n    javaScriptEnabled : true,\n    scalesPageToFit: true,\n  };\n\n  state = {\n    viewState: WebViewState.IDLE,\n    lastErrorEvent: null,\n    startInLoadingState: true,\n  };\n\n  componentWillMount() {\n    if (this.props.startInLoadingState) {\n      this.setState({viewState: WebViewState.LOADING});\n    }\n  }\n\n  render() {\n    var otherView = null;\n\n   if (this.state.viewState === WebViewState.LOADING) {\n      otherView = (this.props.renderLoading || defaultRenderLoading)();\n    } else if (this.state.viewState === WebViewState.ERROR) {\n      var errorEvent = this.state.lastErrorEvent;\n      otherView = this.props.renderError && this.props.renderError(\n        errorEvent.domain,\n        errorEvent.code,\n        errorEvent.description);\n    } else if (this.state.viewState !== WebViewState.IDLE) {\n      console.error('RCTWebView invalid state encountered: ' + this.state.loading);\n    }\n\n    var webViewStyles = [styles.container, this.props.style];\n    if (this.state.viewState === WebViewState.LOADING ||\n      this.state.viewState === WebViewState.ERROR) {\n      // if we're in either LOADING or ERROR states, don't show the webView\n      webViewStyles.push(styles.hidden);\n    }\n\n    var source = this.props.source || {};\n    if (this.props.html) {\n      source.html = this.props.html;\n    } else if (this.props.url) {\n      source.uri = this.props.url;\n    }\n\n    if (source.method === 'POST' && source.headers) {\n      console.warn('WebView: `source.headers` is not supported when using POST.');\n    } else if (source.method === 'GET' && source.body) {\n      console.warn('WebView: `source.body` is not supported when using GET.');\n    }\n\n    var webView =\n      <RCTWebView\n        ref={RCT_WEBVIEW_REF}\n        key=\"webViewKey\"\n        style={webViewStyles}\n        source={resolveAssetSource(source)}\n        scalesPageToFit={this.props.scalesPageToFit}\n        injectedJavaScript={this.props.injectedJavaScript}\n        userAgent={this.props.userAgent}\n        javaScriptEnabled={this.props.javaScriptEnabled}\n        domStorageEnabled={this.props.domStorageEnabled}\n        messagingEnabled={typeof this.props.onMessage === 'function'}\n        onMessage={this.onMessage}\n        contentInset={this.props.contentInset}\n        automaticallyAdjustContentInsets={this.props.automaticallyAdjustContentInsets}\n        onContentSizeChange={this.props.onContentSizeChange}\n        onLoadingStart={this.onLoadingStart}\n        onLoadingFinish={this.onLoadingFinish}\n        onLoadingError={this.onLoadingError}\n        testID={this.props.testID}\n        mediaPlaybackRequiresUserAction={this.props.mediaPlaybackRequiresUserAction}\n        allowUniversalAccessFromFileURLs={this.props.allowUniversalAccessFromFileURLs}\n      />;\n\n    return (\n      <View style={styles.container}>\n        {webView}\n        {otherView}\n      </View>\n    );\n  }\n\n  goForward = () => {\n    UIManager.dispatchViewManagerCommand(\n      this.getWebViewHandle(),\n      UIManager.RCTWebView.Commands.goForward,\n      null\n    );\n  };\n\n  goBack = () => {\n    UIManager.dispatchViewManagerCommand(\n      this.getWebViewHandle(),\n      UIManager.RCTWebView.Commands.goBack,\n      null\n    );\n  };\n\n  reload = () => {\n    UIManager.dispatchViewManagerCommand(\n      this.getWebViewHandle(),\n      UIManager.RCTWebView.Commands.reload,\n      null\n    );\n  };\n\n  stopLoading = () => {\n    UIManager.dispatchViewManagerCommand(\n      this.getWebViewHandle(),\n      UIManager.RCTWebView.Commands.stopLoading,\n      null\n    );\n  };\n\n  postMessage = (data) => {\n    UIManager.dispatchViewManagerCommand(\n      this.getWebViewHandle(),\n      UIManager.RCTWebView.Commands.postMessage,\n      [String(data)]\n    );\n  };\n\n  /**\n  * Injects a javascript string into the referenced WebView. Deliberately does not\n  * return a response because using eval() to return a response breaks this method\n  * on pages with a Content Security Policy that disallows eval(). If you need that\n  * functionality, look into postMessage/onMessage.\n  */\n  injectJavaScript = (data) => {\n    UIManager.dispatchViewManagerCommand(\n      this.getWebViewHandle(),\n      UIManager.RCTWebView.Commands.injectJavaScript,\n      [data]\n    );\n  };\n\n  /**\n   * We return an event with a bunch of fields including:\n   *  url, title, loading, canGoBack, canGoForward\n   */\n  updateNavigationState = (event) => {\n    if (this.props.onNavigationStateChange) {\n      this.props.onNavigationStateChange(event.nativeEvent);\n    }\n  };\n\n  getWebViewHandle = () => {\n    return ReactNative.findNodeHandle(this.refs[RCT_WEBVIEW_REF]);\n  };\n\n  onLoadingStart = (event) => {\n    var onLoadStart = this.props.onLoadStart;\n    onLoadStart && onLoadStart(event);\n    this.updateNavigationState(event);\n  };\n\n  onLoadingError = (event) => {\n    event.persist(); // persist this event because we need to store it\n    var {onError, onLoadEnd} = this.props;\n    onError && onError(event);\n    onLoadEnd && onLoadEnd(event);\n    console.warn('Encountered an error loading page', event.nativeEvent);\n\n    this.setState({\n      lastErrorEvent: event.nativeEvent,\n      viewState: WebViewState.ERROR\n    });\n  };\n\n  onLoadingFinish = (event) => {\n    var {onLoad, onLoadEnd} = this.props;\n    onLoad && onLoad(event);\n    onLoadEnd && onLoadEnd(event);\n    this.setState({\n      viewState: WebViewState.IDLE,\n    });\n    this.updateNavigationState(event);\n  };\n\n  onMessage = (event: Event) => {\n    var {onMessage} = this.props;\n    onMessage && onMessage(event);\n  }\n}\n\nvar RCTWebView = requireNativeComponent('RCTWebView', WebView, {\n  nativeOnly: {\n    messagingEnabled: PropTypes.bool,\n  },\n});\n\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n  },\n  hidden: {\n    height: 0,\n    flex: 0, // disable 'flex:1' when hiding a View\n  },\n  loadingView: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  loadingProgressBar: {\n    height: 20,\n  },\n});\n\nmodule.exports = WebView;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule ActionSheetIOS\n * @flow\n */\n'use strict';\n\nvar RCTActionSheetManager = require('NativeModules').ActionSheetManager;\n\nvar invariant = require('fbjs/lib/invariant');\nvar processColor = require('processColor');\n\nvar ActionSheetIOS = {\n  /**\n   * Display an iOS action sheet. The `options` object must contain one or more\n   * of:\n   *\n   * - `options` (array of strings) - a list of button titles (required)\n   * - `cancelButtonIndex` (int) - index of cancel button in `options`\n   * - `destructiveButtonIndex` (int) - index of destructive button in `options`\n   * - `title` (string) - a title to show above the action sheet\n   * - `message` (string) - a message to show below the title\n   */\n  showActionSheetWithOptions(options: Object, callback: Function) {\n    invariant(\n      typeof options === 'object' && options !== null,\n      'Options must be a valid object'\n    );\n    invariant(\n      typeof callback === 'function',\n      'Must provide a valid callback'\n    );\n    RCTActionSheetManager.showActionSheetWithOptions(\n      {...options, tintColor: processColor(options.tintColor)},\n      callback\n    );\n  },\n\n  /**\n   * Display the iOS share sheet. The `options` object should contain\n   * one or both of `message` and `url` and can additionally have\n   * a `subject` or `excludedActivityTypes`:\n   *\n   * - `url` (string) - a URL to share\n   * - `message` (string) - a message to share\n   * - `subject` (string) - a subject for the message\n   * - `excludedActivityTypes` (array) - the activities to exclude from the ActionSheet\n   *\n   * NOTE: if `url` points to a local file, or is a base64-encoded\n   * uri, the file it points to will be loaded and shared directly.\n   * In this way, you can share images, videos, PDF files, etc.\n   */\n  showShareActionSheetWithOptions(\n    options: Object,\n    failureCallback: Function,\n    successCallback: Function\n  ) {\n    invariant(\n      typeof options === 'object' && options !== null,\n      'Options must be a valid object'\n    );\n    invariant(\n      typeof failureCallback === 'function',\n      'Must provide a valid failureCallback'\n    );\n    invariant(\n      typeof successCallback === 'function',\n      'Must provide a valid successCallback'\n    );\n    RCTActionSheetManager.showShareActionSheetWithOptions(\n      {...options, tintColor: processColor(options.tintColor)},\n      failureCallback,\n      successCallback\n    );\n  }\n};\n\nmodule.exports = ActionSheetIOS;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule AdSupportIOS\n * @flow\n */\n'use strict';\n\nvar AdSupport = require('NativeModules').AdSupport;\n\nmodule.exports = {\n  getAdvertisingId: function(onSuccess: Function, onFailure: Function) {\n    AdSupport.getAdvertisingId(onSuccess, onFailure);\n  },\n\n  getAdvertisingTrackingEnabled: function(onSuccess: Function, onFailure: Function) {\n    AdSupport.getAdvertisingTrackingEnabled(onSuccess, onFailure);\n  },\n};\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule AppRegistry\n * @flow\n */\n'use strict';\n\nconst BatchedBridge = require('BatchedBridge');\nconst BugReporting = require('BugReporting');\nconst NativeModules = require('NativeModules');\nconst ReactNative = require('ReactNative');\n\nconst infoLog = require('infoLog');\nconst invariant = require('fbjs/lib/invariant');\nconst renderApplication = require('renderApplication');\n\nif (__DEV__) {\n  // In order to use Cmd+P to record/dump perf data, we need to make sure\n  // this module is available in the bundle\n  require('RCTRenderingPerf');\n}\n\ntype Task = (taskData: any) => Promise<void>;\ntype TaskProvider = () => Task;\nexport type ComponentProvider = () => ReactClass<any>;\nexport type AppConfig = {\n  appKey: string,\n  component?: ComponentProvider,\n  run?: Function,\n  section?: boolean,\n};\nexport type Runnable = {\n  component?: ComponentProvider,\n  run: Function,\n};\nexport type Runnables = {\n  [appKey: string]: Runnable,\n};\nexport type Registry = {\n  sections: Array<string>,\n  runnables: Runnables,\n};\n\nconst runnables: Runnables = {};\nlet runCount = 1;\nconst sections: Runnables = {};\nconst tasks: Map<string, TaskProvider> = new Map();\n\n/**\n * `AppRegistry` is the JS entry point to running all React Native apps.  App\n * root components should register themselves with\n * `AppRegistry.registerComponent`, then the native system can load the bundle\n * for the app and then actually run the app when it's ready by invoking\n * `AppRegistry.runApplication`.\n *\n * To \"stop\" an application when a view should be destroyed, call\n * `AppRegistry.unmountApplicationComponentAtRootTag` with the tag that was\n * passed into `runApplication`. These should always be used as a pair.\n *\n * `AppRegistry` should be `require`d early in the `require` sequence to make\n * sure the JS execution environment is setup before other modules are\n * `require`d.\n */\nconst AppRegistry = {\n  registerConfig(config: Array<AppConfig>): void {\n    config.forEach((appConfig) => {\n      if (appConfig.run) {\n        AppRegistry.registerRunnable(appConfig.appKey, appConfig.run);\n      } else {\n        invariant(\n          appConfig.component != null,\n          'AppRegistry.registerConfig(...): Every config is expected to set ' +\n          'either `run` or `component`, but `%s` has neither.',\n          appConfig.appKey\n        );\n        AppRegistry.registerComponent(\n          appConfig.appKey,\n          appConfig.component,\n          appConfig.section,\n        );\n      }\n    });\n  },\n\n  registerComponent(\n    appKey: string,\n    component: ComponentProvider,\n    section?: boolean,\n  ): string {\n    runnables[appKey] = {\n      component,\n      run: (appParameters) =>\n        renderApplication(component(), appParameters.initialProps, appParameters.rootTag)\n    };\n    if (section) {\n      sections[appKey] = runnables[appKey];\n    }\n    return appKey;\n  },\n\n  registerRunnable(appKey: string, run: Function): string {\n    runnables[appKey] = {run};\n    return appKey;\n  },\n\n  registerSection(appKey: string, component: ComponentProvider): void {\n    AppRegistry.registerComponent(appKey, component, true);\n  },\n\n  getAppKeys(): Array<string> {\n    return Object.keys(runnables);\n  },\n\n  getSectionKeys(): Array<string> {\n    return Object.keys(sections);\n  },\n\n  getSections(): Runnables {\n    return {\n      ...sections\n    };\n  },\n\n  getRunnable(appKey: string): ?Runnable {\n    return runnables[appKey];\n  },\n\n  getRegistry(): Registry {\n    return {\n      sections: AppRegistry.getSectionKeys(),\n      runnables: {...runnables},\n    };\n  },\n\n  runApplication(appKey: string, appParameters: any): void {\n    const msg =\n      'Running application \"' + appKey + '\" with appParams: ' +\n      JSON.stringify(appParameters) + '. ' +\n      '__DEV__ === ' + String(__DEV__) +\n      ', development-level warning are ' + (__DEV__ ? 'ON' : 'OFF') +\n      ', performance optimizations are ' + (__DEV__ ? 'OFF' : 'ON');\n    infoLog(msg);\n    BugReporting.addSource('AppRegistry.runApplication' + runCount++, () => msg);\n    invariant(\n      runnables[appKey] && runnables[appKey].run,\n      'Application ' + appKey + ' has not been registered.\\n\\n' +\n      'Hint: This error often happens when you\\'re running the packager ' +\n      '(local dev server) from a wrong folder. For example you have ' +\n      'multiple apps and the packager is still running for the app you ' +\n      'were working on before.\\nIf this is the case, simply kill the old ' +\n      'packager instance (e.g. close the packager terminal window) ' +\n      'and start the packager in the correct app folder (e.g. cd into app ' +\n      'folder and run \\'npm start\\').\\n\\n' +\n      'This error can also happen due to a require() error during ' +\n      'initialization or failure to call AppRegistry.registerComponent.\\n\\n'\n    );\n    runnables[appKey].run(appParameters);\n  },\n\n  unmountApplicationComponentAtRootTag(rootTag: number): void {\n    ReactNative.unmountComponentAtNodeAndRemoveContainer(rootTag);\n  },\n\n  /**\n   * Register a headless task. A headless task is a bit of code that runs without a UI.\n   * @param taskKey the key associated with this task\n   * @param task    a promise returning function that takes some data passed from the native side as\n   *                the only argument; when the promise is resolved or rejected the native side is\n   *                notified of this event and it may decide to destroy the JS context.\n   */\n  registerHeadlessTask(taskKey: string, task: TaskProvider): void {\n    if (tasks.has(taskKey)) {\n      console.warn(`registerHeadlessTask called multiple times for same key '${taskKey}'`);\n    }\n    tasks.set(taskKey, task);\n  },\n\n  /**\n   * Only called from native code. Starts a headless task.\n   *\n   * @param taskId the native id for this task instance to keep track of its execution\n   * @param taskKey the key for the task to start\n   * @param data the data to pass to the task\n   */\n  startHeadlessTask(taskId: number, taskKey: string, data: any): void {\n    const taskProvider = tasks.get(taskKey);\n    if (!taskProvider) {\n      throw new Error(`No task registered for key ${taskKey}`);\n    }\n    taskProvider()(data)\n      .then(() => NativeModules.HeadlessJsTaskSupport.notifyTaskFinished(taskId))\n      .catch(reason => {\n        console.error(reason);\n        NativeModules.HeadlessJsTaskSupport.notifyTaskFinished(taskId);\n      });\n  }\n\n};\n\nBatchedBridge.registerCallableModule(\n  'AppRegistry',\n  AppRegistry\n);\n\nmodule.exports = AppRegistry;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule BugReporting\n * @flow\n */\n'use strict';\n\nconst RCTDeviceEventEmitter = require('RCTDeviceEventEmitter');\nconst Map = require('Map');\nconst infoLog = require('infoLog');\n\nimport type EmitterSubscription from 'EmitterSubscription';\n\ntype ExtraData = { [key: string]: string };\ntype SourceCallback = () => string;\ntype DebugData = { extras: ExtraData, files: ExtraData };\n\nfunction defaultExtras() {\n  BugReporting.addFileSource('react_hierarchy.txt', () => require('dumpReactTree')());\n}\n\n/**\n * A simple class for collecting bug report data. Components can add sources that will be queried when a bug report\n * is created via `collectExtraData`. For example, a list component might add a source that provides the list of rows\n * that are currently visible on screen. Components should also remember to call `remove()` on the object that is\n * returned by `addSource` when they are unmounted.\n */\nclass BugReporting {\n  static _extraSources: Map<string, SourceCallback> = new Map();\n  static _fileSources: Map<string, SourceCallback> = new Map();\n  static _subscription: ?EmitterSubscription = null;\n\n  static _maybeInit() {\n    if (!BugReporting._subscription) {\n      BugReporting._subscription = RCTDeviceEventEmitter\n          .addListener('collectBugExtraData', BugReporting.collectExtraData, null);\n      defaultExtras();\n    }\n  }\n\n  /**\n   * Maps a string key to a simple callback that should return a string payload to be attached\n   * to a bug report. Source callbacks are called when `collectExtraData` is called.\n   *\n   * Returns an object to remove the source when the component unmounts.\n   *\n   * Conflicts trample with a warning.\n   */\n  static addSource(key: string, callback: SourceCallback): {remove: () => void} {\n    return this._addSource(key, callback, BugReporting._extraSources);\n  }\n\n  /**\n   * Maps a string key to a simple callback that should return a string payload to be attached\n   * to a bug report. Source callbacks are called when `collectExtraData` is called.\n   *\n   * Returns an object to remove the source when the component unmounts.\n   *\n   * Conflicts trample with a warning.\n   */\n  static addFileSource(key: string, callback: SourceCallback): {remove: () => void} {\n    return this._addSource(key, callback, BugReporting._fileSources);\n  }\n\n  static _addSource(key: string, callback: SourceCallback, source: Map<string, SourceCallback>): {remove: () => void} {\n    BugReporting._maybeInit();\n    if (source.has(key)) {\n      console.warn(`BugReporting.add* called multiple times for same key '${key}'`);\n    }\n    source.set(key, callback);\n    return {remove: () => { source.delete(key); }};\n  }\n\n  /**\n   * This can be called from a native bug reporting flow, or from JS code.\n   *\n   * If available, this will call `NativeModules.BugReporting.setExtraData(extraData)`\n   * after collecting `extraData`.\n   */\n  static collectExtraData(): DebugData {\n    const extraData: ExtraData = {};\n    for (const [key, callback] of BugReporting._extraSources) {\n      extraData[key] = callback();\n    }\n    const fileData: ExtraData = {};\n    for (const [key, callback] of BugReporting._fileSources) {\n      fileData[key] = callback();\n    }\n    infoLog('BugReporting extraData:', extraData);\n    const BugReportingNativeModule = require('NativeModules').BugReporting;\n    BugReportingNativeModule &&\n      BugReportingNativeModule.setExtraData &&\n      BugReportingNativeModule.setExtraData(extraData, fileData);\n\n    return { extras: extraData, files: fileData };\n  }\n}\n\nmodule.exports = BugReporting;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule dumpReactTree\n * @flow\n */\n'use strict';\n\n/*\nconst getReactData = require('getReactData');\n\nconst INDENTATION_SIZE = 2;\nconst MAX_DEPTH = 2;\nconst MAX_STRING_LENGTH = 50;\n*/\n\n/**\n * Dump all React Native root views and their content. This function tries\n * it best to get the content but ultimately relies on implementation details\n * of React and will fail in future versions.\n */\nfunction dumpReactTree() {\n  try {\n    return getReactTree();\n  } catch (e) {\n    return 'Failed to dump react tree: ' + e;\n  }\n}\n\nfunction getReactTree() {\n  // TODO(sema): Reenable tree dumps using the Fiber tree structure. #15945684\n  return (\n    'React tree dumps have been temporarily disabled while React is ' +\n    'upgraded to Fiber.'\n  );\n/*\n  let output = '';\n  const rootIds = Object.getOwnPropertyNames(ReactNativeMount._instancesByContainerID);\n  for (const rootId of rootIds) {\n    const instance = ReactNativeMount._instancesByContainerID[rootId];\n    output += `============ Root ID: ${rootId} ============\\n`;\n    output += dumpNode(instance, 0);\n    output += `============ End root ID: ${rootId} ============\\n`;\n  }\n  return output;\n*/\n}\n\n/*\nfunction dumpNode(node: Object, identation: number) {\n  const data = getReactData(node);\n  if (data.nodeType === 'Text') {\n    return indent(identation) + data.text + '\\n';\n  } else if (data.nodeType === 'Empty') {\n    return '';\n  }\n  let output = indent(identation) + `<${data.name}`;\n  if (data.nodeType === 'Composite') {\n    for (const propName of Object.getOwnPropertyNames(data.props || {})) {\n      if (isNormalProp(propName)) {\n        try {\n          const value = convertValue(data.props[propName]);\n          if (value) {\n            output += ` ${propName}=${value}`;\n          }\n        } catch (e) {\n          const message = `[Failed to get property: ${e}]`;\n          output += ` ${propName}=${message}`;\n        }\n      }\n    }\n  }\n  let childOutput = '';\n  for (const child of data.children || []) {\n    childOutput += dumpNode(child, identation + 1);\n  }\n\n  if (childOutput) {\n    output += '>\\n' + childOutput + indent(identation) + `</${data.name}>\\n`;\n  } else {\n    output += ' />\\n';\n  }\n\n  return output;\n}\n\nfunction isNormalProp(name: string): boolean {\n  switch (name) {\n    case 'children':\n    case 'key':\n    case 'ref':\n      return false;\n    default:\n      return true;\n  }\n}\n\nfunction convertObject(object: Object, depth: number) {\n  if (depth >= MAX_DEPTH) {\n    return '[...omitted]';\n  }\n  let output = '{';\n  let first = true;\n  for (const key of Object.getOwnPropertyNames(object)) {\n    if (!first) {\n      output += ', ';\n    }\n    output += `${key}: ${convertValue(object[key], depth + 1)}`;\n    first = false;\n  }\n  return output + '}';\n}\n\nfunction convertValue(value, depth = 0): ?string {\n  if (!value) {\n    return null;\n  }\n\n  switch (typeof value) {\n    case 'string':\n      return JSON.stringify(possiblyEllipsis(value).replace('\\n', '\\\\n'));\n    case 'boolean':\n    case 'number':\n      return JSON.stringify(value);\n    case 'function':\n      return '[function]';\n    case 'object':\n      return convertObject(value, depth);\n    default:\n      return null;\n  }\n}\n\nfunction possiblyEllipsis(value: string) {\n  if (value.length > MAX_STRING_LENGTH) {\n    return value.slice(0, MAX_STRING_LENGTH) + '...';\n  } else {\n    return value;\n  }\n}\n\nfunction indent(size: number) {\n  return ' '.repeat(size * INDENTATION_SIZE);\n}\n*/\n\nmodule.exports = dumpReactTree;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule renderApplication\n * @flow\n */\n\n'use strict';\n\nvar AppContainer = require('AppContainer');\nvar React = require('React');\nvar ReactNative = require('ReactNative');\n\nvar invariant = require('fbjs/lib/invariant');\n\n// require BackAndroid so it sets the default handler that exits the app if no listeners respond\nrequire('BackAndroid');\n\nfunction renderApplication<Props: Object>(\n  RootComponent: ReactClass<Props>,\n  initialProps: Props,\n  rootTag: any\n) {\n  invariant(\n    rootTag,\n    'Expect to have a valid rootTag, instead got ', rootTag\n  );\n  ReactNative.render(\n    <AppContainer rootTag={rootTag}>\n      <RootComponent\n        {...initialProps}\n        rootTag={rootTag}\n      />\n    </AppContainer>,\n    rootTag\n  );\n}\n\nmodule.exports = renderApplication;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule BackAndroid\n */\n\n'use strict';\n\nvar DeviceEventManager = require('NativeModules').DeviceEventManager;\nvar RCTDeviceEventEmitter = require('RCTDeviceEventEmitter');\n\nvar DEVICE_BACK_EVENT = 'hardwareBackPress';\n\ntype BackPressEventName = $Enum<{\n  backPress: string,\n}>;\n\nvar _backPressSubscriptions = new Set();\n\nRCTDeviceEventEmitter.addListener(DEVICE_BACK_EVENT, function() {\n  var backPressSubscriptions = new Set(_backPressSubscriptions);\n  var invokeDefault = true;\n  var subscriptions = [...backPressSubscriptions].reverse();\n  for (var i = 0; i < subscriptions.length; ++i) {\n    if (subscriptions[i]()) {\n      invokeDefault = false;\n      break;\n    }\n  }\n\n  if (invokeDefault) {\n    BackAndroid.exitApp();\n  }\n});\n\n/**\n * Detect hardware back button presses, and programmatically invoke the default back button\n * functionality to exit the app if there are no listeners or if none of the listeners return true.\n * The event subscriptions are called in reverse order (i.e. last registered subscription first),\n * and if one subscription returns true then subscriptions registered earlier will not be called.\n *\n * Example:\n *\n * ```javascript\n * BackAndroid.addEventListener('hardwareBackPress', function() {\n *  // this.onMainScreen and this.goBack are just examples, you need to use your own implementation here\n *  // Typically you would use the navigator here to go to the last state.\n *\n *  if (!this.onMainScreen()) {\n *    this.goBack();\n *    return true;\n *  }\n *  return false;\n * });\n * ```\n */\nvar BackAndroid = {\n\n  exitApp: function() {\n    DeviceEventManager.invokeDefaultBackPressHandler();\n  },\n\n  addEventListener: function (\n    eventName: BackPressEventName,\n    handler: Function\n  ): {remove: () => void} {\n    _backPressSubscriptions.add(handler);\n    return {\n      remove: () => BackAndroid.removeEventListener(eventName, handler),\n    };\n  },\n\n  removeEventListener: function(\n    eventName: BackPressEventName,\n    handler: Function\n  ): void {\n    _backPressSubscriptions.delete(handler);\n  },\n\n};\n\nmodule.exports = BackAndroid;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule RCTRenderingPerf\n * @flow\n */\n'use strict';\n\nvar ReactDebugTool = require('ReactDebugTool');\nvar ReactPerf = require('ReactPerf');\n\nvar invariant = require('fbjs/lib/invariant');\nvar performanceNow = require('fbjs/lib/performanceNow');\n\ntype perfModule = {\n  start: () => void,\n  stop: () => void,\n}\n\nvar perfModules = [];\nvar enabled = false;\nvar lastRenderStartTime = 0;\nvar totalRenderDuration = 0;\n\nvar RCTRenderingPerfDevtool = {\n  onBeginLifeCycleTimer(debugID, timerType) {\n    if (timerType === 'render') {\n      lastRenderStartTime = performanceNow();\n    }\n  },\n  onEndLifeCycleTimer(debugID, timerType) {\n    if (timerType === 'render') {\n      var lastRenderDuration = performanceNow() - lastRenderStartTime;\n      totalRenderDuration += lastRenderDuration;\n    }\n  },\n};\n\nvar RCTRenderingPerf = {\n  // Once perf is enabled, it stays enabled\n  toggle: function() {\n    console.log('Render perfomance measurements enabled');\n    enabled = true;\n  },\n\n  start: function() {\n    if (!enabled) {\n      return;\n    }\n\n    ReactPerf.start();\n    ReactDebugTool.addHook(RCTRenderingPerfDevtool);\n    perfModules.forEach((module) => module.start());\n  },\n\n  stop: function() {\n    if (!enabled) {\n      return;\n    }\n\n    ReactPerf.stop();\n    ReactPerf.printInclusive();\n    ReactPerf.printWasted();\n    ReactDebugTool.removeHook(RCTRenderingPerfDevtool);\n\n    console.log(`Total time spent in render(): ${totalRenderDuration.toFixed(2)} ms`);\n    lastRenderStartTime = 0;\n    totalRenderDuration = 0;\n\n    perfModules.forEach((module) => module.stop());\n  },\n\n  register: function(module: perfModule) {\n    invariant(\n      typeof module.start === 'function',\n      'Perf module should have start() function'\n    );\n    invariant(\n      typeof module.stop === 'function',\n      'Perf module should have stop() function'\n    );\n    perfModules.push(module);\n  }\n};\n\nmodule.exports = RCTRenderingPerf;\n","/**\n * Copyright 2016-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule ReactPerf\n * @flow\n */\n\n'use strict';\n\nvar ReactDebugTool = require('ReactDebugTool');\nvar warning = require('fbjs/lib/warning');\nvar alreadyWarned = false;\n\nimport type { FlushHistory } from 'ReactDebugTool';\n\nfunction roundFloat(val, base = 2) {\n  var n = Math.pow(10, base);\n  return Math.floor(val * n) / n;\n}\n\n// Flow type definition of console.table is too strict right now, see\n// https://github.com/facebook/flow/pull/2353 for updates\nfunction consoleTable(table: Array<{[key: string]: any}>): void {\n  console.table((table: any));\n}\n\nfunction warnInProduction() {\n  if (alreadyWarned) {\n    return;\n  }\n  alreadyWarned = true;\n  if (typeof console !== 'undefined') {\n    console.error(\n      'ReactPerf is not supported in the production builds of React. ' +\n      'To collect measurements, please use the development build of React instead.'\n    );\n  }\n}\n\nfunction getLastMeasurements() {\n  if (!__DEV__) {\n    warnInProduction();\n    return [];\n  }\n\n  return ReactDebugTool.getFlushHistory();\n}\n\nfunction getExclusive(flushHistory = getLastMeasurements()) {\n  if (!__DEV__) {\n    warnInProduction();\n    return [];\n  }\n\n  var aggregatedStats = {};\n  var affectedIDs = {};\n\n  function updateAggregatedStats(treeSnapshot, instanceID, timerType, applyUpdate) {\n    var {displayName} = treeSnapshot[instanceID];\n    var key = displayName;\n    var stats = aggregatedStats[key];\n    if (!stats) {\n      affectedIDs[key] = {};\n      stats = aggregatedStats[key] = {\n        key,\n        instanceCount: 0,\n        counts: {},\n        durations: {},\n        totalDuration: 0,\n      };\n    }\n    if (!stats.durations[timerType]) {\n      stats.durations[timerType] = 0;\n    }\n    if (!stats.counts[timerType]) {\n      stats.counts[timerType] = 0;\n    }\n    affectedIDs[key][instanceID] = true;\n    applyUpdate(stats);\n  }\n\n  flushHistory.forEach(flush => {\n    var {measurements, treeSnapshot} = flush;\n    measurements.forEach(measurement => {\n      var {duration, instanceID, timerType} = measurement;\n      updateAggregatedStats(treeSnapshot, instanceID, timerType, stats => {\n        stats.totalDuration += duration;\n        stats.durations[timerType] += duration;\n        stats.counts[timerType]++;\n      });\n    });\n  });\n\n  return Object.keys(aggregatedStats)\n    .map(key => ({\n      ...aggregatedStats[key],\n      instanceCount: Object.keys(affectedIDs[key]).length,\n    }))\n    .sort((a, b) =>\n      b.totalDuration - a.totalDuration\n    );\n}\n\nfunction getInclusive(flushHistory = getLastMeasurements()) {\n  if (!__DEV__) {\n    warnInProduction();\n    return [];\n  }\n\n  var aggregatedStats = {};\n  var affectedIDs = {};\n\n  function updateAggregatedStats(treeSnapshot, instanceID, applyUpdate) {\n    var {displayName, ownerID} = treeSnapshot[instanceID];\n    var owner = treeSnapshot[ownerID];\n    var key = (owner ? owner.displayName + ' > ' : '') + displayName;\n    var stats = aggregatedStats[key];\n    if (!stats) {\n      affectedIDs[key] = {};\n      stats = aggregatedStats[key] = {\n        key,\n        instanceCount: 0,\n        inclusiveRenderDuration: 0,\n        renderCount: 0,\n      };\n    }\n    affectedIDs[key][instanceID] = true;\n    applyUpdate(stats);\n  }\n\n  var isCompositeByID = {};\n  flushHistory.forEach(flush => {\n    var {measurements} = flush;\n    measurements.forEach(measurement => {\n      var {instanceID, timerType} = measurement;\n      if (timerType !== 'render') {\n        return;\n      }\n      isCompositeByID[instanceID] = true;\n    });\n  });\n\n  flushHistory.forEach(flush => {\n    var {measurements, treeSnapshot} = flush;\n    measurements.forEach(measurement => {\n      var {duration, instanceID, timerType} = measurement;\n      if (timerType !== 'render') {\n        return;\n      }\n      updateAggregatedStats(treeSnapshot, instanceID, stats => {\n        stats.renderCount++;\n      });\n      var nextParentID = instanceID;\n      while (nextParentID) {\n        // As we traverse parents, only count inclusive time towards composites.\n        // We know something is a composite if its render() was called.\n        if (isCompositeByID[nextParentID]) {\n          updateAggregatedStats(treeSnapshot, nextParentID, stats => {\n            stats.inclusiveRenderDuration += duration;\n          });\n        }\n        nextParentID = treeSnapshot[nextParentID].parentID;\n      }\n    });\n  });\n\n  return Object.keys(aggregatedStats)\n    .map(key => ({\n      ...aggregatedStats[key],\n      instanceCount: Object.keys(affectedIDs[key]).length,\n    }))\n    .sort((a, b) =>\n      b.inclusiveRenderDuration - a.inclusiveRenderDuration\n    );\n}\n\nfunction getWasted(flushHistory = getLastMeasurements()) {\n  if (!__DEV__) {\n    warnInProduction();\n    return [];\n  }\n\n  var aggregatedStats = {};\n  var affectedIDs = {};\n\n  function updateAggregatedStats(treeSnapshot, instanceID, applyUpdate) {\n    var {displayName, ownerID} = treeSnapshot[instanceID];\n    var owner = treeSnapshot[ownerID];\n    var key = (owner ? owner.displayName + ' > ' : '') + displayName;\n    var stats = aggregatedStats[key];\n    if (!stats) {\n      affectedIDs[key] = {};\n      stats = aggregatedStats[key] = {\n        key,\n        instanceCount: 0,\n        inclusiveRenderDuration: 0,\n        renderCount: 0,\n      };\n    }\n    affectedIDs[key][instanceID] = true;\n    applyUpdate(stats);\n  }\n\n  flushHistory.forEach(flush => {\n    var {measurements, treeSnapshot, operations} = flush;\n    var isDefinitelyNotWastedByID = {};\n\n    // Find host components associated with an operation in this batch.\n    // Mark all components in their parent tree as definitely not wasted.\n    operations.forEach(operation => {\n      var {instanceID} = operation;\n      var nextParentID = instanceID;\n      while (nextParentID) {\n        isDefinitelyNotWastedByID[nextParentID] = true;\n        nextParentID = treeSnapshot[nextParentID].parentID;\n      }\n    });\n\n    // Find composite components that rendered in this batch.\n    // These are potential candidates for being wasted renders.\n    var renderedCompositeIDs = {};\n    measurements.forEach(measurement => {\n      var {instanceID, timerType} = measurement;\n      if (timerType !== 'render') {\n        return;\n      }\n      renderedCompositeIDs[instanceID] = true;\n    });\n\n    measurements.forEach(measurement => {\n      var {duration, instanceID, timerType} = measurement;\n      if (timerType !== 'render') {\n        return;\n      }\n\n      // If there was a DOM update below this component, or it has just been\n      // mounted, its render() is not considered wasted.\n      var { updateCount } = treeSnapshot[instanceID];\n      if (isDefinitelyNotWastedByID[instanceID] || updateCount === 0) {\n        return;\n      }\n\n      // We consider this render() wasted.\n      updateAggregatedStats(treeSnapshot, instanceID, stats => {\n        stats.renderCount++;\n      });\n\n      var nextParentID = instanceID;\n      while (nextParentID) {\n        // Any parents rendered during this batch are considered wasted\n        // unless we previously marked them as dirty.\n        var isWasted =\n          renderedCompositeIDs[nextParentID] &&\n          !isDefinitelyNotWastedByID[nextParentID];\n        if (isWasted) {\n          updateAggregatedStats(treeSnapshot, nextParentID, stats => {\n            stats.inclusiveRenderDuration += duration;\n          });\n        }\n        nextParentID = treeSnapshot[nextParentID].parentID;\n      }\n    });\n  });\n\n  return Object.keys(aggregatedStats)\n    .map(key => ({\n      ...aggregatedStats[key],\n      instanceCount: Object.keys(affectedIDs[key]).length,\n    }))\n    .sort((a, b) =>\n      b.inclusiveRenderDuration - a.inclusiveRenderDuration\n    );\n}\n\nfunction getOperations(flushHistory = getLastMeasurements()) {\n  if (!__DEV__) {\n    warnInProduction();\n    return [];\n  }\n\n  var stats = [];\n  flushHistory.forEach((flush, flushIndex) => {\n    var {operations, treeSnapshot} = flush;\n    operations.forEach(operation => {\n      var {instanceID, type, payload} = operation;\n      var {displayName, ownerID} = treeSnapshot[instanceID];\n      var owner = treeSnapshot[ownerID];\n      var key = (owner ? owner.displayName + ' > ' : '') + displayName;\n\n      stats.push({\n        flushIndex,\n        instanceID,\n        key,\n        type,\n        ownerID,\n        payload,\n      });\n    });\n  });\n  return stats;\n}\n\nfunction printExclusive(flushHistory?: FlushHistory) {\n  if (!__DEV__) {\n    warnInProduction();\n    return;\n  }\n\n  var stats = getExclusive(flushHistory);\n  var table = stats.map(item => {\n    var {key, instanceCount, totalDuration} = item;\n    var renderCount = item.counts.render || 0;\n    var renderDuration = item.durations.render || 0;\n    return {\n      'Component': key,\n      'Total time (ms)': roundFloat(totalDuration),\n      'Instance count': instanceCount,\n      'Total render time (ms)': roundFloat(renderDuration),\n      'Average render time (ms)': renderCount ?\n        roundFloat(renderDuration / renderCount) :\n        undefined,\n      'Render count': renderCount,\n      'Total lifecycle time (ms)': roundFloat(totalDuration - renderDuration),\n    };\n  });\n  consoleTable(table);\n}\n\nfunction printInclusive(flushHistory?: FlushHistory) {\n  if (!__DEV__) {\n    warnInProduction();\n    return;\n  }\n\n  var stats = getInclusive(flushHistory);\n  var table = stats.map(item => {\n    var {key, instanceCount, inclusiveRenderDuration, renderCount} = item;\n    return {\n      'Owner > Component': key,\n      'Inclusive render time (ms)': roundFloat(inclusiveRenderDuration),\n      'Instance count': instanceCount,\n      'Render count': renderCount,\n    };\n  });\n  consoleTable(table);\n}\n\nfunction printWasted(flushHistory?: FlushHistory) {\n  if (!__DEV__) {\n    warnInProduction();\n    return;\n  }\n\n  var stats = getWasted(flushHistory);\n  var table = stats.map(item => {\n    var {key, instanceCount, inclusiveRenderDuration, renderCount} = item;\n    return {\n      'Owner > Component': key,\n      'Inclusive wasted time (ms)': roundFloat(inclusiveRenderDuration),\n      'Instance count': instanceCount,\n      'Render count': renderCount,\n    };\n  });\n  consoleTable(table);\n}\n\nfunction printOperations(flushHistory?: FlushHistory) {\n  if (!__DEV__) {\n    warnInProduction();\n    return;\n  }\n\n  var stats = getOperations(flushHistory);\n  var table = stats.map(stat => ({\n    'Owner > Node': stat.key,\n    'Operation': stat.type,\n    'Payload': typeof stat.payload === 'object' ?\n      JSON.stringify(stat.payload) :\n      stat.payload,\n    'Flush index': stat.flushIndex,\n    'Owner Component ID': stat.ownerID,\n    'DOM Component ID': stat.instanceID,\n  }));\n  consoleTable(table);\n}\n\nvar warnedAboutPrintDOM = false;\nfunction printDOM(measurements: FlushHistory) {\n  warning(\n    warnedAboutPrintDOM,\n    '`ReactPerf.printDOM(...)` is deprecated. Use ' +\n    '`ReactPerf.printOperations(...)` instead.'\n  );\n  warnedAboutPrintDOM = true;\n  return printOperations(measurements);\n}\n\nvar warnedAboutGetMeasurementsSummaryMap = false;\nfunction getMeasurementsSummaryMap(measurements: FlushHistory) {\n  warning(\n    warnedAboutGetMeasurementsSummaryMap,\n    '`ReactPerf.getMeasurementsSummaryMap(...)` is deprecated. Use ' +\n    '`ReactPerf.getWasted(...)` instead.'\n  );\n  warnedAboutGetMeasurementsSummaryMap = true;\n  return getWasted(measurements);\n}\n\nfunction start() {\n  if (!__DEV__) {\n    warnInProduction();\n    return;\n  }\n\n  ReactDebugTool.beginProfiling();\n}\n\nfunction stop() {\n  if (!__DEV__) {\n    warnInProduction();\n    return;\n  }\n\n  ReactDebugTool.endProfiling();\n}\n\nfunction isRunning() {\n  if (!__DEV__) {\n    warnInProduction();\n    return false;\n  }\n\n  return ReactDebugTool.isProfiling();\n}\n\nvar ReactPerfAnalysis = {\n  getLastMeasurements,\n  getExclusive,\n  getInclusive,\n  getWasted,\n  getOperations,\n  printExclusive,\n  printInclusive,\n  printWasted,\n  printOperations,\n  start,\n  stop,\n  isRunning,\n  // Deprecated:\n  printDOM,\n  getMeasurementsSummaryMap,\n};\n\nmodule.exports = ReactPerfAnalysis;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule AsyncStorage\n * @noflow\n * @flow-weak\n * @jsdoc\n */\n'use strict';\n\nconst NativeModules = require('NativeModules');\n\n// Use RocksDB if available, then SQLite, then file storage.\nconst RCTAsyncStorage = NativeModules.AsyncRocksDBStorage ||\n  NativeModules.AsyncSQLiteDBStorage ||\n  NativeModules.AsyncLocalStorage;\n\n/**\n * @class\n * @description\n * `AsyncStorage` is a simple, unencrypted, asynchronous, persistent, key-value storage\n * system that is global to the app.  It should be used instead of LocalStorage.\n *\n * It is recommended that you use an abstraction on top of `AsyncStorage`\n * instead of `AsyncStorage` directly for anything more than light usage since\n * it operates globally.\n *\n * On iOS, `AsyncStorage` is backed by native code that stores small values in a\n * serialized dictionary and larger values in separate files. On Android,\n * `AsyncStorage` will use either [RocksDB](http://rocksdb.org/) or SQLite\n * based on what is available.\n *\n * The `AsyncStorage` JavaScript code is a simple facade that provides a clear\n * JavaScript API, real `Error` objects, and simple non-multi functions. Each\n * method in the API returns a `Promise` object.\n *\n * Persisting data:\n * ```\n * try {\n *   await AsyncStorage.setItem('@MySuperStore:key', 'I like to save it.');\n * } catch (error) {\n *   // Error saving data\n * }\n * ```\n *\n * Fetching data:\n * ```\n * try {\n *   const value = await AsyncStorage.getItem('@MySuperStore:key');\n *   if (value !== null){\n *     // We have data!!\n *     console.log(value);\n *   }\n * } catch (error) {\n *   // Error retrieving data\n * }\n * ```\n */\nvar AsyncStorage = {\n  _getRequests: ([]: Array<any>),\n  _getKeys: ([]: Array<string>),\n  _immediate: (null: ?number),\n\n  /**\n   * Fetches an item for a `key` and invokes a callback upon completion.\n   * Returns a `Promise` object.\n   * @param key Key of the item to fetch.\n   * @param callback Function that will be called with a result if found or\n   *    any error.\n   * @returns A `Promise` object.\n   */\n  getItem: function(\n    key: string,\n    callback?: ?(error: ?Error, result: ?string) => void\n  ): Promise {\n    return new Promise((resolve, reject) => {\n      RCTAsyncStorage.multiGet([key], function(errors, result) {\n        // Unpack result to get value from [[key,value]]\n        var value = (result && result[0] && result[0][1]) ? result[0][1] : null;\n        var errs = convertErrors(errors);\n        callback && callback(errs && errs[0], value);\n        if (errs) {\n          reject(errs[0]);\n        } else {\n          resolve(value);\n        }\n      });\n    });\n  },\n\n  /**\n   * Sets the value for a `key` and invokes a callback upon completion.\n   * Returns a `Promise` object.\n   * @param key Key of the item to set.\n   * @param value Value to set for the `key`.\n   * @param callback Function that will be called with any error.\n   * @returns A `Promise` object.\n   */\n  setItem: function(\n    key: string,\n    value: string,\n    callback?: ?(error: ?Error) => void\n  ): Promise {\n    return new Promise((resolve, reject) => {\n      RCTAsyncStorage.multiSet([[key,value]], function(errors) {\n        var errs = convertErrors(errors);\n        callback && callback(errs && errs[0]);\n        if (errs) {\n          reject(errs[0]);\n        } else {\n          resolve(null);\n        }\n      });\n    });\n  },\n\n  /**\n   * Removes an item for a `key` and invokes a callback upon completion.\n   * Returns a `Promise` object.\n   * @param key Key of the item to remove.\n   * @param callback Function that will be called with any error.\n   * @returns A `Promise` object.\n   */\n  removeItem: function(\n    key: string,\n    callback?: ?(error: ?Error) => void\n  ): Promise {\n    return new Promise((resolve, reject) => {\n      RCTAsyncStorage.multiRemove([key], function(errors) {\n        var errs = convertErrors(errors);\n        callback && callback(errs && errs[0]);\n        if (errs) {\n          reject(errs[0]);\n        } else {\n          resolve(null);\n        }\n      });\n    });\n  },\n\n  /**\n   * Merges an existing `key` value with an input value, assuming both values\n   * are stringified JSON. Returns a `Promise` object.\n   *\n   * **NOTE:** This is not supported by all native implementations.\n   *\n   * @param key Key of the item to modify.\n   * @param value New value to merge for the `key`.\n   * @param callback Function that will be called with any error.\n   * @returns A `Promise` object.\n   *\n   * @example <caption>Example</caption>\n   * let UID123_object = {\n   *  name: 'Chris',\n   *  age: 30,\n   *  traits: {hair: 'brown', eyes: 'brown'},\n   * };\n   * // You only need to define what will be added or updated\n   * let UID123_delta = {\n   *  age: 31,\n   *  traits: {eyes: 'blue', shoe_size: 10}\n   * };\n   *\n   * AsyncStorage.setItem('UID123', JSON.stringify(UID123_object), () => {\n   *   AsyncStorage.mergeItem('UID123', JSON.stringify(UID123_delta), () => {\n   *     AsyncStorage.getItem('UID123', (err, result) => {\n   *       console.log(result);\n   *     });\n   *   });\n   * });\n   *\n   * // Console log result:\n   * // => {'name':'Chris','age':31,'traits':\n   * //    {'shoe_size':10,'hair':'brown','eyes':'blue'}}\n   */\n  mergeItem: function(\n    key: string,\n    value: string,\n    callback?: ?(error: ?Error) => void\n  ): Promise {\n    return new Promise((resolve, reject) => {\n      RCTAsyncStorage.multiMerge([[key,value]], function(errors) {\n        var errs = convertErrors(errors);\n        callback && callback(errs && errs[0]);\n        if (errs) {\n          reject(errs[0]);\n        } else {\n          resolve(null);\n        }\n      });\n    });\n  },\n\n  /**\n   * Erases *all* `AsyncStorage` for all clients, libraries, etc.  You probably\n   * don't want to call this; use `removeItem` or `multiRemove` to clear only\n   * your app's keys. Returns a `Promise` object.\n   * @param callback Function that will be called with any error.\n   * @returns A `Promise` object.\n   */\n  clear: function(callback?: ?(error: ?Error) => void): Promise {\n    return new Promise((resolve, reject) => {\n      RCTAsyncStorage.clear(function(error) {\n        callback && callback(convertError(error));\n        if (error && convertError(error)){\n          reject(convertError(error));\n        } else {\n          resolve(null);\n        }\n      });\n    });\n  },\n\n  /**\n   * Gets *all* keys known to your app; for all callers, libraries, etc.\n   * Returns a `Promise` object.\n   * @param callback Function that will be called the keys found and any error.\n   * @returns A `Promise` object.\n   *\n   * Example: see the `multiGet` example.\n   */\n  getAllKeys: function(callback?: ?(error: ?Error, keys: ?Array<string>) => void): Promise {\n    return new Promise((resolve, reject) => {\n      RCTAsyncStorage.getAllKeys(function(error, keys) {\n        callback && callback(convertError(error), keys);\n        if (error) {\n          reject(convertError(error));\n        } else {\n          resolve(keys);\n        }\n      });\n    });\n  },\n\n  /**\n   * The following batched functions are useful for executing a lot of\n   * operations at once, allowing for native optimizations and provide the\n   * convenience of a single callback after all operations are complete.\n   *\n   * These functions return arrays of errors, potentially one for every key.\n   * For key-specific errors, the Error object will have a key property to\n   * indicate which key caused the error.\n   */\n\n  /** Flushes any pending requests using a single batch call to get the data. */\n  flushGetRequests: function(): void {\n    const getRequests = this._getRequests;\n    const getKeys = this._getKeys;\n\n    this._getRequests = [];\n    this._getKeys = [];\n\n    RCTAsyncStorage.multiGet(getKeys, function(errors, result) {\n      // Even though the runtime complexity of this is theoretically worse vs if we used a map,\n      // it's much, much faster in practice for the data sets we deal with (we avoid\n      // allocating result pair arrays). This was heavily benchmarked.\n      //\n      // Is there a way to avoid using the map but fix the bug in this breaking test?\n      // https://github.com/facebook/react-native/commit/8dd8ad76579d7feef34c014d387bf02065692264\n      const map = {};\n      result && result.forEach(([key, value]) => { map[key] = value; return value; });\n      const reqLength = getRequests.length;\n      for (let i = 0; i < reqLength; i++) {\n        const request = getRequests[i];\n        const requestKeys = request.keys;\n        const requestResult = requestKeys.map(key => [key, map[key]]);\n        request.callback && request.callback(null, requestResult);\n        request.resolve && request.resolve(requestResult);\n      }\n    });\n  },\n\n  /**\n   * This allows you to batch the fetching of items given an array of `key`\n   * inputs. Your callback will be invoked with an array of corresponding\n   * key-value pairs found:\n   *\n   * ```\n   * multiGet(['k1', 'k2'], cb) -> cb([['k1', 'val1'], ['k2', 'val2']])\n   * ```\n   *\n   * The method returns a `Promise` object.\n   *\n   * @param keys Array of key for the items to get.\n   * @param callback Function that will be called with a key-value array of\n   *     the results, plus an array of any key-specific errors found.\n   * @returns A `Promise` object.\n   *\n   * @example <caption>Example</caption>\n   *\n   * AsyncStorage.getAllKeys((err, keys) => {\n   *   AsyncStorage.multiGet(keys, (err, stores) => {\n   *    stores.map((result, i, store) => {\n   *      // get at each store's key/value so you can work with it\n   *      let key = store[i][0];\n   *      let value = store[i][1];\n   *     });\n   *   });\n   * });\n   */\n  multiGet: function(\n    keys: Array<string>,\n    callback?: ?(errors: ?Array<Error>, result: ?Array<Array<string>>) => void\n  ): Promise {\n    if (!this._immediate) {\n      this._immediate = setImmediate(() => {\n        this._immediate = null;\n        this.flushGetRequests();\n      });\n    }\n\n    var getRequest = {\n      keys: keys,\n      callback: callback,\n      // do we need this?\n      keyIndex: this._getKeys.length,\n      resolve: null,\n      reject: null,\n    };\n\n    var promiseResult = new Promise((resolve, reject) => {\n      getRequest.resolve = resolve;\n      getRequest.reject = reject;\n    });\n\n    this._getRequests.push(getRequest);\n    // avoid fetching duplicates\n    keys.forEach(key => {\n      if (this._getKeys.indexOf(key) === -1) {\n        this._getKeys.push(key);\n      }\n    });\n\n    return promiseResult;\n  },\n\n  /**\n   * Use this as a batch operation for storing multiple key-value pairs. When\n   * the operation completes you'll get a single callback with any errors:\n   *\n   * ```\n   * multiSet([['k1', 'val1'], ['k2', 'val2']], cb);\n   * ```\n   *\n   * The method returns a `Promise` object.\n   *\n   * @param keyValuePairs Array of key-value array for the items to set.\n   * @param callback Function that will be called with an array of any\n   *    key-specific errors found.\n   * @returns A `Promise` object.\n   * Example: see the `multiMerge` example.\n   */\n  multiSet: function(\n    keyValuePairs: Array<Array<string>>,\n    callback?: ?(errors: ?Array<Error>) => void\n  ): Promise {\n    return new Promise((resolve, reject) => {\n      RCTAsyncStorage.multiSet(keyValuePairs, function(errors) {\n        var error = convertErrors(errors);\n        callback && callback(error);\n        if (error) {\n          reject(error);\n        } else {\n          resolve(null);\n        }\n      });\n    });\n  },\n\n  /**\n   * Call this to batch the deletion of all keys in the `keys` array. Returns\n   * a `Promise` object.\n   *\n   * @param keys Array of key for the items to delete.\n   * @param callback Function that will be called an array of any key-specific\n   *    errors found.\n   * @returns A `Promise` object.\n   *\n   * @example <caption>Example</caption>\n   * let keys = ['k1', 'k2'];\n   * AsyncStorage.multiRemove(keys, (err) => {\n   *   // keys k1 & k2 removed, if they existed\n   *   // do most stuff after removal (if you want)\n   * });\n   */\n  multiRemove: function(\n    keys: Array<string>,\n    callback?: ?(errors: ?Array<Error>) => void\n  ): Promise {\n    return new Promise((resolve, reject) => {\n      RCTAsyncStorage.multiRemove(keys, function(errors) {\n        var error = convertErrors(errors);\n        callback && callback(error);\n        if (error) {\n          reject(error);\n        } else {\n          resolve(null);\n        }\n      });\n    });\n  },\n\n  /**\n   * Batch operation to merge in existing and new values for a given set of\n   * keys. This assumes that the values are stringified JSON. Returns a\n   * `Promise` object.\n   *\n   * **NOTE**: This is not supported by all native implementations.\n   *\n   * @param keyValuePairs Array of key-value array for the items to merge.\n   * @param callback Function that will be called with an array of any\n   *    key-specific errors found.\n   * @returns A `Promise` object.\n   *\n   * @example <caption>Example</caption>\n   * // first user, initial values\n   * let UID234_object = {\n   *  name: 'Chris',\n   *  age: 30,\n   *  traits: {hair: 'brown', eyes: 'brown'},\n   * };\n   *\n   * // first user, delta values\n   * let UID234_delta = {\n   *  age: 31,\n   *  traits: {eyes: 'blue', shoe_size: 10},\n   * };\n   *\n   * // second user, initial values\n   * let UID345_object = {\n   *  name: 'Marge',\n   *  age: 25,\n   *  traits: {hair: 'blonde', eyes: 'blue'},\n   * };\n   *\n   * // second user, delta values\n   * let UID345_delta = {\n   *  age: 26,\n   *  traits: {eyes: 'green', shoe_size: 6},\n   * };\n   *\n   * let multi_set_pairs   = [['UID234', JSON.stringify(UID234_object)], ['UID345', JSON.stringify(UID345_object)]]\n   * let multi_merge_pairs = [['UID234', JSON.stringify(UID234_delta)], ['UID345', JSON.stringify(UID345_delta)]]\n   *\n   * AsyncStorage.multiSet(multi_set_pairs, (err) => {\n   *   AsyncStorage.multiMerge(multi_merge_pairs, (err) => {\n   *     AsyncStorage.multiGet(['UID234','UID345'], (err, stores) => {\n   *       stores.map( (result, i, store) => {\n   *         let key = store[i][0];\n   *         let val = store[i][1];\n   *         console.log(key, val);\n   *       });\n   *     });\n   *   });\n   * });\n   *\n   * // Console log results:\n   * // => UID234 {\"name\":\"Chris\",\"age\":31,\"traits\":{\"shoe_size\":10,\"hair\":\"brown\",\"eyes\":\"blue\"}}\n   * // => UID345 {\"name\":\"Marge\",\"age\":26,\"traits\":{\"shoe_size\":6,\"hair\":\"blonde\",\"eyes\":\"green\"}}\n   */\n  multiMerge: function(\n    keyValuePairs: Array<Array<string>>,\n    callback?: ?(errors: ?Array<Error>) => void\n  ): Promise {\n    return new Promise((resolve, reject) => {\n      RCTAsyncStorage.multiMerge(keyValuePairs, function(errors) {\n        var error = convertErrors(errors);\n        callback && callback(error);\n        if (error) {\n          reject(error);\n        } else {\n          resolve(null);\n        }\n      });\n    });\n  },\n};\n\n// Not all native implementations support merge.\nif (!RCTAsyncStorage.multiMerge) {\n  delete AsyncStorage.mergeItem;\n  delete AsyncStorage.multiMerge;\n}\n\nfunction convertErrors(errs) {\n  if (!errs) {\n    return null;\n  }\n  return (Array.isArray(errs) ? errs : [errs]).map((e) => convertError(e));\n}\n\nfunction convertError(error) {\n  if (!error) {\n    return null;\n  }\n  var out = new Error(error.message);\n  out.key = error.key; // flow doesn't like this :(\n  return out;\n}\n\nmodule.exports = AsyncStorage;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule CameraRoll\n * @flow\n */\n'use strict';\n\n// $FlowFixMe `checkPropTypes` is not in Flow's built in React typedefs yet.\nvar {PropTypes, checkPropTypes} = require('React');\nvar RCTCameraRollManager = require('NativeModules').CameraRollManager;\n\nvar createStrictShapeTypeChecker = require('createStrictShapeTypeChecker');\nvar deepFreezeAndThrowOnMutationInDev =\n  require('deepFreezeAndThrowOnMutationInDev');\nvar invariant = require('fbjs/lib/invariant');\n\nvar GROUP_TYPES_OPTIONS = [\n  'Album',\n  'All',\n  'Event',\n  'Faces',\n  'Library',\n  'PhotoStream',\n  'SavedPhotos', // default\n];\n\nvar ASSET_TYPE_OPTIONS = [\n  'All',\n  'Videos',\n  'Photos', // default\n];\n\n// Flow treats Object and Array as disjoint types, currently.\ndeepFreezeAndThrowOnMutationInDev((GROUP_TYPES_OPTIONS: any));\ndeepFreezeAndThrowOnMutationInDev((ASSET_TYPE_OPTIONS: any));\n\n/**\n * Shape of the param arg for the `getPhotos` function.\n */\nvar getPhotosParamChecker = createStrictShapeTypeChecker({\n  /**\n   * The number of photos wanted in reverse order of the photo application\n   * (i.e. most recent first for SavedPhotos).\n   */\n  first: PropTypes.number.isRequired,\n\n  /**\n   * A cursor that matches `page_info { end_cursor }` returned from a previous\n   * call to `getPhotos`\n   */\n  after: PropTypes.string,\n\n  /**\n   * Specifies which group types to filter the results to.\n   */\n  groupTypes: PropTypes.oneOf(GROUP_TYPES_OPTIONS),\n\n  /**\n   * Specifies filter on group names, like 'Recent Photos' or custom album\n   * titles.\n   */\n  groupName: PropTypes.string,\n\n  /**\n  * Specifies filter on asset type\n  */\n  assetType: PropTypes.oneOf(ASSET_TYPE_OPTIONS),\n\n  /**\n   * Filter by mimetype (e.g. image/jpeg).\n   */\n  mimeTypes: PropTypes.arrayOf(PropTypes.string),\n});\n\n/**\n * Shape of the return value of the `getPhotos` function.\n */\nvar getPhotosReturnChecker = createStrictShapeTypeChecker({\n  // $FlowFixMe(>=0.41.0)\n  edges: PropTypes.arrayOf(createStrictShapeTypeChecker({\n    node: createStrictShapeTypeChecker({\n      type: PropTypes.string.isRequired,\n      group_name: PropTypes.string.isRequired,\n      image: createStrictShapeTypeChecker({\n        uri: PropTypes.string.isRequired,\n        height: PropTypes.number.isRequired,\n        width: PropTypes.number.isRequired,\n        isStored: PropTypes.bool,\n      }).isRequired,\n      timestamp: PropTypes.number.isRequired,\n      location: createStrictShapeTypeChecker({\n        latitude: PropTypes.number,\n        longitude: PropTypes.number,\n        altitude: PropTypes.number,\n        heading: PropTypes.number,\n        speed: PropTypes.number,\n      }),\n    }).isRequired,\n  })).isRequired,\n  page_info: createStrictShapeTypeChecker({\n    has_next_page: PropTypes.bool.isRequired,\n    start_cursor: PropTypes.string,\n    end_cursor: PropTypes.string,\n  }).isRequired,\n});\n\n/**\n * `CameraRoll` provides access to the local camera roll / gallery.\n * Before using this you must link the `RCTCameraRoll` library.\n * You can refer to [Linking](docs/linking-libraries-ios.html) for help.\n *\n * ### Permissions\n * The user's permission is required in order to access the Camera Roll on devices running iOS 10 or later.\n * Fill out the `NSCameraUsageDescription` key in your `Info.plist` with a string that describes how your\n * app will use this data. This key will appear as `Privacy - Camera Usage Description` in Xcode.\n *\n */\nclass CameraRoll {\n\n  static GroupTypesOptions: Array<string>;\n  static AssetTypeOptions: Array<string>;\n\n  static saveImageWithTag(tag: string): Promise<Object> {\n    console.warn('CameraRoll.saveImageWithTag is deprecated. Use CameraRoll.saveToCameraRoll instead');\n    return this.saveToCameraRoll(tag, 'photo');\n  }\n\n  /**\n   * Saves the photo or video to the camera roll / gallery.\n   *\n   * On Android, the tag must be a local image or video URI, such as `\"file:///sdcard/img.png\"`.\n   *\n   * On iOS, the tag can be any image URI (including local, remote asset-library and base64 data URIs)\n   * or a local video file URI (remote or data URIs are not supported for saving video at this time).\n   *\n   * If the tag has a file extension of .mov or .mp4, it will be inferred as a video. Otherwise\n   * it will be treated as a photo. To override the automatic choice, you can pass an optional\n   * `type` parameter that must be one of 'photo' or 'video'.\n   *\n   * Returns a Promise which will resolve with the new URI.\n   */\n  static saveToCameraRoll(tag: string, type?: 'photo' | 'video'): Promise<Object> {\n    invariant(\n      typeof tag === 'string',\n      'CameraRoll.saveToCameraRoll must be a valid string.'\n    );\n\n    invariant(\n      type === 'photo' || type === 'video' || type === undefined,\n      // $FlowFixMe(>=0.28.0)\n      `The second argument to saveToCameraRoll must be 'photo' or 'video'. You passed ${type}`\n    );\n\n    let mediaType = 'photo';\n    if (type) {\n      mediaType = type;\n    } else if (['mov', 'mp4'].indexOf(tag.split('.').slice(-1)[0]) >= 0) {\n      mediaType = 'video';\n    }\n\n    return RCTCameraRollManager.saveToCameraRoll(tag, mediaType);\n  }\n\n  /**\n   * Returns a Promise with photo identifier objects from the local camera\n   * roll of the device matching shape defined by `getPhotosReturnChecker`.\n   *\n   * Expects a params object of the following shape:\n   *\n   * - `first` : {number} : The number of photos wanted in reverse order of the photo application (i.e. most recent first for SavedPhotos).\n   * - `after` : {string} : A cursor that matches `page_info { end_cursor }` returned from a previous call to `getPhotos`.\n   * - `groupTypes` : {string} : Specifies which group types to filter the results to. Valid values are:\n   *      - `Album`\n   *      - `All`\n   *      - `Event`\n   *      - `Faces`\n   *      - `Library`\n   *      - `PhotoStream`\n   *      - `SavedPhotos` // default\n   * - `groupName` : {string} : Specifies filter on group names, like 'Recent Photos' or custom album titles.\n   * - `assetType` : {string} : Specifies filter on asset type. Valid values are:\n   *      - `All`\n   *      - `Videos`\n   *      - `Photos` // default\n   * - `mimeTypes` : {string} : Filter by mimetype (e.g. image/jpeg).\n   *\n   * Returns a Promise which when resolved will be of the following shape:\n   *\n   * - `edges` : {Array<node>} An array of node objects\n   *      - `node`: {object} An object with the following shape:\n   *          - `type`: {string}\n   *          - `group_name`: {string}\n   *          - `image`: {object} : An object with the following shape:\n   *              - `uri`: {string}\n   *              - `height`: {number}\n   *              - `width`: {number}\n   *              - `isStored`: {boolean}\n   *          - `timestamp`: {number}\n   *          - `location`: {object} : An object with the following shape:\n   *              - `latitude`: {number}\n   *              - `longitude`: {number}\n   *              - `altitude`: {number}\n   *              - `heading`: {number}\n   *              - `speed`: {number}\n   * - `page_info` : {object} : An object with the following shape:\n   *      - `has_next_page`: {boolean}\n   *      - `start_cursor`: {boolean}\n   *      - `end_cursor`: {boolean}\n   */\n  static getPhotos(params) {\n    if (__DEV__) {\n      checkPropTypes({params: getPhotosParamChecker}, {params}, 'params', 'CameraRoll.getPhotos');\n    }\n    if (arguments.length > 1) {\n      console.warn('CameraRoll.getPhotos(tag, success, error) is deprecated.  Use the returned Promise instead');\n      let successCallback = arguments[1];\n      if (__DEV__) {\n        const callback = arguments[1];\n        successCallback = (response) => {\n          checkPropTypes(\n            {response: getPhotosReturnChecker},\n            {response},\n            'response',\n            'CameraRoll.getPhotos callback'\n          );\n          callback(response);\n        };\n      }\n      const errorCallback = arguments[2] || ( () => {} );\n      RCTCameraRollManager.getPhotos(params).then(successCallback, errorCallback);\n    }\n    // TODO: Add the __DEV__ check back in to verify the Promise result\n    return RCTCameraRollManager.getPhotos(params);\n  }\n}\n\nCameraRoll.GroupTypesOptions = GROUP_TYPES_OPTIONS;\nCameraRoll.AssetTypeOptions = ASSET_TYPE_OPTIONS;\n\nmodule.exports = CameraRoll;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule Clipboard\n * @flow\n */\n'use strict';\n\nconst Clipboard = require('NativeModules').Clipboard;\n\n/**\n * `Clipboard` gives you an interface for setting and getting content from Clipboard on both iOS and Android\n */\nmodule.exports = {\n  /**\n   * Get content of string type, this method returns a `Promise`, so you can use following code to get clipboard content\n   * ```javascript\n   * async _getContent() {\n   *   var content = await Clipboard.getString();\n   * }\n   * ```\n   */\n  getString(): Promise<string> {\n    return Clipboard.getString();\n  },\n  /**\n   * Set content of string type. You can use following code to set clipboard content\n   * ```javascript\n   * _setContent() {\n   *   Clipboard.setString('hello world');\n   * }\n   * ```\n   * @param the content to be stored in the clipboard.\n   */\n  setString(content: string) {\n    Clipboard.setString(content);\n  }\n};\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule DatePickerAndroid\n * @flow\n */\n'use strict';\n\nconst DatePickerModule = require('NativeModules').DatePickerAndroid;\n\n/**\n * Convert a Date to a timestamp.\n */\nfunction _toMillis(options: Object, key: string) {\n  const dateVal = options[key];\n  // Is it a Date object?\n  if (typeof dateVal === 'object' && typeof dateVal.getMonth === 'function') {\n    options[key] = dateVal.getTime();\n  }\n}\n\n/**\n * Opens the standard Android date picker dialog.\n *\n * ### Example\n *\n * ```\n * try {\n *   const {action, year, month, day} = await DatePickerAndroid.open({\n *     // Use `new Date()` for current date.\n *     // May 25 2020. Month 0 is January.\n *     date: new Date(2020, 4, 25)\n *   });\n *   if (action !== DatePickerAndroid.dismissedAction) {\n *     // Selected year, month (0-11), day\n *   }\n * } catch ({code, message}) {\n *   console.warn('Cannot open date picker', message);\n * }\n * ```\n */\nclass DatePickerAndroid {\n  /**\n   * Opens the standard Android date picker dialog.\n   *\n   * The available keys for the `options` object are:\n   *\n   *   - `date` (`Date` object or timestamp in milliseconds) - date to show by default\n   *   - `minDate` (`Date` or timestamp in milliseconds) - minimum date that can be selected\n   *   - `maxDate` (`Date` object or timestamp in milliseconds) - minimum date that can be selected\n   *   - `mode` (`enum('calendar', 'spinner', 'default')`) - To set the date-picker mode to calendar/spinner/default\n   *     - 'calendar': Show a date picker in calendar mode.\n   *     - 'spinner': Show a date picker in spinner mode.\n   *     - 'default': Show a default native date picker(spinner/calendar) based on android versions.\n   *\n   * Returns a Promise which will be invoked an object containing `action`, `year`, `month` (0-11),\n   * `day` if the user picked a date. If the user dismissed the dialog, the Promise will\n   * still be resolved with action being `DatePickerAndroid.dismissedAction` and all the other keys\n   * being undefined. **Always** check whether the `action` before reading the values.\n   *\n   * Note the native date picker dialog has some UI glitches on Android 4 and lower\n   * when using the `minDate` and `maxDate` options.\n   */\n  static async open(options: Object): Promise<Object> {\n    const optionsMs = options;\n    if (optionsMs) {\n      _toMillis(options, 'date');\n      _toMillis(options, 'minDate');\n      _toMillis(options, 'maxDate');\n    }\n    return DatePickerModule.open(options);\n  }\n\n  /**\n   * A date has been selected.\n   */\n  static get dateSetAction() { return 'dateSetAction'; }\n  /**\n   * The dialog has been dismissed.\n   */\n  static get dismissedAction() { return 'dismissedAction'; }\n}\n\nmodule.exports = DatePickerAndroid;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule ImagePickerIOS\n * @flow\n */\n'use strict';\n\nvar RCTImagePicker = require('NativeModules').ImagePickerIOS;\n\nvar ImagePickerIOS = {\n  canRecordVideos: function(callback: Function) {\n    return RCTImagePicker.canRecordVideos(callback);\n  },\n  canUseCamera: function(callback: Function) {\n    return RCTImagePicker.canUseCamera(callback);\n  },\n  openCameraDialog: function(config: Object, successCallback: Function, cancelCallback: Function) {\n    config = {\n      videoMode: false,\n      ...config,\n    };\n    return RCTImagePicker.openCameraDialog(config, successCallback, cancelCallback);\n  },\n  openSelectDialog: function(config: Object, successCallback: Function, cancelCallback: Function) {\n    config = {\n      showImages: true,\n      showVideos: false,\n      ...config,\n    };\n    return RCTImagePicker.openSelectDialog(config, successCallback, cancelCallback);\n  },\n};\n\nmodule.exports = ImagePickerIOS;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule Linking\n * @flow\n */\n'use strict';\n\nconst NativeEventEmitter = require('NativeEventEmitter');\nconst NativeModules = require('NativeModules');\nconst Platform = require('Platform');\n\nconst invariant = require('fbjs/lib/invariant');\n\nconst LinkingManager = Platform.OS === 'android' ?\n  NativeModules.IntentAndroid : NativeModules.LinkingManager;\n\n/**\n * `Linking` gives you a general interface to interact with both incoming\n * and outgoing app links.\n *\n * ### Basic Usage\n *\n * #### Handling deep links\n *\n * If your app was launched from an external url registered to your app you can\n * access and handle it from any component you want with\n *\n * ```\n * componentDidMount() {\n *   var url = Linking.getInitialURL().then((url) => {\n *     if (url) {\n *       console.log('Initial url is: ' + url);\n *     }\n *   }).catch(err => console.error('An error occurred', err));\n * }\n * ```\n *\n * NOTE: For instructions on how to add support for deep linking on Android,\n * refer to [Enabling Deep Links for App Content - Add Intent Filters for Your Deep Links](http://developer.android.com/training/app-indexing/deep-linking.html#adding-filters).\n *\n * If you wish to receive the intent in an existing instance of MainActivity,\n * you may set the `launchMode` of MainActivity to `singleTask` in\n * `AndroidManifest.xml`. See [`<activity>`](http://developer.android.com/guide/topics/manifest/activity-element.html)\n * documentation for more information.\n *\n * ```\n * <activity\n *   android:name=\".MainActivity\"\n *   android:launchMode=\"singleTask\">\n * ```\n *\n * NOTE: On iOS you'll need to link `RCTLinking` to your project by following\n * the steps described [here](docs/linking-libraries-ios.html#manual-linking).\n * In case you also want to listen to incoming app links during your app's\n * execution you'll need to add the following lines to you `*AppDelegate.m`:\n *\n * ```\n * #import \"RCTLinkingManager.h\"\n *\n * - (BOOL)application:(UIApplication *)application openURL:(NSURL *)url\n *   sourceApplication:(NSString *)sourceApplication annotation:(id)annotation\n * {\n *   return [RCTLinkingManager application:application openURL:url\n *                       sourceApplication:sourceApplication annotation:annotation];\n * }\n *\n * // Only if your app is using [Universal Links](https://developer.apple.com/library/prerelease/ios/documentation/General/Conceptual/AppSearch/UniversalLinks.html).\n * - (BOOL)application:(UIApplication *)application continueUserActivity:(NSUserActivity *)userActivity\n *  restorationHandler:(void (^)(NSArray * _Nullable))restorationHandler\n * {\n *  return [RCTLinkingManager application:application\n *                   continueUserActivity:userActivity\n *                     restorationHandler:restorationHandler];\n * }\n *\n * ```\n *\n * And then on your React component you'll be able to listen to the events on\n * `Linking` as follows\n *\n * ```\n * componentDidMount() {\n *   Linking.addEventListener('url', this._handleOpenURL);\n * },\n * componentWillUnmount() {\n *   Linking.removeEventListener('url', this._handleOpenURL);\n * },\n * _handleOpenURL(event) {\n *   console.log(event.url);\n * }\n * ```\n * #### Opening external links\n *\n * To start the corresponding activity for a link (web URL, email, contact etc.), call\n *\n * ```\n * Linking.openURL(url).catch(err => console.error('An error occurred', err));\n * ```\n *\n * If you want to check if any installed app can handle a given URL beforehand you can call\n * ```\n * Linking.canOpenURL(url).then(supported => {\n *   if (!supported) {\n *     console.log('Can\\'t handle url: ' + url);\n *   } else {\n *     return Linking.openURL(url);\n *   }\n * }).catch(err => console.error('An error occurred', err));\n * ```\n */\nclass Linking extends NativeEventEmitter {\n\n  constructor() {\n    super(LinkingManager);\n  }\n\n  /**\n   * Add a handler to Linking changes by listening to the `url` event type\n   * and providing the handler\n   */\n  addEventListener(type: string, handler: Function) {\n    this.addListener(type, handler);\n  }\n\n  /**\n   * Remove a handler by passing the `url` event type and the handler\n   */\n  removeEventListener(type: string, handler: Function ) {\n    this.removeListener(type, handler);\n  }\n\n  /**\n   * Try to open the given `url` with any of the installed apps.\n   *\n   * You can use other URLs, like a location (e.g. \"geo:37.484847,-122.148386\"), a contact,\n   * or any other URL that can be opened with the installed apps.\n   *\n   * NOTE: This method will fail if the system doesn't know how to open the specified URL.\n   * If you're passing in a non-http(s) URL, it's best to check {@code canOpenURL} first.\n   *\n   * NOTE: For web URLs, the protocol (\"http://\", \"https://\") must be set accordingly!\n   */\n  openURL(url: string): Promise<any> {\n    this._validateURL(url);\n    return LinkingManager.openURL(url);\n  }\n\n  /**\n   * Determine whether or not an installed app can handle a given URL.\n   *\n   * NOTE: For web URLs, the protocol (\"http://\", \"https://\") must be set accordingly!\n   *\n   * NOTE: As of iOS 9, your app needs to provide the `LSApplicationQueriesSchemes` key\n   * inside `Info.plist` or canOpenURL will always return false.\n   *\n   * @param URL the URL to open\n   */\n  canOpenURL(url: string): Promise<boolean> {\n    this._validateURL(url);\n    return LinkingManager.canOpenURL(url);\n  }\n\n  /**\n   * If the app launch was triggered by an app link,\n   * it will give the link url, otherwise it will give `null`\n   *\n   * NOTE: To support deep linking on Android, refer http://developer.android.com/training/app-indexing/deep-linking.html#handling-intents\n   */\n  getInitialURL(): Promise<?string> {\n    return LinkingManager.getInitialURL();\n  }\n\n  _validateURL(url: string) {\n    invariant(\n      typeof url === 'string',\n      'Invalid URL: should be a string. Was: ' + url\n    );\n    invariant(\n      url,\n      'Invalid URL: cannot be empty'\n    );\n  }\n}\n\nmodule.exports = new Linking();\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule NavigationExperimental\n * @flow\n */\n'use strict';\n\nconst NavigationCard = require('NavigationCard');\nconst NavigationCardStack = require('NavigationCardStack');\nconst NavigationHeader = require('NavigationHeader');\nconst NavigationPropTypes = require('NavigationPropTypes');\nconst NavigationStateUtils = require('NavigationStateUtils');\nconst NavigationTransitioner = require('NavigationTransitioner');\n\nconst warning = require('fbjs/lib/warning');\n\n// This warning will only be reached if the user has required the module\nwarning(\n  false,\n  'NavigationExperimental is deprecated and will be removed in a future ' +\n  'version of React Native. The NavigationExperimental views live on in ' +\n  'the React-Navigation project, which also makes it easy to declare ' +\n  'navigation logic for your app. Learn more at https://reactnavigation.org/'\n);\n\n\nconst NavigationExperimental = {\n  // Core\n  StateUtils: NavigationStateUtils,\n\n  // Views\n  Transitioner: NavigationTransitioner,\n\n  // CustomComponents:\n  Card: NavigationCard,\n  CardStack: NavigationCardStack,\n  Header: NavigationHeader,\n\n  PropTypes: NavigationPropTypes,\n};\n\nmodule.exports = NavigationExperimental;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * Facebook, Inc. (\"Facebook\") owns all right, title and interest, including\n * all intellectual property and other proprietary rights, in and to the React\n * Native CustomComponents software (the \"Software\").  Subject to your\n * compliance with these terms, you are hereby granted a non-exclusive,\n * worldwide, royalty-free copyright license to (1) use and copy the Software;\n * and (2) reproduce and distribute the Software as part of your own software\n * (\"Your Software\").  Facebook reserves all rights not expressly granted to\n * you in this license agreement.\n *\n * THE SOFTWARE AND DOCUMENTATION, IF ANY, ARE PROVIDED \"AS IS\" AND ANY EXPRESS\n * OR IMPLIED WARRANTIES (INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES\n * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE) ARE DISCLAIMED.\n * IN NO EVENT SHALL FACEBOOK OR ITS AFFILIATES, OFFICERS, DIRECTORS OR\n * EMPLOYEES BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,\n * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,\n * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;\n * OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,\n * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR\n * OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THE SOFTWARE, EVEN IF\n * ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @providesModule NavigationCard\n * @flow\n */\n'use strict';\n\nconst Animated = require('Animated');\nconst NavigationCardStackPanResponder = require('NavigationCardStackPanResponder');\nconst NavigationCardStackStyleInterpolator = require('NavigationCardStackStyleInterpolator');\nconst NavigationPagerPanResponder = require('NavigationPagerPanResponder');\nconst NavigationPagerStyleInterpolator = require('NavigationPagerStyleInterpolator');\nconst NavigationPointerEventsContainer = require('NavigationPointerEventsContainer');\nconst NavigationPropTypes = require('NavigationPropTypes');\nconst React = require('React');\nconst StyleSheet = require('StyleSheet');\n\nimport type  {\n  NavigationPanPanHandlers,\n  NavigationSceneRenderer,\n  NavigationSceneRendererProps,\n} from 'NavigationTypeDefinition';\n\ntype Props = NavigationSceneRendererProps & {\n  onComponentRef: (ref: any) => void,\n  onNavigateBack: ?Function,\n  panHandlers: ?NavigationPanPanHandlers,\n  pointerEvents: string,\n  renderScene: NavigationSceneRenderer,\n  style: any,\n};\n\nconst {PropTypes} = React;\n\n/**\n * Component that renders the scene as card for the <NavigationCardStack />.\n */\nclass NavigationCard extends React.Component<any, Props, any> {\n  props: Props;\n\n  static propTypes = {\n    ...NavigationPropTypes.SceneRendererProps,\n    onComponentRef: PropTypes.func.isRequired,\n    onNavigateBack: PropTypes.func,\n    panHandlers: NavigationPropTypes.panHandlers,\n    pointerEvents: PropTypes.string.isRequired,\n    renderScene: PropTypes.func.isRequired,\n    style: PropTypes.any,\n  };\n\n  render(): React.Element<any> {\n    const {\n      panHandlers,\n      pointerEvents,\n      renderScene,\n      style,\n      ...props /* NavigationSceneRendererProps */\n    } = this.props;\n\n    const viewStyle = style === undefined ?\n      NavigationCardStackStyleInterpolator.forHorizontal(props) :\n      style;\n\n    const viewPanHandlers = panHandlers === undefined ?\n      NavigationCardStackPanResponder.forHorizontal({\n        ...props,\n        onNavigateBack: this.props.onNavigateBack,\n      }) :\n      panHandlers;\n\n    return (\n      <Animated.View\n        {...viewPanHandlers}\n        pointerEvents={pointerEvents}\n        ref={this.props.onComponentRef}\n        style={[styles.main, viewStyle]}>\n        {renderScene(props)}\n      </Animated.View>\n    );\n  }\n}\n\nconst styles = StyleSheet.create({\n  main: {\n    backgroundColor: '#E9E9EF',\n    bottom: 0,\n    left: 0,\n    position: 'absolute',\n    right: 0,\n    shadowColor: 'black',\n    shadowOffset: {width: 0, height: 0},\n    shadowOpacity: 0.4,\n    shadowRadius: 10,\n    top: 0,\n  },\n});\n\nNavigationCard = NavigationPointerEventsContainer.create(NavigationCard);\n\nNavigationCard.CardStackPanResponder = NavigationCardStackPanResponder;\nNavigationCard.CardStackStyleInterpolator = NavigationCardStackStyleInterpolator;\nNavigationCard.PagerPanResponder = NavigationPagerPanResponder;\nNavigationCard.PagerStyleInterpolator = NavigationPagerStyleInterpolator;\n\nmodule.exports = NavigationCard;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule NavigationCardStackPanResponder\n * @flow\n */\n'use strict';\n\nconst Animated = require('Animated');\nconst I18nManager = require('I18nManager');\nconst NavigationAbstractPanResponder = require('NavigationAbstractPanResponder');\n\nconst clamp = require('clamp');\n\nimport type {\n  NavigationPanPanHandlers,\n  NavigationSceneRendererProps,\n} from 'NavigationTypeDefinition';\n\nconst emptyFunction = () => {};\n\n/**\n * The duration of the card animation in milliseconds.\n */\nconst ANIMATION_DURATION = 250;\n\n/**\n * The threshold to invoke the `onNavigateBack` action.\n * For instance, `1 / 3` means that moving greater than 1 / 3 of the width of\n * the view will navigate.\n */\nconst POSITION_THRESHOLD = 1 / 3;\n\n/**\n * The threshold (in pixels) to start the gesture action.\n */\nconst RESPOND_THRESHOLD = 15;\n\n/**\n * The threshold (in pixels) to finish the gesture action.\n */\nconst DISTANCE_THRESHOLD = 100;\n\n/**\n * Primitive gesture directions.\n */\nconst Directions = {\n  'HORIZONTAL': 'horizontal',\n  'VERTICAL': 'vertical',\n};\n\nexport type NavigationGestureDirection =  'horizontal' | 'vertical';\n\ntype Props = NavigationSceneRendererProps & {\n  onNavigateBack: ?Function,\n  /**\n  * The distance from the edge of the navigator which gesture response can start for.\n  **/\n  gestureResponseDistance: ?number,\n};\n\n/**\n * Pan responder that handles gesture for a card in the cards stack.\n *\n *     +------------+\n *   +-+            |\n * +-+ |            |\n * | | |            |\n * | | |  Focused   |\n * | | |   Card     |\n * | | |            |\n * +-+ |            |\n *   +-+            |\n *     +------------+\n */\nclass NavigationCardStackPanResponder extends NavigationAbstractPanResponder {\n\n  _isResponding: boolean;\n  _isVertical: boolean;\n  _props: Props;\n  _startValue: number;\n\n  constructor(\n    direction: NavigationGestureDirection,\n    props: Props,\n  ) {\n    super();\n    this._isResponding = false;\n    this._isVertical = direction === Directions.VERTICAL;\n    this._props = props;\n    this._startValue = 0;\n\n    // Hack to make this work with native driven animations. We add a single listener\n    // so the JS value of the following animated values gets updated. We rely on\n    // some Animated private APIs and not doing so would require using a bunch of\n    // value listeners but we'd have to remove them to not leak and I'm not sure\n    // when we'd do that with the current structure we have. `stopAnimation` callback\n    // is also broken with native animated values that have no listeners so if we\n    // want to remove this we have to fix this too.\n    this._addNativeListener(this._props.layout.width);\n    this._addNativeListener(this._props.layout.height);\n    this._addNativeListener(this._props.position);\n  }\n\n  onMoveShouldSetPanResponder(event: any, gesture: any): boolean {\n    const props = this._props;\n\n    if (props.navigationState.index !== props.scene.index) {\n      return false;\n    }\n\n    const layout = props.layout;\n    const isVertical = this._isVertical;\n    const index = props.navigationState.index;\n    const currentDragDistance = gesture[isVertical ? 'dy' : 'dx'];\n    const currentDragPosition = gesture[isVertical ? 'moveY' : 'moveX'];\n    const maxDragDistance = isVertical ?\n      layout.height.__getValue() :\n      layout.width.__getValue();\n\n    const positionMax = isVertical ?\n      props.gestureResponseDistance :\n      /**\n      * For horizontal scroll views, a distance of 30 from the left of the screen is the\n      * standard maximum position to start touch responsiveness.\n      */\n      props.gestureResponseDistance || 30;\n\n    if (positionMax != null && currentDragPosition > positionMax) {\n      return false;\n    }\n\n    return (\n      Math.abs(currentDragDistance) > RESPOND_THRESHOLD &&\n      maxDragDistance > 0 &&\n      index > 0\n    );\n  }\n\n  onPanResponderGrant(): void {\n    this._isResponding = false;\n    this._props.position.stopAnimation((value: number) => {\n      this._isResponding = true;\n      this._startValue = value;\n    });\n  }\n\n  onPanResponderMove(event: any, gesture: any): void {\n    if (!this._isResponding) {\n      return;\n    }\n\n    const props = this._props;\n    const layout = props.layout;\n    const isVertical = this._isVertical;\n    const axis = isVertical ? 'dy' : 'dx';\n    const index = props.navigationState.index;\n    const distance = isVertical ?\n      layout.height.__getValue() :\n      layout.width.__getValue();\n    const currentValue = I18nManager.isRTL && axis === 'dx' ?\n      this._startValue + (gesture[axis] / distance) :\n      this._startValue - (gesture[axis] / distance);\n\n    const value = clamp(\n      index - 1,\n      currentValue,\n      index\n    );\n\n    props.position.setValue(value);\n  }\n\n  onPanResponderRelease(event: any, gesture: any): void {\n    if (!this._isResponding) {\n      return;\n    }\n\n    this._isResponding = false;\n\n    const props = this._props;\n    const isVertical = this._isVertical;\n    const axis = isVertical ? 'dy' : 'dx';\n    const index = props.navigationState.index;\n    const distance = I18nManager.isRTL && axis === 'dx' ?\n      -gesture[axis] :\n      gesture[axis];\n\n    props.position.stopAnimation((value: number) => {\n      this._reset();\n\n      if (!props.onNavigateBack) {\n        return;\n      }\n\n      if (\n        distance > DISTANCE_THRESHOLD  ||\n        value <= index - POSITION_THRESHOLD\n      ) {\n        props.onNavigateBack();\n      }\n    });\n  }\n\n  onPanResponderTerminate(): void {\n    this._isResponding = false;\n    this._reset();\n  }\n\n  _reset(): void {\n    const props = this._props;\n    Animated.timing(\n      props.position,\n      {\n        toValue: props.navigationState.index,\n        duration: ANIMATION_DURATION,\n        useNativeDriver: props.position.__isNative,\n      }\n    ).start();\n  }\n\n  _addNativeListener(animatedValue) {\n    if (!animatedValue.__isNative) {\n      return;\n    }\n\n    if (Object.keys(animatedValue._listeners).length === 0) {\n      animatedValue.addListener(emptyFunction);\n    }\n  }\n}\n\nfunction createPanHandlers(\n  direction: NavigationGestureDirection,\n  props: Props,\n): NavigationPanPanHandlers {\n  const responder = new NavigationCardStackPanResponder(direction, props);\n  return responder.panHandlers;\n}\n\nfunction forHorizontal(\n  props: Props,\n): NavigationPanPanHandlers {\n  return createPanHandlers(Directions.HORIZONTAL, props);\n}\n\nfunction forVertical(\n  props: Props,\n): NavigationPanPanHandlers {\n  return createPanHandlers(Directions.VERTICAL, props);\n}\n\nmodule.exports = {\n  // constants\n  ANIMATION_DURATION,\n  DISTANCE_THRESHOLD,\n  POSITION_THRESHOLD,\n  RESPOND_THRESHOLD,\n\n  // enums\n  Directions,\n\n  // methods.\n  forHorizontal,\n  forVertical,\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule NavigationAbstractPanResponder\n * @flow\n */\n'use strict';\n\nconst PanResponder = require('PanResponder');\n\nconst invariant = require('fbjs/lib/invariant');\n\nimport type  {\n  NavigationPanPanHandlers,\n} from 'NavigationTypeDefinition';\n\nconst EmptyPanHandlers = {\n  onMoveShouldSetPanResponder: null,\n  onPanResponderGrant: null,\n  onPanResponderMove: null,\n  onPanResponderRelease: null,\n  onPanResponderTerminate: null,\n};\n\n/**\n * Abstract class that defines the common interface of PanResponder that handles\n * the gesture actions.\n */\nclass NavigationAbstractPanResponder {\n\n  panHandlers: NavigationPanPanHandlers;\n\n  constructor() {\n    const config = {};\n    Object.keys(EmptyPanHandlers).forEach(name => {\n      const fn: any = (this: any)[name];\n\n      invariant(\n        typeof fn === 'function',\n        'subclass of `NavigationAbstractPanResponder` must implement method %s',\n        name\n      );\n\n      config[name] = fn.bind(this);\n    }, this);\n\n    this.panHandlers = PanResponder.create(config).panHandlers;\n  }\n}\n\nmodule.exports = NavigationAbstractPanResponder;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * Facebook, Inc. (\"Facebook\") owns all right, title and interest, including\n * all intellectual property and other proprietary rights, in and to the React\n * Native CustomComponents software (the \"Software\").  Subject to your\n * compliance with these terms, you are hereby granted a non-exclusive,\n * worldwide, royalty-free copyright license to (1) use and copy the Software;\n * and (2) reproduce and distribute the Software as part of your own software\n * (\"Your Software\").  Facebook reserves all rights not expressly granted to\n * you in this license agreement.\n *\n * THE SOFTWARE AND DOCUMENTATION, IF ANY, ARE PROVIDED \"AS IS\" AND ANY EXPRESS\n * OR IMPLIED WARRANTIES (INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES\n * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE) ARE DISCLAIMED.\n * IN NO EVENT SHALL FACEBOOK OR ITS AFFILIATES, OFFICERS, DIRECTORS OR\n * EMPLOYEES BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,\n * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,\n * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;\n * OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,\n * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR\n * OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THE SOFTWARE, EVEN IF\n * ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @providesModule NavigationCardStackStyleInterpolator\n * @flow\n */\n'use strict';\n\nconst I18nManager = require('I18nManager');\n\nimport type  {\n  NavigationSceneRendererProps,\n} from 'NavigationTypeDefinition';\n\n/**\n * Utility that builds the style for the card in the cards stack.\n *\n *     +------------+\n *   +-+            |\n * +-+ |            |\n * | | |            |\n * | | |  Focused   |\n * | | |   Card     |\n * | | |            |\n * +-+ |            |\n *   +-+            |\n *     +------------+\n */\n\n/**\n * Render the initial style when the initial layout isn't measured yet.\n */\nfunction forInitial(props: NavigationSceneRendererProps): Object {\n  const {\n    navigationState,\n    scene,\n  } = props;\n\n  const focused = navigationState.index === scene.index;\n  const opacity = focused ? 1 : 0;\n  // If not focused, move the scene to the far away.\n  const translate = focused ? 0 : 1000000;\n  return {\n    opacity,\n    transform: [\n      { translateX: translate },\n      { translateY: translate },\n    ],\n  };\n}\n\nfunction forHorizontal(props: NavigationSceneRendererProps): Object {\n  const {\n    layout,\n    position,\n    scene,\n  } = props;\n\n  if (!layout.isMeasured) {\n    return forInitial(props);\n  }\n\n  const index = scene.index;\n  const inputRange = [index - 1, index, index + 0.99, index + 1];\n  const width = layout.initWidth;\n  const outputRange = I18nManager.isRTL ?\n    ([-width, 0, 10, 10]: Array<number>) :\n    ([width, 0, -10, -10]: Array<number>);\n\n\n  const opacity = position.interpolate({\n    inputRange,\n    outputRange: ([1, 1, 0.3, 0]: Array<number>),\n  });\n\n  const scale = position.interpolate({\n    inputRange,\n    outputRange: ([1, 1, 0.95, 0.95]: Array<number>),\n  });\n\n  const translateY = 0;\n  const translateX = position.interpolate({\n    inputRange,\n    outputRange,\n  });\n\n  return {\n    opacity,\n    transform: [\n      { scale },\n      { translateX },\n      { translateY },\n    ],\n  };\n}\n\nfunction forVertical(props: NavigationSceneRendererProps): Object {\n  const {\n    layout,\n    position,\n    scene,\n  } = props;\n\n  if (!layout.isMeasured) {\n    return forInitial(props);\n  }\n\n  const index = scene.index;\n  const inputRange = [index - 1, index, index + 0.99, index + 1];\n  const height = layout.initHeight;\n\n  const opacity = position.interpolate({\n    inputRange,\n    outputRange: ([1, 1, 0.3, 0]: Array<number>),\n  });\n\n  const scale = position.interpolate({\n    inputRange,\n    outputRange: ([1, 1, 0.95, 0.95]: Array<number>),\n  });\n\n  const translateX = 0;\n  const translateY = position.interpolate({\n    inputRange,\n    outputRange: ([height, 0, -10, -10]: Array<number>),\n  });\n\n  return {\n    opacity,\n    transform: [\n      { scale },\n      { translateX },\n      { translateY },\n    ],\n  };\n}\n\nfunction canUseNativeDriver(isVertical: boolean): boolean {\n  // The native driver can be enabled for this interpolator because the scale,\n  // translateX, and translateY transforms are supported with the native\n  // animation driver.\n\n  return true;\n}\n\nmodule.exports = {\n  forHorizontal,\n  forVertical,\n  canUseNativeDriver,\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule NavigationPagerPanResponder\n * @flow\n */\n'use strict';\n\nconst Animated = require('Animated');\nconst NavigationAbstractPanResponder = require('NavigationAbstractPanResponder');\nconst NavigationCardStackPanResponder = require('NavigationCardStackPanResponder');\nconst I18nManager = require('I18nManager');\n\nconst clamp = require('clamp');\n\nimport type {\n  NavigationPanPanHandlers,\n  NavigationSceneRendererProps,\n} from 'NavigationTypeDefinition';\n\nimport type {\n  NavigationGestureDirection,\n} from 'NavigationCardStackPanResponder';\n\ntype Props = NavigationSceneRendererProps & {\n  onNavigateBack: ?Function,\n  onNavigateForward: ?Function,\n};\n\n/**\n * Primitive gesture directions.\n */\nconst {\n  ANIMATION_DURATION,\n  POSITION_THRESHOLD,\n  RESPOND_THRESHOLD,\n  Directions,\n} = NavigationCardStackPanResponder;\n\n/**\n * The threshold (in pixels) to finish the gesture action.\n */\nconst DISTANCE_THRESHOLD = 50;\n\n/**\n * The threshold to trigger the gesture action. This determines the rate of the\n * flick when the action will be triggered\n */\nconst VELOCITY_THRESHOLD = 1.5;\n\n/**\n * Pan responder that handles gesture for a card in the cards list.\n *\n * +-------------+-------------+-------------+\n * |             |             |             |\n * |             |             |             |\n * |             |             |             |\n * |    Next     |   Focused   |  Previous   |\n * |    Card     |    Card     |    Card     |\n * |             |             |             |\n * |             |             |             |\n * |             |             |             |\n * +-------------+-------------+-------------+\n */\nclass NavigationPagerPanResponder extends NavigationAbstractPanResponder {\n\n  _isResponding: boolean;\n  _isVertical: boolean;\n  _props: Props;\n  _startValue: number;\n\n  constructor(\n    direction: NavigationGestureDirection,\n    props: Props,\n  ) {\n    super();\n    this._isResponding = false;\n    this._isVertical = direction === Directions.VERTICAL;\n    this._props = props;\n    this._startValue = 0;\n  }\n\n  onMoveShouldSetPanResponder(event: any, gesture: any): boolean {\n    const props = this._props;\n\n    if (props.navigationState.index !== props.scene.index) {\n      return false;\n    }\n\n    const layout = props.layout;\n    const isVertical = this._isVertical;\n    const axis = isVertical ? 'dy' : 'dx';\n    const index = props.navigationState.index;\n    const distance = isVertical ?\n      layout.height.__getValue() :\n      layout.width.__getValue();\n\n    return (\n      Math.abs(gesture[axis]) > RESPOND_THRESHOLD &&\n      distance > 0 &&\n      index >= 0\n    );\n  }\n\n  onPanResponderGrant(): void {\n    this._isResponding = false;\n    this._props.position.stopAnimation((value: number) => {\n      this._isResponding = true;\n      this._startValue = value;\n    });\n  }\n\n  onPanResponderMove(event: any, gesture: any): void {\n    if (!this._isResponding) {\n      return;\n    }\n\n    const {\n      layout,\n      navigationState,\n      position,\n      scenes,\n    } = this._props;\n\n    const isVertical = this._isVertical;\n    const axis = isVertical ? 'dy' : 'dx';\n    const index = navigationState.index;\n    const distance = isVertical ?\n      layout.height.__getValue() :\n      layout.width.__getValue();\n    const currentValue = I18nManager.isRTL && axis === 'dx' ?\n      this._startValue + (gesture[axis] / distance) :\n      this._startValue - (gesture[axis] / distance);\n\n    const prevIndex = Math.max(\n      0,\n      index - 1,\n    );\n\n    const nextIndex = Math.min(\n      index + 1,\n      scenes.length - 1,\n    );\n\n    const value = clamp(\n      prevIndex,\n      currentValue,\n      nextIndex,\n    );\n\n    position.setValue(value);\n  }\n\n  onPanResponderRelease(event: any, gesture: any): void {\n    if (!this._isResponding) {\n      return;\n    }\n\n    this._isResponding = false;\n\n    const {\n      navigationState,\n      onNavigateBack,\n      onNavigateForward,\n      position,\n    } = this._props;\n\n    const isVertical = this._isVertical;\n    const axis = isVertical ? 'dy' : 'dx';\n    const velocityAxis = isVertical ? 'vy' : 'vx';\n    const index = navigationState.index;\n    const distance = I18nManager.isRTL && axis === 'dx' ?\n      -gesture[axis] :\n      gesture[axis];\n    const moveSpeed = I18nManager.isRTL && velocityAxis === 'vx' ?\n      -gesture[velocityAxis] :\n      gesture[velocityAxis];\n\n    position.stopAnimation((value: number) => {\n      this._reset();\n      if (\n        distance > DISTANCE_THRESHOLD  ||\n        value <= index - POSITION_THRESHOLD ||\n        moveSpeed > VELOCITY_THRESHOLD\n      ) {\n        onNavigateBack && onNavigateBack();\n        return;\n      }\n\n      if (\n        distance < -DISTANCE_THRESHOLD ||\n        value >= index  + POSITION_THRESHOLD ||\n        moveSpeed < -VELOCITY_THRESHOLD\n      ) {\n        onNavigateForward && onNavigateForward();\n      }\n    });\n  }\n\n  onPanResponderTerminate(): void {\n    this._isResponding = false;\n    this._reset();\n  }\n\n  _reset(): void {\n    const props = this._props;\n    Animated.timing(\n      props.position,\n      {\n        toValue: props.navigationState.index,\n        duration: ANIMATION_DURATION,\n      }\n    ).start();\n  }\n}\n\nfunction createPanHandlers(\n  direction: NavigationGestureDirection,\n  props: Props,\n): NavigationPanPanHandlers {\n  const responder = new NavigationPagerPanResponder(direction, props);\n  return responder.panHandlers;\n}\n\nfunction forHorizontal(\n  props: Props,\n): NavigationPanPanHandlers {\n  return createPanHandlers(Directions.HORIZONTAL, props);\n}\n\nmodule.exports = {\n  forHorizontal,\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * Facebook, Inc. (\"Facebook\") owns all right, title and interest, including\n * all intellectual property and other proprietary rights, in and to the React\n * Native CustomComponents software (the \"Software\").  Subject to your\n * compliance with these terms, you are hereby granted a non-exclusive,\n * worldwide, royalty-free copyright license to (1) use and copy the Software;\n * and (2) reproduce and distribute the Software as part of your own software\n * (\"Your Software\").  Facebook reserves all rights not expressly granted to\n * you in this license agreement.\n *\n * THE SOFTWARE AND DOCUMENTATION, IF ANY, ARE PROVIDED \"AS IS\" AND ANY EXPRESS\n * OR IMPLIED WARRANTIES (INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES\n * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE) ARE DISCLAIMED.\n * IN NO EVENT SHALL FACEBOOK OR ITS AFFILIATES, OFFICERS, DIRECTORS OR\n * EMPLOYEES BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,\n * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,\n * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;\n * OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,\n * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR\n * OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THE SOFTWARE, EVEN IF\n * ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @providesModule NavigationPagerStyleInterpolator\n * @flow\n */\n'use strict';\n\nconst I18nManager = require('I18nManager');\n\nimport type  {\n  NavigationSceneRendererProps,\n} from 'NavigationTypeDefinition';\n\n/**\n * Utility that builds the style for the card in the cards list.\n *\n * +-------------+-------------+-------------+\n * |             |             |             |\n * |             |             |             |\n * |             |             |             |\n * |    Next     |   Focused   |  Previous   |\n * |    Card     |    Card     |    Card     |\n * |             |             |             |\n * |             |             |             |\n * |             |             |             |\n * +-------------+-------------+-------------+\n */\n\n/**\n * Render the initial style when the initial layout isn't measured yet.\n */\nfunction forInitial(props: NavigationSceneRendererProps): Object {\n  const {\n    navigationState,\n    scene,\n  } = props;\n\n  const focused = navigationState.index === scene.index;\n  const opacity = focused ? 1 : 0;\n  // If not focused, move the scene to the far away.\n  const dir = scene.index > navigationState.index ? 1 : -1;\n  const translate = focused ? 0 : (1000000 * dir);\n  return {\n    opacity,\n    transform: [\n      { translateX: translate },\n      { translateY: translate },\n    ],\n  };\n}\n\nfunction forHorizontal(props: NavigationSceneRendererProps): Object {\n  const {\n    layout,\n    position,\n    scene,\n  } = props;\n\n  if (!layout.isMeasured) {\n    return forInitial(props);\n  }\n\n  const index = scene.index;\n  const inputRange = [index - 1, index, index + 1];\n  const width = layout.initWidth;\n  const outputRange = I18nManager.isRTL ?\n    ([-width, 0, width]: Array<number>) :\n    ([width, 0, -width]: Array<number>);\n\n  const translateX = position.interpolate({\n    inputRange,\n    outputRange,\n  });\n\n  return {\n    opacity : 1,\n    shadowColor: 'transparent',\n    shadowRadius: 0,\n    transform: [\n      { scale: 1 },\n      { translateX },\n      { translateY: 0 },\n    ],\n  };\n}\n\nmodule.exports = {\n  forHorizontal,\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * Facebook, Inc. (\"Facebook\") owns all right, title and interest, including\n * all intellectual property and other proprietary rights, in and to the React\n * Native CustomComponents software (the \"Software\").  Subject to your\n * compliance with these terms, you are hereby granted a non-exclusive,\n * worldwide, royalty-free copyright license to (1) use and copy the Software;\n * and (2) reproduce and distribute the Software as part of your own software\n * (\"Your Software\").  Facebook reserves all rights not expressly granted to\n * you in this license agreement.\n *\n * THE SOFTWARE AND DOCUMENTATION, IF ANY, ARE PROVIDED \"AS IS\" AND ANY EXPRESS\n * OR IMPLIED WARRANTIES (INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES\n * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE) ARE DISCLAIMED.\n * IN NO EVENT SHALL FACEBOOK OR ITS AFFILIATES, OFFICERS, DIRECTORS OR\n * EMPLOYEES BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,\n * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,\n * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;\n * OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,\n * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR\n * OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THE SOFTWARE, EVEN IF\n * ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @providesModule NavigationPointerEventsContainer\n * @flow\n */\n'use strict';\n\nconst React = require('React');\nconst NavigationAnimatedValueSubscription = require('NavigationAnimatedValueSubscription');\n\nconst invariant = require('fbjs/lib/invariant');\n\nimport type  {\n  NavigationSceneRendererProps,\n} from 'NavigationTypeDefinition';\n\ntype Props = NavigationSceneRendererProps;\n\nconst MIN_POSITION_OFFSET = 0.01;\n\n/**\n * Create a higher-order component that automatically computes the\n * `pointerEvents` property for a component whenever navigation position\n * changes.\n */\nfunction create(\n  Component: ReactClass<any>,\n): ReactClass<any> {\n\n  class Container extends React.Component<any, Props, any> {\n\n    _component: any;\n    _onComponentRef: (view: any) => void;\n    _onPositionChange: (data: {value: number}) => void;\n    _pointerEvents: string;\n    _positionListener: ?NavigationAnimatedValueSubscription;\n\n    props: Props;\n\n    constructor(props: Props, context: any) {\n      super(props, context);\n      this._pointerEvents = this._computePointerEvents();\n    }\n\n    componentWillMount(): void {\n      this._onPositionChange = this._onPositionChange.bind(this);\n      this._onComponentRef = this._onComponentRef.bind(this);\n    }\n\n    componentDidMount(): void {\n      this._bindPosition(this.props);\n    }\n\n    componentWillUnmount(): void {\n      this._positionListener && this._positionListener.remove();\n    }\n\n    componentWillReceiveProps(nextProps: Props): void {\n      this._bindPosition(nextProps);\n    }\n\n    render(): React.Element<any>  {\n      this._pointerEvents = this._computePointerEvents();\n      return (\n        <Component\n          {...this.props}\n          pointerEvents={this._pointerEvents}\n          onComponentRef={this._onComponentRef}\n        />\n      );\n    }\n\n    _onComponentRef(component: any): void {\n      this._component = component;\n      if (component) {\n        invariant(\n          typeof component.setNativeProps === 'function',\n          'component must implement method `setNativeProps`',\n        );\n      }\n    }\n\n    _bindPosition(props: NavigationSceneRendererProps): void {\n      this._positionListener && this._positionListener.remove();\n      this._positionListener = new  NavigationAnimatedValueSubscription(\n        props.position,\n        this._onPositionChange,\n      );\n    }\n\n    _onPositionChange(): void {\n      if (this._component) {\n        const pointerEvents = this._computePointerEvents();\n        if (this._pointerEvents !== pointerEvents) {\n          this._pointerEvents = pointerEvents;\n          this._component.setNativeProps({pointerEvents});\n        }\n      }\n    }\n\n    _computePointerEvents(): string {\n      const {\n        navigationState,\n        position,\n        scene,\n      } = this.props;\n\n      if (scene.isStale || navigationState.index !== scene.index) {\n        // The scene isn't focused.\n        return scene.index > navigationState.index ?\n          'box-only' :\n          'none';\n      }\n\n      const offset = position.__getAnimatedValue() - navigationState.index;\n      if (Math.abs(offset) > MIN_POSITION_OFFSET) {\n        // The positon is still away from scene's index.\n        // Scene's children should not receive touches until the position\n        // is close enough to scene's index.\n        return 'box-only';\n      }\n\n      return 'auto';\n    }\n  }\n  return  Container;\n}\n\nmodule.exports = {\n  create,\n};\n","/**\n * Copyright (c) 2015, Facebook, Inc.  All rights reserved.\n *\n * Facebook, Inc. (\"Facebook\") owns all right, title and interest, including\n * all intellectual property and other proprietary rights, in and to the React\n * Native CustomComponents software (the \"Software\").  Subject to your\n * compliance with these terms, you are hereby granted a non-exclusive,\n * worldwide, royalty-free copyright license to (1) use and copy the Software;\n * and (2) reproduce and distribute the Software as part of your own software\n * (\"Your Software\").  Facebook reserves all rights not expressly granted to\n * you in this license agreement.\n *\n * THE SOFTWARE AND DOCUMENTATION, IF ANY, ARE PROVIDED \"AS IS\" AND ANY EXPRESS\n * OR IMPLIED WARRANTIES (INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES\n * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE) ARE DISCLAIMED.\n * IN NO EVENT SHALL FACEBOOK OR ITS AFFILIATES, OFFICERS, DIRECTORS OR\n * EMPLOYEES BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,\n * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,\n * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;\n * OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,\n * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR\n * OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THE SOFTWARE, EVEN IF\n * ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @providesModule NavigationAnimatedValueSubscription\n * @flow\n */\n'use strict';\n\nimport type  {\n  NavigationAnimatedValue\n} from 'NavigationTypeDefinition';\n\nclass NavigationAnimatedValueSubscription {\n  _value: NavigationAnimatedValue;\n  _token: string;\n\n  constructor(value: NavigationAnimatedValue, callback: Function) {\n    this._value = value;\n    this._token = value.addListener(callback);\n  }\n\n  remove(): void {\n    this._value.removeListener(this._token);\n  }\n}\n\nmodule.exports = NavigationAnimatedValueSubscription;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule NavigationPropTypes\n * @flow\n */\n'use strict';\n\nimport type  {\n  NavigationSceneRendererProps,\n} from 'NavigationTypeDefinition';\n\n/**\n * React component PropTypes Definitions. Consider using this as a supplementary\n * measure with `NavigationTypeDefinition`. This helps to capture the propType\n * error at run-time, where as `NavigationTypeDefinition` capture the flow\n * type check errors at build time.\n */\n\nconst Animated = require('Animated');\nconst React = require('React');\n\nconst {PropTypes} = React;\n\n/* NavigationAction */\nconst action =  PropTypes.shape({\n  type: PropTypes.string.isRequired,\n});\n\n/* NavigationAnimatedValue  */\nconst animatedValue = PropTypes.instanceOf(Animated.Value);\n\n/* NavigationRoute  */\nconst navigationRoute = PropTypes.shape({\n  key: PropTypes.string.isRequired,\n});\n\n/* NavigationState  */\nconst navigationState = PropTypes.shape({\n  index: PropTypes.number.isRequired,\n  routes: PropTypes.arrayOf(navigationRoute),\n});\n\n/* NavigationLayout */\nconst layout = PropTypes.shape({\n  height: animatedValue,\n  initHeight: PropTypes.number.isRequired,\n  initWidth: PropTypes.number.isRequired,\n  isMeasured: PropTypes.bool.isRequired,\n  width: animatedValue,\n});\n\n/* NavigationScene */\nconst scene = PropTypes.shape({\n  index: PropTypes.number.isRequired,\n  isActive: PropTypes.bool.isRequired,\n  isStale: PropTypes.bool.isRequired,\n  key: PropTypes.string.isRequired,\n  route: navigationRoute.isRequired,\n});\n\n/* NavigationSceneRendererProps */\nconst SceneRendererProps = {\n  layout: layout.isRequired,\n  navigationState: navigationState.isRequired,\n  position: animatedValue.isRequired,\n  progress: animatedValue.isRequired,\n  scene: scene.isRequired,\n  scenes: PropTypes.arrayOf(scene).isRequired,\n};\n\nconst SceneRenderer = PropTypes.shape(SceneRendererProps);\n\n/* NavigationPanPanHandlers */\nconst panHandlers = PropTypes.shape({\n  onMoveShouldSetResponder: PropTypes.func.isRequired,\n  onMoveShouldSetResponderCapture: PropTypes.func.isRequired,\n  onResponderEnd: PropTypes.func.isRequired,\n  onResponderGrant: PropTypes.func.isRequired,\n  onResponderMove: PropTypes.func.isRequired,\n  onResponderReject: PropTypes.func.isRequired,\n  onResponderRelease: PropTypes.func.isRequired,\n  onResponderStart: PropTypes.func.isRequired,\n  onResponderTerminate: PropTypes.func.isRequired,\n  onResponderTerminationRequest: PropTypes.func.isRequired,\n  onStartShouldSetResponder: PropTypes.func.isRequired,\n  onStartShouldSetResponderCapture: PropTypes.func.isRequired,\n});\n\n/**\n * Helper function that extracts the props needed for scene renderer.\n */\nfunction extractSceneRendererProps(\n  props: NavigationSceneRendererProps,\n): NavigationSceneRendererProps {\n  return {\n    layout: props.layout,\n    navigationState: props.navigationState,\n    position: props.position,\n    progress: props.progress,\n    scene: props.scene,\n    scenes: props.scenes,\n  };\n}\n\nmodule.exports = {\n  // helpers\n  extractSceneRendererProps,\n\n  // Bundled propTypes.\n  SceneRendererProps,\n\n  // propTypes\n  SceneRenderer,\n  action,\n  navigationState,\n  navigationRoute,\n  panHandlers,\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * Facebook, Inc. (\"Facebook\") owns all right, title and interest, including\n * all intellectual property and other proprietary rights, in and to the React\n * Native CustomComponents software (the \"Software\").  Subject to your\n * compliance with these terms, you are hereby granted a non-exclusive,\n * worldwide, royalty-free copyright license to (1) use and copy the Software;\n * and (2) reproduce and distribute the Software as part of your own software\n * (\"Your Software\").  Facebook reserves all rights not expressly granted to\n * you in this license agreement.\n *\n * THE SOFTWARE AND DOCUMENTATION, IF ANY, ARE PROVIDED \"AS IS\" AND ANY EXPRESS\n * OR IMPLIED WARRANTIES (INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES\n * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE) ARE DISCLAIMED.\n * IN NO EVENT SHALL FACEBOOK OR ITS AFFILIATES, OFFICERS, DIRECTORS OR\n * EMPLOYEES BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,\n * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,\n * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;\n * OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,\n * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR\n * OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THE SOFTWARE, EVEN IF\n * ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @providesModule NavigationCardStack\n * @flow\n */\n'use strict';\n\nconst NativeAnimatedModule = require('NativeModules').NativeAnimatedModule;\nconst NavigationCard = require('NavigationCard');\nconst NavigationCardStackPanResponder = require('NavigationCardStackPanResponder');\nconst NavigationCardStackStyleInterpolator = require('NavigationCardStackStyleInterpolator');\nconst NavigationPropTypes = require('NavigationPropTypes');\nconst NavigationTransitioner = require('NavigationTransitioner');\nconst React = require('React');\nconst StyleSheet = require('StyleSheet');\nconst View = require('View');\n\nconst {PropTypes} = React;\nconst {Directions} = NavigationCardStackPanResponder;\n\nimport type {\n  NavigationState,\n  NavigationSceneRenderer,\n  NavigationSceneRendererProps,\n  NavigationTransitionProps,\n  NavigationStyleInterpolator,\n} from 'NavigationTypeDefinition';\n\nimport type {\n  NavigationGestureDirection,\n} from 'NavigationCardStackPanResponder';\n\ntype Props = {\n  direction: NavigationGestureDirection,\n  navigationState: NavigationState,\n  onNavigateBack?: Function,\n  renderHeader: ?NavigationSceneRenderer,\n  renderScene: NavigationSceneRenderer,\n  cardStyle?: any,\n  style: any,\n  gestureResponseDistance?: ?number,\n  enableGestures: ?boolean,\n  cardStyleInterpolator?: ?NavigationStyleInterpolator,\n  scenesStyle?: any,\n};\n\ntype DefaultProps = {\n  direction: NavigationGestureDirection,\n  enableGestures: boolean,\n};\n\n/**\n * A controlled navigation view that renders a stack of cards.\n *\n * ```html\n *     +------------+\n *   +-|   Header   |\n * +-+ |------------|\n * | | |            |\n * | | |  Focused   |\n * | | |   Card     |\n * | | |            |\n * +-+ |            |\n *   +-+            |\n *     +------------+\n * ```\n *\n * ## Example\n *\n * ```js\n *\n * class App extends React.Component {\n *   constructor(props, context) {\n *     this.state = {\n *       navigation: {\n *         index: 0,\n *         routes: [\n *           {key: 'page 1'},\n *         },\n *       },\n *     };\n *   }\n *\n *   render() {\n *     return (\n *       <NavigationCardStack\n *         navigationState={this.state.navigation}\n *         renderScene={this._renderScene}\n *       />\n *     );\n *   }\n *\n *   _renderScene: (props) => {\n *     return (\n *       <View>\n *         <Text>{props.scene.route.key}</Text>\n *       </View>\n *     );\n *   };\n * ```\n */\nclass NavigationCardStack extends React.Component<DefaultProps, Props, void> {\n  _render : NavigationSceneRenderer;\n  _renderScene : NavigationSceneRenderer;\n\n  static propTypes = {\n    /**\n     * Custom style applied to the card.\n     */\n    cardStyle: PropTypes.any,\n\n    /**\n     * Direction of the cards movement. Value could be `horizontal` or\n     * `vertical`. Default value is `horizontal`.\n     */\n    direction: PropTypes.oneOf([Directions.HORIZONTAL, Directions.VERTICAL]),\n\n    /**\n     * The distance from the edge of the card which gesture response can start\n     * for. Default value is `30`.\n     */\n    gestureResponseDistance: PropTypes.number,\n\n    /**\n     * An interpolator function that is passed an object parameter of type\n     * NavigationSceneRendererProps and should return a style object to apply to\n     * the transitioning navigation card.\n     *\n     * Default interpolator transitions translateX, scale, and opacity.\n     */\n    cardStyleInterpolator: PropTypes.func,\n\n    /**\n     * Enable gestures. Default value is true.\n     *\n     * When disabled, transition animations will be handled natively, which\n     * improves performance of the animation. In future iterations, gestures\n     * will also work with native-driven animation.\n     */\n    enableGestures: PropTypes.bool,\n\n    /**\n     * The controlled navigation state. Typically, the navigation state\n     * look like this:\n     *\n     * ```js\n     * const navigationState = {\n     *   index: 0, // the index of the selected route.\n     *   routes: [ // A list of routes.\n     *     {key: 'page 1'}, // The 1st route.\n     *     {key: 'page 2'}, // The second route.\n     *   ],\n     * };\n     * ```\n     */\n    navigationState: NavigationPropTypes.navigationState.isRequired,\n\n    /**\n     * Callback that is called when the \"back\" action is performed.\n     * This happens when the back button is pressed or the back gesture is\n     * performed.\n     */\n    onNavigateBack: PropTypes.func,\n\n    /**\n     * Function that renders the header.\n     */\n    renderHeader: PropTypes.func,\n\n    /**\n     * Function that renders the a scene for a route.\n     */\n    renderScene: PropTypes.func.isRequired,\n\n    /**\n     * Custom style applied to the cards stack.\n     */\n    style: View.propTypes.style,\n\n    /**\n     * Custom style applied to the scenes stack.\n     */\n    scenesStyle: View.propTypes.style,\n  };\n\n  static defaultProps: DefaultProps = {\n    direction: Directions.HORIZONTAL,\n    enableGestures: true,\n  };\n\n  constructor(props: Props, context: any) {\n    super(props, context);\n  }\n\n  componentWillMount(): void {\n    this._render = this._render.bind(this);\n    this._renderScene = this._renderScene.bind(this);\n  }\n\n  render(): React.Element<any> {\n    return (\n      <NavigationTransitioner\n        configureTransition={this._configureTransition}\n        navigationState={this.props.navigationState}\n        render={this._render}\n        style={this.props.style}\n      />\n    );\n  }\n\n  _configureTransition = () => {\n    const isVertical = this.props.direction === 'vertical';\n    const animationConfig = {};\n    if (\n      !!NativeAnimatedModule\n\n      // Gestures do not work with the current iteration of native animation\n      // driving. When gestures are disabled, we can drive natively.\n      && !this.props.enableGestures\n\n      // Native animation support also depends on the transforms used:\n      && NavigationCardStackStyleInterpolator.canUseNativeDriver(isVertical)\n    ) {\n      animationConfig.useNativeDriver = true;\n    }\n    return animationConfig;\n  }\n\n  _render(props: NavigationTransitionProps): React.Element<any> {\n    const {\n      renderHeader,\n    } = this.props;\n\n    const header = renderHeader ? <View>{renderHeader(props)}</View> : null;\n\n    const scenes = props.scenes.map(\n     scene => this._renderScene({\n       ...props,\n       scene,\n     })\n    );\n\n    return (\n      <View style={styles.container}>\n        <View\n          style={[styles.scenes, this.props.scenesStyle]}>\n          {scenes}\n        </View>\n        {header}\n      </View>\n    );\n  }\n\n  _renderScene(props: NavigationSceneRendererProps): React.Element<any> {\n    const isVertical = this.props.direction === 'vertical';\n\n    const interpolator = this.props.cardStyleInterpolator || (isVertical ?\n      NavigationCardStackStyleInterpolator.forVertical :\n      NavigationCardStackStyleInterpolator.forHorizontal);\n\n    const style = interpolator(props);\n\n    let panHandlers = null;\n\n    if (this.props.enableGestures) {\n      const panHandlersProps = {\n        ...props,\n        onNavigateBack: this.props.onNavigateBack,\n        gestureResponseDistance: this.props.gestureResponseDistance,\n      };\n      panHandlers = isVertical ?\n        NavigationCardStackPanResponder.forVertical(panHandlersProps) :\n        NavigationCardStackPanResponder.forHorizontal(panHandlersProps);\n    }\n\n    return (\n      <NavigationCard\n        {...props}\n        key={'card_' + props.scene.key}\n        panHandlers={panHandlers}\n        renderScene={this.props.renderScene}\n        style={[style, this.props.cardStyle]}\n      />\n    );\n  }\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    // Header is physically rendered after scenes so that Header won't be\n    // covered by the shadows of the scenes.\n    // That said, we'd have use `flexDirection: 'column-reverse'` to move\n    // Header above the scenes.\n    flexDirection: 'column-reverse',\n  },\n  scenes: {\n    flex: 1,\n  },\n});\n\nmodule.exports = NavigationCardStack;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule NavigationTransitioner\n * @flow\n */\n'use strict';\n\nconst Animated = require('Animated');\nconst Easing = require('Easing');\nconst NavigationPropTypes = require('NavigationPropTypes');\nconst NavigationScenesReducer = require('NavigationScenesReducer');\nconst React = require('React');\nconst StyleSheet = require('StyleSheet');\nconst View = require('View');\n\nconst invariant = require('fbjs/lib/invariant');\n\nimport type {\n  NavigationAnimatedValue,\n  NavigationLayout,\n  NavigationScene,\n  NavigationState,\n  NavigationTransitionProps,\n  NavigationTransitionSpec,\n} from 'NavigationTypeDefinition';\n\ntype Props = {\n  configureTransition: (\n    a: NavigationTransitionProps,\n    b: ?NavigationTransitionProps,\n  ) => NavigationTransitionSpec,\n  navigationState: NavigationState,\n  onTransitionEnd: () => void,\n  onTransitionStart: () => void,\n  render: (a: NavigationTransitionProps, b: ?NavigationTransitionProps) => any,\n  style: any,\n};\n\ntype State = {\n  layout: NavigationLayout,\n  position: NavigationAnimatedValue,\n  progress: NavigationAnimatedValue,\n  scenes: Array<NavigationScene>,\n};\n\nconst {PropTypes} = React;\n\nconst DefaultTransitionSpec = {\n  duration: 250,\n  easing: Easing.inOut(Easing.ease),\n  timing: Animated.timing,\n};\n\nclass NavigationTransitioner extends React.Component<any, Props, State> {\n  _onLayout: (event: any) => void;\n  _onTransitionEnd: () => void;\n  _prevTransitionProps: ?NavigationTransitionProps;\n  _transitionProps: NavigationTransitionProps;\n  _isMounted: boolean;\n\n  props: Props;\n  state: State;\n\n  static propTypes = {\n    configureTransition: PropTypes.func,\n    navigationState: NavigationPropTypes.navigationState.isRequired,\n    onTransitionEnd: PropTypes.func,\n    onTransitionStart: PropTypes.func,\n    render: PropTypes.func.isRequired,\n  };\n\n  constructor(props: Props, context: any) {\n    super(props, context);\n\n    // The initial layout isn't measured. Measured layout will be only available\n    // when the component is mounted.\n    const layout = {\n      height: new Animated.Value(0),\n      initHeight: 0,\n      initWidth: 0,\n      isMeasured: false,\n      width: new Animated.Value(0),\n    };\n\n    this.state = {\n      layout,\n      position: new Animated.Value(this.props.navigationState.index),\n      progress: new Animated.Value(1),\n      scenes: NavigationScenesReducer([], this.props.navigationState),\n    };\n\n    this._prevTransitionProps = null;\n    this._transitionProps = buildTransitionProps(props, this.state);\n    this._isMounted = false;\n  }\n\n  componentWillMount(): void {\n    this._onLayout = this._onLayout.bind(this);\n    this._onTransitionEnd = this._onTransitionEnd.bind(this);\n  }\n\n  componentDidMount(): void {\n    this._isMounted = true;\n  }\n\n  componentWillUnmount(): void {\n    this._isMounted = false;\n  }\n\n  componentWillReceiveProps(nextProps: Props): void {\n    const nextScenes = NavigationScenesReducer(\n      this.state.scenes,\n      nextProps.navigationState,\n      this.props.navigationState\n    );\n\n    if (nextScenes === this.state.scenes) {\n      return;\n    }\n\n    const nextState = {\n      ...this.state,\n      scenes: nextScenes,\n    };\n\n    const {\n      position,\n      progress,\n    } = nextState;\n\n    progress.setValue(0);\n\n    this._prevTransitionProps = this._transitionProps;\n    this._transitionProps = buildTransitionProps(nextProps, nextState);\n\n    // get the transition spec.\n    const transitionUserSpec = nextProps.configureTransition ?\n      nextProps.configureTransition(\n        this._transitionProps,\n        this._prevTransitionProps,\n      ) :\n      null;\n\n    const transitionSpec = {\n      ...DefaultTransitionSpec,\n      ...transitionUserSpec,\n    };\n\n    const {timing} = transitionSpec;\n    delete transitionSpec.timing;\n\n    const animations = [\n      timing(\n        progress,\n        {\n          ...transitionSpec,\n          toValue: 1,\n        },\n      ),\n    ];\n\n    if (nextProps.navigationState.index !== this.props.navigationState.index) {\n      animations.push(\n        timing(\n          position,\n          {\n            ...transitionSpec,\n            toValue: nextProps.navigationState.index,\n          },\n        ),\n      );\n    }\n\n    // update scenes and play the transition\n    this.setState(nextState, () => {\n      nextProps.onTransitionStart && nextProps.onTransitionStart(\n        this._transitionProps,\n        this._prevTransitionProps,\n      );\n      Animated.parallel(animations).start(this._onTransitionEnd);\n    });\n  }\n\n  render(): React.Element<any> {\n    return (\n      <View\n        onLayout={this._onLayout}\n        style={[styles.main, this.props.style]}>\n        {this.props.render(this._transitionProps, this._prevTransitionProps)}\n      </View>\n    );\n  }\n\n  _onLayout(event: any): void {\n    const {height, width} = event.nativeEvent.layout;\n    if (this.state.layout.initWidth === width &&\n      this.state.layout.initHeight === height) {\n      return;\n    }\n    const layout = {\n      ...this.state.layout,\n      initHeight: height,\n      initWidth: width,\n      isMeasured: true,\n    };\n\n    layout.height.setValue(height);\n    layout.width.setValue(width);\n\n    const nextState = {\n      ...this.state,\n      layout,\n    };\n\n    this._transitionProps = buildTransitionProps(this.props, nextState);\n    this.setState(nextState);\n  }\n\n  _onTransitionEnd(): void {\n    if (!this._isMounted) {\n      return;\n    }\n\n    const prevTransitionProps = this._prevTransitionProps;\n    this._prevTransitionProps = null;\n\n    const nextState = {\n      ...this.state,\n      scenes: this.state.scenes.filter(isSceneNotStale),\n    };\n\n    this._transitionProps = buildTransitionProps(this.props, nextState);\n\n    this.setState(nextState, () => {\n      this.props.onTransitionEnd && this.props.onTransitionEnd(\n        this._transitionProps,\n        prevTransitionProps,\n      );\n    });\n  }\n}\n\nfunction buildTransitionProps(\n  props: Props,\n  state: State,\n): NavigationTransitionProps {\n  const {\n    navigationState,\n  } = props;\n\n  const {\n    layout,\n    position,\n    progress,\n    scenes,\n  } = state;\n\n  const scene = scenes.find(isSceneActive);\n\n  invariant(scene, 'No active scene when building navigation transition props.');\n\n  return {\n    layout,\n    navigationState,\n    position,\n    progress,\n    scenes,\n    scene\n  };\n}\n\nfunction isSceneNotStale(scene: NavigationScene): boolean {\n  return !scene.isStale;\n}\n\nfunction isSceneActive(scene: NavigationScene): boolean {\n  return scene.isActive;\n}\n\nconst styles = StyleSheet.create({\n  main: {\n    flex: 1,\n  },\n});\n\nmodule.exports = NavigationTransitioner;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule NavigationScenesReducer\n * @flow\n */\n'use strict';\n\nconst invariant = require('fbjs/lib/invariant');\nconst shallowEqual = require('fbjs/lib/shallowEqual');\n\nimport type {\n  NavigationRoute,\n  NavigationScene,\n  NavigationState,\n} from 'NavigationTypeDefinition';\n\nconst SCENE_KEY_PREFIX = 'scene_';\n\n/**\n * Helper function to compare route keys (e.g. \"9\", \"11\").\n */\nfunction compareKey(one: string, two: string): number {\n  const delta = one.length - two.length;\n  if (delta > 0) {\n    return 1;\n  }\n  if (delta < 0) {\n    return -1;\n  }\n  return one > two ? 1 : -1;\n}\n\n/**\n * Helper function to sort scenes based on their index and view key.\n */\nfunction compareScenes(\n  one: NavigationScene,\n  two: NavigationScene,\n): number {\n  if (one.index > two.index) {\n    return 1;\n  }\n  if (one.index < two.index) {\n    return -1;\n  }\n\n  return compareKey(\n    one.key,\n    two.key,\n  );\n}\n\n/**\n * Whether two routes are the same.\n */\nfunction areScenesShallowEqual(\n  one: NavigationScene,\n  two: NavigationScene,\n): boolean {\n  return (\n    one.key === two.key &&\n    one.index === two.index &&\n    one.isStale === two.isStale &&\n    one.isActive === two.isActive &&\n    areRoutesShallowEqual(one.route, two.route)\n  );\n}\n\n/**\n * Whether two routes are the same.\n */\nfunction areRoutesShallowEqual(\n  one: ?NavigationRoute,\n  two: ?NavigationRoute,\n): boolean {\n  if (!one || !two) {\n    return one === two;\n  }\n\n  if (one.key !== two.key) {\n    return false;\n  }\n\n  return shallowEqual(one, two);\n}\n\nfunction NavigationScenesReducer(\n  scenes: Array<NavigationScene>,\n  nextState: NavigationState,\n  prevState: ?NavigationState,\n): Array<NavigationScene> {\n  if (prevState === nextState) {\n    return scenes;\n  }\n\n  const prevScenes: Map<string, NavigationScene> = new Map();\n  const freshScenes: Map<string, NavigationScene> = new Map();\n  const staleScenes: Map<string, NavigationScene> = new Map();\n\n  // Populate stale scenes from previous scenes marked as stale.\n  scenes.forEach(scene => {\n    const {key} = scene;\n    if (scene.isStale) {\n      staleScenes.set(key, scene);\n    }\n    prevScenes.set(key, scene);\n  });\n\n  const nextKeys = new Set();\n  nextState.routes.forEach((route, index) => {\n    const key = SCENE_KEY_PREFIX + route.key;\n    const scene = {\n      index,\n      isActive: false,\n      isStale: false,\n      key,\n      route,\n    };\n    invariant(\n      !nextKeys.has(key),\n      `navigationState.routes[${index}].key \"${key}\" conflicts with ` +\n        'another route!'\n    );\n    nextKeys.add(key);\n\n    if (staleScenes.has(key)) {\n      // A previously `stale` scene is now part of the nextState, so we\n      // revive it by removing it from the stale scene map.\n      staleScenes.delete(key);\n    }\n    freshScenes.set(key, scene);\n  });\n\n  if (prevState) {\n    // Look at the previous routes and classify any removed scenes as `stale`.\n    prevState.routes.forEach((route: NavigationRoute, index) => {\n      const key = SCENE_KEY_PREFIX + route.key;\n      if (freshScenes.has(key)) {\n        return;\n      }\n      staleScenes.set(key, {\n        index,\n        isActive: false,\n        isStale: true,\n        key,\n        route,\n      });\n    });\n  }\n\n  const nextScenes = [];\n\n  const mergeScene = (nextScene => {\n    const {key} = nextScene;\n    const prevScene = prevScenes.has(key) ? prevScenes.get(key) : null;\n    if (prevScene && areScenesShallowEqual(prevScene, nextScene)) {\n      // Reuse `prevScene` as `scene` so view can avoid unnecessary re-render.\n      // This assumes that the scene's navigation state is immutable.\n      nextScenes.push(prevScene);\n    } else {\n      nextScenes.push(nextScene);\n    }\n  });\n\n  staleScenes.forEach(mergeScene);\n  freshScenes.forEach(mergeScene);\n\n  nextScenes.sort(compareScenes);\n\n  let activeScenesCount = 0;\n  nextScenes.forEach((scene, ii) => {\n    const isActive = !scene.isStale && scene.index === nextState.index;\n    if (isActive !== scene.isActive) {\n      nextScenes[ii] = {\n        ...scene,\n        isActive,\n      };\n    }\n    if (isActive) {\n      activeScenesCount++;\n    }\n  });\n\n  invariant(\n    activeScenesCount === 1,\n    'there should always be only one scene active, not %s.',\n    activeScenesCount,\n  );\n\n  if (nextScenes.length !== scenes.length) {\n    return nextScenes;\n  }\n\n  if (nextScenes.some(\n    (scene, index) => !areScenesShallowEqual(scenes[index], scene)\n  )) {\n    return nextScenes;\n  }\n\n  // scenes haven't changed.\n  return scenes;\n}\n\nmodule.exports = NavigationScenesReducer;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * Facebook, Inc. (\"Facebook\") owns all right, title and interest, including\n * all intellectual property and other proprietary rights, in and to the React\n * Native CustomComponents software (the \"Software\").  Subject to your\n * compliance with these terms, you are hereby granted a non-exclusive,\n * worldwide, royalty-free copyright license to (1) use and copy the Software;\n * and (2) reproduce and distribute the Software as part of your own software\n * (\"Your Software\").  Facebook reserves all rights not expressly granted to\n * you in this license agreement.\n *\n * THE SOFTWARE AND DOCUMENTATION, IF ANY, ARE PROVIDED \"AS IS\" AND ANY EXPRESS\n * OR IMPLIED WARRANTIES (INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES\n * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE) ARE DISCLAIMED.\n * IN NO EVENT SHALL FACEBOOK OR ITS AFFILIATES, OFFICERS, DIRECTORS OR\n * EMPLOYEES BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,\n * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,\n * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;\n * OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,\n * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR\n * OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THE SOFTWARE, EVEN IF\n * ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @providesModule NavigationHeader\n * @flow\n */\n'use strict';\n\nconst NavigationHeaderBackButton = require('NavigationHeaderBackButton');\nconst NavigationHeaderStyleInterpolator = require('NavigationHeaderStyleInterpolator');\nconst NavigationHeaderTitle = require('NavigationHeaderTitle');\nconst NavigationPropTypes = require('NavigationPropTypes');\nconst React = require('React');\nconst ReactNative = require('react-native');\nconst TVEventHandler = require('TVEventHandler');\n\nconst {\n  Animated,\n  Platform,\n  StyleSheet,\n  View,\n} = ReactNative;\n\nimport type  {\n  NavigationSceneRendererProps,\n  NavigationStyleInterpolator,\n} from 'NavigationTypeDefinition';\n\ntype SubViewProps = NavigationSceneRendererProps & {\n  onNavigateBack: ?Function,\n};\n\ntype SubViewRenderer = (subViewProps: SubViewProps) => ?React.Element<any>;\n\ntype DefaultProps = {\n  renderLeftComponent: SubViewRenderer,\n  renderRightComponent: SubViewRenderer,\n  renderTitleComponent: SubViewRenderer,\n  statusBarHeight: number | Animated.Value,\n};\n\ntype Props = NavigationSceneRendererProps & {\n  onNavigateBack: ?Function,\n  renderLeftComponent: SubViewRenderer,\n  renderRightComponent: SubViewRenderer,\n  renderTitleComponent: SubViewRenderer,\n  style?: any,\n  viewProps?: any,\n  statusBarHeight: number | Animated.Value,\n};\n\ntype SubViewName = 'left' | 'title' | 'right';\n\nconst APPBAR_HEIGHT = Platform.OS === 'ios' ? 44 : 56;\nconst STATUSBAR_HEIGHT = Platform.OS === 'ios' ? 20 : 0;\nconst {PropTypes} = React;\n\nclass NavigationHeader extends React.PureComponent<DefaultProps, Props, any> {\n  props: Props;\n\n  static defaultProps = {\n\n    renderTitleComponent: (props: SubViewProps) => {\n      const title = String(props.scene.route.title || '');\n      return <NavigationHeaderTitle>{title}</NavigationHeaderTitle>;\n    },\n\n    renderLeftComponent: (props: SubViewProps) => {\n      if (props.scene.index === 0 || !props.onNavigateBack) {\n        return null;\n      }\n      return (\n        <NavigationHeaderBackButton\n          onPress={props.onNavigateBack}\n        />\n      );\n    },\n\n    renderRightComponent: (props: SubViewProps) => {\n      return null;\n    },\n\n    statusBarHeight: STATUSBAR_HEIGHT,\n  };\n\n  static propTypes = {\n    ...NavigationPropTypes.SceneRendererProps,\n    onNavigateBack: PropTypes.func,\n    renderLeftComponent: PropTypes.func,\n    renderRightComponent: PropTypes.func,\n    renderTitleComponent: PropTypes.func,\n    style: View.propTypes.style,\n    statusBarHeight: PropTypes.number,\n    viewProps: PropTypes.shape(View.propTypes),\n  };\n\n  _tvEventHandler: TVEventHandler;\n\n  componentDidMount(): void {\n    this._tvEventHandler = new TVEventHandler();\n    this._tvEventHandler.enable(this, function(cmp, evt) {\n      if (evt && evt.eventType === 'menu') {\n        cmp.props.onNavigateBack && cmp.props.onNavigateBack();\n      }\n    });\n  }\n\n  componentWillUnmount(): void {\n    if (this._tvEventHandler) {\n      this._tvEventHandler.disable();\n      delete this._tvEventHandler;\n    }\n  }\n\n  render(): React.Element<any> {\n    const { scenes, style, viewProps } = this.props;\n\n    const scenesProps = scenes.map(scene => {\n      const props = NavigationPropTypes.extractSceneRendererProps(this.props);\n      props.scene = scene;\n      return props;\n    });\n\n    const barHeight = (this.props.statusBarHeight instanceof Animated.Value)\n      ? Animated.add(this.props.statusBarHeight, new Animated.Value(APPBAR_HEIGHT))\n      : APPBAR_HEIGHT + this.props.statusBarHeight;\n\n    return (\n      <Animated.View style={[\n          styles.appbar,\n          { height: barHeight },\n          style\n        ]}\n        {...viewProps}\n      >\n        {scenesProps.map(this._renderLeft, this)}\n        {scenesProps.map(this._renderTitle, this)}\n        {scenesProps.map(this._renderRight, this)}\n      </Animated.View>\n    );\n  }\n\n  _renderLeft = (props: NavigationSceneRendererProps): ?React.Element<any> => {\n    return this._renderSubView(\n      props,\n      'left',\n      this.props.renderLeftComponent,\n      NavigationHeaderStyleInterpolator.forLeft,\n    );\n  };\n\n  _renderTitle = (props: NavigationSceneRendererProps): ?React.Element<any> => {\n    return this._renderSubView(\n      props,\n      'title',\n      this.props.renderTitleComponent,\n      NavigationHeaderStyleInterpolator.forCenter,\n    );\n  };\n\n  _renderRight = (props: NavigationSceneRendererProps): ?React.Element<any> => {\n    return this._renderSubView(\n      props,\n      'right',\n      this.props.renderRightComponent,\n      NavigationHeaderStyleInterpolator.forRight,\n    );\n  };\n\n  _renderSubView(\n    props: NavigationSceneRendererProps,\n    name: SubViewName,\n    renderer: SubViewRenderer,\n    styleInterpolator: NavigationStyleInterpolator,\n  ): ?React.Element<any> {\n    const {\n      scene,\n      navigationState,\n    } = props;\n\n    const {\n      index,\n      isStale,\n      key,\n    } = scene;\n\n    const offset = navigationState.index - index;\n\n    if (Math.abs(offset) > 2) {\n      // Scene is far away from the active scene. Hides it to avoid unnecessary\n      // rendering.\n      return null;\n    }\n\n    const subViewProps = {...props, onNavigateBack: this.props.onNavigateBack};\n    const subView = renderer(subViewProps);\n    if (subView === null) {\n      return null;\n    }\n\n    const pointerEvents = offset !== 0 || isStale ? 'none' : 'box-none';\n    return (\n      <Animated.View\n        pointerEvents={pointerEvents}\n        key={name + '_' + key}\n        style={[\n          styles[name],\n          { marginTop: this.props.statusBarHeight },\n          styleInterpolator(props),\n        ]}>\n        {subView}\n      </Animated.View>\n    );\n  }\n\n  static HEIGHT = APPBAR_HEIGHT + STATUSBAR_HEIGHT;\n  static Title = NavigationHeaderTitle;\n  static BackButton = NavigationHeaderBackButton;\n\n}\n\nconst styles = StyleSheet.create({\n  appbar: {\n    alignItems: 'center',\n    backgroundColor: Platform.OS === 'ios' ? '#EFEFF2' : '#FFF',\n    borderBottomColor: 'rgba(0, 0, 0, .15)',\n    borderBottomWidth: Platform.OS === 'ios' ? StyleSheet.hairlineWidth : 0,\n    elevation: 4,\n    flexDirection: 'row',\n    justifyContent: 'flex-start',\n  },\n\n  title: {\n    bottom: 0,\n    left: APPBAR_HEIGHT,\n    position: 'absolute',\n    right: APPBAR_HEIGHT,\n    top: 0,\n  },\n\n  left: {\n    bottom: 0,\n    left: 0,\n    position: 'absolute',\n    top: 0,\n  },\n\n  right: {\n    bottom: 0,\n    position: 'absolute',\n    right: 0,\n    top: 0,\n  },\n});\n\nmodule.exports = NavigationHeader;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * The examples provided by Facebook are for non-commercial testing and\n * evaluation purposes only.\n *\n * Facebook reserves all rights not expressly granted.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n * OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NON INFRINGEMENT. IN NO EVENT SHALL\n * FACEBOOK BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN\n * AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN\n * CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n *\n * @providesModule NavigationHeaderBackButton\n * @flow\n*/\n'use strict';\n\nconst React = require('react');\nconst ReactNative = require('react-native');\n\nconst {\n  I18nManager,\n  Image,\n  Platform,\n  StyleSheet,\n  TouchableOpacity,\n} = ReactNative;\n\ntype Props = {\n  imageStyle?: any,\n  onPress: Function,\n  style?: any,\n};\n\nconst NavigationHeaderBackButton = (props: Props) => (\n  <TouchableOpacity style={[styles.buttonContainer, props.style]} onPress={props.onPress}>\n    <Image style={[styles.button, props.imageStyle]} source={require('./assets/back-icon.png')} />\n  </TouchableOpacity>\n);\n\nNavigationHeaderBackButton.propTypes = {\n  onPress: React.PropTypes.func.isRequired\n};\n\nconst styles = StyleSheet.create({\n  buttonContainer: {\n    flex: 1,\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  button: {\n    height: 24,\n    width: 24,\n    margin: Platform.OS === 'ios' ? 10 : 16,\n    resizeMode: 'contain',\n    transform: [{scaleX: I18nManager.isRTL ? -1 : 1}],\n  }\n});\n\nmodule.exports = NavigationHeaderBackButton;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * Facebook, Inc. (\"Facebook\") owns all right, title and interest, including\n * all intellectual property and other proprietary rights, in and to the React\n * Native CustomComponents software (the \"Software\").  Subject to your\n * compliance with these terms, you are hereby granted a non-exclusive,\n * worldwide, royalty-free copyright license to (1) use and copy the Software;\n * and (2) reproduce and distribute the Software as part of your own software\n * (\"Your Software\").  Facebook reserves all rights not expressly granted to\n * you in this license agreement.\n *\n * THE SOFTWARE AND DOCUMENTATION, IF ANY, ARE PROVIDED \"AS IS\" AND ANY EXPRESS\n * OR IMPLIED WARRANTIES (INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES\n * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE) ARE DISCLAIMED.\n * IN NO EVENT SHALL FACEBOOK OR ITS AFFILIATES, OFFICERS, DIRECTORS OR\n * EMPLOYEES BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,\n * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,\n * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;\n * OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,\n * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR\n * OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THE SOFTWARE, EVEN IF\n * ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @providesModule NavigationHeaderStyleInterpolator\n * @flow\n */\n'use strict';\n\nconst I18nManager = require('I18nManager');\n\nimport type  {\n  NavigationSceneRendererProps,\n} from 'NavigationTypeDefinition';\n\n/**\n * Utility that builds the style for the navigation header.\n *\n * +-------------+-------------+-------------+\n * |             |             |             |\n * |    Left     |   Title     |   Right     |\n * |  Component  |  Component  | Component   |\n * |             |             |             |\n * +-------------+-------------+-------------+\n */\n\nfunction forLeft(props: NavigationSceneRendererProps): Object {\n  const {position, scene} = props;\n  const {index} = scene;\n  return {\n    opacity: position.interpolate({\n      inputRange: [ index - 1, index, index + 1 ],\n      outputRange: ([ 0, 1, 0 ]: Array<number>),\n    }),\n  };\n}\n\nfunction forCenter(props: NavigationSceneRendererProps): Object {\n  const {position, scene} = props;\n  const {index} = scene;\n  return {\n    opacity:position.interpolate({\n      inputRange: [ index - 1, index, index + 1 ],\n      outputRange: ([ 0, 1, 0 ]: Array<number>),\n    }),\n    transform: [\n      {\n        translateX: position.interpolate({\n          inputRange: [ index - 1, index + 1 ],\n          outputRange: I18nManager.isRTL ?\n            ([ -200, 200 ]: Array<number>) :\n            ([ 200, -200 ]: Array<number>),\n        }),\n      }\n    ],\n  };\n}\n\nfunction forRight(props: NavigationSceneRendererProps): Object {\n  const {position, scene} = props;\n  const {index} = scene;\n  return {\n    opacity: position.interpolate({\n      inputRange: [ index - 1, index, index + 1 ],\n      outputRange: ([ 0, 1, 0 ]: Array<number>),\n    }),\n  };\n}\n\nmodule.exports = {\n  forCenter,\n  forLeft,\n  forRight,\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * Facebook, Inc. (\"Facebook\") owns all right, title and interest, including\n * all intellectual property and other proprietary rights, in and to the React\n * Native CustomComponents software (the \"Software\").  Subject to your\n * compliance with these terms, you are hereby granted a non-exclusive,\n * worldwide, royalty-free copyright license to (1) use and copy the Software;\n * and (2) reproduce and distribute the Software as part of your own software\n * (\"Your Software\").  Facebook reserves all rights not expressly granted to\n * you in this license agreement.\n *\n * THE SOFTWARE AND DOCUMENTATION, IF ANY, ARE PROVIDED \"AS IS\" AND ANY EXPRESS\n * OR IMPLIED WARRANTIES (INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES\n * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE) ARE DISCLAIMED.\n * IN NO EVENT SHALL FACEBOOK OR ITS AFFILIATES, OFFICERS, DIRECTORS OR\n * EMPLOYEES BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,\n * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,\n * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;\n * OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,\n * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR\n * OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THE SOFTWARE, EVEN IF\n * ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @providesModule NavigationHeaderTitle\n * @flow\n */\n'use strict';\n\nconst React = require('react');\nconst ReactNative = require('react-native');\n\nconst {\n  Platform,\n  StyleSheet,\n  View,\n  Text,\n} = ReactNative;\n\ntype Props = {\n  children?: React.Element<any>,\n  style?: any,\n  textStyle?: any,\n  viewProps?: any,\n}\n\nconst NavigationHeaderTitle = ({ children, style, textStyle, viewProps }: Props) => (\n  <View style={[ styles.title, style ]} {...viewProps}>\n    <Text style={[ styles.titleText, textStyle ]}>{children}</Text>\n  </View>\n);\n\nconst styles = StyleSheet.create({\n  title: {\n    flex: 1,\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginHorizontal: 16\n  },\n\n  titleText: {\n    flex: 1,\n    fontSize: 18,\n    fontWeight: '500',\n    color: 'rgba(0, 0, 0, .9)',\n    textAlign: Platform.OS === 'ios' ? 'center' : 'left'\n  }\n});\n\nNavigationHeaderTitle.propTypes = {\n  children: React.PropTypes.node.isRequired,\n  style: View.propTypes.style,\n  textStyle: Text.propTypes.style\n};\n\nmodule.exports = NavigationHeaderTitle;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule NavigationStateUtils\n * @flow\n */\n'use strict';\n\nconst invariant = require('fbjs/lib/invariant');\n\nimport type {\n  NavigationRoute,\n  NavigationState\n} from 'NavigationTypeDefinition';\n\n/**\n * Utilities to perform atomic operation with navigate state and routes.\n *\n * ```javascript\n * const state1 = {key: 'page 1'};\n * const state2 = NavigationStateUtils.push(state1, {key: 'page 2'});\n * ```\n */\nconst NavigationStateUtils = {\n\n  /**\n   * Gets a route by key. If the route isn't found, returns `null`.\n   */\n  get(state: NavigationState, key: string): ?NavigationRoute {\n    return state.routes.find(route => route.key === key) || null;\n  },\n\n  /**\n   * Returns the first index at which a given route's key can be found in the\n   * routes of the navigation state, or -1 if it is not present.\n   */\n  indexOf(state: NavigationState, key: string): number {\n    return state.routes.map(route => route.key).indexOf(key);\n  },\n\n  /**\n   * Returns `true` at which a given route's key can be found in the\n   * routes of the navigation state.\n   */\n  has(state: NavigationState, key: string): boolean {\n    return !!state.routes.some(route => route.key === key);\n  },\n\n  /**\n   * Pushes a new route into the navigation state.\n   * Note that this moves the index to the positon to where the last route in the\n   * stack is at.\n   */\n  push(state: NavigationState, route: NavigationRoute): NavigationState {\n    invariant(\n      NavigationStateUtils.indexOf(state, route.key) === -1,\n      'should not push route with duplicated key %s',\n      route.key,\n    );\n\n    const routes = state.routes.slice();\n    routes.push(route);\n\n    return {\n      ...state,\n      index: routes.length - 1,\n      routes,\n    };\n  },\n\n  /**\n   * Pops out a route from the navigation state.\n   * Note that this moves the index to the positon to where the last route in the\n   * stack is at.\n   */\n  pop(state: NavigationState): NavigationState {\n    if (state.index <= 0) {\n      // [Note]: Over-popping does not throw error. Instead, it will be no-op.\n      return state;\n    }\n    const routes = state.routes.slice(0, -1);\n    return {\n      ...state,\n      index: routes.length - 1,\n      routes,\n    };\n  },\n\n  /**\n   * Sets the focused route of the navigation state by index.\n   */\n  jumpToIndex(state: NavigationState, index: number): NavigationState {\n    if (index === state.index) {\n      return state;\n    }\n\n    invariant(!!state.routes[index], 'invalid index %s to jump to', index);\n\n    return {\n      ...state,\n      index,\n    };\n  },\n\n  /**\n   * Sets the focused route of the navigation state by key.\n   */\n  jumpTo(state: NavigationState, key: string): NavigationState {\n    const index = NavigationStateUtils.indexOf(state, key);\n    return NavigationStateUtils.jumpToIndex(state, index);\n  },\n\n  /**\n   * Sets the focused route to the previous route.\n   */\n  back(state: NavigationState): NavigationState {\n    const index = state.index - 1;\n    const route = state.routes[index];\n    return route ? NavigationStateUtils.jumpToIndex(state, index) : state;\n  },\n\n  /**\n   * Sets the focused route to the next route.\n   */\n  forward(state: NavigationState): NavigationState {\n    const index = state.index + 1;\n    const route = state.routes[index];\n    return route ? NavigationStateUtils.jumpToIndex(state, index) : state;\n  },\n\n  /**\n   * Replace a route by a key.\n   * Note that this moves the index to the positon to where the new route in the\n   * stack is at.\n   */\n  replaceAt(\n    state: NavigationState,\n    key: string,\n    route: NavigationRoute,\n  ): NavigationState {\n    const index = NavigationStateUtils.indexOf(state, key);\n    return NavigationStateUtils.replaceAtIndex(state, index, route);\n  },\n\n  /**\n   * Replace a route by a index.\n   * Note that this moves the index to the positon to where the new route in the\n   * stack is at.\n   */\n  replaceAtIndex(\n    state: NavigationState,\n    index: number,\n    route: NavigationRoute,\n  ): NavigationState {\n    invariant(\n      !!state.routes[index],\n      'invalid index %s for replacing route %s',\n      index,\n      route.key,\n    );\n\n    if (state.routes[index] === route) {\n      return state;\n    }\n\n    const routes = state.routes.slice();\n    routes[index] = route;\n\n    return {\n      ...state,\n      index,\n      routes,\n    };\n  },\n\n  /**\n   * Resets all routes.\n   * Note that this moves the index to the positon to where the last route in the\n   * stack is at if the param `index` isn't provided.\n   */\n  reset(\n    state: NavigationState,\n    routes: Array<NavigationRoute>,\n    index?: number,\n  ): NavigationState {\n    invariant(\n      routes.length && Array.isArray(routes),\n      'invalid routes to replace',\n    );\n\n    const nextIndex: number = index === undefined ? routes.length - 1 : index;\n\n    if (state.routes.length === routes.length && state.index === nextIndex) {\n      const compare = (route, ii) => routes[ii] === route;\n      if (state.routes.every(compare)) {\n        return state;\n      }\n    }\n\n    invariant(!!routes[nextIndex], 'invalid index %s to reset', nextIndex);\n\n    return {\n      ...state,\n      index: nextIndex,\n      routes,\n    };\n  },\n};\n\nmodule.exports = NavigationStateUtils;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule NetInfo\n * @flow\n */\n'use strict';\n\nconst Map = require('Map');\nconst NativeEventEmitter = require('NativeEventEmitter');\nconst NativeModules = require('NativeModules');\nconst Platform = require('Platform');\nconst RCTNetInfo = NativeModules.NetInfo;\n\nconst NetInfoEventEmitter = new NativeEventEmitter(RCTNetInfo);\n\nconst DEVICE_CONNECTIVITY_EVENT = 'networkStatusDidChange';\n\ntype ChangeEventName = $Enum<{\n  change: string,\n}>;\n\ntype ReachabilityStateIOS = $Enum<{\n  cell: string,\n  none: string,\n  unknown: string,\n  wifi: string,\n}>;\n\ntype ConnectivityStateAndroid = $Enum<{\n  NONE: string,\n  MOBILE: string,\n  WIFI: string,\n  MOBILE_MMS: string,\n  MOBILE_SUPL: string,\n  MOBILE_DUN: string,\n  MOBILE_HIPRI: string,\n  WIMAX: string,\n  BLUETOOTH: string,\n  DUMMY: string,\n  ETHERNET: string,\n  MOBILE_FOTA: string,\n  MOBILE_IMS: string,\n  MOBILE_CBS: string,\n  WIFI_P2P: string,\n  MOBILE_IA: string,\n  MOBILE_EMERGENCY: string,\n  PROXY: string,\n  VPN: string,\n  UNKNOWN: string,\n}>;\n\n\nconst _subscriptions = new Map();\n\nlet _isConnected;\nif (Platform.OS === 'ios') {\n  _isConnected = function(\n    reachability: ReachabilityStateIOS,\n  ): bool {\n    return reachability !== 'none' && reachability !== 'unknown';\n  };\n} else if (Platform.OS === 'android') {\n  _isConnected = function(\n      connectionType: ConnectivityStateAndroid,\n    ): bool {\n    return connectionType !== 'NONE' && connectionType !== 'UNKNOWN';\n  };\n}\n\nconst _isConnectedSubscriptions = new Map();\n\n/**\n * NetInfo exposes info about online/offline status\n *\n * ```\n * NetInfo.fetch().done((reach) => {\n *   console.log('Initial: ' + reach);\n * });\n * function handleFirstConnectivityChange(reach) {\n *   console.log('First change: ' + reach);\n *   NetInfo.removeEventListener(\n *     'change',\n *     handleFirstConnectivityChange\n *   );\n * }\n * NetInfo.addEventListener(\n *   'change',\n *   handleFirstConnectivityChange\n * );\n * ```\n *\n * ### IOS\n *\n * Asynchronously determine if the device is online and on a cellular network.\n *\n * - `none` - device is offline\n * - `wifi` - device is online and connected via wifi, or is the iOS simulator\n * - `cell` - device is connected via Edge, 3G, WiMax, or LTE\n * - `unknown` - error case and the network status is unknown\n *\n * ### Android\n *\n * To request network info, you need to add the following line to your\n * app's `AndroidManifest.xml`:\n *\n * `<uses-permission android:name=\"android.permission.ACCESS_NETWORK_STATE\" />`\n * Asynchronously determine if the device is connected and details about that connection.\n *\n * Android Connectivity Types.\n *\n * - `NONE` - device is offline\n * - `BLUETOOTH` - The Bluetooth data connection.\n * - `DUMMY` -  Dummy data connection.\n * - `ETHERNET` - The Ethernet data connection.\n * - `MOBILE` - The Mobile data connection.\n * - `MOBILE_DUN` - A DUN-specific Mobile data connection.\n * - `MOBILE_HIPRI` - A High Priority Mobile data connection.\n * - `MOBILE_MMS` - An MMS-specific Mobile data connection.\n * - `MOBILE_SUPL` -  A SUPL-specific Mobile data connection.\n * - `VPN` -  A virtual network using one or more native bearers. Requires API Level 21\n * - `WIFI` - The WIFI data connection.\n * - `WIMAX` -  The WiMAX data connection.\n * - `UNKNOWN` - Unknown data connection.\n *\n * The rest ConnectivityStates are hidden by the Android API, but can be used if necessary.\n *\n * ### isConnectionExpensive\n *\n * Available on Android. Detect if the current active connection is metered or not. A network is\n * classified as metered when the user is sensitive to heavy data usage on that connection due to\n * monetary costs, data limitations or battery/performance issues.\n *\n * ```\n * NetInfo.isConnectionExpensive()\n * .then(isConnectionExpensive => {\n *   console.log('Connection is ' + (isConnectionExpensive ? 'Expensive' : 'Not Expensive'));\n * })\n * .catch(error => {\n *   console.error(error);\n * });\n * ```\n *\n * ### isConnected\n *\n * Available on all platforms. Asynchronously fetch a boolean to determine\n * internet connectivity.\n *\n * ```\n * NetInfo.isConnected.fetch().then(isConnected => {\n *   console.log('First, is ' + (isConnected ? 'online' : 'offline'));\n * });\n * function handleFirstConnectivityChange(isConnected) {\n *   console.log('Then, is ' + (isConnected ? 'online' : 'offline'));\n *   NetInfo.isConnected.removeEventListener(\n *     'change',\n *     handleFirstConnectivityChange\n *   );\n * }\n * NetInfo.isConnected.addEventListener(\n *   'change',\n *   handleFirstConnectivityChange\n * );\n * ```\n */\nconst NetInfo = {\n  /**\n   * Invokes the listener whenever network status changes.\n   * The listener receives one of the connectivity types listed above.\n   */\n  addEventListener(\n    eventName: ChangeEventName,\n    handler: Function\n  ): {remove: () => void} {\n    const listener = NetInfoEventEmitter.addListener(\n      DEVICE_CONNECTIVITY_EVENT,\n      (appStateData) => {\n        handler(appStateData.network_info);\n      }\n    );\n    _subscriptions.set(handler, listener);\n    return {\n      remove: () => NetInfo.removeEventListener(eventName, handler)\n    };\n  },\n\n  /**\n   * Removes the listener for network status changes.\n   */\n  removeEventListener(\n    eventName: ChangeEventName,\n    handler: Function\n  ): void {\n    const listener = _subscriptions.get(handler);\n    if (!listener) {\n      return;\n    }\n    listener.remove();\n    _subscriptions.delete(handler);\n  },\n\n  /**\n   * Returns a promise that resolves with one of the connectivity types listed\n   * above.\n   */\n  fetch(): Promise<any> {\n    return RCTNetInfo.getCurrentConnectivity().then(resp => resp.network_info);\n  },\n\n  /**\n   * An object with the same methods as above but the listener receives a\n   * boolean which represents the internet connectivity.\n   * Use this if you are only interested with whether the device has internet\n   * connectivity.\n   */\n  isConnected: {\n    addEventListener(\n      eventName: ChangeEventName,\n      handler: Function\n    ): {remove: () => void} {\n      const listener = (connection) => {\n        handler(_isConnected(connection));\n      };\n      _isConnectedSubscriptions.set(handler, listener);\n      NetInfo.addEventListener(\n        eventName,\n        listener\n      );\n      return {\n        remove: () => NetInfo.isConnected.removeEventListener(eventName, handler)\n      };\n    },\n\n    removeEventListener(\n      eventName: ChangeEventName,\n      handler: Function\n    ): void {\n      const listener = _isConnectedSubscriptions.get(handler);\n      NetInfo.removeEventListener(\n        eventName,\n        /* $FlowFixMe(>=0.36.0 site=react_native_fb,react_native_oss) Flow error\n         * detected during the deploy of Flow v0.36.0. To see the error, remove\n         * this comment and run Flow */\n        listener\n      );\n      _isConnectedSubscriptions.delete(handler);\n    },\n\n    fetch(): Promise<any> {\n      return NetInfo.fetch().then(\n        (connection) => _isConnected(connection)\n      );\n    },\n  },\n\n  isConnectionExpensive(): Promise<boolean> {\n    return (\n      Platform.OS === 'android' ? RCTNetInfo.isConnectionMetered() : Promise.reject(new Error('Currently not supported on iOS'))\n    );\n  },\n};\n\nmodule.exports = NetInfo;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule PermissionsAndroid\n * @flow\n */\n'use strict';\n\nconst NativeModules = require('NativeModules');\n\ntype Rationale = {\n  title: string,\n  message: string,\n}\n\ntype PermissionStatus = 'granted' | 'denied' | 'never_ask_again';\n\n/**\n * `PermissionsAndroid` provides access to Android M's new permissions model.\n * Some permissions are granted by default when the application is installed\n * so long as they appear in `AndroidManifest.xml`. However, \"dangerous\"\n * permissions require a dialog prompt. You should use this module for those\n * permissions.\n *\n * On devices before SDK version 23, the permissions are automatically granted\n * if they appear in the manifest, so `check` and `request`\n * should always be true.\n *\n * If a user has previously turned off a permission that you prompt for, the OS\n * will advise your app to show a rationale for needing the permission. The\n * optional `rationale` argument will show a dialog prompt only if\n * necessary - otherwise the normal permission prompt will appear.\n *\n * ### Example\n * ```\n * async function requestCameraPermission() {\n *   try {\n *     const granted = await PermissionsAndroid.request(\n *       PermissionsAndroid.PERMISSIONS.CAMERA,\n *       {\n *         'title': 'Cool Photo App Camera Permission',\n *         'message': 'Cool Photo App needs access to your camera ' +\n *                    'so you can take awesome pictures.'\n *       }\n *     )\n *     if (granted === PermissionsAndroid.RESULTS.GRANTED) {\n *       console.log(\"You can use the camera\")\n *     } else {\n *       console.log(\"Camera permission denied\")\n *     }\n *   } catch (err) {\n *     console.warn(err)\n *   }\n * }\n * ```\n */\n\nclass PermissionsAndroid {\n  PERMISSIONS: Object;\n  RESULTS: Object;\n\n  constructor() {\n    /**\n     * A list of specified \"dangerous\" permissions that require prompting the user\n     */\n    this.PERMISSIONS = {\n      READ_CALENDAR: 'android.permission.READ_CALENDAR',\n      WRITE_CALENDAR: 'android.permission.WRITE_CALENDAR',\n      CAMERA: 'android.permission.CAMERA',\n      READ_CONTACTS: 'android.permission.READ_CONTACTS',\n      WRITE_CONTACTS: 'android.permission.WRITE_CONTACTS',\n      GET_ACCOUNTS:  'android.permission.GET_ACCOUNTS',\n      ACCESS_FINE_LOCATION: 'android.permission.ACCESS_FINE_LOCATION',\n      ACCESS_COARSE_LOCATION: 'android.permission.ACCESS_COARSE_LOCATION',\n      RECORD_AUDIO: 'android.permission.RECORD_AUDIO',\n      READ_PHONE_STATE: 'android.permission.READ_PHONE_STATE',\n      CALL_PHONE: 'android.permission.CALL_PHONE',\n      READ_CALL_LOG: 'android.permission.READ_CALL_LOG',\n      WRITE_CALL_LOG: 'android.permission.WRITE_CALL_LOG',\n      ADD_VOICEMAIL: 'com.android.voicemail.permission.ADD_VOICEMAIL',\n      USE_SIP: 'android.permission.USE_SIP',\n      PROCESS_OUTGOING_CALLS: 'android.permission.PROCESS_OUTGOING_CALLS',\n      BODY_SENSORS:  'android.permission.BODY_SENSORS',\n      SEND_SMS: 'android.permission.SEND_SMS',\n      RECEIVE_SMS: 'android.permission.RECEIVE_SMS',\n      READ_SMS: 'android.permission.READ_SMS',\n      RECEIVE_WAP_PUSH: 'android.permission.RECEIVE_WAP_PUSH',\n      RECEIVE_MMS: 'android.permission.RECEIVE_MMS',\n      READ_EXTERNAL_STORAGE: 'android.permission.READ_EXTERNAL_STORAGE',\n      WRITE_EXTERNAL_STORAGE: 'android.permission.WRITE_EXTERNAL_STORAGE',\n    };\n\n    this.RESULTS = {\n      GRANTED: 'granted',\n      DENIED: 'denied',\n      NEVER_ASK_AGAIN: 'never_ask_again',\n    };\n  }\n\n  /**\n   * DEPRECATED - use check\n   *\n   * Returns a promise resolving to a boolean value as to whether the specified\n   * permissions has been granted\n   *\n   * @deprecated\n   */\n  checkPermission(permission: string) : Promise<boolean> {\n    console.warn('\"PermissionsAndroid.checkPermission\" is deprecated. Use \"PermissionsAndroid.check\" instead');\n    return NativeModules.PermissionsAndroid.checkPermission(permission);\n  }\n\n  /**\n   * Returns a promise resolving to a boolean value as to whether the specified\n   * permissions has been granted\n   */\n  check(permission: string) : Promise<boolean> {\n    return NativeModules.PermissionsAndroid.checkPermission(permission);\n  }\n\n  /**\n   * DEPRECATED - use request\n   *\n   * Prompts the user to enable a permission and returns a promise resolving to a\n   * boolean value indicating whether the user allowed or denied the request\n   *\n   * If the optional rationale argument is included (which is an object with a\n   * `title` and `message`), this function checks with the OS whether it is\n   * necessary to show a dialog explaining why the permission is needed\n   * (https://developer.android.com/training/permissions/requesting.html#explain)\n   * and then shows the system permission dialog\n   *\n   * @deprecated\n   */\n  async requestPermission(permission: string, rationale?: Rationale) : Promise<boolean> {\n    console.warn('\"PermissionsAndroid.requestPermission\" is deprecated. Use \"PermissionsAndroid.request\" instead');\n    const response = await this.request(permission, rationale);\n    return (response === this.RESULTS.GRANTED);\n  }\n\n  /**\n   * Prompts the user to enable a permission and returns a promise resolving to a\n   * string value indicating whether the user allowed or denied the request\n   *\n   * If the optional rationale argument is included (which is an object with a\n   * `title` and `message`), this function checks with the OS whether it is\n   * necessary to show a dialog explaining why the permission is needed\n   * (https://developer.android.com/training/permissions/requesting.html#explain)\n   * and then shows the system permission dialog\n   */\n  async request(permission: string, rationale?: Rationale) : Promise<PermissionStatus> {\n    if (rationale) {\n      const shouldShowRationale = await NativeModules.PermissionsAndroid.shouldShowRequestPermissionRationale(permission);\n\n      if (shouldShowRationale) {\n        return new Promise((resolve, reject) => {\n          NativeModules.DialogManagerAndroid.showAlert(\n            rationale,\n            () => reject(new Error('Error showing rationale')),\n            () => resolve(NativeModules.PermissionsAndroid.requestPermission(permission))\n          );\n        });\n      }\n    }\n    return NativeModules.PermissionsAndroid.requestPermission(permission);\n  }\n\n  /**\n   * Prompts the user to enable multiple permissions in the same dialog and\n   * returns an object with the permissions as keys and strings as values\n   * indicating whether the user allowed or denied the request\n   */\n  requestMultiple(permissions: Array<string>) : Promise<{[permission: string]: PermissionStatus}> {\n    return NativeModules.PermissionsAndroid.requestMultiplePermissions(permissions);\n  }\n}\n\nPermissionsAndroid = new PermissionsAndroid();\n\nmodule.exports = PermissionsAndroid;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule PushNotificationIOS\n * @flow\n */\n'use strict';\n\nconst NativeEventEmitter = require('NativeEventEmitter');\nconst RCTPushNotificationManager = require('NativeModules').PushNotificationManager;\nconst invariant = require('fbjs/lib/invariant');\n\nconst PushNotificationEmitter = new NativeEventEmitter(RCTPushNotificationManager);\n\nconst _notifHandlers = new Map();\n\nconst DEVICE_NOTIF_EVENT = 'remoteNotificationReceived';\nconst NOTIF_REGISTER_EVENT = 'remoteNotificationsRegistered';\nconst NOTIF_REGISTRATION_ERROR_EVENT = 'remoteNotificationRegistrationError';\nconst DEVICE_LOCAL_NOTIF_EVENT = 'localNotificationReceived';\n\nexport type FetchResult = {\n  NewData: string,\n  NoData: string,\n  ResultFailed: string,\n};\n\n/**\n * An event emitted by PushNotificationIOS.\n */\nexport type PushNotificationEventName = $Enum<{\n  /**\n   * Fired when a remote notification is received. The handler will be invoked\n   * with an instance of `PushNotificationIOS`.\n   */\n  notification: string,\n  /**\n   * Fired when a local notification is received. The handler will be invoked\n   * with an instance of `PushNotificationIOS`.\n   */\n  localNotification: string,\n  /**\n   * Fired when the user registers for remote notifications. The handler will be\n   * invoked with a hex string representing the deviceToken.\n   */\n  register: string,\n  /**\n   * Fired when the user fails to register for remote notifications. Typically\n   * occurs when APNS is having issues, or the device is a simulator. The\n   * handler will be invoked with {message: string, code: number, details: any}.\n   */\n  registrationError: string,\n}>;\n\n/**\n * Handle push notifications for your app, including permission handling and\n * icon badge number.\n *\n * To get up and running, [configure your notifications with Apple](https://developer.apple.com/library/ios/documentation/IDEs/Conceptual/AppDistributionGuide/AddingCapabilities/AddingCapabilities.html#//apple_ref/doc/uid/TP40012582-CH26-SW6)\n * and your server-side system. To get an idea, [this is the Parse guide](https://parse.com/tutorials/ios-push-notifications).\n *\n * [Manually link](docs/linking-libraries-ios.html#manual-linking) the PushNotificationIOS library\n *\n * - Add the following to your Project: `node_modules/react-native/Libraries/PushNotificationIOS/RCTPushNotification.xcodeproj`\n * - Add the following to `Link Binary With Libraries`: `libRCTPushNotification.a`\n * - Add the following to your `Header Search Paths`:\n * `$(SRCROOT)/../node_modules/react-native/Libraries/PushNotificationIOS` and set the search to `recursive`\n *\n * Finally, to enable support for `notification` and `register` events you need to augment your AppDelegate.\n *\n * At the top of your `AppDelegate.m`:\n *\n *   `#import \"RCTPushNotificationManager.h\"`\n *\n * And then in your AppDelegate implementation add the following:\n *\n *   ```\n *    // Required to register for notifications\n *    - (void)application:(UIApplication *)application didRegisterUserNotificationSettings:(UIUserNotificationSettings *)notificationSettings\n *    {\n *     [RCTPushNotificationManager didRegisterUserNotificationSettings:notificationSettings];\n *    }\n *    // Required for the register event.\n *    - (void)application:(UIApplication *)application didRegisterForRemoteNotificationsWithDeviceToken:(NSData *)deviceToken\n *    {\n *     [RCTPushNotificationManager didRegisterForRemoteNotificationsWithDeviceToken:deviceToken];\n *    }\n *    // Required for the notification event. You must call the completion handler after handling the remote notification.\n *    - (void)application:(UIApplication *)application didReceiveRemoteNotification:(NSDictionary *)userInfo\n *                                                           fetchCompletionHandler:(void (^)(UIBackgroundFetchResult))completionHandler\n *    {\n *      [RCTPushNotificationManager didReceiveRemoteNotification:userInfo fetchCompletionHandler:completionHandler];\n *    }\n *    // Required for the registrationError event.\n *    - (void)application:(UIApplication *)application didFailToRegisterForRemoteNotificationsWithError:(NSError *)error\n *    {\n *     [RCTPushNotificationManager didFailToRegisterForRemoteNotificationsWithError:error];\n *    }\n *    // Required for the localNotification event.\n *    - (void)application:(UIApplication *)application didReceiveLocalNotification:(UILocalNotification *)notification\n *    {\n *     [RCTPushNotificationManager didReceiveLocalNotification:notification];\n *    }\n *   ```\n */\nclass PushNotificationIOS {\n  _data: Object;\n  _alert: string | Object;\n  _sound: string;\n  _badgeCount: number;\n  _notificationId: string;\n  _isRemote: boolean;\n  _remoteNotificationCompleteCalllbackCalled: boolean;\n\n  static FetchResult: FetchResult = {\n    NewData: 'UIBackgroundFetchResultNewData',\n    NoData: 'UIBackgroundFetchResultNoData',\n    ResultFailed: 'UIBackgroundFetchResultFailed',\n  };\n\n  /**\n   * Schedules the localNotification for immediate presentation.\n   *\n   * details is an object containing:\n   *\n   * - `alertBody` : The message displayed in the notification alert.\n   * - `alertAction` : The \"action\" displayed beneath an actionable notification. Defaults to \"view\";\n   * - `soundName` : The sound played when the notification is fired (optional).\n   * - `category`  : The category of this notification, required for actionable notifications (optional).\n   * - `userInfo`  : An optional object containing additional notification data.\n   * - `applicationIconBadgeNumber` (optional) : The number to display as the app's icon badge. The default value of this property is 0, which means that no badge is displayed.\n   */\n  static presentLocalNotification(details: Object) {\n    RCTPushNotificationManager.presentLocalNotification(details);\n  }\n\n  /**\n   * Schedules the localNotification for future presentation.\n   *\n   * details is an object containing:\n   *\n   * - `fireDate` : The date and time when the system should deliver the notification.\n   * - `alertBody` : The message displayed in the notification alert.\n   * - `alertAction` : The \"action\" displayed beneath an actionable notification. Defaults to \"view\";\n   * - `soundName` : The sound played when the notification is fired (optional).\n   * - `category`  : The category of this notification, required for actionable notifications (optional).\n   * - `userInfo` : An optional object containing additional notification data.\n   * - `applicationIconBadgeNumber` (optional) : The number to display as the app's icon badge. Setting the number to 0 removes the icon badge.\n   * - `repeatInterval` : The interval to repeat as a string.  Possible values: `minute`, `hour`, `day`, `week`, `month`, `year`.\n   */\n  static scheduleLocalNotification(details: Object) {\n    RCTPushNotificationManager.scheduleLocalNotification(details);\n  }\n\n  /**\n   * Cancels all scheduled localNotifications\n   */\n  static cancelAllLocalNotifications() {\n    RCTPushNotificationManager.cancelAllLocalNotifications();\n  }\n\n  /**\n   * Sets the badge number for the app icon on the home screen\n   */\n  static setApplicationIconBadgeNumber(number: number) {\n    RCTPushNotificationManager.setApplicationIconBadgeNumber(number);\n  }\n\n  /**\n   * Gets the current badge number for the app icon on the home screen\n   */\n  static getApplicationIconBadgeNumber(callback: Function) {\n    RCTPushNotificationManager.getApplicationIconBadgeNumber(callback);\n  }\n\n  /**\n   * Cancel local notifications.\n   *\n   * Optionally restricts the set of canceled notifications to those\n   * notifications whose `userInfo` fields match the corresponding fields\n   * in the `userInfo` argument.\n   */\n  static cancelLocalNotifications(userInfo: Object) {\n    RCTPushNotificationManager.cancelLocalNotifications(userInfo);\n  }\n\n  /**\n   * Gets the local notifications that are currently scheduled.\n   */\n  static getScheduledLocalNotifications(callback: Function) {\n    RCTPushNotificationManager.getScheduledLocalNotifications(callback);\n  }\n\n  /**\n   * Attaches a listener to remote or local notification events while the app is running\n   * in the foreground or the background.\n   *\n   * Valid events are:\n   *\n   * - `notification` : Fired when a remote notification is received. The\n   *   handler will be invoked with an instance of `PushNotificationIOS`.\n   * - `localNotification` : Fired when a local notification is received. The\n   *   handler will be invoked with an instance of `PushNotificationIOS`.\n   * - `register`: Fired when the user registers for remote notifications. The\n   *   handler will be invoked with a hex string representing the deviceToken.\n   * - `registrationError`: Fired when the user fails to register for remote\n   *   notifications. Typically occurs when APNS is having issues, or the device\n   *   is a simulator. The handler will be invoked with\n   *   {message: string, code: number, details: any}.\n   */\n  static addEventListener(type: PushNotificationEventName, handler: Function) {\n    invariant(\n      type === 'notification' || type === 'register' || type === 'registrationError' || type === 'localNotification',\n      'PushNotificationIOS only supports `notification`, `register`, `registrationError`, and `localNotification` events'\n    );\n    var listener;\n    if (type === 'notification') {\n      listener =  PushNotificationEmitter.addListener(\n        DEVICE_NOTIF_EVENT,\n        (notifData) => {\n          handler(new PushNotificationIOS(notifData));\n        }\n      );\n    } else if (type === 'localNotification') {\n      listener = PushNotificationEmitter.addListener(\n        DEVICE_LOCAL_NOTIF_EVENT,\n        (notifData) => {\n          handler(new PushNotificationIOS(notifData));\n        }\n      );\n    } else if (type === 'register') {\n      listener = PushNotificationEmitter.addListener(\n        NOTIF_REGISTER_EVENT,\n        (registrationInfo) => {\n          handler(registrationInfo.deviceToken);\n        }\n      );\n    } else if (type === 'registrationError') {\n      listener = PushNotificationEmitter.addListener(\n        NOTIF_REGISTRATION_ERROR_EVENT,\n        (errorInfo) => {\n          handler(errorInfo);\n        }\n      );\n    }\n    _notifHandlers.set(type, listener);\n  }\n\n  /**\n   * Removes the event listener. Do this in `componentWillUnmount` to prevent\n   * memory leaks\n   */\n  static removeEventListener(type: PushNotificationEventName, handler: Function) {\n    invariant(\n      type === 'notification' || type === 'register' || type === 'registrationError' || type === 'localNotification',\n      'PushNotificationIOS only supports `notification`, `register`, `registrationError`, and `localNotification` events'\n    );\n    var listener = _notifHandlers.get(type);\n    if (!listener) {\n      return;\n    }\n    listener.remove();\n    _notifHandlers.delete(type);\n  }\n\n  /**\n   * Requests notification permissions from iOS, prompting the user's\n   * dialog box. By default, it will request all notification permissions, but\n   * a subset of these can be requested by passing a map of requested\n   * permissions.\n   * The following permissions are supported:\n   *\n   *   - `alert`\n   *   - `badge`\n   *   - `sound`\n   *\n   * If a map is provided to the method, only the permissions with truthy values\n   * will be requested.\n\n   * This method returns a promise that will resolve when the user accepts,\n   * rejects, or if the permissions were previously rejected. The promise\n   * resolves to the current state of the permission.\n   */\n  static requestPermissions(permissions?: {\n    alert?: boolean,\n    badge?: boolean,\n    sound?: boolean\n  }): Promise<{\n    alert: boolean,\n    badge: boolean,\n    sound: boolean\n  }> {\n    var requestedPermissions = {};\n    if (permissions) {\n      requestedPermissions = {\n        alert: !!permissions.alert,\n        badge: !!permissions.badge,\n        sound: !!permissions.sound\n      };\n    } else {\n      requestedPermissions = {\n        alert: true,\n        badge: true,\n        sound: true\n      };\n    }\n    return RCTPushNotificationManager.requestPermissions(requestedPermissions);\n  }\n\n  /**\n   * Unregister for all remote notifications received via Apple Push Notification service.\n   *\n   * You should call this method in rare circumstances only, such as when a new version of\n   * the app removes support for all types of remote notifications. Users can temporarily\n   * prevent apps from receiving remote notifications through the Notifications section of\n   * the Settings app. Apps unregistered through this method can always re-register.\n   */\n  static abandonPermissions() {\n    RCTPushNotificationManager.abandonPermissions();\n  }\n\n  /**\n   * See what push permissions are currently enabled. `callback` will be\n   * invoked with a `permissions` object:\n   *\n   *  - `alert` :boolean\n   *  - `badge` :boolean\n   *  - `sound` :boolean\n   */\n  static checkPermissions(callback: Function) {\n    invariant(\n      typeof callback === 'function',\n      'Must provide a valid callback'\n    );\n    RCTPushNotificationManager.checkPermissions(callback);\n  }\n\n  /**\n   * This method returns a promise that resolves to either the notification\n   * object if the app was launched by a push notification, or `null` otherwise.\n   */\n  static getInitialNotification(): Promise<?PushNotificationIOS> {\n    return RCTPushNotificationManager.getInitialNotification().then(notification => {\n      return notification && new PushNotificationIOS(notification);\n    });\n  }\n\n  /**\n   * You will never need to instantiate `PushNotificationIOS` yourself.\n   * Listening to the `notification` event and invoking\n   * `getInitialNotification` is sufficient\n   */\n  constructor(nativeNotif: Object) {\n    this._data = {};\n    this._remoteNotificationCompleteCalllbackCalled = false;\n    this._isRemote = nativeNotif.remote;\n    if (this._isRemote) {\n      this._notificationId = nativeNotif.notificationId;\n    }\n\n    if (nativeNotif.remote) {\n      // Extract data from Apple's `aps` dict as defined:\n      // https://developer.apple.com/library/ios/documentation/NetworkingInternet/Conceptual/RemoteNotificationsPG/Chapters/ApplePushService.html\n      Object.keys(nativeNotif).forEach((notifKey) => {\n        var notifVal = nativeNotif[notifKey];\n        if (notifKey === 'aps') {\n          this._alert = notifVal.alert;\n          this._sound = notifVal.sound;\n          this._badgeCount = notifVal.badge;\n        } else {\n          this._data[notifKey] = notifVal;\n        }\n      });\n    } else {\n      // Local notifications aren't being sent down with `aps` dict.\n      this._badgeCount = nativeNotif.applicationIconBadgeNumber;\n      this._sound = nativeNotif.soundName;\n      this._alert = nativeNotif.alertBody;\n      this._data = nativeNotif.userInfo;\n    }\n  }\n\n  /**\n   * This method is available for remote notifications that have been received via:\n   * `application:didReceiveRemoteNotification:fetchCompletionHandler:`\n   * https://developer.apple.com/library/ios/documentation/UIKit/Reference/UIApplicationDelegate_Protocol/#//apple_ref/occ/intfm/UIApplicationDelegate/application:didReceiveRemoteNotification:fetchCompletionHandler:\n   *\n   * Call this to execute when the remote notification handling is complete. When\n   * calling this block, pass in the fetch result value that best describes\n   * the results of your operation. You *must* call this handler and should do so\n   * as soon as possible. For a list of possible values, see `PushNotificationIOS.FetchResult`.\n   *\n   * If you do not call this method your background remote notifications could\n   * be throttled, to read more about it see the above documentation link.\n   */\n  finish(fetchResult: FetchResult) {\n    if (!this._isRemote || !this._notificationId || this._remoteNotificationCompleteCalllbackCalled) {\n      return;\n    }\n    this._remoteNotificationCompleteCalllbackCalled = true;\n\n    RCTPushNotificationManager.onFinishRemoteNotification(this._notificationId, fetchResult);\n  }\n\n  /**\n   * An alias for `getAlert` to get the notification's main message string\n   */\n  getMessage(): ?string | ?Object {\n    // alias because \"alert\" is an ambiguous name\n    return this._alert;\n  }\n\n  /**\n   * Gets the sound string from the `aps` object\n   */\n  getSound(): ?string {\n    return this._sound;\n  }\n\n  /**\n   * Gets the notification's main message from the `aps` object\n   */\n  getAlert(): ?string | ?Object {\n    return this._alert;\n  }\n\n  /**\n   * Gets the badge count number from the `aps` object\n   */\n  getBadgeCount(): ?number {\n    return this._badgeCount;\n  }\n\n  /**\n   * Gets the data object on the notif\n   */\n  getData(): ?Object {\n    return this._data;\n  }\n}\n\nmodule.exports = PushNotificationIOS;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule Settings\n * @flow\n */\n'use strict';\n\nvar Settings = {\n  get(key: string): mixed {\n    console.warn('Settings is not yet supported on Android');\n    return null;\n  },\n\n  set(settings: Object) {\n    console.warn('Settings is not yet supported on Android');\n  },\n\n  watchKeys(keys: string | Array<string>, callback: Function): number {\n    console.warn('Settings is not yet supported on Android');\n    return -1;\n  },\n\n  clearWatch(watchId: number) {\n    console.warn('Settings is not yet supported on Android');\n  },\n};\n\nmodule.exports = Settings;\n","/**\n * Copyright (c) 2016-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule Share\n * @flow\n */\n'use strict';\n\nconst Platform = require('Platform');\nconst {\n  ActionSheetManager,\n  ShareModule\n} = require('NativeModules');\nconst invariant = require('fbjs/lib/invariant');\nconst processColor = require('processColor');\n\ntype Content = { title?: string, message: string } | { title?: string, url: string };\ntype Options = { dialogTitle?: string, excludeActivityTypes?: Array<string>, tintColor?: string };\n\nclass Share {\n\n  /**\n   * Open a dialog to share text content.\n   *\n   * In iOS, Returns a Promise which will be invoked an object containing `action`, `activityType`.\n   * If the user dismissed the dialog, the Promise will still be resolved with action being `Share.dismissedAction`\n   * and all the other keys being undefined.\n   *\n   * In Android, Returns a Promise which always be resolved with action being `Share.sharedAction`.\n   *\n   * ### Content\n   *\n   *  - `message` - a message to share\n   *  - `title` - title of the message\n   *\n   * #### iOS\n   *\n   *  - `url` - an URL to share\n   *\n   * At least one of URL and message is required.\n   *\n   * ### Options\n   *\n   * #### iOS\n   *\n   * - `excludedActivityTypes`\n   * - `tintColor`\n   *\n   * #### Android\n   *\n   * - `dialogTitle`\n   *\n   */\n  static share(content: Content, options: Options = {}): Promise<Object> {\n    invariant(\n      typeof content === 'object' && content !== null,\n      'Content to share must be a valid object'\n    );\n    invariant(\n      typeof content.url === 'string' || typeof content.message === 'string',\n      'At least one of URL and message is required'\n    );\n    invariant(\n      typeof options === 'object' && options !== null,\n      'Options must be a valid object'\n    );\n\n    if (Platform.OS === 'android') {\n      invariant(\n        !content.title || typeof content.title === 'string',\n        'Invalid title: title should be a string.'\n      );\n      return ShareModule.share(content, options.dialogTitle);\n    } else if (Platform.OS === 'ios') {\n      return new Promise((resolve, reject) => {\n        ActionSheetManager.showShareActionSheetWithOptions(\n          {...content, ...options, tintColor: processColor(options.tintColor)},\n          (error) => reject(error),\n          (success, activityType) => {\n            if (success) {\n              resolve({\n                'action': 'sharedAction',\n                'activityType': activityType\n              });\n            } else {\n              resolve({\n                'action': 'dismissedAction'\n              });\n            }\n          }\n        );\n      });\n    } else {\n      return Promise.reject(new Error('Unsupported platform'));\n    }\n  }\n\n  /**\n   * The content was successfully shared.\n   */\n  static get sharedAction() { return 'sharedAction'; }\n\n  /**\n   * The dialog has been dismissed.\n   * @platform ios\n   */\n  static get dismissedAction() { return 'dismissedAction'; }\n\n}\n\nmodule.exports = Share;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule TimePickerAndroid\n * @flow\n */\n'use strict';\n\nconst TimePickerModule = require('NativeModules').TimePickerAndroid;\n\n/**\n * Opens the standard Android time picker dialog.\n *\n * ### Example\n *\n * ```\n * try {\n *   const {action, hour, minute} = await TimePickerAndroid.open({\n *     hour: 14,\n *     minute: 0,\n *     is24Hour: false, // Will display '2 PM'\n *   });\n *   if (action !== TimePickerAndroid.dismissedAction) {\n *     // Selected hour (0-23), minute (0-59)\n *   }\n * } catch ({code, message}) {\n *   console.warn('Cannot open time picker', message);\n * }\n * ```\n */\nclass TimePickerAndroid {\n\n  /**\n   * Opens the standard Android time picker dialog.\n   *\n   * The available keys for the `options` object are:\n   *   * `hour` (0-23) - the hour to show, defaults to the current time\n   *   * `minute` (0-59) - the minute to show, defaults to the current time\n   *   * `is24Hour` (boolean) - If `true`, the picker uses the 24-hour format. If `false`,\n   *     the picker shows an AM/PM chooser. If undefined, the default for the current locale\n   *     is used.\n   *\n   * Returns a Promise which will be invoked an object containing `action`, `hour` (0-23),\n   * `minute` (0-59) if the user picked a time. If the user dismissed the dialog, the Promise will\n   * still be resolved with action being `TimePickerAndroid.dismissedAction` and all the other keys\n   * being undefined. **Always** check whether the `action` before reading the values.\n   */\n  static async open(options: Object): Promise<Object> {\n    return TimePickerModule.open(options);\n  }\n\n  /**\n   * A time has been selected.\n   */\n  static get timeSetAction() { return 'timeSetAction'; }\n  /**\n   * The dialog has been dismissed.\n   */\n  static get dismissedAction() { return 'dismissedAction'; }\n}\n\nmodule.exports = TimePickerAndroid;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule Vibration\n * @flow\n */\n'use strict';\n\nvar RCTVibration = require('NativeModules').Vibration;\nvar Platform = require('Platform');\n\n/**\n * The Vibration API is exposed at `Vibration.vibrate()`.\n * The vibration is asynchronous so this method will return immediately.\n *\n * There will be no effect on devices that do not support Vibration, eg. the simulator.\n *\n * **Note for android**\n * add `<uses-permission android:name=\"android.permission.VIBRATE\"/>` to `AndroidManifest.xml`\n *\n * **Android Usage:**\n *\n * [0, 500, 200, 500]\n * V(0.5s) --wait(0.2s)--> V(0.5s)\n *\n * [300, 500, 200, 500]\n * --wait(0.3s)--> V(0.5s) --wait(0.2s)--> V(0.5s)\n *\n * **iOS Usage:**\n * if first argument is 0, it will not be included in pattern array.\n *\n * [0, 1000, 2000, 3000]\n * V(fixed) --wait(1s)--> V(fixed) --wait(2s)--> V(fixed) --wait(3s)--> V(fixed)\n */\n\nvar _vibrating: boolean = false;\nvar _id: number = 0; // _id is necessary to prevent race condition.\n\nfunction vibrateByPattern(pattern: Array<number>, repeat: boolean = false) {\n  if (_vibrating) {\n    return;\n  }\n  _vibrating = true;\n  if (pattern[0] === 0) {\n    RCTVibration.vibrate();\n    pattern = pattern.slice(1);\n  }\n  if (pattern.length === 0) {\n    _vibrating = false;\n    return;\n  }\n  setTimeout(() => vibrateScheduler(++_id, pattern, repeat, 1), pattern[0]);\n}\n\nfunction vibrateScheduler(id, pattern: Array<number>, repeat: boolean, nextIndex: number) {\n  if (!_vibrating || id !== _id) {\n    return;\n  }\n  RCTVibration.vibrate();\n  if (nextIndex >= pattern.length) {\n    if (repeat) {\n      nextIndex = 0;\n    } else {\n      _vibrating = false;\n      return;\n    }\n  }\n  setTimeout(() => vibrateScheduler(id, pattern, repeat, nextIndex+1), pattern[nextIndex]);\n}\n\nvar Vibration = {\n  vibrate: function(pattern: number | Array<number> = 400, repeat: boolean = false) {\n    if (Platform.OS === 'android') {\n      if (typeof pattern === 'number') {\n        RCTVibration.vibrate(pattern);\n      } else if (Array.isArray(pattern)) {\n        RCTVibration.vibrateByPattern(pattern, repeat ? 0 : -1);\n      } else {\n        throw new Error('Vibration pattern should be a number or array');\n      }\n    } else {\n      if (_vibrating) {\n        return;\n      }\n      if (typeof pattern === 'number') {\n        RCTVibration.vibrate();\n      } else if (Array.isArray(pattern)) {\n        vibrateByPattern(pattern, repeat);\n      } else {\n        throw new Error('Vibration pattern should be a number or array');\n      }\n    }\n  },\n  /**\n   * Stop vibration\n   */\n  cancel: function() {\n    if (Platform.OS === 'ios') {\n      _vibrating = false;\n    } else {\n      RCTVibration.cancel();\n    }\n  }\n};\n\nmodule.exports = Vibration;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * Stub of VibrationIOS for Android.\n *\n * @providesModule VibrationIOS\n */\n'use strict';\n\nvar warning = require('fbjs/lib/warning');\n\nvar VibrationIOS = {\n  vibrate: function() {\n    warning('VibrationIOS is not supported on this platform!');\n  }\n};\n\nmodule.exports = VibrationIOS;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule throwOnWrongReactAPI\n * @flow\n */\n\n'use strict';\n\nfunction throwOnWrongReactAPI(key: string) {\n  throw new Error(\n`Seems you're trying to access 'ReactNative.${key}' from the 'react-native' package. Perhaps you meant to access 'React.${key}' from the 'react' package instead?\n\nFor example, instead of:\n\n  import React, { Component, View } from 'react-native';\n\nYou should now do:\n\n  import React, { Component } from 'react';\n  import { View } from 'react-native';\n\nCheck the release notes on how to upgrade your code - https://github.com/facebook/react-native/releases/tag/v0.25.1\n`);\n}\n\nmodule.exports = throwOnWrongReactAPI;\n","import React, {Component} from 'react';\nimport {TouchableHighlight,View, Text} from 'react-native';\n\nimport Style from './Style';\n\nexport default class InputButton extends Component {\n\n  render() {\n    return (\n      <TouchableHighlight style={[Style.inputButton, this.props.highlight ? Style.inputButtonHighlighted : null]} underlayColor=\"#193441\" onPress={this.props.onPress}>\n        <Text style={Style.inputButtonText}>{this.props.value}</Text>\n      </TouchableHighlight>\n    )\n  }\n\n}\n"],"names":["global","__DEV__","__BUNDLE_START_TIME__","Date","now","require","__d","define","modules","Object","create","verboseNamesToModuleIds","factory","moduleId","dependencyMap","exports","undefined","hasError","isInitialized","hot","createHotReloadingObject","verboseName","arguments","Error","console","warn","moduleIdReallyIsNumber","module","guardedLoadModule","inGuard","ErrorUtils","returnValue","loadModuleImplementation","e","reportFatalError","nativeRequire","unknownModuleError","moduleThrewError","Systrace","beginEvent","moduleObject","endEvent","id","message","acceptCallback","accept","callback","acceptAll","dependentModules","inverseDependencies","length","notAccepted","filter","parents","i","push","mod","__accept","assign","target","sources","TypeError","nextIndex","nextSource","key","hasOwnProperty","prototype","call","inspect","obj","opts","ctx","seen","stylize","stylizeNoColor","formatValue","depth","str","styleType","arrayToHash","array","hash","forEach","val","idx","value","recurseTimes","primitive","formatPrimitive","keys","visibleKeys","isError","indexOf","formatError","isFunction","name","isRegExp","RegExp","toString","isDate","base","braces","isArray","n","toUTCString","output","formatArray","map","formatProperty","pop","reduceToSingleString","isUndefined","isString","simple","JSON","stringify","replace","isNumber","isBoolean","isNull","l","String","match","desc","getOwnPropertyDescriptor","get","set","split","line","join","substr","numLinesEst","reduce","prev","cur","ar","Array","arg","isNullOrUndefined","isSymbol","re","isObject","objectToString","d","isPrimitive","o","prop","OBJECT_COLUMN_NAME","LOG_LEVELS","trace","info","error","INSPECTOR_LEVELS","INSPECTOR_FRAMES_TO_SKIP","setupConsole","nativeLoggingHook","getNativeLogFunction","level","logLevel","slice","__inspectorLog","repeat","element","apply","consoleTablePolyfill","rows","data","row","columns","sort","stringRows","columnWidths","k","j","cellStr","Math","max","joinRow","space","cells","cell","extraSpaces","separators","columnWidth","separatorRow","header","table","originalConsole","descriptor","defineProperty","log","debug","reactNativeMethod","methodName","_inGuard","_globalHandler","onError","setGlobalHandler","fun","getGlobalHandler","reportError","applyWithGuard","context","args","applyWithGuardIfNeeded","guard","guarded","Number","EPSILON","pow","MAX_SAFE_INTEGER","MIN_SAFE_INTEGER","isNaN","globalIsNaN","configurable","enumerable","writable","startsWith","search","string","pos","start","min","endsWith","stringLength","searchString","end","lastIndexOf","count","Infinity","RangeError","result","includes","findIndex","predicate","list","find","index","searchElement","O","len","parseInt","currentElement","from","arrayLike","mapFn","thisArg","C","items","symbolIterator","Symbol","iterator","mapping","usingIterator","ret","it","next","done","entries","object","values","babelHelpers","typeof","constructor","createRawReactElement","REACT_ELEMENT_TYPE","for","type","props","$$typeof","ref","_owner","classCallCheck","instance","Constructor","createClass","defineProperties","protoProps","staticProps","_extends","extends","source","property","receiver","Function","parent","getPrototypeOf","getter","inherits","subClass","superClass","setPrototypeOf","__proto__","interopRequireDefault","__esModule","default","interopRequireWildcard","newObj","objectWithoutProperties","possibleConstructorReturn","self","ReferenceError","slicedToArray","sliceIterator","arr","_arr","_n","_d","_e","_i","_s","err","taggedTemplateLiteral","strings","raw","freeze","toArray","toConsumableArray","arr2","inputButtons","ReactCalculator","state","inputValue","previousInputValue","selectedSymbol","views","r","inputRow","input","_onInputButtonPressed","bind","_handleNumberInput","_handleStringInput","num","setState","symbol","eval","rootContainer","displayContainer","displayText","inputContainer","_renderInputButtons","registerComponent","ReactBaseClasses","ReactChildren","ReactClass","ReactDOMFactories","ReactElement","ReactPropTypes","ReactVersion","onlyChild","warning","checkPropTypes","createElement","createFactory","cloneElement","process","env","NODE_ENV","ReactElementValidator","createMixin","mixin","warnedForCreateMixin","React","Children","only","Component","PureComponent","isValidElement","PropTypes","DOM","version","_prodInvariant","_assign","ReactNoopUpdateQueue","canDefineProperty","emptyObject","invariant","ReactComponent","updater","refs","isReactComponent","partialState","enqueueSetState","forceUpdate","enqueueForceUpdate","deprecatedAPIs","isMounted","replaceState","defineDeprecationWarning","fnName","ReactPureComponent","ComponentDummy","isPureReactComponent","reactProdInvariant","code","argCount","argIdx","encodeURIComponent","framesToPop","getOwnPropertySymbols","propIsEnumerable","propertyIsEnumerable","toObject","shouldUseNative","test1","getOwnPropertyNames","test2","fromCharCode","order2","test3","letter","to","symbols","s","warnNoop","publicInstance","callerName","displayName","enqueueReplaceState","completeState","emptyFunction","printWarning","format","_len","_key","argIndex","x","condition","_len2","_key2","concat","makeEmptyFunction","thatReturns","thatReturnsFalse","thatReturnsTrue","thatReturnsNull","thatReturnsThis","thatReturnsArgument","validateFormat","a","b","c","f","PooledClass","traverseAllChildren","twoArgumentPooler","fourArgumentPooler","userProvidedKeyEscapeRegex","escapeUserProvidedKey","text","ForEachBookKeeping","forEachFunction","forEachContext","func","destructor","addPoolingTo","forEachSingleChild","bookKeeping","child","forEachChildren","children","forEachFunc","traverseContext","getPooled","release","MapBookKeeping","mapResult","keyPrefix","mapFunction","mapContext","mapSingleChildIntoContext","childKey","mappedChild","mapIntoWithKeyPrefixInternal","cloneAndReplaceKey","prefix","escapedPrefix","mapChildren","forEachSingleChildDummy","countChildren","oneArgumentPooler","copyFieldsFrom","Klass","instancePool","a1","a2","threeArgumentPooler","a3","a4","standardReleaser","poolSize","DEFAULT_POOL_SIZE","DEFAULT_POOLER","CopyConstructor","pooler","NewKlass","ReactCurrentOwner","RESERVED_PROPS","__self","__source","specialPropKeyWarningShown","specialPropRefWarningShown","hasValidRef","config","isReactWarning","hasValidKey","defineKeyPropWarningGetter","warnAboutAccessingKey","defineRefPropWarningGetter","warnAboutAccessingRef","owner","_store","validated","_self","_source","propName","childrenLength","childArray","defaultProps","current","oldElement","newKey","newElement","getIteratorFn","KeyEscapeUtils","SEPARATOR","SUBSEPARATOR","didWarnAboutMaps","getComponentKey","component","escape","traverseAllChildrenImpl","nameSoFar","nextName","subtreeCount","nextNamePrefix","iteratorFn","mapsAsChildrenAddendum","mapsAsChildrenOwnerName","getName","step","ii","addendum","childrenString","ITERATOR_SYMBOL","FAUX_ITERATOR_SYMBOL","maybeIterable","escapeRegex","escaperLookup","escapedString","unescape","unescapeRegex","unescaperLookup","keySubstring","substring","MIXINS_KEY","identity","fn","ReactClassInterface","mixins","statics","propTypes","contextTypes","childContextTypes","getDefaultProps","getInitialState","getChildContext","render","componentWillMount","componentDidMount","componentWillReceiveProps","shouldComponentUpdate","componentWillUpdate","componentDidUpdate","componentWillUnmount","updateComponent","RESERVED_SPEC_KEYS","mixSpecIntoComponent","validateTypeDef","createMergedResultFunction","mixStaticSpecIntoComponent","autobind","typeDef","location","validateMethodOverride","isAlreadyDefined","specPolicy","ReactClassMixin","spec","typeofSpec","isMixinValid","proto","autoBindPairs","__reactAutoBindPairs","isReactClassMethod","shouldAutoBind","createChainedFunction","isReserved","isInherited","mergeIntoWithNoDuplicateKeys","one","two","mergedResult","chainedFunction","bindAutoBindMethod","method","boundMethod","__reactBoundContext","__reactBoundMethod","__reactBoundArguments","componentName","_bind","newThis","reboundMethod","bindAutoBindMethods","pairs","autoBindKey","newState","ReactClassComponent","initialState","_isMockFunction","isReactClassApproved","componentShouldUpdate","componentWillRecieveProps","createDOMFactory","abbr","address","area","article","aside","audio","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","col","colgroup","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","hgroup","hr","html","iframe","img","ins","kbd","keygen","label","legend","li","link","main","mark","menu","menuitem","meta","meter","nav","noscript","ol","optgroup","option","p","param","picture","pre","progress","q","rp","rt","ruby","samp","script","section","select","small","span","strong","style","sub","summary","sup","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","video","wbr","circle","clipPath","defs","ellipse","g","image","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","tspan","checkReactTypeSpec","getComponentName","ReactDebugCurrentFrame","_require","getCurrentStackAddendum","getDeclarationErrorAddendum","getSourceInfoErrorAddendum","elementProps","fileName","lineNumber","ownerHasKeyUseWarning","getCurrentComponentErrorInfo","parentType","parentName","validateExplicitKey","memoizer","uniqueKey","currentComponentErrorInfo","childOwner","validateChildKeys","node","validatePropTypes","componentClass","__propTypesSecretDontUseThesePlease","validType","sourceInfo","validatedFactory","getStackAddendum","typeSpecs","ReactPropTypesSecret","loggedTypeFailures","getStack","typeSpecName","ex","stack","getStackAddendumByID","_require2","getStackAddendumByWorkInProgressFiber","debugID","tag","workInProgress","describeComponentFrame","isNative","funcToString","reIsNative","test","canUseCollections","Map","Set","setItem","getItem","removeItem","getItemIDs","addRoot","removeRoot","getRootIDs","itemMap","rootIDSet","item","add","itemByKey","rootByKey","getKeyFromID","getIDFromKey","unmountedIDs","purgeDeep","childIDs","getDisplayName","describeID","ReactComponentTreeHook","getElement","ownerID","getOwnerID","ownerName","onSetChildren","nextChildIDs","nextChildID","nextChild","parentID","onBeforeMountComponent","updateCount","onBeforeUpdateComponent","onMountComponent","isRoot","onUpdateComponent","onUnmountComponent","purgeUnmountedComponents","_preventPurging","topElement","currentOwner","_debugID","getParentID","getChildIDs","getSource","getText","getUpdateCount","getRegisteredIDs","ReactTypeOfWork","IndeterminateComponent","FunctionalComponent","ClassComponent","HostComponent","describeFiber","fiber","_debugOwner","_debugSource","HostRoot","HostPortal","HostText","CoroutineComponent","CoroutineHandlerPhase","YieldComponent","Fragment","instanceOrFiber","ANONYMOUS","createPrimitiveTypeChecker","bool","number","any","createAnyTypeChecker","arrayOf","createArrayOfTypeChecker","createElementTypeChecker","instanceOf","createInstanceTypeChecker","createNodeChecker","objectOf","createObjectOfTypeChecker","oneOf","createEnumTypeChecker","oneOfType","createUnionTypeChecker","shape","createShapeTypeChecker","productionTypeChecker","isRequired","getProductionTypeChecker","is","y","PropTypeError","createChainableTypeChecker","validate","manualPropTypeCallCache","checkType","propFullName","secret","cacheKey","chainedCheckType","expectedType","propValue","propType","getPropType","preciseType","getPreciseType","typeChecker","expectedClass","expectedClassName","actualClassName","getClassName","expectedValues","valuesString","arrayOfTypeCheckers","checker","isNode","shapeTypes","every","entry","Style","flex","backgroundColor","justifyContent","inputButton","alignItems","borderWidth","borderColor","inputButtonText","fontSize","fontWeight","color","flexDirection","textAlign","padding","inputButtonHighlighted","warningDedupe","addonWarn","prevName","newPackageName","ReactNative","AccessibilityInfo","ActivityIndicator","ART","Button","DatePickerIOS","DrawerLayoutAndroid","FlatList","Image","ImageEditor","ImageStore","KeyboardAvoidingView","ListView","MapView","Modal","Navigator","NavigatorIOS","Picker","PickerIOS","ProgressBarAndroid","ProgressViewIOS","ScrollView","SectionList","SegmentedControlIOS","Slider","SnapshotViewIOS","Switch","RefreshControl","StatusBar","SwipeableListView","TabBarIOS","Text","TextInput","ToastAndroid","ToolbarAndroid","Touchable","TouchableHighlight","TouchableNativeFeedback","TouchableOpacity","TouchableWithoutFeedback","View","ViewPagerAndroid","VirtualizedList","WebView","ActionSheetIOS","AdSupportIOS","Alert","AlertIOS","Animated","AppRegistry","AppState","AsyncStorage","BackAndroid","CameraRoll","Clipboard","DatePickerAndroid","Dimensions","Easing","I18nManager","ImagePickerIOS","InteractionManager","Keyboard","LayoutAnimation","Linking","NativeEventEmitter","NavigationExperimental","NetInfo","PanResponder","PermissionsAndroid","PixelRatio","PushNotificationIOS","Settings","Share","StatusBarIOS","StyleSheet","TimePickerAndroid","UIManager","Vibration","VibrationIOS","DeviceEventEmitter","NativeAppEventEmitter","NativeModules","Platform","processColor","requireNativeComponent","ColorPropType","EdgeInsetsPropType","PointPropType","throwOnWrongReactAPI","reactAPIs","ReactNativeInternal","applyForwarding","RCTDeviceEventEmitter","RCTAccessibilityInfo","TOUCH_EXPLORATION_EVENT","_subscriptions","fetch","Promise","resolve","reject","isTouchExplorationEnabled","resp","addEventListener","eventName","handler","listener","addListener","enabled","removeEventListener","remove","delete","BatchedBridge","defineLazyObjectProperty","genModule","moduleID","moduleName","constants","methods","promiseMethods","syncMethods","methodID","isPromise","arrayContains","isSync","methodType","genMethod","createDebugLookup","__fbGenNativeModule","loadModule","nativeRequireModuleConfig","enqueueNativeCall","errorData","createErrorFromErrorData","nativeCallSyncHook","lastArg","secondLastArg","hasSuccessCallback","hasErrorCallback","onSuccess","onFail","callbackCount","extraErrorInfo","nativeModuleProxy","bridgeConfig","__fbBatchedBridgeConfig","remoteModuleConfig","MessageQueue","JSTimersExecution","deepFreezeAndThrowOnMutationInDev","stringifySafe","TO_JS","TO_NATIVE","MODULE_IDS","METHOD_IDS","PARAMS","MIN_TIME_BETWEEN_FLUSHES_MS","TRACE_TAG_REACT_APPS","DEBUG_INFO_LIMIT","_callableModules","_queue","_callbacks","_callbackID","_callID","_lastFlush","_eventLoopStartTime","getTime","_debugInfo","_remoteModuleTable","_remoteMethodTable","callFunctionReturnFlushedQueue","callFunctionReturnResultAndFlushedQueue","flushedQueue","invokeCallbackAndReturnFlushedQueue","__callFunction","__callImmediates","cbID","__invokeCallback","queue","params","onSucc","callId","nativeTraceBeginAsyncFlow","nativeFlushQueueImmediate","counterEvent","__spy","isFinite","callImmediates","moduleMethods","errorMessage","profileName","spyOrToggle","performanceNow","FRAME_DURATION","IDLE_CALLBACK_FRAME_DEADLINE","hasEmittedTimeDriftWarning","GUID","callbacks","types","timerIDs","immediates","requestIdleCallbacks","identifiers","errors","callTimer","timerID","frameTime","timerIndex","identifier","_clearIndex","timeRemaining","callTimers","errorCount","setTimeout","callIdleCallbacks","passIdleCallbacks","Timing","setSendIdleEvents","callImmediatesPass","passImmediates","emitTimeDriftWarning","warningMessage","TRACE_TAG_JSC_CALLS","_enabled","_asyncCookie","ReactSystraceDevtool","onBeforeUnmountComponent","onBeginLifeCycleTimer","timerType","onEndLifeCycleTimer","setEnabled","nativeTraceBeginLegacy","addHook","nativeTraceEndLegacy","removeHook","nativeTraceBeginSection","nativeTraceEndSection","beginAsyncEvent","cookie","nativeTraceBeginAsyncSection","endAsyncEvent","nativeTraceEndAsyncSection","nativeTraceCounter","attachToRelayProfiler","relayProfiler","attachProfileHandler","attachAggregateHandler","swizzleJSON","measureMethods","objectName","methodNames","measure","objName","ReactInvalidSetStateWarningHook","ReactHostOperationHistoryHook","ExecutionEnvironment","ReactDebugTool","hooks","didHookThrowForEvent","callHook","event","arg1","arg2","arg3","arg4","arg5","emitEvent","hook","isProfiling","flushHistory","lifeCycleTimerStack","currentFlushNesting","currentFlushMeasurements","currentFlushStartTime","currentTimerDebugID","currentTimerStartTime","currentTimerNestedFlushDuration","currentTimerType","lifeCycleTimerHasWarned","clearHistory","getTreeSnapshot","registeredIDs","tree","resetMeasurements","previousStartTime","previousMeasurements","previousOperations","getHistory","duration","measurements","operations","treeSnapshot","checkDebugID","allowRoot","beginLifeCycleTimer","endLifeCycleTimer","instanceID","pauseCurrentLifeCycleTimer","currentTimer","startTime","nestedFlushStartTime","resumeCurrentLifeCycleTimer","nestedFlushDuration","lastMarkTimeStamp","canUsePerformanceMeasure","performance","clearMarks","clearMeasures","shouldMark","isHostElement","markBegin","markType","markName","markEnd","timeStamp","measurementName","splice","beginProfiling","endProfiling","getFlushHistory","onBeginFlush","onEndFlush","onBeginProcessingChildContext","onEndProcessingChildContext","onHostOperation","operation","onSetState","childDebugIDs","parentDebugID","onTestEvent","url","canUseDOM","window","href","processingChildContext","warnInvalidSetState","history","_preventClearing","document","canUseWorkers","Worker","canUseEventListeners","attachEvent","canUseViewport","screen","isInWorker","msPerformance","webkitPerformance","RCTTiming","parseErrorStack","_getFreeIndex","freeIndex","_allocateCallback","shift","_freeCallback","deleteTimer","JSTimers","createTimer","setInterval","setImmediate","requestAnimationFrame","requestIdleCallback","cancelIdleCallback","clearTimeout","clearInterval","clearImmediate","cancelAnimationFrame","stacktraceParser","parse","UNKNOWN_FUNCTION","StackTraceParser","stackString","chrome","gecko","lines","parts","exec","isFrozen","isSealed","__defineGetter__","__defineSetter__","throwOnImmutableMutation","seal","E","valueSet","getValue","setValue","newValue","EventEmitter","EventSubscriptionVendor","sharedSubscriber","eventType","eventModule","_nativeEventModule","removeAllListeners","subscription","emitter","removeSubscription","registerCallableModule","EmitterSubscription","subscriber","_subscriber","addSubscription","removeCurrentListener","removeAllSubscriptions","_currentSubscription","subscriptions","getSubscriptionsForType","EventSubscription","_subscriptionsForType","subscriptionsForType","nativeModule","OS","_nativeModule","listeners","removeListeners","Version","PlatformConstants","isTesting","android","KeyboardObserver","dismissKeyboard","KeyboardEventEmitter","removeListener","dismiss","TextInputState","blurTextInput","currentlyFocusedField","_currentlyFocusedID","focusTextInput","textFieldID","focus","dispatchViewManagerCommand","AndroidTextInput","Commands","blur","findNodeHandle","_takeSnapshot","takeSnapshot","view","options","viewConfig","viewName","Manager","viewManager","commands","AndroidLazyViewManagersEnabled","ViewManagerNames","viewManagerName","ReactInstanceMap","injectedFindNode","injectedFindRootNodeID","componentOrHandle","_warnedAboutRefsInRender","internalInstance","rootNodeID","injection","injectFindNode","findNode","injectFindRootNodeID","findRootNodeID","_reactInternalInstance","has","RCTAppState","logError","isAvailable","_eventHandlers","change","memoryWarning","currentState","initialAppState","appStateData","app_state","getCurrentAppState","throwMissingNativeModule","MissingNativeAppStateShim","NativeMethodsMixin","GRAY","animating","size","hidesWhenStopped","onLayout","sizeStyle","styles","sizeSmall","sizeLarge","height","width","container","RCTActivityIndicator","nativeOnly","activityIndicatorViewStyle","indeterminate","styleAttr","normalizeColor","colorPropType","matchers","hex6","names","rgb","parse255","rgba","parse1","hex3","hex8","hex4","hsl","hslToRgb","parse360","parsePercentage","hsla","hue2rgb","t","h","round","NUMBER","PERCENTAGE","int","parseFloat","transparent","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","burntsienna","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","ReactNativeAttributePayload","warnForStyleProps","validAttributes","mountSafeCallback","measureInWindow","measureLayout","relativeToNativeNode","setNativeProps","nativeProps","updatePayload","updateView","uiViewClassName","throwOnStylesProp","msg","NativeMethodsMixin_DEV","newProps","ReactNativeComponentTree","ReactNativeInjection","ReactNativeStackInjection","ReactNativeMount","ReactUpdates","inject","mountInto","renderComponent","getHostNode","_rootNodeID","hasReactNativeInitialized","unmountComponentAtNode","unstable_batchedUpdates","batchedUpdates","unmountComponentAtNodeAndRemoveContainer","__REACT_DEVTOOLS_GLOBAL_HOOK__","ComponentTree","getClosestInstanceFromNode","getNodeFromInstance","inst","_renderedComponent","Mount","Reconciler","instanceCache","instanceProps","getRenderedHostOrTextFromComponent","rendered","precacheNode","nativeInst","precacheFiberNode","hostInst","uncacheNode","uncacheFiberNode","getInstanceFromTag","getTagFromInstance","stateNode","_nativeTag","getFiberCurrentPropsFromNode","updateFiberProps","getInstanceFromNode","EventPluginHub","EventPluginUtils","RCTEventEmitter","ReactNativeBridgeEventPlugin","ReactNativeEventEmitter","ReactNativeEventPluginOrder","ReactNativeGlobalResponderHandler","ResponderEventPlugin","register","injectEventPluginOrder","injectComponentTree","injectGlobalResponderHandler","injectEventPluginsByName","GLOBAL","eager","backupName","toUpperCase","__RCTProfileIsProfiling","ExceptionsManager","installConsoleErrorReporter","__fbDisableExceptionsManager","handleError","isFatal","handleException","ee","defineLazyTimer","alert","regeneratorRuntime","Headers","Request","Response","navigator","JSInspector","registerAgent","exceptionID","reportException","currentExceptionID","reportFatalException","reportSoftException","symbolicateStackTrace","then","prettyStack","updateExceptionMessage","catch","_errorOriginal","reactConsoleErrorHandler","reportErrorsAsExceptions","getDevServer","SourceCode","isSourcedFromDisk","sourcePath","devServer","bundleLoadedFromServer","stackCopy","scriptURL","foundInternalSource","frame","file","response","json","_cachedDevServerURL","FALLBACK","support","searchParams","iterable","blob","Blob","formData","arrayBuffer","viewClasses","isDataView","DataView","isPrototypeOf","isArrayBufferView","ArrayBuffer","isView","normalizeName","toLowerCase","normalizeValue","iteratorFor","headers","append","getAll","consumed","bodyUsed","fileReaderReady","reader","onload","onerror","readBlobAsArrayBuffer","FileReader","promise","readAsArrayBuffer","readBlobAsText","readAsText","readArrayBufferAsText","buf","Uint8Array","chars","bufferClone","byteLength","buffer","Body","_initBody","_bodyInit","_bodyText","_bodyBlob","FormData","_bodyFormData","URLSearchParams","_bodyArrayBuffer","rejected","decode","normalizeMethod","upcased","credentials","mode","referrer","clone","trim","bytes","decodeURIComponent","parseHeaders","rawHeaders","bodyInit","status","ok","statusText","redirectStatuses","redirect","init","request","xhr","XMLHttpRequest","getAllResponseHeaders","responseURL","responseText","ontimeout","open","withCredentials","responseType","setRequestHeader","send","polyfill","HeapCapture","captureHeap","nativeCaptureHeap","JSCHeapCapture","captureComplete","SamplingProfiler","poke","token","pokeSamplingProfiler","JSCSamplingProfiler","operationComplete","HMRClient","enable","platform","bundleEntry","host","port","WebSocket","wsHostPort","wsUrl","activeWS","onmessage","HMRLoadingView","showMessage","sourceMappingURLs","sourceURLs","RCTRedBox","RedBox","RCTExceptionsManager","dismissRedbox","injectFunction","nativeInjectHMRUpdate","hide","description","RCTWebSocketModule","WebSocketModule","WebSocketEvent","binaryToBase64","EventTarget","base64","CONNECTING","OPEN","CLOSING","CLOSED","CLOSE_NORMAL","WEBSOCKET_EVENTS","nextWebSocketId","protocols","readyState","_eventEmitter","_socketId","_registerEvents","connect","reason","_close","sendBinary","ping","statusCode","closeReason","close","ev","dispatchEvent","toByteArray","_unregisterEvents","eventInitDict","fromByteArray","byteOffset","lookup","revLookup","Arr","charCodeAt","placeHoldersCount","b64","tmp","placeHolders","L","tripletToBase64","encodeChunk","uint8","extraBytes","maxChunkLength","len2","Commons","CustomEventTarget","EventWrapper","LISTENERS","CAPTURE","BUBBLE","ATTRIBUTE","newNode","defineCustomEventTarget","createEventWrapper","STOP_IMMEDIATE_PROPAGATION_FLAG","HAS_EVENTTARGET_INTERFACE","capture","kind","wrapped","handleEvent","defaultPrevented","createUniqueKey","random","toFixed","getAttributeListener","eventTarget","setAttributeListener","EventTargetBase","descripter","CANCELED_FLAG","ORIGINAL_EVENT","wrapperPrototypeDefinition","stopPropagation","stopImmediatePropagation","preventDefault","cancelable","propertyDefinition","currentTarget","eventPhase","bubbles","Boolean","isTrusted","detail","TOAST_SHORT_DELAY","_showing","show","SHORT","RCTToastAndroid","LONG","TOP","BOTTOM","CENTER","showWithGravity","gravity","levelsMap","fatal","RCTLog","logFn","buttons","AlertAndroid","validButtons","buttonPositive","buttonNegative","buttonNeutral","DialogManagerAndroid","showAlert","action","buttonKey","buttonClicked","onPress","dismissed","onDismiss","RCTAlertManager","AlertManager","callbackOrButtons","prompt","defaultValue","keyboardType","alertWithArgs","cancelButtonKey","destructiveButtonKey","btn","btnDef","cb","allRejections","onUnhandled","onHandled","onSettled","TRUE","valuePromise","FALSE","NULL","UNDEFINED","ZERO","EMPTYSTRING","_61","_81","_65","all","remaining","res","race","onRejected","noop","LAST_ERROR","IS_ERROR","getThen","tryCallOne","tryCallTwo","_45","_54","doResolve","_10","_97","onFulfilled","safeThen","handle","Handler","deferred","handleResolved","finale","DEFAULT_WHITELIST","disable","displayId","rejections","_72","logged","timeout","matchWhitelist","whitelist","errStr","some","cls","hasOwn","$Symbol","iteratorSymbol","toStringTagSymbol","toStringTag","inModule","runtime","wrap","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","Context","_invoke","makeInvokeMethod","tryCatch","GenStateSuspendedStart","GenStateSuspendedYield","GenStateExecuting","GenStateCompleted","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","Gp","defineIteratorMethods","isGeneratorFunction","genFun","ctor","awrap","AwaitArgument","AsyncIterator","invoke","record","unwrapped","domain","previousPromise","enqueue","callInvokeWithMethodAndArg","async","iter","doneResult","delegate","returnMethod","resultName","nextLoc","sent","_sent","dispatchException","abrupt","pushTryEntry","locs","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","reverse","iteratorMethod","skipTempReset","charAt","rootEntry","rootRecord","rval","exception","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","RCTNetworking","UNSENT","OPENED","HEADERS_RECEIVED","LOADING","DONE","SUPPORTED_RESPONSE_TYPES","arraybuffer","REQUEST_EVENTS","XHR_EVENTS","XMLHttpRequestEventTarget","interceptor","_interceptor","upload","_aborted","_hasError","_method","_response","_url","_timedOut","_trackingName","_incrementalEvents","_reset","responseHeaders","_requestId","_cachedResponse","_headers","_responseType","_lowerCaseResponseHeaders","_clearSubscriptions","requestId","requestSent","total","lengthComputable","loaded","setResponseHeaders","setReadyState","responseReceived","dataReceived","__didReceiveDataProgress","timeOutError","loadingFailed","loadingFinished","headerName","trackingName","incrementalEvents","onreadystatechange","onprogress","__didUploadProgress","__didReceiveResponse","__didReceiveData","__didReceiveIncrementalData","__didCompleteResponse","nativeResponseType","sendRequest","__didCreateRequest","abortRequest","lcaseHeaders","getResponseHeader","_","RCTNetworkingNative","Networking","convertRequestBody","convertHeadersMapToArray","headerArray","generateRequestId","incrementalUpdates","part","clearCookies","_parts","contentDisposition","fieldName","getParts","RCTLocationObserver","LocationObserver","LocationEventEmitter","updatesEnabled","Geolocation","getCurrentPosition","geo_success","geo_error","geo_options","watchPosition","success","startObserving","watchID","clearWatch","sub1","noWatchers","stopObserving","_shouldPolyfillES6Collection","guid","toIterator","KIND_KEY","KIND_VALUE","KIND_KEY_VALUE","KEY_PREFIX","SECRET_SIZE_PROP","OLD_IE_HASH_PREFIX","initMap","getIndex","_mapData","setIndex","MapIterator","boundCallback","mapData","_map","_nextIndex","_kind","createIterResultObject","getHash","_objectIndex","prefixedKey","_stringIndex","_otherIndex","shouldDelete","isES5","v","isExtensible","getIENodeHash","uniqueID","nodeType","documentElement","hashProperty","hashCounter","shouldPolyfillES6Collection","collectionName","Collection","clear","doc","ownerDocument","defaultView","Node","nodeName","KIND_KEY_VAL","ArrayIterator","_iteratedObject","StringIterator","_iteratedString","first","second","initSet","connectToDevTools","isAppActive","ServerHost","__REACT_DEVTOOLS_PORT__","resolveRNStyle","root","amd","ReactDevToolsBackend","__webpack_require__","installedModules","m","scheduleRetry","handleClose","hasClosed","closeListeners","handleMessage","evt","messageListeners","_ref","_ref$host","_ref$port","_ref$resolveRNStyle","_ref$isAppActive","uri","ws","onclose","onopen","wall","listen","onClose","setupBackend","agent","emit","bridge","Bridge","Agent","rnStyle","rnStyleMeasure","addBridge","setupRNStyle","setupRelay","_connectTimeout","once","installGlobalHook","installRelayHook","on","setupHighlighter","_classCallCheck","_possibleConstructorReturn","_inherits","_typeof","_createClass","getIn","_EventEmitter","capabilities","_this","internalInstancesById","idsByInternalInstances","WeakMap","renderers","elementData","roots","reactInternals","lastSelected","$r","_prevSelected","_scrollUpdate","isReactDOM","scroll","scrollIntoView","dom","editTextContent","_updateScroll","_onScroll","_this2","renderer","_this3","_setState","_setProps","_setContext","_makeGlobal","highlight","highlightMany","getNodeForID","textContent","$node","$type","$inst","newSelected","$0","sentSelected","selectFromDOMNode","scrollToNode","forget","domElement","ELEMENT_NODE","parentElement","scrollIntoViewIfNeeded","ids","_this4","nodes","getNativeFromReactElement","quiet","getIDForNode","getId","getReactElementFromNative","_ref2","setInProps","_ref3","setInState","_ref4","setInContext","_ref5","$tmp","_this5","canUpdate","_this6","_events","_maxListeners","defaultMaxListeners","setMaxListeners","er","newListener","warned","fired","position","listenerCount","evlistener","_toConsumableArray","attr","consts","hydrate","dehydrate","lastRunTimeMS","delayMS","didTimeout","endTime","_cbs","_inspectables","_cid","_listeners","_buffer","_flushHandle","_callers","_paused","_wall","_handleMessage","cleaned","protoclean","scheduleFlush","flushBufferWhileIdle","deadline","chunkCount","chunkSize","minChunkSize","take","currentBuffer","flushBufferSlice","bufferSlice","events","san","setInspectable","ix","off","payload","cancelFlush","_handleCall","_inspectResponse","fns","handlers","inspectable","protod","isFn","iterVal","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","newProto","pIsFn","_Symbol","inspected","isConcatSpreadable","toPrimitive","unscopables","NativeSymbol","SymbolPolyfill","HiddenSymbol","validateSymbol","objPrototype","globalSymbols","generateName","created","ie11BugWorkaround","postfix","gs","__description__","__name__","keyFor","hasInstance","species","valueOf","normalizeOpts","isCallable","contains","dscr","w","foo","bar","trzy","dest","src","last","obj_","_reactFragment","createDehydrated","readOnly","uninspectable","_renderers","helpers","supportsFiber","_fiberRoots","getFiberRoots","rendererID","onCommitFiberUnmount","handleCommitFiberUnmount","onCommitFiberRoot","mountedRoots","isKnownRoot","isUnmounting","memoizedState","handleCommitFiberRoot","decorate","old","_eventQueue","_listener","setRequestListener","recordRequest","requestNumber","textChunks","getQueryString","TEXT_CHUNK_LENGTH","getDebugName","variables","getVariables","instrumentRelayRequests","relayInternals","NetworkLayer","mutation","queries","query","instrumented","_relayInternals","subs","setReactInternals","walkTree","onMounted","onUpdated","onUnmounted","reactDevtoolsAgent","attachRenderer","oldReact","__internals","rid","shutdown","cleanup","rootNodeIDMap","extras","isPre013","findFiberByHostInstance","attachRendererFiber","nativeTagToRootNodeID","nativeTag","getID","getNode","parentNode","oldMethods","oldRenderComponent","oldRenderRoot","_renderNewRootComponent","decorateResult","decorateMany","Mixin","mountComponent","getData012","unmountComponent","rootID","transaction","getData","performUpdateIfNecessary","receiveComponent","visit","visitRoot","onMount","walkRoots","_instancesByReactRootID","_instancesByContainerID","restoreMany","onRoot","walkNode","olds","_currentElement","_instance","_renderedChildren","childrenList","getPublicInstance","isReactTopLevelWrapper","_stringText","internalInst","copyWithSet","setIn","copyWithSetImpl","updated","cachedDisplayNames","FB_MODULE_RE","getOpaqueNode","opaqueNodes","alternate","hasDataChanged","prevFiber","nextFiber","updateQueue","hasForceUpdate","memoizedProps","flushPendingEvents","pendingEvents","enqueueMount","getDataFiber","enqueueUpdateIfNecessary","hasChildOrderChanged","enqueueUnmount","opaqueNode","unshift","mountFiber","outer","sibling","updateFiber","prevChildAtSameIndex","prevChild","wasMounted","hostInstance","findHostInstanceByFiber","containerInfo","pendingProps","_defineProperty","measureStyle","left","top","margin","resolveBoxStyle","blank","measuredLayout","shallowClone","nobj","renameStyle","oldName","newName","newStyle","el","customStyle","setStyle","onCall","right","bottom","capFirst","subscriptionEnabled","sendStoreData","DefaultStoreData","getNodeData","shouldEnable","_hook$_relayInternals","Highlighter","hl","hideHighlight","refreshMultiOverlay","startInspecting","stopInspecting","captureSubscription","makeMagnifier","innerHTML","border","outline","cursor","zIndex","Overlay","MultiOverlay","win","onSelect","_win","_onSelect","_overlay","_multiOverlay","_subs","_inspecting","onHover","onMouseDown","onClick","unsub","_button","removeChild","removeMultiOverlay","COMMENT_NODE","removeOverlay","refresh","cancelBubble","onclick","appendChild","findTipPos","dims","tipHeight","innerHeight","innerWidth","getElementDimensions","calculatedStyle","getComputedStyle","borderLeft","borderLeftWidth","borderRight","borderRightWidth","borderTop","borderTopWidth","borderBottom","borderBottomWidth","marginLeft","marginRight","marginTop","marginBottom","paddingLeft","paddingRight","paddingTop","paddingBottom","getOwnerWindow","getOwnerIframe","nodeWindow","frameElement","getBoundingClientRectWithBorderOffset","dimensions","mergeRectOffsets","getBoundingClientRect","rects","previousRect","getNestedBoundingClientRect","boundaryWindow","ownerIframe","currentIframe","onlyOneMore","boxWrap","what","borderStyle","content","overlayStyles","background","pointerEvents","tip","fontFamily","nameSpan","dimSpan","box","tipPos","_currentNodes","boxSizing","ReactNativePropRegistry","getStyle","getByID","flattenStyle","styleLength","computedStyle","objects","RCTDebugComponentOwnership","getOwnerHierarchy","requestID","__registerInspectorAgent","getTimestamp","__inspectorTimestamp","InspectorAgent","Interceptor","_agent","_requests","initialPriority","documentURL","frameId","loaderId","timestamp","initiator","sendEvent","requestHeaders","mimeType","_getMimeType","connectionReused","connectionId","encodedDataLength","securityState","existingData","dataLength","errorText","contentType","NetworkAgent","maxResourceBufferSize","maxTotalBufferSize","setInterceptor","base64Encoded","DOMAIN","eventSender","_eventSender","RCTNativeAppEventEmitter","nativePerformanceNow","timespans","cookies","PRINT_TO_CONSOLE","PerformanceLogger","addTimespan","lengthInMs","totalTime","startTimespan","stopTimespan","clearExceptTimespans","previous","getTimespans","hasTimespan","logTimespans","addTimespans","newTimespans","labels","setExtra","getExtras","EventPluginRegistry","ReactErrorUtils","accumulateInto","forEachAccumulated","eventQueue","executeDispatchesAndRelease","simulated","executeDispatchesInOrder","isPersistent","executeDispatchesAndReleaseSimulated","executeDispatchesAndReleaseTopLevel","isInteractive","shouldPreventMouseEvent","disabled","getListener","registrationName","extractEvents","topLevelType","targetInst","nativeEvent","nativeEventTarget","plugins","possiblePlugin","extractedEvents","enqueueEvents","processEventQueue","processingEventQueue","rethrowCaughtError","eventPluginOrder","namesToPlugins","recomputePluginOrdering","pluginName","pluginModule","pluginIndex","publishedEvents","eventTypes","publishEventForPlugin","dispatchConfig","eventNameDispatchConfigs","phasedRegistrationNames","phaseName","phasedRegistrationName","publishRegistrationName","registrationNameModules","registrationNameDependencies","dependencies","lowerCasedName","possibleRegistrationNames","ondblclick","injectedEventPluginOrder","injectedNamesToPlugins","isOrderingDirty","getPluginModuleForEvent","phase","_resetEventPlugins","Injected","isEndish","isMoveish","isStartish","validateEventDispatches","dispatchListeners","_dispatchListeners","dispatchInstances","_dispatchInstances","listenersIsArr","listenersLen","instancesIsArr","instancesLen","executeDispatch","invokeGuardedCallbackWithCatch","invokeGuardedCallback","isPropagationStopped","executeDispatchesInOrderStopAtTrueImpl","executeDispatchesInOrderStopAtTrue","executeDirectDispatch","dispatchListener","dispatchInstance","hasDispatches","caughtError","createEvent","fakeNode","boundFunc","evtType","initEvent","scope","eventEmitter","EventPropagators","SyntheticEvent","customBubblingEventTypes","customDirectEventTypes","allTypesByEventName","bubblingTypeName","directTypeName","bubbleDispatchConfig","directDispatchConfig","accumulateTwoPhaseDispatches","accumulateDirectDispatches","ReactTreeTraversal","listenerAtPhase","propagationPhase","accumulateDirectionalDispatches","accumulateTwoPhaseDispatchesSingle","traverseTwoPhase","_targetInst","accumulateTwoPhaseDispatchesSingleSkipTarget","parentInst","getParentInstance","accumulateDispatches","ignoredDirection","accumulateDirectDispatchesSingle","accumulateTwoPhaseDispatchesSkipTarget","accumulateEnterLeaveDispatches","leave","enter","traverseEnterLeave","getParent","_hostParent","return","getLowestCommonAncestor","instA","instB","depthA","tempA","depthB","tempB","isAncestor","argFrom","argTo","common","pathFrom","pathTo","didWarnForAddedNewProperty","isProxySupported","Proxy","shouldBeReleasedProperties","EventInterface","Interface","normalize","isDefaultPrevented","persist","getPooledWarningPropertyDefinition","construct","that","augmentClass","Class","Super","getVal","warningCondition","ReactEventEmitterMixin","ReactNativeTagHandles","ReactGenericBatching","EMPTY_NATIVE_EVENT","touchSubsequence","touches","indices","removeTouchesAtIndices","rippedOut","temp","fillAt","registrationNames","_receiveRootNodeIDEvent","nativeEventParam","handleTopLevel","receiveEvent","receiveTouches","eventTopLevelType","changedIndices","changedTouches","jj","touch","tagsStartAt","runEventQueueInBatch","INITIAL_TAG_COUNT","tagCount","allocateTag","reactTagIsNativeTopRootID","assertRootTag","reactTag","ReactControlledComponent","stackBatchedUpdates","fiberBatchedUpdates","bookkeeping","performFiberBatchedUpdates","isNestingBatched","batchedUpdatesWithControlledComponents","restoreStateIfNeeded","ReactGenericBatchingInjection","injectStackBatchedUpdates","_batchedUpdates","injectFiberBatchedUpdates","fiberHostComponent","ReactControlledComponentInjection","injectFiberControlledHostComponent","hostComponentImpl","restoreTarget","restoreQueue","restoreStateOfTarget","restoreControlledState","enqueueStateRestore","queuedTargets","onChange","blockNativeResponder","setJSResponder","clearJSResponder","ResponderSyntheticEvent","ResponderTouchHistoryStore","accumulate","responderInst","trackedTouchCount","previousActiveTouches","changeResponder","nextResponderInst","blockHostResponder","oldResponderInst","GlobalResponderHandler","startShouldSetResponder","bubbled","captured","scrollShouldSetResponder","selectionChangeShouldSetResponder","moveShouldSetResponder","responderStart","responderMove","responderEnd","responderRelease","responderTerminationRequest","responderGrant","responderReject","responderTerminate","setResponderAndExtractTransfer","shouldSetEventType","bubbleShouldSetFrom","skipOverBubbleShouldSetFrom","shouldSetEvent","touchHistory","wantsResponderInst","extracted","grantEvent","terminationRequestEvent","shouldSwitch","terminateEvent","rejectEvent","canTriggerTransfer","topLevelInst","responderIgnoreScroll","noResponderTouches","activeTouch","_getResponder","recordTouchTrack","isResponderTouchStart","isResponderTouchMove","isResponderTouchEnd","incrementalTouch","gesture","isResponderTerminate","isResponderRelease","finalTouch","finalEvent","numberActiveTouches","GlobalInteractionHandler","injectGlobalInteractionHandler","ResponderEventInterface","dispatchMarker","MAX_TOUCH_BANK","touchBank","indexOfSingleActiveTouch","mostRecentTimeStamp","timestampForTouch","createTouchRecord","touchActive","startPageX","pageX","startPageY","pageY","startTimeStamp","currentPageX","currentPageY","currentTimeStamp","previousPageX","previousPageY","previousTimeStamp","resetTouchRecord","touchRecord","getTouchIdentifier","recordTouchStart","recordTouchMove","printTouch","printTouchBank","recordTouchEnd","printed","touchTrackToCheck","activeRecord","ReactComponentEnvironment","ReactDefaultBatchingStrategy","ReactEmptyComponent","ReactHostComponent","ReactNativeComponentEnvironment","ReactNativeTextComponent","ReactSimpleEmptyComponent","injectReconcileTransaction","ReactReconcileTransaction","injectBatchingStrategy","injectEnvironment","EmptyComponent","instantiate","collapsable","injectEmptyComponentFactory","injectTextComponentClass","injectGenericComponentClass","injected","replaceNodeWithMarkup","processChildrenUpdates","environment","Transaction","RESET_BATCHED_UPDATES","initialize","isBatchingUpdates","FLUSH_BATCHED_UPDATES","flushBatchedUpdates","TRANSACTION_WRAPPERS","ReactDefaultBatchingStrategyTransaction","reinitializeTransaction","getTransactionWrappers","alreadyBatchingUpdates","perform","ReactFeatureFlags","ReactReconciler","dirtyComponents","updateBatchNumber","batchingStrategy","ensureInjected","NESTED_UPDATES","dirtyComponentsLength","ReactUpdatesFlushTransaction","reconcileTransaction","mountOrderComparator","c1","c2","_mountOrder","runBatchedUpdates","markerName","logTopLevelRenders","namedComponent","timeEnd","enqueueUpdate","_updateBatchNumber","ReactUpdatesInjection","ReconcileTransaction","_batchingStrategy","getBatchingStrategy","prepareNewChildrenBeforeUnmountInStack","disableNewFiberFeatures","ReactRef","ReactInstrumentation","attachRefs","hostParent","hostContainerInfo","debugTool","markup","getReactMountReady","safely","skipLifecycle","detachRefs","nextElement","prevElement","_context","refsChanged","shouldUpdateRefs","ReactOwner","ReactCompositeComponentTypes","warnedAboutStatelessRefs","attachRef","_compositeType","StatelessFunctional","warningKey","addComponentAsRefTo","detachRef","removeComponentAsRefFrom","prevRef","prevOwner","nextRef","nextOwner","isValidOwner","ownerPublicInstance","ImpureClass","PureClass","OBSERVED_ERROR","TransactionImpl","transactionWrappers","wrapperInitData","_isInTransaction","isInTransaction","errorThrown","initializeAll","closeAll","startIndex","wrapper","initData","emptyComponentFactory","ReactEmptyComponentInjection","genericComponentClass","textComponentClass","ReactHostComponentInjection","createInternalComponent","createInstanceForText","isTextComponent","ReactNativeDOMIDOperations","ReactNativeReconcileTransaction","dangerouslyProcessChildrenUpdates","dangerouslyReplaceNodeWithMarkupByID","clearNode","childrenUpdates","containerTag","moveFromIndices","moveToIndices","addChildTags","addAtIndices","removeAtIndices","update","fromIndex","toIndex","mountImage","manageChildren","oldTag","replaceExistingNonRootView","CallbackQueue","ReactUpdateQueue","ON_DOM_READY_QUEUEING","reactMountReady","notifyAll","getUpdateQueue","checkpoint","rollback","validateCallback","_contexts","_arg","contexts","warnOnInvalidCallback","getInternalInstanceReadyForUpdate","enqueueCallbackInternal","_pendingCallbacks","_pendingForceUpdate","_pendingStateQueue","_pendingReplaceState","enqueueElementInternal","nextContext","_pendingElement","isInAParentText","nativeTopRootTag","_tag","createView","nextText","nextStringText","placeholderElement","ReactNativeStyleAttributes","ReactNativeViewAttributes","StyleSheetPropType","ViewStylePropTypes","AccessibilityComponentTypes","AccessibilityTraits","TVViewPropTypes","isTVOS","stylePropType","forceTouchAvailable","AccessibilityComponentType","RCTView","accessible","accessibilityLabel","accessibilityComponentType","accessibilityLiveRegion","importantForAccessibility","accessibilityTraits","accessibilityViewIsModal","onAccessibilityTap","onMagicTap","testID","onResponderGrant","onResponderMove","onResponderReject","onResponderRelease","onResponderTerminate","onResponderTerminationRequest","onStartShouldSetResponder","onStartShouldSetResponderCapture","onMoveShouldSetResponder","onMoveShouldSetResponderCapture","hitSlop","removeClippedSubviews","renderToHardwareTextureAndroid","shouldRasterizeIOS","needsOffscreenAlphaCompositing","nativeBackgroundAndroid","nativeForegroundAndroid","viewConfigs","viewAny","ViewToExport","createStrictShapeTypeChecker","merge","locationName","allKeys","rest","mergeInto","mergeHelpers","checkMergeObjectArg","checkMergeIntoObjectArg","keyMirror","MAX_MERGE_DEPTH","isTerminal","normalizeMergeArg","checkMergeArrayArgs","checkMergeObjectArgs","checkMergeLevel","checkArrayStrategy","strategy","ArrayStrategies","Clobber","IndexByIndex","ImageStylePropTypes","TextStylePropTypes","processTransform","sizesDiffer","transform","shadowOffset","diff","colorAttributes","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","shadowColor","textDecorationColor","tintColor","textShadowColor","overlayColor","ImageResizeMode","LayoutPropTypes","ShadowPropTypesIOS","TransformPropTypes","resizeMode","backfaceVisibility","borderRadius","overflow","opacity","borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius","contain","cover","stretch","center","display","minWidth","maxWidth","minHeight","maxHeight","marginVertical","marginHorizontal","paddingVertical","paddingHorizontal","flexWrap","alignSelf","alignContent","flexGrow","flexShrink","flexBasis","aspectRatio","direction","shadowOpacity","shadowRadius","deprecatedPropType","TransformMatrixPropType","DecomposedMatrixPropType","perspective","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","translateX","translateY","skewX","skewY","transformMatrix","decomposedMatrix","rotation","explanation","fontStyle","fontVariant","textShadowOffset","textShadowRadius","letterSpacing","lineHeight","textAlignVertical","includeFontPadding","textDecorationLine","textDecorationStyle","writingDirection","elevation","int32Color","MatrixMath","_validateTransforms","createIdentityMatrix","transformation","multiplyInto","_multiplyTransform","reusePerspectiveCommand","reuseRotateXCommand","_convertToRadians","reuseRotateYCommand","reuseRotateZCommand","reuseScaleCommand","reuseScaleXCommand","reuseScaleYCommand","reuseTranslate3dCommand","reuseTranslate2dCommand","reuseSkewXCommand","reuseSkewYCommand","matrixMathFunction","matrixToApply","argsWithIdentity","floatValue","PI","_validateTransform","multivalueTransforms","createCopy","createOrthographic","near","far","tx","ty","tz","createFrustum","r_width","r_height","r_depth","A","B","D","createPerspective","fovInRadians","aspect","createTranslate2d","mat","matrixCommand","z","createScale","factor","reuseScale3dCommand","reuseScaleZCommand","radians","cos","sin","amount","createRotateZ","out","a00","a01","a02","a03","a10","a11","a12","a13","a20","a21","a22","a23","a30","a31","a32","a33","b0","b1","b2","b3","determinant","matrix","m00","m01","m02","m03","m10","m11","m12","m13","m20","m21","m22","m23","m30","m31","m32","m33","inverse","det","transpose","multiplyVectorByMatrix","vx","vy","vz","vw","v3Length","sqrt","v3Normalize","vector","im","v3Dot","v3Combine","aScale","bScale","v3Cross","quaternionToDegreesXYZ","qx","qy","qz","qw","qw2","qx2","qy2","qz2","unit","conv","atan2","roundTo3Places","asin","decomposeMatrix","quaternion","skew","translation","perspectiveMatrix","rightHandSide","inversePerspectiveMatrix","transposedInversePerspectiveMatrix","pdum3","rotationDegrees","dummySize","UIView","shapePropType","isTVSelectable","hasTVPreferredFocus","tvParallaxProperties","tvParallaxShiftDistanceX","tvParallaxShiftDistanceY","tvParallaxTiltAngle","tvParallaxMagnification","UnimplementedView","createReactNativeComponentClass","insetsDiffer","matricesDiffer","pointsDiffer","resolveAssetSource","verifyPropTypes","componentInterface","extraConfig","NativeProps","useAttribute","attribute","differ","TypeToDifferMap","processor","TypeToProcessorMap","CATransform3D","CGPoint","CGSize","UIEdgeInsets","processColorArray","colors","CGColor","CGColorArray","UIColor","UIColorArray","CGImage","UIImage","RCTImageSource","Color","ColorArray","unimplementedView","StyleSheetValidation","flatten","hairlineWidth","roundToNearestPixel","absoluteFillObject","absoluteFill","setStyleAttributePreprocessor","validateStyle","fontScale","layoutSize","ratio","dimensionsInitialized","windowPhysicalPixels","screenPhysicalPixels","dim","caller","allStylePropTypes","message1","message2","styleError","validateStyleProp","stylePropTypes","addValidStylePropTypes","ReactNativeBaseComponent","ReactNativeViewConfigRegistry","ReactNativeFeatureFlags","createReactNativeFiberComponentClass","_topLevelWrapper","_hostContainerInfo","useFiber","ReactMultiChild","unmountChildren","initializeChildren","mountImages","mountChildren","createdTags","childTag","setChildren","updateChildren","deepDiffer","removedKeys","removedKeyCount","defaultDiffer","prevProp","nextProp","resolveObject","idOrObject","restoreDeletedValuesInNestedArray","propKey","attributeConfig","nextValue","diffNestedArrayProperty","prevArray","nextArray","minLength","diffNestedProperty","clearNestedProperty","addNestedProperty","diffProperties","addProperties","clearProperties","prevProps","nextProps","shouldUpdate","twoKey","ReactChildReconciler","flattenChildren","makeInsertMarkup","afterNode","fromNode","makeMove","_mountIndex","makeRemove","makeSetMarkup","makeTextContent","processQueue","setChildrenForInstrumentation","getDebugID","internal","_reconcilerInstantiateChildren","nestedChildren","selfDebugID","instantiateChildren","_reconcilerUpdateChildren","prevChildren","nextNestedChildrenElements","removedNodes","nextChildren","updateTextContent","nextContent","updates","updateMarkup","nextMarkup","_updateChildren","lastIndex","nextMountIndex","lastPlacedNode","moveChild","_mountChildAtIndex","_unmountChild","renderedChildren","createChild","instantiateReactComponent","shouldUpdateReactComponent","instantiateChild","childInstances","keyUnique","nestedChildNodes","childInsts","nextChildInstance","nextChildMountImage","renderedChild","ReactCompositeComponent","getNextDebugID","ReactCompositeComponentWrapper","isInternalComponentType","shouldHaveDebugID","getNativeNode","_mountImage","preventExtensions","_instantiateReactComponent","ReactNodeTypes","warningAboutMissingGetChildContext","shallowEqual","StatelessComponent","shouldConstruct","isPureComponent","measureLifeCyclePerf","nextMountID","_renderedNodeType","_calledComponentWillUnmount","publicProps","publicContext","_processContext","doConstruct","_constructComponent","renderedElement","propsMutated","componentDidUnmount","_processPendingState","unstable_handleError","performInitialMountWithErrorHandling","performInitialMount","_constructComponentWithoutOwner","_renderValidatedComponent","getType","EMPTY","_processChildContext","_maskContext","maskedContext","contextName","_checkContextTypes","currentContext","childContext","prevContext","prevParentElement","nextParentElement","prevUnmaskedContext","nextUnmaskedContext","willReceive","beforeState","afterState","nextState","prevState","_performComponentUpdate","dontMutate","partial","unmaskedContext","hasComponentDidUpdate","_updateRenderedComponentWithErrorHandling","_updateRenderedComponent","_updateRenderedComponentWithNextElement","nextRenderedElement","prevComponentInstance","prevRenderedElement","oldHostNode","_replaceNodeWithMarkup","prevInstance","_renderValidatedComponentWithoutOwnerOrContext","publicComponentInstance","HOST","COMPOSITE","objA","objB","keysA","keysB","prevEmpty","nextEmpty","prevType","nextType","nextDebugID","flattenSingleChildIntoContext","secretName","dummyInsets","dummyPoint","AssetRegistry","AssetSourceResolver","_customSourceTransformer","_serverURL","_bundleSourcePath","getDevServerURL","getBundleSourcePath","setCustomSourceTransformer","transformer","asset","getAssetByID","resolver","defaultAsset","pickScale","assets","registerAsset","assetId","assetPathUtils","getScaledAssetPath","scales","scaleSuffix","assetDir","getBasePath","getAssetPathInDrawableFolder","drawbleFolder","getAndroidDrawableFolderName","getAndroidResourceIdentifier","serverUrl","bundlePath","isLoadedFromServer","assetServerURL","isLoadedFromFileSystem","drawableFolderInBundle","resourceIdentifierWithoutScale","scaledAssetPathInBundle","fromSource","__packager_asset","deviceScale","getAndroidAssetSuffix","suffix","androidFolder","folderPath","basePath","httpServerLocation","nativePropsToIgnore","ReactNativeContainerInfo","TopLevelWrapper","mountComponentIntoNode","componentInstance","_mountImageIntoNode","batchedMountComponentIntoNode","nextWrappedElement","topRootNodeID","prevComponent","prevWrappedElement","nonNullCallback","containerID","removeRootView","unmountComponentFromNode","removeSubviewsFromContainerWithID","Path","Transform","arrayDiffer","fontAndLinesDiffer","font","SurfaceViewAttributes","NodeAttributes","GroupAttributes","clipping","RenderableAttributes","fill","stroke","strokeWidth","strokeCap","strokeJoin","strokeDash","ShapeAttributes","TextAttributes","alignment","NativeSurfaceView","NativeGroup","NativeShape","NativeText","childrenAsString","Surface","isInSurface","extractNumber","pooledTransform","extractTransform","transformTo","move","originX","originY","xx","yx","xy","yy","extractOpacity","visible","Group","ClippingRectangle","propsExcludingXAndY","SOLID_COLOR","LINEAR_GRADIENT","RADIAL_GRADIENT","PATTERN","insertColorIntoArray","targetArray","atIndex","alpha","insertColorsIntoArray","stops","offset","insertOffsetsIntoArray","multi","offsetNumber","offsetString","insertColorStopsIntoArray","insertDoubleColorStopsIntoArray","applyBoundingBoxToBrushData","brushData","extractBrush","colorOrBrush","_brush","_bb","extractColor","extractStrokeCap","extractStrokeJoin","Shape","toJSON","cachedFontObjectsFromString","fontFamilyPrefix","fontFamilySuffix","extractSingleFontFamily","fontFamilyString","parseFontString","regexp","isBold","isItalic","extractFont","newLine","extractFontAndLines","extractAlignment","textPath","textFrame","LinearGradient","x1","y1","x2","y2","angle","abs","RadialGradient","fx","fy","rx","ry","cx","cy","Pattern","ReactART","results","isColor","namedColor","limit","listMatch","hexMatch","parseRGB","bit","parseHEX","parseHSB","hsb","hue","floor","parseHSL","toHSB","delta","saturation","brightness","rr","gr","toHSL","lightness","toHEX","hex","toRGB","detach","MOVE_TO","CLOSE","LINE_TO","CURVE_TO","ARC","SerializablePath","applyToPath","onReset","onMove","sx","sy","onLine","onBezierCurve","p1x","p1y","p2x","p2y","_arcToBezier","onArc","ey","sa","ea","ccw","cmd","curve","arc","moveTo","lineTo","curveTo","arcTo","penY","penX","penDownX","penDownY","_pivotX","_pivotY","c1x","c1y","c2x","c2y","counterClockwise","tX","tY","clockwise","large","rad","rxry","rycx","rxcy","cxd","cyd","counterArc","counterArcTo","gx","gy","v1","v2","s1x","s1y","l1x","l1y","l2x","l2y","r2x","r2y","r1x","r1y","l2r1x","l2r1y","ceil","cp1x","cp1y","cp2x","cp2y","_transform","translate","deg","rotateTo","flip","scaleTo","resizeTo","inversePoint","point","buttonStyles","textStyles","buttonDisabled","textDisabled","formattedTitle","defaultBlue","ios","mergeFast","isHighlighted","numberOfLines","ellipsizeMode","allowFontScaling","selectable","selectionColor","adjustsFontSizeToFit","minimumFontScale","textBreakStrategy","onLongPress","pressRetentionOffset","suppressHighlighting","touchableGetInitialState","_handlers","_hasPressHandler","touchableHandleActivePressIn","touchableHandleActivePressOut","touchableHandlePress","touchableHandleLongPress","touchableGetPressRectOffset","shouldSetFromProps","setResponder","PRESS_RECT_OFFSET","dispatchID","touchableHandleResponderGrant","touchableHandleResponderMove","touchableHandleResponderRelease","touchableHandleResponderTerminate","allowTermination","touchableHandleResponderTerminationRequest","TOUCH_TARGET_DEBUG","RCTText","RCTVirtualText","BoundingDimensions","Position","TVEventHandler","TouchEventUtils","States","NOT_RESPONDER","RESPONDER_INACTIVE_PRESS_IN","RESPONDER_INACTIVE_PRESS_OUT","RESPONDER_ACTIVE_PRESS_IN","RESPONDER_ACTIVE_PRESS_OUT","RESPONDER_ACTIVE_LONG_PRESS_IN","RESPONDER_ACTIVE_LONG_PRESS_OUT","ERROR","IsActive","IsPressingIn","IsLongPressingIn","Signals","DELAY","RESPONDER_GRANT","RESPONDER_RELEASE","RESPONDER_TERMINATED","ENTER_PRESS_RECT","LEAVE_PRESS_RECT","LONG_PRESS_DETECTED","Transitions","HIGHLIGHT_DELAY_MS","PRESS_EXPAND_PX","LONG_PRESS_THRESHOLD","LONG_PRESS_DELAY_MS","LONG_PRESS_ALLOWED_MOVEMENT","TouchableMixin","_tvEventHandler","cmp","myTag","touchableDelayTimeout","longPressDelayTimeout","pressOutDelayTimeout","touchable","touchState","responderID","rejectResponderTermination","touchableHandleStartShouldSetResponder","touchableLongPressCancelsPress","_receiveSignal","touchableGetHighlightDelayMS","_handleDelay","longDelayMS","touchableGetLongPressDelayMS","_handleLongDelay","positionOnActivate","dimensionsOnActivate","pressRectOffset","pressExpandLeft","pressExpandTop","pressExpandRight","pressExpandBottom","touchableGetHitSlop","extractSingleTouch","pressInLocation","movedDistance","_getDistanceBetweenPoints","_cancelLongPressDelayTimeout","isTouchWithinActive","curState","_remeasureMetricsOnActivation","_handleQueryLayout","globalX","globalY","signal","_performSideEffectsForTransition","_isHighlight","_savePressInLocation","locationX","locationY","aX","aY","bX","bY","deltaX","deltaY","curIsHighlight","newIsHighlight","isFinalSignal","_startHighlight","_endHighlight","hasLongPressHandler","pressIsLongButStillCallOnPress","shouldInvokePress","touchableGetPressOutDelayMS","renderDebugView","debugHitSlopStyle","hexColor","getPooledFromElement","offsetWidth","offsetHeight","hasTouches","hasChangedTouches","keyOne","keyTwo","ensurePositiveDelayProps","rippleBackgroundPropType","borderless","themeAttributeBackgroundPropType","backgroundPropType","PRESS_RETENTION_OFFSET","useForeground","SelectableBackground","SelectableBackgroundBorderless","Ripple","canUseNativeForeground","onPressIn","_dispatchPressedStateChange","_dispatchHotspotUpdate","onPressOut","delayPressIn","delayLongPress","delayPressOut","_handleResponderMove","destX","destY","hotspotUpdate","pressed","setPressed","drawableProp","childProps","TimerMixin","setter","_setter","_clearer","clearer","_timeouts","_clearTimeout","_setTimeout","_intervals","_clearInterval","_setInterval","_immediates","_clearImmediate","_setImmediate","_rafs","_cancelAnimationFrame","_requestAnimationFrame","activeOpacity","focusedOpacity","anim","Value","_getChildStyleOpacityWithDefault","setOpacityTo","timing","toValue","easing","inOut","quad","useNativeDriver","_opacityActive","_opacityInactive","_opacityFocused","childStyle","AnimatedImplementation","createAnimatedComponent","Interpolation","NativeAnimatedHelper","SpringConfig","NativeAnimatedAPI","API","warnedMissingNativeAnimated","shouldUseNativeDriver","isNativeAnimatedAvailable","__isNative","__nativeTag","dropAnimatedNode","__getValue","assertNativeAnimatedModule","generateNewNodeTag","createAnimatedNode","__getNativeConfig","Animation","fromValue","onUpdate","onEnd","previousAnimation","animatedValue","__nativeId","stopAnimation","__onEnd","__makeNative","generateNewAnimationId","startAnimatingNode","__getNativeTag","__getNativeAnimationConfig","__debouncedOnEnd","AnimatedWithChildren","_children","connectAnimatedNodes","__attach","disconnectAnimatedNodes","__detach","_flush","rootNode","animatedStyles","findAnimatedStyles","__getChildren","animatedStyle","_easeInOut","easeInOut","ease","TimingAnimation","_toValue","_easing","_duration","_delay","delay","__isInteraction","isInteraction","_useNativeDriver","frameDuration","frames","__active","_fromValue","_onUpdate","finished","_startTime","__startNativeAnimation","_animationFrame","_timeout","DecayAnimation","_deceleration","deceleration","_velocity","velocity","_lastValue","exp","withDefault","SpringAnimation","_overshootClamping","overshootClamping","_restDisplacementThreshold","restDisplacementThreshold","_restSpeedThreshold","restSpeedThreshold","_initialVelocity","_lastVelocity","springConfig","bounciness","speed","tension","friction","fromBouncinessAndSpeed","fromOrigamiTensionAndFriction","_tension","_friction","initialVelocity","_startPosition","_lastPosition","_lastTime","internalState","getInternalState","lastPosition","lastVelocity","lastTime","tempPosition","tempVelocity","MAX_STEPS","TIMESTEP_MSEC","numSteps","aVelocity","aAcceleration","bVelocity","bAcceleration","cVelocity","cAcceleration","dVelocity","dAcceleration","dxdt","dvdt","isOvershooting","isVelocity","isDisplacement","_uniqueId","AnimatedValue","_value","_offset","_animation","_startListeningToNativeValueUpdates","_updateValue","setAnimatedNodeValue","setAnimatedNodeOffset","flattenAnimatedNodeOffset","extractAnimatedNodeOffset","_stopListeningForNativeValueUpdates","__nativeAnimatedValueListener","startListeningToAnimatedNodeValue","nativeEventEmitter","stopListeningToAnimatedNodeValue","stopTracking","AnimatedInterpolation","animation","createInteractionHandle","clearInteractionHandle","_tracking","tracking","flush","AnimatedValueXY","valueIn","setOffset","flattenOffset","extractOffset","jointCallback","_parent","_config","_interpolation","parentValue","__addChild","__removeChild","range","degrees","validateInterpolation","inputRange","outputRange","__transformDataType","extrapolateLeft","extrapolate","extrapolateRight","AnimatedAddition","_a","_b","AnimatedDivision","AnimatedMultiplication","AnimatedModulo","modulus","_modulus","AnimatedDiffClamp","_min","_max","AnimatedTransform","transforms","_transforms","__getAnimatedValue","transConfigs","nodeTag","validateTransform","AnimatedStyle","_style","styleConfig","styleKey","validateStyles","AnimatedProps","_props","_callback","AnimatedEvent","__getHandler","_animatedView","__disconnectAnimatedView","__connectAnimatedView","animatedView","nativeViewTag","connectAnimatedNodeToView","disconnectAnimatedNodeFromView","propsConfig","AnimatedComponent","_setComponentRef","_propsAnimated","_detachNativeEvents","_component","_attachProps","setNativeView","_attachNativeEvents","getScrollableNode","oldPropsAnimated","AnimatedTracking","animationClass","animationConfig","_animationClass","_animationConfig","animate","divide","multiply","modulo","diffClamp","_combineCallbacks","onComplete","maybeVectorAnim","configX","configY","parallel","stopTogether","spring","singleValue","singleConfig","decay","sequence","animations","doneCount","hasEnded","endResult","stagger","argMapping","_argMapping","_validateMapping","viewRef","eventMappings","traverse","nativeEventPath","animatedValueTag","viewTag","addAnimatedEventToView","removeAnimatedEventFromView","recMapping","recEvt","mappingKey","animatedEvent","ValueXY","__PropsOnlyForTests","TaskQueue","infoLog","_emitter","DEBUG_DELAY","DEBUG","Events","interactionStart","interactionComplete","runAfterInteractions","task","tasks","_scheduleUpdate","run","_taskQueue","enqueueTasks","cancel","cancelTasks","_inc","_addInteractionSet","_deleteInteractionSet","setDeadline","_deadline","_interactionSet","onMoreTasks","_nextUpdateHandle","_processUpdate","interactionCount","nextInteractionCount","hasTasksToProcess","processNext","getEventLoopRunningTime","_onMoreTasks","_queueStack","popable","_getCurrentQueue","tasksToCancel","gen","_genPromise","stackIdx","queueStackSize","linear","createInterpolationFromStringOutputRange","checkInfiniteRange","checkValidInputRange","findRange","interpolate","inputMin","inputMax","outputMin","outputMax","colorToRgba","stringShapeRegex","checkPattern","outputRanges","interpolations","shouldRound","isRgbOrRgba","rounded","NativeAnimatedModule","__nativeAnimatedNodeTagCount","__nativeAnimationIdCount","parentTag","animationId","endCallback","eventMapping","STYLES_WHITELIST","TRANSFORM_WHITELIST","configs","SUPPORTED_INTERPOLATION_PARAMS","tensionFromOrigamiValue","oValue","frictionFromOrigamiValue","startValue","endValue","projectNormal","linearInterpolation","quadraticOutInterpolation","b3Friction1","b3Friction2","b3Friction3","b3Nobounce","bouncyTension","bouncyFriction","nativeRequestAnimationFrame","currTime","timeDelay","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","bezier","_bezier","NEWTON_ITERATIONS","NEWTON_MIN_SLOPE","SUBDIVISION_PRECISION","SUBDIVISION_MAX_ITERATIONS","kSplineTableSize","kSampleStepSize","float32ArraySupported","Float32Array","aA1","aA2","calcBezier","aT","getSlope","binarySubdivide","aA","aB","mX1","mX2","currentX","currentT","newtonRaphsonIterate","aGuessT","currentSlope","mY1","mY2","sampleValues","getTForX","intervalStart","currentSample","lastSample","dist","guessForT","initialSlope","BezierEasing","filterObject","ImageLoader","ImageViewAttributes","loadingIndicatorSrc","resizeMethod","progressiveRenderingEnabled","fadeDuration","shouldNotifyLoadEvents","ViewStyleKeys","ImageSpecificStyleKeys","loadingIndicatorSource","onLoadStart","onLoad","onLoadEnd","getSize","failure","sizes","prefetch","prefetchImage","abortPrefetch","queryCache","urls","_updateViewConfig","containerStyle","imageStyle","imageProps","absoluteImage","cfg","RKImage","RCTTextInlineImage","ScrollResponder","processDecelerationRate","automaticallyAdjustContentInsets","contentInset","contentOffset","bounces","bouncesZoom","alwaysBounceHorizontal","alwaysBounceVertical","centerContent","contentContainerStyle","decelerationRate","horizontal","indicatorStyle","directionalLockEnabled","canCancelContentTouches","keyboardDismissMode","keyboardShouldPersistTaps","maximumZoomScale","minimumZoomScale","onScroll","onScrollAnimationEnd","onContentSizeChange","pagingEnabled","scrollEnabled","scrollEventThrottle","scrollIndicatorInsets","scrollsToTop","showsHorizontalScrollIndicator","showsVerticalScrollIndicator","stickyHeaderIndices","snapToInterval","snapToAlignment","zoomScale","refreshControl","endFillColor","scrollPerfTag","overScrollMode","scrollResponderMixinGetInitialState","_scrollViewRef","getScrollResponder","getInnerViewNode","_innerViewRef","scrollTo","animated","scrollResponderScrollTo","scrollToEnd","scrollResponderScrollToEnd","scrollWithoutAnimationTo","_handleScroll","scrollResponderHandleScroll","_handleContentOnLayout","layout","_setScrollViewRef","_setInnerViewRef","ScrollViewClass","ScrollContentContainerViewClass","RCTScrollView","RCTScrollContentView","AndroidHorizontalScrollView","AndroidScrollView","contentContainerHorizontal","childLayoutProps","contentSizeChangeProps","contentContainer","baseStyle","baseHorizontal","baseVertical","onTouchStart","scrollResponderHandleTouchStart","onTouchMove","scrollResponderHandleTouchMove","onTouchEnd","scrollResponderHandleTouchEnd","onScrollBeginDrag","scrollResponderHandleScrollBeginDrag","onScrollEndDrag","scrollResponderHandleScrollEndDrag","onMomentumScrollBegin","scrollResponderHandleMomentumScrollBegin","onMomentumScrollEnd","scrollResponderHandleMomentumScrollEnd","scrollResponderHandleStartShouldSetResponder","scrollResponderHandleStartShouldSetResponderCapture","onScrollShouldSetResponder","scrollResponderHandleScrollShouldSetResponder","scrollResponderHandleResponderGrant","scrollResponderHandleTerminationRequest","scrollResponderHandleTerminate","scrollResponderHandleResponderRelease","scrollResponderHandleResponderReject","sendMomentumEvents","nativeOnlyProps","Subscribable","ScrollViewManager","IS_ANIMATING_TOUCH_START_THRESHOLD_MS","isTagInstanceOfTextInput","ScrollResponderMixin","isTouching","lastMomentumScrollBeginTime","lastMomentumScrollEndTime","observedScrollSinceBecomingResponder","becameResponderWhileAnimating","currentlyFocusedTextInput","keyboardNeverPersistTaps","scrollResponderIsAnimating","onScrollResponderKeyboardDismissed","timeSinceLastMomentumScrollEnd","isAnimating","scrollResponderGetScrollableNode","scrollResponderScrollWithoutAnimationTo","offsetX","offsetY","scrollResponderZoomTo","zoomToRect","scrollResponderScrollNativeHandleToKeyboard","nodeHandle","additionalOffset","preventNegativeScrollOffset","additionalScrollOffset","scrollResponderTextInputFocusError","scrollResponderInputMeasureAndScrollToKeyboard","keyboardScreenY","keyboardWillOpenTo","endCoordinates","screenY","scrollOffsetY","addListenerOn","scrollResponderKeyboardWillShow","scrollResponderKeyboardWillHide","scrollResponderKeyboardDidShow","scrollResponderKeyboardDidHide","onKeyboardWillShow","onKeyboardWillHide","onKeyboardDidShow","onKeyboardDidHide","_subscribableSubscriptions","DummyDatePickerIOS","dummyDatePickerIOS","datePickerText","DrawerConsts","AndroidDrawerLayout","Constants","RK_DRAWER_REF","INNERVIEW_REF","DRAWER_STATES","positions","DrawerPosition","drawerBackgroundColor","drawerPosition","Left","Right","drawerWidth","drawerLockMode","onDrawerSlide","onDrawerStateChanged","onDrawerOpen","onDrawerClose","renderNavigationView","statusBarBackgroundColor","_updateStatusBarBackground","componentDidReceiveProps","drawStatusBar","drawerViewWrapper","drawerSubview","drawerStatusBar","childrenWrapper","mainSubview","statusBar","_onDrawerSlide","_onDrawerOpen","_onDrawerClose","_onDrawerStateChanged","drawerState","openDrawer","_getDrawerLayoutHandle","closeDrawer","currentHeight","StatusBarManager","mergePropsStack","propsStack","defaultValues","createStackEntry","barStyle","translucent","hidden","transition","showHideTransition","networkActivityIndicatorVisible","_stackEntry","_updatePropsStack","_updateImmediate","oldProps","_currentValues","mergedProps","_propsStack","_defaultProps","setHidden","setNetworkActivityIndicatorVisible","setColor","setTranslucent","HEIGHT","MetroListView","getItemCount","numColumns","_hasWarnedLegacy","_captureRef","_listRef","_getItem","kk","_getItemCount","_keyExtractor","keyExtractor","_onViewableItemsChanged","onViewableItemsChanged","changed","viewableItems","_pushMultiColumnViewable","_renderItem","renderItem","columnWrapperStyle","_shouldItemUpdate","shouldItemUpdate","prevItem","scrollToIndex","scrollToItem","scrollToOffset","recordInteraction","_checkProps","legacyImplementation","_computeState","ds","DataSource","rowHasChanged","itemA","itemB","sectionHeaderHasChanged","getSectionHeaderData","dataBlob","sectionID","sectionHeaderData","_renderFooter","_renderRow","rowID","highlightRow","_renderSectionHeader","renderSectionHeader","_renderSeparator","sID","rID","FooterComponent","sections","SeparatorComponent","sectionIn","cloneWithRowsAndSections","cloneWithRows","renderScrollComponent","onRefresh","refreshing","ListViewDataSource","RCTScrollViewManager","StaticRenderer","cloneReferencedElement","isEmpty","DEFAULT_PAGE_SIZE","DEFAULT_INITIAL_ROWS","DEFAULT_SCROLL_RENDER_AHEAD","DEFAULT_END_REACHED_THRESHOLD","DEFAULT_SCROLL_CALLBACK_THROTTLE","_childFrames","_sentEndForContentLength","_scrollComponent","_prevRenderedRowsCount","_visibleRows","scrollProperties","dataSource","renderSeparator","renderRow","initialListSize","onEndReached","onEndReachedThreshold","pageSize","renderFooter","renderHeader","scrollRenderAheadDistance","onChangeVisibleRows","stickySectionHeadersEnabled","enableEmptySections","getMetrics","contentLength","totalRows","getRowAndSectionCount","getRowCount","renderedRows","curRenderedRowsCount","visibleRows","highlightedRow","visibleLength","_measureAndUpdateScrollProps","_renderMoreRowsIfNeeded","_onRowHighlighted","bodyComponents","allRowIDs","rowIdentities","rowCount","stickySectionHeaderIndices","totalIndex","sectionIdx","sectionIdentities","rowIDs","shouldUpdateHeader","sectionHeaderShouldUpdate","rowIdx","comboID","shouldUpdateRow","rowShouldUpdate","getRowData","adjacentRowHighlighted","separator","_setScrollComponentRef","_onContentSizeChange","_onLayout","scrollComponent","calculateChildFrames","_updateVisibleRows","_maybeCallOnEndReached","_getDistanceFromEnd","distanceFromEnd","_pageInNewRows","rowsToRender","updatedFrames","newFrame","isVertical","visibleMin","visibleMax","visibilityChanged","changedRows","visibleSection","rowVisible","layoutMeasurement","contentSize","updatedChildFrames","defaultGetRowData","defaultGetSectionHeaderData","_rowHasChanged","_getRowData","_sectionHeaderHasChanged","_getSectionHeaderData","_dataBlob","_dirtyRows","_dirtySections","_cachedRowCount","rowIds","s1","newSource","countRows","_calculateDirtyArrays","sectionIndex","rowIndex","needsUpdate","accessIndex","prevDataBlob","prevSectionIDs","prevRowIDs","prevSectionsHash","keyedDictionaryFromArray","prevRowsHash","dirty","sIndex","rIndex","cloneRef","originalRef","RefreshLayoutConsts","AndroidSwipeRefreshLayout","SIZE","titleColor","progressBackgroundColor","DEFAULT","LARGE","progressViewOffset","_nativeRef","_lastNativeRefreshing","_onRefresh","NativeRefreshControl","Batchinator","ViewabilityHelper","computeWindowedRenderLimits","_usedIndexForKey","veryLast","_getFrameMetricsApprox","_footerLength","_scrollMetrics","_scrollRef","viewPosition","itemCount","_viewabilityHelper","_updateViewableItems","_updateCellsToRenderBatcher","_updateCellsToRender","updateCellsBatchingPeriod","viewabilityConfig","initialNumToRender","dispose","maxToRenderPerBatch","schedule","ItemSeparatorComponent","_onCellLayout","_onCellUnmount","ListFooterComponent","ListHeaderComponent","disableVirtualization","_onLayoutHeader","lastInitialIndex","_pushCells","initBlock","firstSpace","_hasWarned","lastFrame","getItemLayout","_highestMeasuredFrameIndex","endFrame","tailSpacerLength","_onLayoutFooter","_onScrollBeginDrag","_captureScrollRef","_renderDebugOverlay","framesInLayout","inLayout","windowTop","frameLast","windowLen","visTop","visLen","metrics","_getFrameMetrics","_createViewToken","windowSize","_averageCellLength","_headerLength","_frames","_totalCellLength","_totalCellsMeasured","cellKey","_selectOffset","_selectLength","curr","perf","prevDt","dOffset","distanceToContentEdge","hiPri","abort","renderAhead","isViewable","CellRenderer","onUnmount","parentProps","_taskHandle","timeoutHandle","viewAreaCoveragePercentThreshold","_hasInteracted","_lastUpdateTime","_timers","_viewableIndices","_viewableItems","scrollOffset","viewportHeight","getFrameMetrics","renderRange","itemVisiblePercentThreshold","viewAreaMode","viewablePercentThreshold","viewableIndices","firstVisible","_isViewable","createViewToken","updateTime","updateElapsed","waitForInteraction","computeViewableItems","minimumViewTime","_onUpdateSync","viewableIndicesToCheck","prevItems","nextItems","viewable","itemLength","_isEntirelyVisible","pixels","_getPixelsVisible","percent","visibleHeight","elementsThatOverlapOffsets","offsets","trailingOffset","newRangeCount","getFrameMetricsApprox","scrollMetrics","visibleBegin","visibleEnd","overscanLength","leadFactor","overscanBegin","overscanEnd","overscanFirst","overscanLast","newCellCount","maxNewCells","firstWillAddMore","firstShouldIncrement","lastWillAddMore","lastShouldIncrement","VirtualizeUtils","RCTImageEditingManager","ImageEditingManager","cropData","cropImage","RCTImageStoreManager","ImageStoreManager","hasImageForTag","removeImageForTag","base64ImageData","addImageFromBase64","getBase64ForTag","behavior","keyboardVerticalOffset","relativeKeyboardHeight","keyboardFrame","onKeyboardChange","configureNext","Types","heightStyle","positionStyle","paddingStyle","TypesEnum","easeInEaseOut","easeIn","easeOut","keyboard","PropertiesEnum","scaleXY","Properties","animType","springDamping","configType","checkConfig","onAnimationDidEnd","configureNextLayoutAnimation","creationProp","Presets","showsUserLocation","followUserLocation","showsPointsOfInterest","showsCompass","showsAnnotationCallouts","zoomEnabled","rotateEnabled","pitchEnabled","mapType","region","latitude","longitude","latitudeDelta","longitudeDelta","annotations","animateDrop","draggable","onDragStateChange","onFocus","onBlur","subtitle","leftCalloutView","rightCalloutView","detailCalloutView","hasLeftCallout","hasRightCallout","onLeftCalloutPress","onRightCalloutPress","overlays","coordinates","lineWidth","strokeColor","fillColor","maxDelta","minDelta","legalLabelInsets","onRegionChange","onRegionChangeComplete","onAnnotationPress","active","PinColors","RED","GREEN","PURPLE","annotation","viewIndex","annotationView","leftCalloutViewIndex","calloutView","rightCalloutViewIndex","detailCalloutViewIndex","overlay","findByAnnotationId","annotationId","onAnnotationDragStateChange","onAnnotationFocus","onAnnotationBlur","side","continuous","showUserLocation","RCTMap","AppContainer","RCTModalHostView","containerStyles","animationType","innerChildren","rootTag","hardwareAccelerated","onRequestClose","onShow","modal","_shouldSetResponder","supportedOrientations","onOrientationChange","isRTL","inspector","mainKey","_subscription","Inspector","_mainRef","updateInspectedViewTag","yellowBox","YellowBox","appContainer","InspectorOverlay","InspectorPanel","InspectorUtils","devtoolsAgent","hierarchy","panelPos","inspecting","perfing","selection","inspectedViewTag","networking","attachToDevtools","touched","pointerY","lastNotNativeInstance","selectFromReactInstance","onRequestRerenderApp","panelContainerStyle","onTouchInstance","panelContainer","setPerfing","setInspecting","setSelection","setTouchTargetting","setNetworking","_hideWait","hlSub","hideSub","ElementBox","findViewForTouchEvent","findSubviewIn","findInstanceByNativeTag","shouldSetResponser","traverseOwnerTreeUp","BorderBox","frameStyle","contentStyle","ElementProperties","NetworkOverlay","PerformanceOverlay","waitingText","contents","properties","waiting","renderWaiting","devtoolsIsOpen","buttonRow","touchTargetting","buttonPressed","buttonText","BoxInspector","StyleInspector","mapWithSeparator","openFileInEditor","openFileButton","fileNameShort","openButton","openButtonTitle","breadcrumb","breadItem","selected","breadItemText","getInstanceName","breadSep","marginLabel","innerText","BoxContainer","titleStyle","boxText","noStyle","ensureComponentIsNative","keyOf","DEFAULT_PROPS","underlayColor","onShowUnderlay","onHideUnderlay","_computeSyntheticState","activeProps","activeUnderlayProps","underlayStyle","INACTIVE_UNDERLAY_PROPS","CHILD_REF","_hideTimeout","_showUnderlay","_hideUnderlay","UNDERLAY_REF","INACTIVE_CHILD_PROPS","childRef","underlayRef","oneKeyObj","itemRenderer","spacerRenderer","mapped","WebSocketInterceptor","XHRInterceptor","LISTVIEW_CELL_HEIGHT","SEPARATOR_THICKNESS","nextXHRId","_detailViewItems","_listViewDataSource","r1","r2","newDetailInfo","detailRowID","_listViewHighlighted","_listViewHeight","_captureRequestListView","_captureDetailScrollView","_listViewOnLayout","_closeButtonClicked","_socketIdMap","_xhrIdMap","isInterceptorEnabled","setOpenCallback","_index","xhrIndex","_xhr","_genDetailViewItem","_scrollToBottom","setRequestHeaderCallback","_getRequestIndexByXHRID","networkInfo","setSendCallback","dataSent","setHeaderReceivedCallback","responseContentType","responseSize","setResponseCallback","enableInterception","setConnectCallback","socketId","socketIndex","_webSocket","setCloseCallback","messages","setOnMessageCallback","setOnCloseCallback","serverClose","setOnErrorCallback","serverError","_enableXHRInterception","_enableWebSocketInterception","disableInterception","rowData","urlCellViewStyle","urlEvenCellView","methodCellViewStyle","methodEvenCellView","urlOddCellView","methodOddCellView","_pressRow","tableRow","cellText","_getTypeShortName","_listView","scrollResponder","scrollY","listRef","_scrollToTop","_scrollView","scrollRef","detailViewItem","requestItem","detailViewRow","detailViewText","detailKeyCellView","detailValueCellView","_getStringByValue","closeButton","clostButtonText","detailScrollView","listViewTitle","urlTitleCellView","methodTitleCellView","listView","_renderSeperator","originalRCTWebSocketConnect","originalRCTWebSocketSend","originalRCTWebSocketSendBinary","originalRCTWebSocketClose","closeCallback","sendCallback","connectCallback","onOpenCallback","onMessageCallback","onErrorCallback","onCloseCallback","setOnOpenCallback","_arrayBufferToString","originalXHROpen","originalXHRSend","originalXHRSetRequestHeader","openCallback","requestHeaderCallback","headerReceivedCallback","responseCallback","contentTypeString","contentLengthString","perfLogs","_warningEmitter","_warningMap","updateWarningMap","disableYellowBox","sprintf","warningInfo","stacktrace","symbolicated","ensureSymbolicatedWarning","prevWarningInfo","nextWarningInfo","isWarningIgnored","ignoredYellowBox","ignorePrefix","WarningRow","countText","listRowCount","listRow","listRowContent","listRowText","StackRow","fileParts","openInEditorButton","inspectorCountText","WarningInspector","stacktraceVisible","onDismissAll","onMinimize","toggleStacktrace","countSentence","stacktraceList","inspectorCount","inspectorButtonText","inspectorWarning","inspectorWarningText","inspectorButtons","inspectorButton","warningMap","dismissWarning","scheduled","listStyle","rowGutter","rowHeight","fullScreen","textColor","allowRTL","forceRTL","AnimationsDebugModule","InteractionMixin","NavigationContext","NavigatorBreadcrumbNavigationBar","NavigatorNavigationBar","NavigatorSceneConfigs","clamp","rebound","SCREEN_WIDTH","SCREEN_HEIGHT","SCENE_DISABLED_NATIVE_PROPS","__uid","getuid","getRouteID","route","defaultSceneStyle","baseScene","disabledScene","transitioner","GESTURE_ACTIONS","configureScene","renderScene","initialRoute","initialRouteStack","onWillFocus","onDidFocus","navigationBar","sceneStyle","BreadcrumbNavigationBar","NavigationBar","SceneConfigs","PushFromRight","_navigationBarNavigator","navigationBarNavigator","_renderedSceneMap","_sceneRefs","routeStack","initialRouteIndex","sceneConfigStack","presentedIndex","transitionFromIndex","activeGesture","pendingGestureProgress","transitionQueue","_getNavigationContext","_subRouteFocus","parentNavigator","springSystem","SpringSystem","createSpring","setRestSpeedThreshold","setCurrentValue","setAtRest","onSpringEndStateChange","_interactionHandle","onSpringUpdate","_handleSpringUpdate","onSpringAtRest","_completeTransition","panGesture","onMoveShouldSetPanResponder","_handleMoveShouldSetPanResponder","onPanResponderRelease","_handlePanResponderRelease","onPanResponderMove","_handlePanResponderMove","onPanResponderTerminate","_handlePanResponderTerminate","_emitWillFocus","_emitDidFocus","_enableTVEventHandler","_navigationContext","destroy","_disableTVEventHandler","immediatelyResetRouteStack","nextRouteStack","destIndex","navBar","_navBar","immediatelyRefresh","_transitionTo","jumpSpringTo","transitionCb","_onAnimationStart","startRecordingFps","sceneConfig","setOvershootClampingEnabled","getSpringConfig","springFriction","springTension","setVelocity","defaultTransitionVelocity","setEndValue","_transitionBetween","getCurrentValue","presentedToIndex","_deltaForGestureAction","_onAnimationEnd","didFocusRoute","stopRecordingFps","_hideScenes","gestureToIndex","_enableScene","queuedTransition","navigationContext","handleWillFocus","gesturingToIndex","_disableScene","sceneIndex","enabledSceneNativeProps","_clearTransformations","defaultStyle","_setRenderSceneToHardwareTextureAndroid","onAnimationStart","onAnimationEnd","shouldRenderToHardwareTexture","viewAtIndex","_handleTouchStart","_eligibleGestures","gestureState","_expectingGestureGrant","_matchGestureAction","gestures","_doesGestureOverswipe","gestureName","wouldOverswipeBack","wouldOverswipeForward","gestureAction","releaseGestureAction","releaseGesture","isTravelVertical","isTravelInverted","gestureDistance","dy","dx","transitionVelocity","notMoving","hasGesturedEnoughToComplete","fullDistance","stillCompletionRatio","snapVelocity","transitionBackToPresentedIndex","_cleanScenesPastIndex","_detachGesture","_attachGesture","gestureId","_isMoveGestureAttached","_moveAttachedGesture","matchedGesture","distance","gestureDetectMovement","nextProgress","isDetachable","overswipe","frictionConstant","frictionByDistance","frictionRatio","eligibleGestures","gestureIndex","startedLoc","y0","x0","currentLoc","moveY","moveX","travelDist","oppositeAxisTravelDist","edgeHitWidth","moveStartedInRegion","moveTravelledFarEnough","directionIsCorrect","directionRatio","_transitionSceneStyle","sceneConfigIndex","styleToUse","useFn","animationInterpolators","into","directionAdjustedProgress","didChange","updateProgress","_handleResponderTerminationRequest","_getDestIndexWithinBounds","currentIndex","maxIndex","_jumpN","jumpTo","jumpForward","jumpBack","activeLength","activeStack","activeAnimationConfigStack","nextStack","nextSceneConfig","nextAnimationConfigStack","popN","popIndex","presentedRoute","popSceneConfig","replaceAtIndex","nextAnimationModeStack","replacePrevious","popToTop","popToRoute","indexOfRoute","numToPop","replacePreviousAndPop","resetTo","getCurrentRoutes","newStackLength","_renderScene","disabledSceneStyle","disabledScenePointerEvents","scene","_renderNavigationBar","navState","newRenderedSceneMap","scenes","renderedScene","panHandlers","_interactionMixinHandles","clearHandle","NavigationEvent","NavigationEventEmitter","NavigationTreeNode","AT_TARGET","BUBBLING_PHASE","CAPTURING_PHASE","LegacyEventTypes","_bubbleEventEmitter","_captureEventEmitter","_currentRoute","__node","_emitCounter","_emitQueue","_onFocus","useCapture","didEmitCallback","__emit","propagationStopped","targets","parentTarget","extraInfo","pool","NavigationEventPool","_list","_navigationEventPool","NONE","_type","_currentTarget","_data","_defaultPrevented","_disposed","_propagationStopped","put","_emitting","_target","immutable","List","__parent","toJS","Immutable","SLICE$0","Iterable","isIterable","Seq","KeyedIterable","isKeyed","KeyedSeq","IndexedIterable","isIndexed","IndexedSeq","SetIterable","isAssociative","SetSeq","IS_ITERABLE_SENTINEL","maybeKeyed","IS_KEYED_SENTINEL","maybeIndexed","IS_INDEXED_SENTINEL","maybeAssociative","isOrdered","maybeOrdered","IS_ORDERED_SENTINEL","Keyed","Indexed","DELETE","SHIFT","MASK","NOT_SET","CHANGE_LENGTH","DID_ALTER","MakeRef","SetRef","OwnerID","arrCopy","newArr","ensureSize","__iterate","returnTrue","wrapIndex","uint32Index","NaN","wholeSlice","begin","resolveBegin","resolveIndex","resolveEnd","defaultIndex","ITERATE_KEYS","ITERATE_VALUES","ITERATE_ENTRIES","REAL_ITERATOR_SYMBOL","Iterator","KEYS","VALUES","ENTRIES","toSource","iteratorValue","iteratorResult","iteratorDone","hasIterator","isIterator","maybeIterator","getIterator","isArrayLike","emptySequence","toSeq","seqFromValue","of","__toString","cacheResult","_cache","__iterateUncached","entrySeq","seqIterate","__iterator","seqIterator","toKeyedSeq","fromEntrySeq","keyedSeqFromValue","indexedSeqFromValue","toIndexedSeq","toSetSeq","isSeq","IS_SEQ_SENTINEL","ArraySeq","_array","notSetValue","ObjectSeq","_object","_keys","IterableSeq","_iterable","iterations","__iteratorUncached","IteratorSeq","_iteratorCache","cache","maybeSeq","EMPTY_SEQ","seq","maybeIndexedSeqFromValue","useKeys","fromJS","converter","fromJSWith","fromJSDefault","parentJSON","isPlainObj","toList","toMap","valueA","valueB","equals","deepEqual","__hash","notAssociative","flipped","allEqual","bSize","Repeat","times","EMPTY_REPEAT","searchValue","this$0","other","Range","_start","_end","EMPTY_RANGE","possibleIndex","offsetValue","KeyedCollection","IndexedCollection","SetCollection","imul","smi","i32","STRING_HASH_CACHE_MIN_STRLEN","cachedHashString","hashString","hashCode","hashJSObj","stringHashCache","STRING_HASH_CACHE_SIZE","STRING_HASH_CACHE_MAX_SIZE","usingWeakMap","weakMap","UID_HASH_KEY","objHashUID","assertNotInfinite","emptyMap","isMap","withMutations","_root","updateMap","keyPath","updateIn","deleteIn","updatedValue","updateInDeepMap","forceIterator","__ownerID","__altered","mergeIntoMapWith","mergeWith","merger","iters","mergeIn","mergeDeep","deepMerger","mergeDeepWith","deepMergerWith","mergeDeepIn","comparator","OrderedMap","sortFactory","sortBy","mapper","mutable","asMutable","wasAltered","__ensureOwner","asImmutable","iterate","makeMap","maybeMap","IS_MAP_SENTINEL","MapPrototype","removeIn","ArrayMapNode","keyHash","didChangeSize","didAlter","removed","exists","MAX_ARRAY_MAP_SIZE","createNodes","isEditable","newEntries","BitmapIndexedNode","bitmap","popCount","keyHashFrag","updateNode","MAX_BITMAP_INDEXED_SIZE","expandNodes","isLeafNode","newBitmap","newNodes","spliceOut","spliceIn","HashArrayMapNode","newCount","MIN_HASH_ARRAY_MAP_SIZE","packNodes","HashCollisionNode","mergeIntoNode","ValueNode","keyMatch","_reverse","_stack","mapIteratorFrame","mapIteratorValue","subNode","__prev","EMPTY_MAP","newRoot","newSize","idx1","idx2","excluding","packedII","packedNodes","including","expandedNodes","iterables","mergeIntoCollectionWith","existing","collection","mergeIntoMap","keyPathIter","isNotSet","existingValue","nextExisting","nextUpdated","canEdit","newArray","newLen","after","empty","emptyList","isList","makeList","VNode","setSize","_origin","listNodeFor","updateList","insert","_capacity","_level","_tail","oldSize","setListBounds","mergeIntoListWith","iterateList","maybeList","IS_LIST_SENTINEL","ListPrototype","removeBefore","originIndex","removingFirst","newChild","oldChild","editable","editableVNode","removeAfter","sizeIndex","tailPos","getTailOffset","tail","iterateNodeOrLeaf","iterateLeaf","iterateNode","origin","capacity","EMPTY_LIST","newTail","updateVNode","nodeHas","lowerNode","newLowerNode","rawIndex","oldOrigin","oldCapacity","newOrigin","newCapacity","newLevel","offsetShift","oldTailOffset","newTailOffset","oldTail","beginIndex","maxSize","emptyOrderedMap","isOrderedMap","updateOrderedMap","newMap","newList","makeOrderedMap","maybeOrderedMap","omap","EMPTY_ORDERED_MAP","ToKeyedSequence","indexed","_iter","_useKeys","valueSeq","reversedSequence","reverseFactory","mappedSequence","mapFactory","resolveSize","ToIndexedSequence","ToSetSequence","FromEntriesSequence","validateEntry","indexedIterable","cacheResultThrough","flipFactory","flipSequence","makeSequence","filterFactory","filterSequence","countByFactory","grouper","groups","groupByFactory","isKeyedIter","coerce","iterableClass","reify","sliceFactory","originalSize","resolvedBegin","resolvedEnd","resolvedSize","sliceSize","sliceSeq","skipped","isSkipping","takeWhileFactory","takeSequence","iterating","skipWhileFactory","skipSequence","skipping","concatFactory","isKeyedIterable","singleton","concatSeq","sum","flattenFactory","flatSequence","stopped","flatDeep","currentDepth","flatMapFactory","interposeFactory","interposedSequence","defaultComparator","maxFactory","maxCompare","comp","zipWithFactory","keyIter","zipper","zipSequence","iterators","isDone","steps","Record","hasInitialized","RecordType","setProps","RecordTypePrototype","_name","_defaultValues","RecordPrototype","recordName","defaultVal","_empty","makeRecord","likeRecord","setProp","emptySet","isSet","fromKeys","keySeq","updateSet","union","intersect","originalSet","subtract","OrderedSet","__make","maybeSet","IS_SET_SENTINEL","SetPrototype","__empty","makeSet","EMPTY_SET","emptyOrderedSet","isOrderedSet","maybeOrderedSet","OrderedSetPrototype","makeOrderedSet","EMPTY_ORDERED_SET","Stack","emptyStack","isStack","unshiftAll","_head","peek","makeStack","pushAll","maybeStack","IS_STACK_SENTINEL","StackPrototype","EMPTY_STACK","keyCopier","__toJS","toOrderedMap","toOrderedSet","toSet","toStack","__toStringMapper","findEntry","found","findLastEntry","sideEffect","joined","isFirst","reducer","initialReduction","reduction","useFirst","reduceRight","reversed","not","butLast","countBy","entriesSequence","entryMapper","filterNot","findLast","flatMap","searchKey","searchKeyPath","nested","groupBy","hasIn","isSubset","isSuperset","keyMapper","maxBy","neg","defaultNegComparator","minBy","skip","skipLast","skipWhile","skipUntil","takeLast","takeWhile","takeUntil","hashIterable","IterablePrototype","quoteString","chain","noLengthWarning","findKey","findLastKey","lastKeyOf","mapEntries","mapKeys","KeyedIterablePrototype","removeNum","numArgs","spliced","findLastIndex","interpose","interleave","zipped","interleaved","zip","defaultZipper","zipWith","ordered","keyed","hashMerge","murmurHashOfSize","NavigatorBreadcrumbNavigationBarStyles","NavigatorNavigationBarStylesAndroid","NavigatorNavigationBarStylesIOS","Interpolators","NavigatorNavigationBarStyles","CRUMB_PROPS","ICON_PROPS","SEPARATOR_PROPS","TITLE_PROPS","RIGHT_BUTTON_PROPS","navStatePresentedIndex","observedTopOfStack","initStyle","Center","_getBreadcrumb","navBarRouteMapper","routeMapper","firstStyles","breadcrumbDescriptor","Crumb","Icon","iconForRoute","Separator","separatorForRoute","_getTitle","_descriptors","titleContent","titleContentForRoute","titleDescriptor","Title","_getRightButton","rightContent","rightContentForRoute","rightButtonDescriptor","RightItem","oldDistToCenter","newDistToCenter","RightToCenter","CenterToLeft","RightToLeft","_setPropsIfExists","rightButtonStyle","_updateIndexProgress","_setRenderViewsToHardwareTextureAndroid","renderToHardwareTexture","icons","titles","breadCrumbContainer","Styles","General","TotalNavHeight","buildStyleInterpolator","NAV_BAR_HEIGHT","NavBarHeight","SPACING","ICON_WIDTH","SEPARATOR_WIDTH","CRUMB_WIDTH","NAV_ELEMENT_HEIGHT","OPACITY_RATIO","ICON_INACTIVE_OPACITY","MAX_BREADCRUMBS","CRUMB_BASE","ICON_BASE","SEPARATOR_BASE","TITLE_BASE","FIRST_TITLE_BASE","RIGHT_BUTTON_BASE","LEFT","RIGHT","crumbLeft","crumbRight","buildIndexSceneInterpolator","startStyles","endStyles","IconWidth","IconHeight","SeparatorWidth","SeparatorHeight","TITLE_LEFT","BUTTON_SIZE","TOUCH_TARGT_SIZE","BUTTON_HORIZONTAL_MARGIN","BUTTON_EFFECTIVE_MARGIN","BASE_STYLES","LeftButton","RightButton","Stages","opacityRatio","buildSceneInterpolators","StatusBarHeight","X_DIM","Y_DIM","Z_DIM","W_DIM","TRANSFORM_ROTATE_NAME","transformRotateRadians","ShouldAllocateReusableOperationVars","transformScale","transformTranslate","InitialOperationField","ARGUMENT_NAMES_RE","inline","fnStr","replaceWithArgs","parameterNames","replaceRegexStr","paramName","replaceRegex","fnBody","newFnBody","parameterName","indexInParameterNames","replacementName","MatrixOps","unroll","matrixDiffers","MatrixOpsInitial","setNextValAndDetectChange","tmpVarName","computeNextValLinear","hasRoundRatio","roundRatio","roundOpen","roundClose","computeNextValLinearScalar","computeNextValConstant","constantExpression","computeNextValStep","threshold","computeNextValIdentity","operationVar","createReusableOperationVars","anims","newlines","statements","computeNextMatrixOperationField","dimension","fieldAccess","unrolledVars","varIndex","setNextMatrixAndDetectChange","orderedMatrixOperations","opName","InterpolateMatrix","createFunctionString","setOperations","interpolator","lazyStyleInterpolator","STATUS_BAR_HEIGHT","NAV_HEIGHT","COMPONENT_NAMES","_reusableProps","_components","_getReusableProps","propStack","navigationStyles","_getComponent","componentIsActive","initialStage","navBarStyle","components","navBarContainer","StylesAndroid","StylesIOS","IS_RTL","PIXEL_RATIO","ToTheLeftIOS","ToTheRightIOS","FadeToTheLeft","FadeToTheRight","FadeIn","FadeOut","ToTheLeft","ToTheRight","ToTheUp","ToTheDown","FromTheRight","FromTheLeft","FromTheDown","FromTheTop","ToTheBack","FromTheFront","ToTheBackAndroid","FromTheFrontAndroid","BaseOverswipeConfig","BaseLeftToRightGesture","BaseRightToLeftGesture","BaseDownUpGesture","BaseUpDownGesture","directionMapping","ToTheStartIOS","ToTheEndIOS","FadeToTheStart","FadeToTheEnd","ToTheStart","ToTheEnd","FromTheStart","FromTheEnd","BaseStartToEndGesture","BaseEndToStartGesture","BaseConfig","PushFromLeft","FloatFromRight","FloatFromLeft","FloatFromBottom","FloatFromBottomAndroid","FadeAndroid","SwipeFromLeft","HorizontalSwipeJump","HorizontalSwipeJumpFromRight","HorizontalSwipeJumpFromLeft","VerticalUpSwipeJump","VerticalDownSwipeJump","TouchHistoryMath","currentCentroidXOfTouchesChangedAfter","currentCentroidYOfTouchesChangedAfter","previousCentroidXOfTouchesChangedAfter","previousCentroidYOfTouchesChangedAfter","currentCentroidX","currentCentroidY","_initializeGestureState","_accountsForMovesUpTo","_updateGestureStateOnMove","movedAfter","prevX","prevY","nextDX","nextDY","interactionState","stateID","onStartShouldSetPanResponder","onStartShouldSetPanResponderCapture","onMoveShouldSetPanResponderCapture","onPanResponderGrant","onShouldBlockNativeResponder","onPanResponderReject","onResponderStart","onPanResponderStart","onResponderEnd","onPanResponderEnd","onPanResponderTerminationRequest","getInteractionHandle","centroidDimension","touchesChangedAfter","isXAxis","ofCurrent","oneTouchData","touchTrack","toAdd","noCentroid","util","extend","looper","_springRegistry","_activeSprings","_idleSpringIndices","AnimationLooper","_isIdle","_lastTimeMillis","setLooper","DEFAULT_ORIGAMI_SPRING_CONFIG","createSpringWithConfig","createSpringWithBouncinessAndSpeed","Spring","registerSpring","setSpringConfig","getIsIdle","getSpringById","getAllSprings","vals","deregisterSpring","removeFirst","advance","deltaTime","systemShouldAdvance","loop","currentTimeMillis","ellapsedMillis","onBeforeIntegrate","onAfterIntegrate","activateSpring","springId","_id","_ID","_springSystem","_currentState","PhysicsState","_previousState","_tempState","MAX_DELTA_TIME_SEC","SOLVER_TIMESTEP_SEC","_springConfig","_overshootClampingEnabled","_startValue","_endValue","_wasAtRest","_displacementFromRestThreshold","_timeAccumulator","currentValue","skipSetAtRest","notifyPositionUpdated","getStartValue","getCurrentDisplacementDistance","getDisplacementDistanceForState","isAtRest","getEndValue","getVelocity","getRestSpeedThreshold","setRestDisplacementThreshold","displacementFromRestThreshold","getRestDisplacementThreshold","isOvershootClampingEnabled","realDeltaTime","adjustedDeltaTime","_interpolate","notifyActivate","notifyAtRest","onSpringActivate","wasAtRest","getListeners","listenerToRemove","currentValueIsApproximately","_run","onFrame","SimulationLooper","timestep","running","SteppingSimulationLooper","OrigamiValueConverter","origamiValueFromTension","origamiFromFriction","BouncyConversion","bouncyConversion","coastingConfigWithOrigamiFriction","colorCache","hexToRGB","rgbToHex","MathUtil","mapValueInRange","fromLow","fromHigh","toLow","toHigh","fromRangeSize","toRangeSize","valueScale","interpolateColor","startColor","endColor","asRGB","degreesToRadians","radiansToDegrees","_onFrame","PickerAndroid","itemStylePropType","pickerStyleType","MODE_DIALOG","MODE_DROPDOWN","selectedValue","onValueChange","itemStyle","Item","REF_PICKER","_stateFromProps","initialSelectedIndex","selectedIndex","DropdownPicker","DialogPicker","_onChange","pickerAndroid","_lastNativePosition","STYLE_ATTRIBUTES","indeterminateType","AndroidProgressBar","DummyProgressViewIOS","dummy","VirtualizedSectionList","itemIndex","defaultKeyExtractor","_subExtractor","SectionSeparatorComponent","isLastItemInList","isLastItemInSection","isItemSticky","_isItemSticky","_convertViewable","_getSeparatorComponent","itemIdx","DummySegmentedControlIOS","minimumValue","maximumValue","minimumTrackTintColor","maximumTrackTintColor","trackImage","minimumTrackImage","maximumTrackImage","thumbImage","thumbTintColor","onSlidingComplete","slider","userEvent","fromUser","RCTSlider","onTintColor","_rctSwitch","trackTintColor","rctSwitchIOS","RCTSwitch","SwipeableListViewDataSource","SwipeableRow","row1","row2","s2","_listViewRef","_shouldBounceFirstRowOnMount","getOpenRowID","setOpenRowID","slideoutView","renderQuickActions","shouldBounceOnMount","getFirstRowID","_getMaxSwipeDistance","_onOpen","_onClose","_setListViewScrollable","bounceFirstRowOnMount","getDataSource","maxSwipeDistance","_dataSource","_previousOpenRowID","_openRowID","CLOSED_LEFT_POSITION","HORIZONTAL_SWIPE_DISTANCE_THRESHOLD","HORIZONTAL_FULL_SWIPE_SPEED_THRESHOLD","SLOW_SPEED_SWIPE_FACTOR","SWIPE_DURATION","ON_MOUNT_BOUNCE_DELAY","ON_MOUNT_BOUNCE_DURATION","RIGHT_SWIPE_BOUNCE_BACK_DISTANCE","RIGHT_SWIPE_BOUNCE_BACK_DURATION","RIGHT_SWIPE_THRESHOLD","_panResponder","_previousLeft","isOpen","onOpen","onSwipeEnd","onSwipeStart","swipeThreshold","currentLeft","isSwipeableViewRendered","_handleMoveShouldSetPanResponderCapture","_handlePanResponderGrant","_handlePanResponderEnd","_onPanResponderTerminationRequest","_animateBounceBack","_animateToClosedPosition","slideOutView","slideOutContainer","swipeableView","_onSwipeableViewLayout","_isValidSwipe","_isSwipingExcessivelyRightFromClosedPosition","_isSwipingRightFromClosed","_swipeSlowSpeed","_swipeFullSpeed","gestureStateDx","_animateTo","_animateToOpenPosition","_animateToOpenPositionWith","distMoved","_animateToClosedPositionDuringBounce","swipeBounceBackDistance","_shouldAnimateRemainder","horizontalDistance","DummyTabBarIOS","tabGroup","DocumentSelectionState","onlyMultiline","onTextInput","RCTTextView","RCTTextField","DataDetectorTypes","State","autoCapitalize","autoCorrect","spellCheck","autoFocus","keyboardAppearance","returnKeyType","returnKeyLabel","maxLength","disableFullscreenUI","enablesReturnKeyAutomatically","multiline","onChangeText","onEndEditing","onSelectionChange","onSubmitEditing","onKeyPress","placeholder","placeholderTextColor","secureTextEntry","selectionState","clearButtonMode","clearTextOnFocus","selectTextOnFocus","blurOnSubmit","underlineColorAndroid","inlineImageLeft","inlineImagePadding","dataDetectorTypes","caretHidden","isFocused","_inputRef","onFocusRequested","focusEmitter","_focusSubscription","_lastNativeText","_lastNativeSelection","_renderIOS","_renderAndroid","_getText","_setNativeRef","textContainer","_onBlur","_onSelectionChange","childCount","inputView","_onTextInput","_onPress","AutoCapitalizationType","mostRecentEventCount","eventCount","mixInEventEmitter","anchor","_anchorOffset","_focusOffset","_hasFocus","hasFocus","getStartOffset","getEndOffset","EventEmitterWithHolding","EventHolder","EventValidator","copyProperties","TYPES_KEY","__types","__eventEmitter","EventEmitterMixin","__getEventEmitter","emitAndHold","addRetroactiveListener","addListenerMap","listenerMap","addRetroactiveListenerMap","releaseHeldEventType","addValidation","holder","_eventHolder","_currentEventToken","_emittingHeldEvents","emitToListener","holdEvent","releaseEvent","releaseCurrentEvent","releaseEventType","_heldEvents","_currentEventKey","eventsOfType","origEventKey","eventHeld","emitterWithValidation","assertAllowsEventType","allowedTypes","errorMessageFor","recommendationFor","closestTypeRecommendation","closestTypeFor","isCloseEnough","typeRecommendations","typeRecommendationFor","recommendationSort","recomendedType","damerauLevenshteinDistance","recommendationA","recommendationB","closestType","actualType","cost","optionalImageSource","actions","icon","showWithText","logo","navIcon","onActionSelected","onIconClicked","overflowIcon","subtitleColor","contentInsetStart","contentInsetEnd","rtl","nativeActions","ShowAsAction","NativeToolbar","VIEWPAGER_REF","_childrenWithOverridenStyle","_onPageScroll","onPageScroll","_onPageScrollStateChanged","onPageScrollStateChanged","pageScrollState","_onPageSelected","onPageSelected","setPage","selectedPage","AndroidViewPager","setPageWithoutAnimation","initialPage","pageMargin","NativeAndroidViewPager","RCT_WEBVIEW_REF","WebViewState","IDLE","defaultRenderLoading","loadingView","loadingProgressBar","viewState","lastErrorEvent","startInLoadingState","goForward","getWebViewHandle","RCTWebView","goBack","reload","stopLoading","postMessage","injectJavaScript","updateNavigationState","onNavigationStateChange","onLoadingStart","onLoadingError","onLoadingFinish","onMessage","otherView","renderLoading","errorEvent","renderError","loading","webViewStyles","webView","scalesPageToFit","injectedJavaScript","userAgent","javaScriptEnabled","domStorageEnabled","mediaPlaybackRequiresUserAction","allowUniversalAccessFromFileURLs","baseUrl","messagingEnabled","RCTActionSheetManager","ActionSheetManager","showActionSheetWithOptions","showShareActionSheetWithOptions","failureCallback","successCallback","AdSupport","getAdvertisingId","onFailure","getAdvertisingTrackingEnabled","BugReporting","renderApplication","runnables","runCount","registerConfig","appConfig","registerRunnable","appKey","appParameters","initialProps","registerSection","getAppKeys","getSectionKeys","getSections","getRunnable","getRegistry","runApplication","addSource","unmountApplicationComponentAtRootTag","registerHeadlessTask","taskKey","startHeadlessTask","taskId","taskProvider","HeadlessJsTaskSupport","notifyTaskFinished","defaultExtras","addFileSource","collectExtraData","_addSource","_extraSources","_fileSources","_maybeInit","extraData","fileData","BugReportingNativeModule","setExtraData","files","dumpReactTree","getReactTree","RootComponent","DeviceEventManager","DEVICE_BACK_EVENT","_backPressSubscriptions","backPressSubscriptions","invokeDefault","exitApp","invokeDefaultBackPressHandler","ReactPerf","perfModules","lastRenderStartTime","totalRenderDuration","RCTRenderingPerfDevtool","lastRenderDuration","RCTRenderingPerf","toggle","printInclusive","printWasted","alreadyWarned","roundFloat","consoleTable","warnInProduction","getLastMeasurements","getExclusive","aggregatedStats","affectedIDs","updateAggregatedStats","applyUpdate","stats","instanceCount","counts","durations","totalDuration","measurement","getInclusive","inclusiveRenderDuration","renderCount","isCompositeByID","nextParentID","getWasted","isDefinitelyNotWastedByID","renderedCompositeIDs","isWasted","getOperations","flushIndex","printExclusive","renderDuration","printOperations","stat","warnedAboutPrintDOM","printDOM","warnedAboutGetMeasurementsSummaryMap","getMeasurementsSummaryMap","isRunning","ReactPerfAnalysis","RCTAsyncStorage","AsyncRocksDBStorage","AsyncSQLiteDBStorage","AsyncLocalStorage","_getRequests","_getKeys","_immediate","multiGet","errs","convertErrors","multiSet","multiRemove","mergeItem","multiMerge","convertError","getAllKeys","flushGetRequests","getRequests","getKeys","reqLength","requestKeys","requestResult","getRequest","keyIndex","promiseResult","keyValuePairs","RCTCameraRollManager","CameraRollManager","GROUP_TYPES_OPTIONS","ASSET_TYPE_OPTIONS","getPhotosParamChecker","groupTypes","groupName","assetType","mimeTypes","getPhotosReturnChecker","edges","group_name","isStored","altitude","heading","page_info","has_next_page","start_cursor","end_cursor","saveToCameraRoll","mediaType","errorCallback","getPhotos","GroupTypesOptions","AssetTypeOptions","getString","setString","DatePickerModule","_toMillis","dateVal","getMonth","optionsMs","RCTImagePicker","canRecordVideos","canUseCamera","openCameraDialog","cancelCallback","videoMode","openSelectDialog","showImages","showVideos","LinkingManager","IntentAndroid","_validateURL","openURL","canOpenURL","getInitialURL","NavigationCard","NavigationCardStack","NavigationHeader","NavigationPropTypes","NavigationStateUtils","NavigationTransitioner","StateUtils","Transitioner","Card","CardStack","Header","NavigationCardStackPanResponder","NavigationCardStackStyleInterpolator","NavigationPagerPanResponder","NavigationPagerStyleInterpolator","NavigationPointerEventsContainer","viewStyle","forHorizontal","viewPanHandlers","onNavigateBack","onComponentRef","SceneRendererProps","CardStackPanResponder","CardStackStyleInterpolator","PagerPanResponder","PagerStyleInterpolator","NavigationAbstractPanResponder","ANIMATION_DURATION","POSITION_THRESHOLD","RESPOND_THRESHOLD","DISTANCE_THRESHOLD","Directions","_isResponding","_isVertical","VERTICAL","_addNativeListener","navigationState","currentDragDistance","currentDragPosition","maxDragDistance","positionMax","gestureResponseDistance","axis","createPanHandlers","responder","HORIZONTAL","forVertical","EmptyPanHandlers","forInitial","focused","isMeasured","initWidth","initHeight","canUseNativeDriver","VELOCITY_THRESHOLD","prevIndex","onNavigateForward","velocityAxis","moveSpeed","dir","NavigationAnimatedValueSubscription","MIN_POSITION_OFFSET","Container","_pointerEvents","_computePointerEvents","_onPositionChange","_onComponentRef","_bindPosition","_positionListener","isStale","_token","navigationRoute","routes","isActive","SceneRenderer","extractSceneRendererProps","_configureTransition","enableGestures","_render","scenesStyle","cardStyleInterpolator","panHandlersProps","cardStyle","NavigationScenesReducer","DefaultTransitionSpec","_prevTransitionProps","_transitionProps","buildTransitionProps","_isMounted","_onTransitionEnd","nextScenes","transitionUserSpec","configureTransition","transitionSpec","onTransitionStart","prevTransitionProps","isSceneNotStale","onTransitionEnd","isSceneActive","SCENE_KEY_PREFIX","compareKey","compareScenes","areScenesShallowEqual","areRoutesShallowEqual","prevScenes","freshScenes","staleScenes","nextKeys","mergeScene","nextScene","prevScene","activeScenesCount","NavigationHeaderBackButton","NavigationHeaderStyleInterpolator","NavigationHeaderTitle","APPBAR_HEIGHT","STATUSBAR_HEIGHT","_renderLeft","_renderSubView","renderLeftComponent","forLeft","_renderTitle","renderTitleComponent","forCenter","_renderRight","renderRightComponent","forRight","viewProps","scenesProps","barHeight","statusBarHeight","appbar","styleInterpolator","subViewProps","subView","BackButton","buttonContainer","textStyle","titleText","jumpToIndex","back","forward","replaceAt","compare","RCTNetInfo","NetInfoEventEmitter","DEVICE_CONNECTIVITY_EVENT","_isConnected","reachability","connectionType","_isConnectedSubscriptions","network_info","getCurrentConnectivity","isConnected","connection","isConnectionExpensive","isConnectionMetered","PERMISSIONS","READ_CALENDAR","WRITE_CALENDAR","CAMERA","READ_CONTACTS","WRITE_CONTACTS","GET_ACCOUNTS","ACCESS_FINE_LOCATION","ACCESS_COARSE_LOCATION","RECORD_AUDIO","READ_PHONE_STATE","CALL_PHONE","READ_CALL_LOG","WRITE_CALL_LOG","ADD_VOICEMAIL","USE_SIP","PROCESS_OUTGOING_CALLS","BODY_SENSORS","SEND_SMS","RECEIVE_SMS","READ_SMS","RECEIVE_WAP_PUSH","RECEIVE_MMS","READ_EXTERNAL_STORAGE","WRITE_EXTERNAL_STORAGE","RESULTS","GRANTED","DENIED","NEVER_ASK_AGAIN","permission","checkPermission","rationale","shouldShowRequestPermissionRationale","shouldShowRationale","requestPermission","permissions","requestMultiplePermissions","RCTPushNotificationManager","PushNotificationManager","PushNotificationEmitter","_notifHandlers","DEVICE_NOTIF_EVENT","NOTIF_REGISTER_EVENT","NOTIF_REGISTRATION_ERROR_EVENT","DEVICE_LOCAL_NOTIF_EVENT","presentLocalNotification","scheduleLocalNotification","cancelAllLocalNotifications","setApplicationIconBadgeNumber","getApplicationIconBadgeNumber","userInfo","cancelLocalNotifications","getScheduledLocalNotifications","notifData","registrationInfo","deviceToken","errorInfo","requestedPermissions","badge","sound","requestPermissions","abandonPermissions","checkPermissions","getInitialNotification","notification","nativeNotif","_remoteNotificationCompleteCalllbackCalled","_isRemote","remote","_notificationId","notificationId","notifKey","notifVal","_alert","_sound","_badgeCount","applicationIconBadgeNumber","soundName","alertBody","fetchResult","onFinishRemoteNotification","FetchResult","NewData","NoData","ResultFailed","settings","watchKeys","watchId","ShareModule","share","dialogTitle","activityType","TimePickerModule","RCTVibration","_vibrating","vibrateByPattern","vibrate","vibrateScheduler","InputButton"],"mappings":"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"}